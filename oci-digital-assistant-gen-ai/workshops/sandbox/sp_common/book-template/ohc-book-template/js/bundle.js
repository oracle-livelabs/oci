function loadBundle(){!function(n,l){"object"==typeof exports&&"undefined"!=typeof module?l(exports):"function"==typeof define&&define.amd?define('preact',["exports"],l):l(n.preact={})}(this,function(n){var l,u,i,t,o,f,r={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function v(n,l,u){var i,t,o,f=arguments,r={};for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:r[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(f[o]);if(null!=u&&(r.children=u),"function"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===r[o]&&(r[o]=n.defaultProps[o]);return h(n,r,i,t,null)}function h(n,u,i,t,o){var f={type:n,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++l.__v:o};return null!=l.vnode&&l.vnode(f),f}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!b.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||t)(b)}function b(){for(var n;b.__r=i.length;)n=i.sort(function(n,l){return n.__v.__b-l.__v.__b}),i=[],n.some(function(n){var l,u,i,t,o,f;n.__d&&(o=(t=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(f,t,i,l.__n,void 0!==f.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),H(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,f,c,s,a){var v,p,_,k,b,m,x,A=i&&i.__k||e,P=A.length;for(u.__k=[],v=0;v<l.length;v++)if(null!=(k=u.__k[v]=null==(k=l[v])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k||"bigint"==typeof k?h(null,k,null,null,k):Array.isArray(k)?h(y,{children:k},null,null,null):k.__b>0?h(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[v])||_&&k.key==_.key&&k.type===_.type)A[v]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}j(n,k,_=_||r,t,o,f,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(x||(x=[]),_.ref&&x.push(_.ref,null,k),x.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),"function"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=w(n,k,_,A,b,s),a||"option"!==u.type?"function"==typeof u.type&&(u.__d=s):n.value=""):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,v=P;v--;)null!=A[v]&&("function"==typeof u.type&&null!=A[v].__e&&A[v].__e==u.__d&&(u.__d=d(i,v+1)),z(A[v],A[v]));if(x)for(v=0;v<x.length;v++)T(x[v],x[++v],x[++v])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l="function"==typeof t.type?g(t,l,u):w(u,t,t,n.__k,t.__e,l));return l}function w(n,l,u,i,t,o){var f,r,e;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),f=null;else{for(r=o,e=0;(r=r.nextSibling)&&e<i.length;e+=2)if(r==t)break n;n.insertBefore(t,o),f=o}return void 0!==f?f:t.nextSibling}function x(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||P(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||P(n,o,l[o],u[o],i)}function A(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||c.test(l)?u:u+"px"}function P(n,l,u,i,t){var o;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||A(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||A(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?$:C,o):n.removeEventListener(l,o?$:C,o);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null!=u&&(!1!==u||"a"===l[0]&&"r"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function C(n){this.l[n.type+!1](l.event?l.event(n):n)}function $(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,f,r,e,c){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,f=[e]),(a=l.__b)&&a(u);try{n:if("function"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:("prototype"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=L),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&r.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=l.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=n,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(n,Array.isArray(A)?A:[A],u,i,t,o,f,r,e,c),v.base=u.__e,u.__h=null,v.__h.length&&r.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==f&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=I(i.__e,u,i,t,o,f,r,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=f)&&(u.__e=e,u.__h=!!c,f[f.indexOf(e)]=null),l.__e(n,u,i)}}function H(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function I(n,l,u,i,t,o,f,c){var s,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if("svg"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((s=o[k])&&(s===n||(_?s.localName==_:3==s.nodeType))){n=s,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&e.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if(x(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&"foreignObject"!==_,o,f,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&a(o[k]);c||("value"in d&&void 0!==(k=d.value)&&(k!==n.value||"progress"===_&&!k)&&P(n,"value",k,p.value,!1),"checked"in d&&void 0!==(k=d.checked)&&k!==n.checked&&P(n,"checked",k,p.checked,!1))}return n}function T(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function z(n,u,i){var t,o,f;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||T(t,null,u)),i||"function"==typeof n.type||(i=null!=(o=n.__e)),n.__e=n.__d=void 0,null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null}if(t=n.__k)for(f=0;f<t.length;f++)t[f]&&z(t[f],u,i);null!=o&&a(o)}function L(n,l,u){return this.constructor(n,u)}function M(n,u,i){var t,o,f;l.__&&l.__(n,u),o=(t="function"==typeof i)?null:i&&i.__k||u.__k,f=[],j(u,n=(!t&&i||u).__k=v(y,null,[n]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?e.slice.call(u.childNodes):null,f,!t&&i?i:o?o.__e:u.firstChild,t),H(f,n)}l={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},u=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,i=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,f=0,n.render=M,n.hydrate=function n(l,u){M(l,u,n)},n.createElement=v,n.h=v,n.Fragment=y,n.createRef=function(){return{current:null}},n.isValidElement=u,n.Component=p,n.cloneElement=function(n,l,u){var i,t,o,f=arguments,r=s({},n.props);for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:r[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(f[o]);return null!=u&&(r.children=u),h(n.type,r,i||n.key,t||n.ref,null)},n.createContext=function(n,l){var u={__c:l="__cC"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u},n.toChildArray=function n(l,u){return u=u||[],null==l||"boolean"==typeof l||(Array.isArray(l)?l.some(function(l){n(l,u)}):u.push(l)),u},n.options=l});
//# sourceMappingURL=preact.umd.js.map
;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlogger',["exports"],function(o){"use strict";const n={LEVEL_NONE:0,LEVEL_ERROR:1,LEVEL_WARN:2,LEVEL_INFO:3,LEVEL_LOG:4,_METHOD_ERROR:"error",_METHOD_WARN:"warn",_METHOD_INFO:"info",_METHOD_LOG:"log"};n._defaultOptions={level:n.LEVEL_ERROR,writer:null},n._options=n._defaultOptions,n.error=function(o,t){n._write(n.LEVEL_ERROR,n._METHOD_ERROR,arguments)},n.info=function(o,t){n._write(n.LEVEL_INFO,n._METHOD_INFO,arguments)},n.warn=function(o,t){n._write(n.LEVEL_WARN,n._METHOD_WARN,arguments)},n.log=function(o,t){n._write(n.LEVEL_LOG,n._METHOD_LOG,arguments)},n.option=function(o,t){var i,E,e={};if(0===arguments.length){for(E=Object.keys(n._options),i=0;i<E.length;i++)e[E[i]]=n._options[E[i]];return e}if("string"==typeof o&&void 0===t)return void 0===n._options[o]?null:n._options[o];if("string"==typeof o)n._options[o]=t;else{var _=o;for(E=Object.keys(_),i=0;i<E.length;i++)n.option(E[i],_[E[i]])}},n._write=function(o,t,i){if(!(n.option("level")<o)){var E=n._getWriter();if(null!=E){if(1===i.length&&i[0]instanceof Function){var e=i[0]();i=[e]}E[t]&&E[t].apply?E[t].apply(E,i):E[t]&&(E[t]=Function.prototype.bind.call(E[t],E),n._write(o,t,i))}}},n._getWriter=function(){var o=null;return n.option("writer")?o=n.option("writer"):"undefined"!=typeof window&&void 0!==window.console&&(o=window.console),o};const t=n.info,i=n.error,E=n.warn,e=n.log,_=n.option,r=n.LEVEL_ERROR,L=n.LEVEL_INFO,O=n.LEVEL_LOG,l=n.LEVEL_NONE,f=n.LEVEL_WARN;o.LEVEL_ERROR=r,o.LEVEL_INFO=L,o.LEVEL_LOG=O,o.LEVEL_NONE=l,o.LEVEL_WARN=f,o.error=i,o.info=t,o.log=e,o.option=_,o.warn=E,Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=ojlogger.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcore-base',["ojs/ojlogger"],function(e){"use strict";let t={};"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self);var n=t.oj;const r={version:"11.1.2",revision:"2021-11-09_08-29-59",noConflict:function(){t.oj=n},_registerLegacyNamespaceProp:function(e,t){this[e]=t}};t.oj=r;const o={};r._registerLegacyNamespaceProp("StringUtils",o),o._TRIM_ALL_RE=/^\s*|\s*$/g,o.isEmpty=function(e){return null===e||0===o.trim(e).length},o.isEmptyOrUndefined=function(e){return!(void 0!==e&&!o.isEmpty(e))},o.isString=function(e){return null!==e&&("string"==typeof e||e instanceof String)},o.trim=function(e){return o.isString(e)?e.replace(o._TRIM_ALL_RE,""):e},o.hashCode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t};const i=function(){};r._registerLegacyNamespaceProp("AgentUtils",i),i.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",EDGE:"edge",EDGE_CHROMIUM:"edge-chromium",UNKNOWN:"unknown"},i.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",BLINK:"blink",EDGE_HTML:"edgehtml",UNKNOWN:"unknown"},i.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",WINDOWSPHONE:"WindowsPhone",LINUX:"Linux"},i.DEVICETYPE={PHONE:"phone",TABLET:"tablet",OTHERS:"others"},i.getAgentInfo=function(e){o.isEmptyOrUndefined(e)&&(e=navigator.userAgent),e=e.toLowerCase();var t=o.hashCode(e),n=i._currAgentInfo;if(n&&n.hashCode===t)return{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode};var r=i.OS.UNKNOWN,s=i.BROWSER.UNKNOWN,a=0,c=i.DEVICETYPE.OTHERS,u=i.ENGINE.UNKNOWN,l=0;return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||"MacIntel"===navigator.platform&&void 0!==navigator.standalone?r=i.OS.IOS:e.indexOf("mac")>-1?r=i.OS.MAC:e.indexOf("sunos")>-1?r=i.OS.SOLARIS:e.indexOf("android")>-1?r=i.OS.ANDROID:e.indexOf("linux")>-1?r=i.OS.LINUX:e.indexOf("windows phone")>-1?r=i.OS.WINDOWSPHONE:e.indexOf("win")>-1&&(r=i.OS.WINDOWS),r===i.OS.ANDROID?c=e.indexOf("mobile")>-1?i.DEVICETYPE.PHONE:i.DEVICETYPE.TABLET:r===i.OS.IOS&&(c=e.indexOf("iphone")>-1?i.DEVICETYPE.PHONE:i.DEVICETYPE.TABLET),e.indexOf("msie")>-1?(s=i.BROWSER.IE,a=i._parseFloatVersion(e,/msie (\d+[.]\d+)/),e.indexOf("trident")&&(u=i.ENGINE.TRIDENT,l=i._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("trident")>-1?(s=i.BROWSER.IE,a=i._parseFloatVersion(e,/rv:(\d+[.]\d+)/),e.indexOf("trident")&&(u=i.ENGINE.TRIDENT,l=i._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("edge")>-1?(s=i.BROWSER.EDGE,a=l=i._parseFloatVersion(e,/edge\/(\d+[.]\d+)/),u=i.ENGINE.EDGE_HTML):e.indexOf("edg")>-1?(s=i.BROWSER.EDGE_CHROMIUM,a=i._parseFloatVersion(e,/edg\/(\d+[.]\d+)/),u=i.ENGINE.BLINK,l=a):e.indexOf("chrome")>-1?(s=i.BROWSER.CHROME,(a=i._parseFloatVersion(e,/chrome\/(\d+[.]\d+)/))>=28?(u=i.ENGINE.BLINK,l=a):(u=i.ENGINE.WEBKIT,l=i._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/))):e.indexOf("safari")>-1?(s=i.BROWSER.SAFARI,a=i._parseFloatVersion(e,/version\/(\d+[.]\d+)/),u=i.ENGINE.WEBKIT,l=i._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/)):e.indexOf("firefox")>-1&&(s=i.BROWSER.FIREFOX,a=i._parseFloatVersion(e,/rv:(\d+[.]\d+)/),u=i.ENGINE.GECKO,l=i._parseFloatVersion(e,/gecko\/(\d+)/)),i._currAgentInfo=n={hashCode:t,os:r,browser:s,browserVersion:a,deviceType:c,engine:u,engineVersion:l},{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode}},i._parseFloatVersion=function(e,t){var n=e.match(t);if(n){var r=n[1];if(r)return parseFloat(r)}return 0};const s={};r._registerLegacyNamespaceProp("Assert",s);var a="DEBUG";const c="' doesn't match prototype ";s.forceDebug=function(){s[a]=!0},s.clearDebug=function(){s[a]=!1},s.isDebug=function(){return!0===s[a]},s.assert=function(e,t){if(s[a]&&!e){var n=t||"";if(arguments.length>2){n+="(";for(var r=2;r<arguments.length;r+=1)n+=arguments[r];n+=")"}s.assertionFailed(n,1)}},s.failedInAbstractFunction=function(){s[a]&&s.assertionFailed("Abstract function called",1)},s.assertPrototype=function(e,t,n){if(s[a]){var r=t.prototype;if(null!=e)s.assertType(t,"function",null,1,!1),Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+c+r,1,n);else s.assertionFailed("null object doesn't match prototype "+r,1,n)}},s.assertPrototypeOrNull=function(e,t,n){if(s[a]&&null!=e){s.assertType(t,"function",null,1,!1);var r=t.prototype;Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+c+r,1,n)}},s.assertPrototypes=function(e,t,n,r){if(s[a]){var o=t.prototype,i=n.prototype,u=Object.prototype.isPrototypeOf;u.call(o,e)||u.call(i,e)||s.assertionFailed("object '"+e+c+o+" or "+i,1,r)}},s.assertDomNodeOrNull=function(e,t){s[a]&&e&&void 0===e.nodeType&&s.assertionFailed(e+" is not a DOM Node",t+1)},s.assertDomNode=function(e,t){s[a]&&(e&&void 0!==e.nodeType||s.assertionFailed(e+" is not a DOM Node",t+1))},s.assertDomElement=function(e,t){s[a]&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertDomElementOrNull=function(e,t){s[a]&&null!=e&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertType=function(e,t,n,r,o){if(s[a]&&!(null==e&&o||typeof e===t)){var i=e+" is not of type "+t;n&&(i=n+i),r||(r=0),s.assertionFailed(i,r+1)}},s.assertObject=function(e,t){s[a]&&s.assertType(e,"object",t,1,!1)},s.assertObjectOrNull=function(e,t){s[a]&&s.assertType(e,"object",t,1,!0)},s.assertNonEmptyString=function(e,t){s[a]&&(s.assertType(e,"string",t,1,!1),s.assert(e.length>0,"empty string"))},s.assertString=function(e,t){s[a]&&s.assertType(e,"string",t,1,!1)},s.assertStringOrNull=function(e,t){s[a]&&s.assertType(e,"string",t,1,!0)},s.assertFunction=function(e,t){s[a]&&s.assertType(e,"function",t,1,!1)},s.assertFunctionOrNull=function(e,t){s[a]&&s.assertType(e,"function",t,1,!0)},s.assertBoolean=function(e,t){s[a]&&s.assertType(e,"boolean",t,1,!1)},s.assertNumber=function(e,t){s[a]&&s.assertType(e,"number",t,1,!1)},s.assertNumberOrNull=function(e,t){s[a]&&s.assertType(e,"number",t,1,!0)},s.assertArray=function(e,t){s[a]&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertArrayOrNull=function(e,t){s[a]&&null!=e&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertNonNumeric=function(e,t){s[a]&&(isNaN(e)||(void 0===t&&(t=e+" is convertible to a number"),s.assertionFailed(t,1)))},s.assertNumeric=function(e,t){s[a]&&isNaN(e)&&(void 0===t&&(t=e+" is not convertible to a number"),s.assertionFailed(t,1))},s.assertInSet=function(e,t,n){if(null==e||void 0===t[e.toString()]){if(void 0===n){for(var r=" is not in set: {",o=Object.keys(t),i=0;i<o.length;i++){r+=o[i],r+=","}n=e+(r+="}")}s.assertionFailed(n,1)}},s.assertionFailed=function(e,t,n){t||(t=0);var r="Assertion";throw n&&(r+=" ("+n+")"),r+=" failed: ",void 0!==e&&(r+=e),new Error(r)};var u=t.__oj_Assert_DEBUG;void 0!==u&&(s[a]=u),i.getAgentInfo().browser===i.BROWSER.IE&&e.error("Internet Explorer is not supported with this version of JET.");const l={};r._registerLegacyNamespaceProp("CollectionUtils",l),l.copyInto=function(e,t,n,r,o){return l._copyIntoImpl(e,t,n,r,o,0)},l.mergeDeep=function(e,...t){if(!t.length)return e;const n=l.isPlainObject,r=l.mergeDeep,o=t.shift();return n(e)&&n(o)&&Object.keys(o).forEach(t=>{n(o[t])?(e[t]||Object.assign(e,{[t]:{}}),r(e[t],o[t])):Object.assign(e,{[t]:o[t]})}),r(e,...t)},l.isPlainObject=function(e){if(null!==e&&"object"==typeof e)try{var t=Object.prototype.hasOwnProperty;if(e.constructor&&t.call(e.constructor.prototype,"isPrototypeOf"))return!0}catch(e){}return!1},l._copyIntoImpl=function(e,t,n,r,o,i){var s;if(null==o&&(o=Number.MAX_VALUE),e&&t&&e!==t)for(var a=Object.keys(t),c=0;c<a.length;c++){var u=a[c];s=n?n(u):u;var d=t[u],f=!1;if(r&&i<o){var p=e[s];l.isPlainObject(d)&&(null==p||l.isPlainObject(p))&&(f=!0,e[s]=p||{},l._copyIntoImpl(e[s],d,n,!0,o,i+1))}f||(e[s]=d)}return e},"undefined"!=typeof window&&window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r}),function(){function e(e){return function(t,n,r){return e.call(this,t,n,function(e){return"boolean"==typeof e?e:!!e&&e.capture}(r))}}if("undefined"!=typeof window&&!function(){let e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,e}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()){let t;window.EventTarget?t=EventTarget.prototype:window.Node&&(t=Node.prototype),t&&(t.addEventListener=e(t.addEventListener),t.removeEventListener=e(t.removeEventListener))}}(),
/**
     * @license
     * Code taken from
     * https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask
     * under "When queueMicrotask() isn't available".
     * @ignore
     */
"undefined"!=typeof window&&"function"!=typeof window.queueMicrotask&&(window.queueMicrotask=function(e){Promise.resolve().then(e).catch(function(e){setTimeout(function(){throw e})})}),function(){if("undefined"!=typeof window){var e;if(!((e=document.createEvent("Event")).initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented)){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}"function"!=typeof window.CustomEvent&&(n.prototype=Object.getPrototypeOf(new n("bogusEvent")),window.CustomEvent=n)}function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){function e(e){var t=document.createEvent("FocusEvent");return t.initEvent(e,!1,!1),t}"undefined"!=typeof window&&"function"!=typeof window.FocusEvent&&(e.prototype=Object.getPrototypeOf(new e("focus")),window.FocusEvent=e)}(),function(){var e,t;"undefined"!=typeof window&&!window.setImmediate&&window.postMessage&&(window.setImmediate=function(){var t=arguments[0],o=Array.prototype.slice,i=o.call(arguments,1);s.assertFunction(t);var a=n();return e||(e=new Map),e.set(a,{callback:t,args:i}),1===e.size&&window.addEventListener("message",r),window.postMessage({id:a,message:"oj-setImmediate"},"*"),a},window.clearImmediate=o);function n(){return isNaN(t)&&(t=0),t+=1}function r(t){var n=t.data;if(n&&"oj-setImmediate"===n.message){var r=n.id,i=e.get(r);if(o(r),i){var s=i.callback,a=i.args;s.apply(window,a)}}}function o(t){e&&(e.delete(t),e.size<1&&(window.removeEventListener("message",r),e=null))}}(),"undefined"!=typeof window&&(window.Symbol?(window.Symbol.asyncIterator||(window.Symbol.asyncIterator="asyncIterator"),window.Symbol.iterator||(window.Symbol.iterator="iterator")):(window.Symbol={},window.Symbol.asyncIterator="asyncIterator",window.Symbol.iterator="iterator")),function(){if("undefined"!=typeof window&&0===new window.Set([0]).size){var e=window.Set;function t(t){var n=new e;return t&&t.forEach(n.add,n),n}t.prototype=e.prototype,t.prototype.constructor=t,window.Set=t}}(),"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.DOMTokenList&&!DOMTokenList.prototype.forEach&&(DOMTokenList.prototype.forEach=Array.prototype.forEach)),"undefined"!=typeof window&&"undefined"!==window.Node&&("isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}}));const d=function(){this.Init()};r._registerLegacyNamespaceProp("Object",d),d.superclass=null,d._typeName="oj.Object",d._GET_FUNCTION_NAME_REGEXP=/function\s+([\w$][\w$\d]*)\s*\(/,(d.prototype={}).constructor=d,d.createSubclass=function(e,t,n){s.assertFunction(e),s.assertFunctionOrNull(t),s.assertStringOrNull(n),void 0===t&&(t=d),s.assert(e!==t,"Class can't extend itself");var r=d._tempSubclassConstructor;r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,n&&(e._typeName=n)},d.copyPropertiesForClass=function(e,t){s.assertFunction(e),s.assert(null!=t,"source object cannot be null");for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e.prototype[o]=t[o]}},d._tempSubclassConstructor=function(){},d.prototype.getClass=function(e){if(void 0===e)e=this;else if(null===e)return null;return e.constructor},d.prototype.clone=function(){var e=new this.constructor;return l.copyInto(e,this),e},d.prototype.toString=function(){return this.toDebugString()},d.prototype.toDebugString=function(){return this.getTypeName()+" Object"},d.getTypeName=function(e){s.assertFunction(e);var t=e._typeName;if(null==t){var n=e.toString(),r=d._GET_FUNCTION_NAME_REGEXP.exec(n);t=r?r[1]:"anonymous",e._typeName=t}return t},d.prototype.getTypeName=function(){return d.getTypeName(this.constructor)},d.prototype.Init=function(){s.isDebug()&&s.assert(this.getTypeName,"Not an oj.Object");var e=this.constructor;e._initialized||d._initClasses(e)},d.ensureClassInitialization=function(e){s.assertFunction(e),e._initialized||d._initClasses(e)},d.prototype.equals=function(e){return this===e},d.createCallback=function(e,t){return s.assertFunction(t),t.bind(e)},d._initClasses=function(e){s.isDebug()&&(s.assertFunction(e),s.assert(!e._initialized)),e._initialized=!0;var t=e.superclass;if(t){var n=t.constructor;n&&!n._initialized&&d._initClasses(n)}var r=e.InitClass;r&&r.call(e)},d.compareValues=function(e,t){if(e===t)return!0;var n=typeof e,r=typeof t;if(n!==r)return!1;if(null===e||null===t)return!1;if(e.constructor===t.constructor){if(Array.isArray(e))return d._compareArrayValues(e,t);if(e.constructor===Object){const n=arguments[2]||new Set;return d.__innerEquals(e,t,n)}if(e.valueOf&&"function"==typeof e.valueOf)return e.valueOf()===t.valueOf()}return!1},d._compareArrayValues=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!d.compareValues(e[n],t[n]))return!1;return!0},d._compareIdIndexObject=function(e,t){if("number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t)return e===t;if("object"==typeof e&&"object"==typeof t){if(e.id&&t.id)return e.id===t.id&&(!e.index||!t.index||e.index===t.index);if(e.index&&t.index)return e.index===t.index}return!1},d._compareArrayIdIndexObject=function(e,t){if(!e)return!t||0===t.length;if(!t)return!e||0===e.length;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var r=!1,o=0;o<t.length;o++)if(d._compareIdIndexObject(e[n],t[o])){r=!0;break}if(!r)return!1}return!0},d.__innerEquals=function(t,n,r=new Set){if(t===n)return!0;if(r.has(t)||r.has(n))return e.warn("cyclic dependency detected",t,n),!1;if(r.add(t),r.add(n),!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;var o,i,s=Object.prototype.hasOwnProperty,a=Object.keys(t);for(i=0;i<a.length;i++)if(o=a[i],s.call(t,o)){if(!s.call(n,o))return!1;if(t[o]!==n[o]){if("object"!=typeof t[o])return!1;if(!d.compareValues(t[o],n[o],r))return!1}}var c=Object.keys(n);for(i=0;i<c.length;i++)if(o=c[i],s.call(n,o)&&!s.call(t,o))return!1;return 0!==a.length||0!==c.length||JSON.stringify(t)===JSON.stringify(n)},d.isEmpty=function(e){var t;if(null==e)return!0;for(t in e)if(e.hasOwnProperty(t))return!1;return!0};const f=function(){this.Init()};d.createSubclass(f,d,"oj.EventSource"),r._registerLegacyNamespaceProp("EventSource",f),f.prototype.Init=function(){this._eventHandlers=[],f.superclass.Init.call(this)},f.prototype.on=function(e,t){for(var n=!1,r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r].eventType===e&&this._eventHandlers[r].eventHandlerFunc===t){n=!0;break}n||this._eventHandlers.push({eventType:e,eventHandlerFunc:t})},f.prototype.off=function(e,t){for(var n=this._eventHandlers.length-1;n>=0;n--)if(this._eventHandlers[n].eventType===e&&this._eventHandlers[n].eventHandlerFunc===t){this._eventHandlers.splice(n,1);break}},f.prototype.handleEvent=function(e,t){for(var n=0;n<this._eventHandlers.length;n++){var r=this._eventHandlers[n];if(r.eventType===e&&!1===r.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)))return!1}return!0};const p={};r._registerLegacyNamespaceProp("KeyUtils",p),p.equals=function(e,t){return d.compareValues(e,t)};var y=t.__ojCheckpointManager;const E={};return r._registerLegacyNamespaceProp("CHECKPOINT_MANAGER",E),E.startCheckpoint=function(e,t){y&&y.startCheckpoint(e,t)},E.endCheckpoint=function(e){y&&y.endCheckpoint(e)},E.getRecord=function(e){return y?y.getRecord(e):void 0},E.matchRecords=function(e){return y?y.matchRecords(e):[]},E.dump=function(t){e.info(function(){for(var e="Checkpoint Records:",n=E.matchRecords(t),r=0;r<n.length;r++){var o=n[r];e=e+"\n"+o.name;var i=o.description;null!=i&&(e=e+" ("+i+")"),e=(e+=":\n")+"start: "+o.start+"\tduration: "+o.duration}return e})},r});
//# sourceMappingURL=ojcore-base.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcontext',["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const s=function(e){this._description=e,this._addedWaitTs=s._getTs(),this._id=this._addedWaitTs.toString(36)+"_"+Math.random().toString(36)};e._registerLegacyNamespaceProp("BusyState",s),Object.defineProperties(s.prototype,{id:{get:function(){return this._id},enumerable:!0},description:{get:function(){if(this._description)return this._description instanceof Function?this._description():this._description.toString()},enumerable:!0}}),s.prototype.toString=function(){var e="Busy state: [description=",t=this.description;return null!==t&&(e+=t),e+=", elapsed="+(s._getTs()-this._addedWaitTs)+"]"},s._getTs=function(){return window.performance?window.performance.now():(new Date).getTime()};const o=function(e,t){this.Init(e,t)};let n;function i(){return n||(n=new Promise(function(e){window.setImmediate(function(){n=null,e(!0)})})),n}e.Object.createSubclass(o,e.Object,"oj.BusyContext"),e._registerLegacyNamespaceProp("BusyContext",o),o._defaultTimeout=Number.NaN,o.setDefaultTimeout=function(e){isNaN(e)||(o._defaultTimeout=e)},o.prototype.Init=function(e,t){o.superclass.Init.call(this),this._hostNode=e,this._context=t,this._statesMap=new Map,this._mediator={getMasterWhenReadyPromise:function(){return this._masterWhenReadyPromise||(this._masterWhenReadyPromise=new Promise(this._captureWhenReadyPromiseResolver.bind(this))),this._masterWhenReadyPromise},resolveMasterWhenReadyPromise:function(){this._masterWhenReadyPromiseResolver&&this._masterWhenReadyPromiseResolver(!0),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseResolver=null,this._masterWhenReadyPromiseRejecter=null},rejectMasterWhenReadyPromise:function(e){this._masterWhenReadyPromiseRejecter&&this._masterWhenReadyPromiseRejecter(e),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseRejecter=null,this._masterWhenReadyPromiseResolver=null},getSlaveTimeoutPromise:function(e,t,s){var o,n=new Promise(function(e,n){o=window.setTimeout(function(){n(t())},s)});return this._slaveTimeoutPromiseTimers.push(o),Promise.race([e,n]).finally(this._clearAllSlaveTimeouts.bind(this))},_clearAllSlaveTimeouts:function(){var e=this._slaveTimeoutPromiseTimers;this._slaveTimeoutPromiseTimers=[];for(var t=0;t<e.length;t++)window.clearTimeout(e[t]);return!0},_captureWhenReadyPromiseResolver:function(e,t){this._masterWhenReadyPromiseResolver=e,this._masterWhenReadyPromiseRejecter=t},_slaveTimeoutPromiseTimers:[]}},o._log=function(e){if(t.option("level")===t.LEVEL_LOG){t.log(">> Busy states: %d",e.size);var s=o._values(e);s.length>0&&t.log(s.join("\n"))}},o._values=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},o.prototype.addBusyState=function(e){t.log("BusyContext.addBusyState: start scope='%s'",this._getDebugScope());var n=this._statesMap,i=new s(e[o._DESCRIPTION]);return t.log(">> "+i),n.set(i.id,i),this._addBusyStateToParent(),t.log("BusyContext.addBusyState: end scope='%s'",this._getDebugScope()),this._removeBusyState.bind(this,i)},o.prototype.dump=function(e){t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"");var s=this._statesMap;t.info(">> Busy states: %d",s.size);var n=o._values(s);n.length>0&&t.info(n.join("\n")),t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"")},o.prototype.getBusyStates=function(){var e=this._statesMap;return o._values(e)},o.prototype.clear=function(){t.log("BusyContext.clear: start scope='%s'",this._getDebugScope());for(var e=this._statesMap,s=o._values(e),n=0;n<s.length;n++){var i=s[n];try{this._removeBusyState(i)}catch(e){t.log("BusyContext.clear: %o",e)}Object.defineProperty(i,o._OJ_RIP,{value:!0,enumerable:!1})}t.log("BusyContext.clear: end scope='%s'",this._getDebugScope())},o.prototype.whenReady=function(e){var s=this._getDebugScope();t.log("BusyContext.whenReady: start, scope='%s', timeout=%d",s,e);var n=this._statesMap,r=this._mediator,a=i(),u=o._BOOTSTRAP_MEDIATOR.whenReady();const l=r.getMasterWhenReadyPromise();var c=Promise.all([a,u]).then(function(){t.log("BusyContext.whenReady: bootstrap mediator ready scope=%s",s);try{o._deliverThrottledUpdates()}catch(e){throw t.error("Fatal exception delivering binding updates: %o",e),e}return 0!==n.size||this._waitingOnNextTickBusynessEval||(t.log("BusyContext.whenReady: resolved no busy states scope=%s",s),r.resolveMasterWhenReadyPromise()),t.log("BusyContext.whenReady: busy states returning master scope=%s",s),l}.bind(this));if(isNaN(e)&&!isNaN(o._defaultTimeout)&&(e=o._defaultTimeout),!isNaN(e)){c=r.getSlaveTimeoutPromise(c,function(){var i,r="whenReady timeout of "+e+"ms expired ";o._log(n);var a=o._values(n);return(i=o._BOOTSTRAP_MEDIATOR.isReady()?new Error(r+"with the following busy states: "+a.join(", ")):new Error(r+'while the application is loading. Busy state enabled by setting the "window.oj_whenReady = true;" global variable. Application bootstrap busy state is released by calling "oj.Context.getPageContext().getBusyContext().applicationBootstrapComplete();".')).busyStates=a,t.log("BusyContext.whenReady: rejected scope='%s'\n%s",s,i.message),i},e)}return t.log("BusyContext.whenReady: end scope='%s'",this._getDebugScope()),c},o.prototype.isReady=function(){t.log("BusyContext.isReady: start scope='%s'",this._getDebugScope());var e=!1;if(o._BOOTSTRAP_MEDIATOR.isReady()&&!this._waitingOnNextTickBusynessEval){var s=this._statesMap;e=0===s.size,o._log(s)}return t.log("BusyContext.isReady: end scope='%s'",this._getDebugScope()),e},o.prototype._removeBusyState=function(e){var s=this._getDebugScope();t.log("BusyContext._removeBusyState: start scope='%s'",s);var n=this._statesMap;if(e[o._OJ_RIP])t.log("Busy state has been forcefully resolved via clear:\n"+e);else{if(!n.delete(e.id))throw new Error("Busy state has already been resolved:\n"+e);t.log("BusyContext._removeBusyState: resolving busy state:\n"+e),0!==n.size||this._waitingOnNextTickBusynessEval||(this._waitingOnNextTickBusynessEval=!0,i().then(this._evalBusyness.bind(this))),t.log("BusyContext._removeBusyState: end scope='%s'",s)}},o.prototype._evalBusyness=function(){var e=this._getDebugScope();t.log("BusyContext._evalBusyness: begin scope='%s'",e);try{o._deliverThrottledUpdates()}catch(e){return t.error("Fatal exception delivering binding updates: %o",e),this._waitingOnNextTickBusynessEval=!1,void this._rejectWhenReadyPromises(e)}var s=this._statesMap,n=this._mediator;this._waitingOnNextTickBusynessEval=!1,0===s.size?(t.log("BusyContext._evalBusyness: resolving whenReady promises"),n.resolveMasterWhenReadyPromise(),this._resolveBusyStateForParent()):o._log(s),t.log("BusyContext._evalBusyness: end scope='%s'",e)},o.prototype.applicationBootstrapComplete=function(){var e=this._getDebugScope();t.log("BusyContext.applicationBootstrapComplete: begin scope='%s'",e),o._BOOTSTRAP_MEDIATOR.notifyComplete(),t.log("BusyContext.applicationBootstrapComplete: end scope='%s'",e)},o.prototype._getParentBusyContext=function(){var e=this._context.getParentContext();return e?e.getBusyContext():null},o.prototype._addBusyStateToParent=function(){if(!this._parentNotified){this._parentNotified=!0;var e=this._getParentBusyContext();if(e){var t={};t[o._DESCRIPTION]=this.toString.bind(this),this._parentResolveCallback=e.addBusyState(t)}}},o.prototype._resolveBusyStateForParent=function(){this._parentNotified=!1,this._parentResolveCallback&&(this._parentResolveCallback(),this._parentResolveCallback=null)},o.prototype._rejectWhenReadyPromises=function(e){this._mediator.rejectMasterWhenReadyPromise(e);const t=this._getParentBusyContext();t&&(t._rejectWhenReadyPromises(e),this._resolveBusyStateForParent())},o.prototype._getCompoundDescription=function(){return"["+o._values(this._statesMap).join(", ")+"]"},o.prototype._getDebugScope=function(){function e(e){var t="undefined";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName,e.hasAttribute("data-oj-context")&&(t+="[data-oj-context]");var s=e.getAttribute("class");s&&(t+="."+s.split(" ").join("."))}return t}return this._debugScope||(this._hostNode?this._debugScope=e(this._hostNode.parentElement)+" > "+e(this._hostNode):this._debugScope="page"),this._debugScope},o.prototype.toString=function(){var e="Busy Context: [scope=";return e+=this._getDebugScope(),e+=" states="+this._getCompoundDescription()+"]"},o._deliverThrottledUpdates=function(){e.ComponentBinding&&e.ComponentBinding.deliverChanges()},o._DESCRIPTION="description",o._OJ_RIP="__ojRip",o._BOOTSTRAP_MEDIATOR=new function(){var e,t,s;"undefined"!=typeof window&&(e=window.oj_whenReady),this.whenReady=function(){return t||(t=e?new Promise(function(e){s=e}):Promise.resolve(!0))},this.isReady=function(){return!e},this.notifyComplete=function(){s?i().then(function(){e=!1,"function"==typeof s&&s(!0),s=null}):e=!1}};const r=function(e){this.Init(e)};return e.Object.createSubclass(r,e.Object,"oj.Context"),r.prototype.Init=function(e){r.superclass.Init.call(this),this._node=e},r.prototype.getParentContext=function(){return this._node?r.getContext(r.getParentElement(this._node)):null},r.getContext=function(e){for(;e;){var t=e[r._OJ_CONTEXT_INSTANCE];if(t)return t;if(e.hasAttribute(r._OJ_CONTEXT_ATTRIBUTE))return t=new r(e),Object.defineProperty(e,r._OJ_CONTEXT_INSTANCE,{value:t}),t;e=r.getParentElement(e)}return r.getPageContext()},r.getPageContext=function(){return r._pageContext||(r._pageContext=new r),r._pageContext},r.prototype.getBusyContext=function(){return this._busyContext||(this._busyContext=new o(this._node,this)),this._busyContext},r.setBusyContextDefaultTimeout=function(e){o.setDefaultTimeout(e)},r._OJ_CONTEXT_ATTRIBUTE="data-oj-context",r._OJ_CONTEXT_INSTANCE="__ojContextInstance",r._OJ_SURROGATE_ATTR="data-oj-surrogate-id",r.getParentElement=function(e){if(e&&e.hasAttribute(r._OJ_SURROGATE_ATTR)){var t=document.getElementById(e.getAttribute(r._OJ_SURROGATE_ATTR));if(t)return t.parentElement}return e._ojReportBusy||e.parentElement},r});
//# sourceMappingURL=ojcontext.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojthemeutils',["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,t,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={getThemeName:function(){return(r.parseJSONFromFontFamily("oj-theme-json")||{}).name},getThemeTargetPlatform:function(){return(r.parseJSONFromFontFamily("oj-theme-json")||{}).targetPlatform},clearCache:function(){r._cache=null,r._cssVarCache=null},parseJSONFromFontFamily:function(e){null==r._cache&&(r._cache={},r._null_cache_value={},r._headfontstring=window.getComputedStyle(document.head).getPropertyValue("font-family"));var t=r._cache[e];if(t===r._null_cache_value)return null;if(null!=t)return t;if("undefined"==typeof document)return null;var o=document.createElement("meta");o.className=e,document.head.appendChild(o);var n=window.getComputedStyle(o).getPropertyValue("font-family");if(null!=n)if(n===r._headfontstring)a.warn("parseJSONFromFontFamily: When the selector ",e," is applied the font-family read off the dom element is ",n,". The parent dom elment has the same font-family value."," This is interpreted to mean that no value was sent down for selector ",e,". Null will be returned.");else{var l=n.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");if(l)try{t=JSON.parse(l)}catch(r){var s=l.indexOf(","),c=!1;if(s>-1){l=l.substring(s+2);try{t=JSON.parse(l),c=!0}catch(e){}}if(!1===c)throw a.error("Error parsing json for selector "+e+".\nString being parsed is "+l+". Error is:\n",r),document.head.removeChild(o),r}}return document.head.removeChild(o),r._cache[e]=null==t?r._null_cache_value:t,t}};var o=e=>(r._cssVarCache||(r._cssVarCache=new Map),r._cssVarCache.has(e)||r._cssVarCache.set(e,(e=>(r._rootCSSStyles||(r._rootCSSStyles=window.getComputedStyle(document.documentElement)),r._rootCSSStyles.getPropertyValue(e).replace(/^['"\s]+|\s+|\\|(;\s?})+|['"\s]$/g,"")))(e)),r._cssVarCache.get(e));r.getCachedCSSVarValues=e=>e.map(e=>o(e)),r.verifyThemeVersion=()=>{};const n=r.clearCache,l=r.getThemeName,s=r.getThemeTargetPlatform,c=r.parseJSONFromFontFamily,m=r.verifyThemeVersion,i=r.getCachedCSSVarValues;e.clearCache=n,e.getCachedCSSVarValues=i,e.getThemeName=l,e.getThemeTargetPlatform=s,e.parseJSONFromFontFamily=c,e.verifyThemeVersion=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojthemeutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcustomelement-utils',["exports","ojs/ojcore-base","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils"],function(e,t,i,r,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const s={};class o{static isValidCustomElementName(e){const t=o._RESERVED_TAGS.has(e),i=o._ELEMENT_NAME_REGEXP.test(e);return!t&&i&&!e.startsWith("oj-bind-",0)}static getSupportedTypes(e){if(!e)return{};let t=s[e];if(!t){t={};const i=e.toLowerCase(),r=i.match(/(?=[^|])(?:[^|]*<[^>]+>)*[^|]*/g);let n=0;r.forEach(e=>{const i=e.trim();"any"===i||"boolean"===i||"number"===i||"string"===i||"array"===i||"object"===i||"null"===i?t[i]=1:0===i.indexOf("array<")?t.array=1:0===i.indexOf("object<")?t.object=1:t.other=1,n++}),t.typeCount=n,s[i]=t}return t}static getUniqueId(e){if(e)return e;const t=o._UNIQUE+o._UNIQUE_INCR;return o._UNIQUE_INCR+=1,t}static comparePropertyValues(e,i,r){return e.writeback?t.Object.compareValues(i,r):i===r}}o._UNIQUE_INCR=0,o._UNIQUE="_oj",o._RESERVED_TAGS=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),o._ELEMENT_NAME_REGEXP=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/;const a={accessKey:"accesskey",autocapitalize:"autocapitalize",autofocus:"autofocus",class:"class",contentEditable:"contenteditable",dir:"dir",draggable:"draggable",enterKeyHint:"enterkeyhint",hidden:"hidden",id:"id",inputMode:"inputmode",lang:"lang",role:"role",slot:"slot",spellcheck:"spellcheck",style:"style",tabIndex:"tabindex",translate:"translate",title:"title"};class l extends Error{constructor(e,t){super(`${e.localName} with id '${e.id||""}': ${t}`),Error.captureStackTrace&&Error.captureStackTrace(this,l),this.name="JetElementError"}}const d=/^\s*\[[^]*\]\s*$/,c=/^\s*\{[^]*\}\s*$/,p=/^(?:\{\{)([^]+)(?:\}\})$/,u=/^(?:\[\[)([^]+)(?:\]\])$/,g={};Object.keys(a).forEach(function(e){const t=a[e];e!==t&&(g[t]=e)});class m{static getExpressionInfo(e){let t,i=!1;if(e){const r=e.trim();let n=p.exec(r);t=null==n?void 0:n[1],t||(i=!0,n=u.exec(r),t=null==n?void 0:n[1])}return{downstreamOnly:i,expr:t}}static attributeToPropertyValue(e,t,i,r){if(null!=i)try{return m.coerceValue(e,t,i,r.type)}catch(i){throw new l(e,`Error while parsing parsing attribute ${t}. ${i.stack||i}`)}}static parseAttributeValue(e,t,i,r,n=null){if(!r)throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}'.         This attribute only supports data bound values. Check the API doc for supported types`);const s=o.getSupportedTypes(r),a=d.test(i),l=c.test(i);if(s.array&&a||s.object&&l||s.any&&(a||l))try{return JSON.parse(i)}catch(r){throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}'           to a JSON Object. Check the value for correct JSON syntax, e.g. double quoted strings. ${r}`)}else{if(s.string||s.any)return i;if(s.boolean)return m.parseBooleanValue(e,t,i,r,n);if(s.number&&!isNaN(i))return Number(i)}throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}'       to a ${r}.`)}static parseBooleanValue(e,t,i,r,n){if(null==i||"true"===i||""===i||i.toLowerCase()===t)return!0;if("false"===i)return!1;throw new Error(`Unable to parse ${t}='${i}' for ${e} with id '${n}' to a ${r}.`)}static coerceValue(e,t,i,r){const n=e.tagName.toLowerCase();return m.parseAttributeValue(n,t,i,r,e.id)}static coerceBooleanValue(e,t,i,r){return m.parseBooleanValue(e.tagName.toLowerCase(),t,i,r,e.id)}static isGlobalOrData(e){return Object.prototype.hasOwnProperty.call(a,e)||e.startsWith("data-")||e.startsWith("aria-")}static getGlobalAttrForProp(e){return a[e]||e}static getGlobalPropForAttr(e){return g[e]||e}}function h(e,t){let i=e.cache;return i||(i=new Map,e.cache=i),i.has(t)||i.set(t,e(t)),i.get(t)}m.attributeToPropertyName=h.bind(null,e=>e.toLowerCase().replace(/-(.)/g,(e,t)=>t.toUpperCase())),m.propertyNameToAttribute=h.bind(null,e=>e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())),m.eventTypeToEventListenerProperty=h.bind(null,e=>"on"+e.substr(0,1).toUpperCase()+e.substr(1)),m.isEventListenerProperty=h.bind(null,e=>/^on[A-Z]/.test(e)),m.isEventListenerAttr=h.bind(null,e=>/^on-[a-z]/.test(e)),m.eventListenerPropertyToEventType=h.bind(null,e=>e.substr(2,1).toLowerCase()+e.substr(3)),m.propertyNameToChangeEventType=h.bind(null,e=>e+"Changed"),m.propertyNameToChangedCallback=h.bind(null,e=>`on${e[0].toUpperCase()}${e.substr(1)}Changed`),m.eventTriggerToEventType=h.bind(null,e=>`oj${e.substr(0,1).toUpperCase()}${e.substr(1)}`),m.eventAttrToPreactPropertyName=h.bind(null,e=>e.toLowerCase().split("-").reduce((e,t,i)=>{return i>1?e+((r=t).charAt(0).toUpperCase()+r.substr(1)):e+t;var r},""));const _=new Set;class E{static registerElement(e,t,i){const r=e.toUpperCase();if(!E._CUSTOM_ELEMENT_REGISTRY[r]){if(!t.descriptor)throw new Error(`Custom element ${e} must be registered with a descriptor.`);E._CUSTOM_ELEMENT_REGISTRY[e]=t,E._CUSTOM_ELEMENT_REGISTRY[r]=t,Object.defineProperty(i,"name",{value:E.tagNameToElementClassName(e)}),customElements.define(e,i)}}static tagNameToElementClassName(e){return e.toLowerCase().match(/-(?<match>.*)/)[0].replace(/-(.)/g,(e,t)=>t.toUpperCase())+"Element"}static isComposite(e){var t,i;return null!==(i=null===(t=E.getElementRegistration(e))||void 0===t?void 0:t.composite)&&void 0!==i&&i}static isVComponent(e){var t,i;return null!==(i=null===(t=E.getElementRegistration(e))||void 0===t?void 0:t.vcomp)&&void 0!==i&&i}static isElementRegistered(e){return null!=E._CUSTOM_ELEMENT_REGISTRY[e]}static getElementRegistration(e){var t;return null!==(t=E._CUSTOM_ELEMENT_REGISTRY[e])&&void 0!==t?t:null}static getElementDescriptor(e){var t;return(null===(t=E.getElementRegistration(e))||void 0===t?void 0:t.descriptor)||{}}static getElementProperties(e){return E.getPropertiesForElementTag(e.tagName)}static getPropertiesForElementTag(e){var t,i;const r=E.getElementDescriptor(e);return(null===(i=null!==(t=r._metadata)&&void 0!==t?t:r.metadata)||void 0===i?void 0:i.properties)||{}}static getElementInfo(e){return e?`${e.tagName.toLowerCase()} with id '${e.id}'`:""}static getElementState(e){let t=e[E._ELEMENT_STATE_KEY];if(!t&&E.isElementRegistered(e.tagName)){t=new(0,E.getElementRegistration(e.tagName).stateClass)(e),Object.defineProperty(e,E._ELEMENT_STATE_KEY,{value:t})}return null!=t?t:null}static getElementBridge(e){let t=e[E._ELEMENT_BRIDGE_KEY];if(void 0===t&&E.isElementRegistered(e.tagName)){t=null;const i=E.getElementRegistration(e.tagName).bridgeProto;if(void 0!==i){t=Object.create(i);const r=E.getElementDescriptor(e.tagName);t.initializeBridge(e,r)}Object.defineProperty(e,E._ELEMENT_BRIDGE_KEY,{value:t})}return null!=t?t:null}static getSlotMap(e){const t={},i=e.childNodes;for(let e=0;e<i.length;e++){const r=i[e];if(E.isSlotable(r)){const e=E.getSlotAssignment(r);t[e]||(t[e]=[]),t[e].push(r)}}return t}static getSlotAssignment(e){const t=null!=e.__oj_slots?e.__oj_slots:e.getAttribute&&e.getAttribute("slot");return t||""}static isSlotable(e){return 1===e.nodeType||3===e.nodeType&&!!e.nodeValue.trim()}static getElementProperty(e,t){if(E.isElementRegistered(e.tagName)){let i=e._vcomp;return i&&!i.isCustomElementFirst()||(i=e[E.VCOMP_INSTANCE])?E.getPropertyValue(i.props,t):e.getProperty(t)}return e[t]}static getPropertyValue(e,t){let i=e;const r=t.split(".");try{r.forEach(e=>i=i[e])}catch(e){return}return i}static allowSlotRelocation(e){E._ALLOW_RELOCATION_COUNT+=e?1:-1}static canRelocateNode(e,t){const i=E.getElementState(e);if(!i.getSlotMap()||E._ALLOW_RELOCATION_COUNT>0)return!0;const r=i.getSlotSet();if(i.isPostCreateCallbackOrComplete()&&r.has(t)){if(e.hasAttribute("data-oj-preact"))throw new l(e,t.localName+" cannot be relocated as a child of this element.");if("preact"===i.getBindingProviderType())return!1}return!0}static getClassSet(e){if(e){const t=e.split(/\s+/).filter(e=>e.length>0);if(t.length>0)return new Set(t)}return _}static convertEmptyStringToUndefined(e,t,i){if(""===i){if("preact"===E.getElementState(e).getBindingProviderType()){if(!o.getSupportedTypes(t.type).string||t.enumValues)return}}return i}}E._CUSTOM_ELEMENT_REGISTRY={},E._ELEMENT_STATE_KEY="_ojElementState",E._ELEMENT_BRIDGE_KEY="_ojBridge",E._ALLOW_RELOCATION_COUNT=0,E.VCOMP_INSTANCE=Symbol("vcompInstance");const C=Symbol("childBindingProvider"),b=Symbol("cachedBindingProvider");class v{constructor(e){this.dirtyProps=new Set,this._componentState=P.WaitingToCreate,this._outerClasses=new Set,this.Element=e}startCreationCycle(){this._isInErrorState()||(null!=this._preCreatedPromise&&this._componentState!==P.WaitingToCreate||this._updateComponentState(P.Creating),this._registerBusyState())}pauseCreationCycle(){this._resolveBusyState()}resetCreationCycle(){this._updateComponentState(P.WaitingToCreate),this._bindingProviderPromise=null,this._preCreatedPromise=null,this._createdPromise=null}isComplete(){return this._componentState===P.Complete}isCreating(){return this._componentState===P.Creating}isPostCreateCallbackOrComplete(){return this._componentState===P.PostCreateCallback||this.isComplete()}canHandleAttributes(){return!this._isInErrorState()&&this._componentState!==P.WaitingToCreate}beginApplyingBindings(){this.isComplete()||(this._bindingProviderType="knockout",this._updateComponentState(P.ApplyingBindings))}allowPropertySets(){return this._componentState===P.Creating||this._componentState===P.ApplyingBindings||this._componentState===P.BindingsApplied||this._componentState===P.PostCreateCallback||this._componentState===P.Complete}allowPropertyChangedEvents(){return this._componentState===P.BindingsApplied||this._componentState===P.PostCreateCallback||this._componentState===P.Complete}getTrackChildrenOption(){var e,t;const i=E.getElementDescriptor(this.Element.tagName).metadata;return null!==(t=null===(e=null==i?void 0:i.extension)||void 0===e?void 0:e._TRACK_CHILDREN)&&void 0!==t?t:"none"}setCreateCallback(e){this._isInErrorState()||(this._updateComponentState(P.WaitingForBindings),this._preCreatedPromise||(this._preCreatedPromise=this.GetPreCreatedPromise()),this._createdPromise=this._preCreatedPromise.then(()=>{if(!this._isInErrorState()){const t=e();return this._updateComponentState(P.PostCreateCallback),t}return Promise.reject()}),this._createdPromise.then(()=>{this._updateComponentState(P.Complete)},e=>{if(this._updateComponentState(P.Incomplete),e)throw e}))}setBindingsDisposedCallback(e){this._disposedCallback=e}resolveBindingProvider(e){this._bpClean=e.__CleanNode,this._resolveBindingProviderCallback&&(this._bindingsApplied(),this._resolveBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null),this._bindingProvider=e}rejectBindingProvider(e){this._rejectBindingProviderCallback&&(this._rejectBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null)}disposeBindingProvider(){var e;this.isComplete()?null===(e=this._disposedCallback)||void 0===e||e.call(this):(this.rejectBindingProvider(),this._updateComponentState(P.BindingsDisposed))}setBindingProviderCallback(e){this._bindingProviderCallback=e}getBindingProviderPromise(){const e=this.getBindingProviderType();if(!this._bindingProviderPromise)if(n.verifyThemeVersion(),"none"===e||"preact"===e)this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(null);else{if("knockout"!==e)throw new l(this.Element,`Unknown binding provider '${e}'.`);this._bindingProvider?(this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(this._bindingProvider)):this._bindingProviderPromise=new Promise((e,t)=>{this._resolveBindingProviderCallback=e,this._rejectBindingProviderCallback=t})}return this._bindingProviderPromise}getBindingProvider(){return this._bindingProvider}getBindingProviderType(){return this._bindingProviderType||(this._bindingProviderType=v._walkBindingProviders(this.Element)),this._bindingProviderType}getBindingProviderCleanNode(){return this._bpClean||v._NOOP}getDescriptiveText(){let e=this.GetDescriptiveValue("aria-label")||this.GetDescriptiveValue("title")||this.GetDescriptiveLabelByValue("labelled-by")||this.GetDescriptiveValue("label-hint")||this.GetDescriptiveLabelByValue("aria-labelledby");return e=e?e.trim().replace(/\s+/g," "):"",e}getSlotMap(e){return!this._slotMap&&e&&(this._slotMap=E.getSlotMap(this.Element)),this._slotMap}getSlotSet(){if(!this._slotSet){const e=Object.keys(this._slotMap);let t=[];e.forEach(e=>t=t.concat(this._slotMap[e])),this._slotSet=new Set(t)}return this._slotSet}setOuterClasses(e){this.PatchClasses(this._outerClasses,e),this._outerClasses=e}PatchClasses(e,t){e.forEach(e=>{t.has(e)||this.Element.classList.remove(e)}),t.forEach(t=>{e.has(t)||this.Element.classList.add(t)})}GetCreatedPromise(){return this._createdPromise}GetPreCreatedPromise(){let e=this.getBindingProviderPromise();return"none"!==this.getTrackChildrenOption()&&(e=e.then(e=>this._getTrackedChildrenPromises(e))),e}IsTransferAttribute(e){return!1}GetDescriptiveValue(e){const t=m.attributeToPropertyName(e),i=E.getElementProperties(this.Element);let r;return r=i&&i[t]?this.Element[t]:this.IsTransferAttribute(e)?this.GetDescriptiveTransferAttributeValue(e):this.Element.getAttribute(e),r}GetDescriptiveTransferAttributeValue(e){return""}GetDescriptiveLabelByValue(e){const t=this.GetDescriptiveValue(e);if(t){const e=document.getElementById(t);if(e)return e.textContent}return null}_updateComponentState(e){if(this._componentState!==P.BindingsDisposed){switch(e){case P.WaitingToCreate:this.Element.classList.remove("oj-complete"),this._createdPromise=null;break;case P.Complete:this.Element.classList.add("oj-complete"),this._resolveBusyState();break;case P.BindingsDisposed:case P.Incomplete:this.Element.classList.add("oj-incomplete"),this._resolveBusyState()}this._componentState=e}}_bindingsApplied(){var e;this._updateComponentState(P.BindingsApplied),null===(e=this._bindingProviderCallback)||void 0===e||e.call(this)}_registerBusyState(){const e=i.getContext(this.Element).getBusyContext();if(this._resolveCreatedBusyState)throw new l(this.Element,"Registering busy state before previous state is resolved.");this._resolveCreatedBusyState=e.addBusyState({description:E.getElementInfo(this.Element)+" is being upgraded."})}_resolveBusyState(){this._resolveCreatedBusyState&&(this._resolveCreatedBusyState(),this._resolveCreatedBusyState=null)}static _walkBindingProviders(e,t=e){var i;let r=e[b];if(r)return r;if(r=e.getAttribute("data-oj-binding-provider"),!r){const n=e.parentElement;if(null==n){if(e!==document.documentElement)throw new l(t,"Cannot determine binding provider for a disconnected subtree.");r="knockout"}else r=null!==(i=n[C])&&void 0!==i?i:v._walkBindingProviders(n,t)}return e[b]=r,r}_getTrackedChildrenPromises(e){const t=this.getTrackChildrenOption(),n=i.getContext(this.Element).getBusyContext(),s=this._getChildrenToTrack(this.Element,t,[]).map(t=>{if(!e){const e=n.addBusyState({description:`Waiting for element ${t.localName} to be defined.`}),i=setInterval(()=>{r.warn(`Waiting for element ${t.localName} to be defined.`)},2e4);return customElements.whenDefined(t.localName).then(()=>(e(),clearInterval(i),E.isElementRegistered(t.tagName)?E.getElementState(t).GetCreatedPromise():null)).catch(r=>{throw e(),clearInterval(i),new Error(`Error defining element ${t.localName} : ${r}`)})}return E.isElementRegistered(t.tagName)?E.getElementState(t).GetCreatedPromise():null});return Promise.all(s)}_getChildrenToTrack(e,t,i){const r=e.childNodes;for(let e=0;e<r.length;e++){const n=r[e];o.isValidCustomElementName(n.localName)?i.push(n):"nearestCustomElement"===t&&this._getChildrenToTrack(n,t,i)}return i}_isInErrorState(){return this._componentState===P.Incomplete||this._componentState===P.BindingsDisposed}}var P;v._NOOP=()=>{},function(e){e[e.WaitingToCreate=0]="WaitingToCreate",e[e.Creating=1]="Creating",e[e.WaitingForBindings=2]="WaitingForBindings",e[e.ApplyingBindings=3]="ApplyingBindings",e[e.BindingsApplied=4]="BindingsApplied",e[e.PostCreateCallback=5]="PostCreateCallback",e[e.Complete=6]="Complete",e[e.Incomplete=7]="Incomplete",e[e.BindingsDisposed=8]="BindingsDisposed"}(P||(P={})),e.AttributeUtils=m,e.CACHED_BINDING_PROVIDER=b,e.CHILD_BINDING_PROVIDER=C,e.CustomElementUtils=E,e.ElementState=v,e.ElementUtils=o,e.JetElementError=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcustomelement-utils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmetadatautils',["exports","ojs/ojcore-base","ojs/ojcustomelement-utils"],function(e,t,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o={getDefaultValue:function(e,r){let n=e.value;if(void 0===n){const t=e.properties;if(t){const r={},u=Object.keys(t);for(let e=0;e<u.length;e++){const n=o.getDefaultValue(t[u[e]]);void 0!==n&&(r[u[e]]=n)}Object.keys(r).length>0&&(e.value=r,n=r)}}return void 0!==n&&(Array.isArray(n)?n=r?o.deepFreeze(n):n.slice():null!==n&&"object"==typeof n&&(n=r?o.deepFreeze(n):t.CollectionUtils.copyInto({},n,void 0,!0))),n},getDefaultValues:function(e,t){const r={},n=Object.keys(e);let u=!1;return n.forEach(function(n){const l=o.getDefaultValue(e[n],t);void 0!==l&&(r[n]=l,u=!0)}),u?r:null},deepFreeze:function(e){if(Object.isFrozen(e))return e;if(Array.isArray(e))e=e.map(e=>o.deepFreeze(e)),Object.freeze(e);else if(null!==e&&"object"==typeof e){const t=Object.getPrototypeOf(e);null!==t&&t!==Object.prototype||(Object.keys(e).forEach(function(t){e[t]=o.deepFreeze(e[t])}),Object.freeze(e))}return e},getPropertyMetadata:function(e,t){let r=t;if(r&&e){const t=e.split(".");for(let e=0;e<t.length&&(r=r[t[e]],r&&1!==t.length&&e!==t.length-1&&r.properties);e++)r=r.properties}return r},checkEnumValues:function(e,t,r,o){if("string"==typeof r&&o){const e=o.enumValues;if(e&&-1===e.indexOf(r))throw new Error(`Invalid value '${r}' found for property '${t}'.Expected one of the following '${e.toString()}'.`)}},getFlattenedAttributes:function(e){const t=[];return o._getAttributesFromProperties("",e,t),t},_getAttributesFromProperties:function(e,t,n){if(t){Object.keys(t).forEach(u=>{const l=t[u],i=e+u;n.push(r.AttributeUtils.propertyNameToAttribute(i)),l.properties&&o._getAttributesFromProperties(i+".",l.properties,n)})}}},n=o.getDefaultValue,u=o.getDefaultValues,l=o.deepFreeze,i=o.getPropertyMetadata,s=o.checkEnumValues,c=o.getFlattenedAttributes;e.checkEnumValues=s,e.deepFreeze=l,e.getDefaultValue=n,e.getDefaultValues=u,e.getFlattenedAttributes=c,e.getPropertyMetadata=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojmetadatautils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojpreact-patch',["exports"],function(e){"use strict";const t=Symbol(),n=Symbol(),o=Symbol();function l(e,n){Object.defineProperty(e,"firstChild",{get(){let l=e.childNodes[0];return l?(l=l[o]||l,n&&(l=l[t]||l),l):null},enumerable:!0})}const r=Symbol();e.OJ_POPUP=o,e.OJ_REPLACER=t,e.OJ_SLOT=n,e.patchPopupParent=function(e){e[r]||(e[r]=!0,l(e,!1))},e.patchSlotParent=function(e){if(!e[r]){e[r]=!0;const t=e.insertBefore;e.insertBefore=(o,l)=>t.call(e,o,(null==l?void 0:l[n])||l),l(e,!0)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojpreact-patch.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtracer',["exports","ojs/ojcustomelement-utils"],function(t,e){"use strict";class r{spanContext(){return{traceId:"",spanId:"",traceFlags:0}}setAttribute(t,e){return this}setAttributes(t){return this}addEvent(t,e,r){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,e){}}class n{startSpan(t,e,n){return new r}startActiveSpan(t,e){return e(new r)}}class s{getTracer(t,e){return new n}}let i;t.getDescriptiveText=function(t){var r;const n=e.CustomElementUtils.getElementState(t);return null!==(r=null==n?void 0:n.getDescriptiveText())&&void 0!==r?r:""},t.getTracerProvider=function(){return i||(i=new s),i},t.setTracerProvider=function(t){i=t},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojtracer.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtrace-event',["exports","ojs/ojtracer"],function(e,t){"use strict";e.traceDispatchEvent=function(e){return function(n){const a=this,r=t.getTracerProvider().getTracer("JET");if("undefined"!=typeof window&&window.__JET_TRACER_ENABLED__&&r&&function(e){const t=null==e?void 0:e.type;if(!t||t.startsWith("ojBefore"))return!1;switch(t){case"attribute-changed":case"ojAnimateStart":case"ojAnimateEnd":case"ojTransitionStart":case"ojTransitionEnd":case"labelledByChanged":case"beforeDestroyChanged":return!1}return!0}(n)){const t=function(e){var t;let n=e.type;const a=null===(t=e.detail)||void 0===t?void 0:t.value;if(null!=a)switch(n){case"validChanged":n=`${n}=${a}`;break;case"expandedChanged":"boolean"==typeof a&&(n=`${n}=${a}`)}return n}(n),o="componentEvent";return r.startActiveSpan(`${o} ${t}`,r=>{try{return r.setAttribute("type",t),r.setAttribute("operationName",o),e.call(a,n)}catch(e){r.setStatus({code:2,message:e.message})}finally{r.end()}})}return e.call(a,n)}},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtrace-event.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvcomponent',["require","exports","preact","ojs/ojmetadatautils","ojs/ojcustomelement-utils","ojs/ojcore-base","ojs/ojpreact-patch","ojs/ojtrace-event"],function(e,t,s,n,o,r,i,l){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;class a{parkNode(e){this._getLot().appendChild(e),r.Components&&r.Components.subtreeHidden(e)}disposeNodes(e,t){a._iterateSlots(e,e=>{const s=e.parentElement;this._lot===s?(t(e),this._lot.removeChild(e)):s||t(e)})}disconnectNodes(e){a._iterateSlots(e,e=>{this._lot===e.parentElement&&this._lot.removeChild(e)})}reconnectNodes(e){a._iterateSlots(e,e=>{e.parentElement||this._lot.appendChild(e)})}isParked(e){return(null==e?void 0:e.parentElement)===this._lot}_getLot(){if(!this._lot){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),this._lot=e}return this._lot}static _iterateSlots(e,t){Object.keys(e).forEach(s=>{e[s].forEach(e=>{t(e)})})}}const c=new a;function p(e,t,n,r,l){const a=`_${t}_${n}_`,c=function(e,t,s){let n,r=0;const l=()=>{t(e)};return t=>{if(null!=t){r++,n&&(n[i.OJ_SLOT]=null),n=e[i.OJ_REPLACER]=t;const s=t.parentElement;i.patchSlotParent(s),t[i.OJ_SLOT]=e,t.isConnected?(s.replaceChild(e,t),l()):t[h]=l}else{if(r--,r<0)throw new o.JetElementError(this,"Slot replacer count underflow");0===r&&(e.remove(),s(e))}}}(e,r,l);return s.h(()=>s.h("oj-slot-replacer",{ref:c,key:a}),null)}class d extends HTMLElement{connectedCallback(){const e=this[i.OJ_SLOT];e&&this.parentElement.replaceChild(e,this);const t=this[h];t&&(t(),this[h]=null)}get parentNode(){const e=this[i.OJ_SLOT];return!e||c.isParked(e)?null:e.parentNode}get nextSibling(){const e=this[i.OJ_SLOT];if(!e||c.isParked(e))return null;const t=e.nextSibling;return(null==t?void 0:t[i.OJ_REPLACER])||t}}customElements.define("oj-slot-replacer",d);const h=Symbol();const u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _(e,t,s){"-"===t[0]?e.setProperty(t,s):null==s?e[t]="":"number"!=typeof s||u.test(t)?e[t]=s:e[t]=s+"px"}function m(e,t,s,n,o){let r;e:if("style"===t)if("string"==typeof s)e.style.cssText=s;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)s&&t in s||_(e.style,t,"");if(s)for(t in s)n&&s[t]===n[t]||_(e.style,t,s[t])}else if("o"===t[0]&&"n"===t[1])if(r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e._listeners||(e._listeners={}),e._listeners[t+r]=s,s){if(!n){const s=r?f:v;e.addEventListener(t,s,r)}}else{const s=r?f:v;e.removeEventListener(t,s,r)}else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==s?"":s;break e}catch(e){}"function"==typeof s||(null!=s&&(!1!==s||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,s):e.removeAttribute(t))}}function v(e){this._listeners[e.type+!1](s.options.event?s.options.event(e):e)}function f(e){this._listeners[e.type+!0](s.options.event?s.options.event(e):e)}const y=Symbol(),g=Symbol(),P=new Set,C=Symbol(),b=Symbol();class E{constructor(e,t,n,r,i,l){this.ref=s.createRef(),this._isPatching=!1,this._props={ref:this.ref},this._verifyingState=S.Unset,this._earlySets=[],this._eventQueue=[],this._isRenderQueued=!1,this._state=o.CustomElementUtils.getElementState(e),this._element=e,this._metadata=n,this._component=t,this._controlledProps=(null==i?void 0:i.length)>0?new Set(i):P,this._controlledAttrs=(null==r?void 0:r.length)>0?new Set(r):P,this._defaultProps=l,this._rootPatchCallback=this._patchRootElement.bind(this)}connectedCallback(){this._verifyConnectDisconnect(S.Connect)}disconnectedCallback(){this._verifyConnectDisconnect(S.Disconnect)}attributeChangedCallback(e,t,s){if(!this._isPatching&&this._state.canHandleAttributes()){const n=o.AttributeUtils.attributeToPropertyName(e),r=n.split(".")[0];if(this._state.dirtyProps.has(r))this._state.dirtyProps.delete(r);else if(t===s)return;null===s&&(s=void 0),"knockout"===this._state.getBindingProviderType()&&(o.AttributeUtils.isGlobalOrData(n)||this._element.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:e,value:s,previousValue:t}})));const[i,l,a]=this._getPropValuePair(e,s);i&&this._updatePropsAndQueueRenderAsNeeded(i,l,a)}}getProperty(e){var t;if(n.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties)){let t=o.CustomElementUtils.getPropertyValue(this._props,e);return void 0===t&&this._defaultProps&&(t=o.CustomElementUtils.getPropertyValue(this._defaultProps,e)),t}return this._element[e]}setProperty(e,t){var s;if(this._isPatching)return;const r=n.getPropertyMetadata(e,null===(s=this._metadata)||void 0===s?void 0:s.properties);r?this._state.allowPropertySets()?(t=o.CustomElementUtils.convertEmptyStringToUndefined(this._element,r,t),this._updatePropsAndQueueRenderAsNeeded(e,t,r)):this._earlySets.push({property:e,value:t}):this._element[e]=t}setProperties(e){this._isPatching||Object.keys(e).forEach(t=>{this.setProperty(t,e[t])})}getProps(){return this._props}isInitialized(){return!!this._vdom}appendChildHelper(e,t){return o.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.appendChild.call(e,t):t}insertBeforeHelper(e,t,s){return o.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.insertBefore.call(e,t,s):t}_render(){var e;if(!this._vdom){this._initializePropsFromDom();const t=this._metadata.events;t&&this._initializeActionCallbacks(t);const s=null===(e=this._metadata.extension)||void 0===e?void 0:e._WRITEBACK_PROPS;s&&this._initializeWritebackCallbacks(s),this._playbackEarlyPropertySets()}this._vdom=s.h(this._component,this._props,null),this._vdom.props[y]=this._element,this._vdom.props[g]=this._rootPatchCallback,this._isPatching=!0,s.render(this._vdom,this._element),this._isPatching=!1}_getPropValuePair(e,t){var s,r;if("knockout"!==this._state.getBindingProviderType()||!o.AttributeUtils.getExpressionInfo(t).expr){const i=o.AttributeUtils.attributeToPropertyName(e),l=n.getPropertyMetadata(i,null===(s=this._metadata)||void 0===s?void 0:s.properties);if(l)return l.readOnly?[null,null,null]:[i,o.AttributeUtils.attributeToPropertyValue(this._element,e,t,l),l];const a=o.AttributeUtils.getGlobalPropForAttr(e);if(this._controlledProps.has(a))return[a,null!==(r=this[a])&&void 0!==r?r:t,null]}return[null,null,null]}_updatePropsAndQueueRenderAsNeeded(e,t,s,n=!0){const i=this.getProperty(e);if(s&&o.ElementUtils.comparePropertyValues(s,t,i))return;const l=e.split("."),a=l[0],c=l.length>1;let p=this.getProperty(a);if(r.CollectionUtils.isPlainObject(p)&&(p=r.CollectionUtils.copyInto({},p,void 0,!0)),n&&this._verifyProps(e,t,s),this._updateProps(l,t),!n||this._state.allowPropertyChangedEvents()&&!o.AttributeUtils.isGlobalOrData(e)){this._state.dirtyProps.add(a);const s=n?"external":"internal",o={value:this.getProperty(a),previousValue:p,updatedFrom:s};c&&(o.subproperty={path:e,value:t,previousValue:i});const r=a+"Changed",l=c?null:e=>{if("propChange"!==e.kind||e.type!==r||e.detail.subproperty)return null;const t=Object.assign({},o,{previousValue:e.detail.previousValue});return{type:r,detail:t,collapse:l,kind:"propChange"}};this._queueFireEventsTask({type:r,detail:o,collapse:l,kind:"propChange"})}const d=this._oldRootProps;d&&this._controlledProps.has(e)&&(d[e]=t),this._queueRender(this._vdom&&!(null==s?void 0:s.readOnly))}_queueRender(e){e&&!this._isRenderQueued&&(this._isRenderQueued=!0,window.queueMicrotask(()=>{this._isRenderQueued=!1,this._render()}))}_verifyProps(e,t,s){if(s){if(s.readOnly)throw new o.JetElementError(this._element,`Read-only property '${e}' cannot be set.`);try{n.checkEnumValues(this._element,e,t,s)}catch(e){throw new o.JetElementError(this._element,e.message)}}}_updateProps(e,t){var s,n;const o=e[0];let i=this._props;if(e.length>1){const e=null!==(s=this._props[o])&&void 0!==s?s:null===(n=this._defaultProps)||void 0===n?void 0:n[o];e&&r.CollectionUtils.isPlainObject(e)?i[o]=r.CollectionUtils.copyInto({},e,void 0,!0):i[o]={}}for(;e.length;){const s=e.shift();0===e.length?i[s]=t:i[s]||(i[s]={}),i=i[s]}}_queueFireEventsTask(e){let t=e;const s=this._getEventCollapseInfo(e,this._eventQueue);if(s){const[e,n]=s;this._eventQueue.splice(e,1),t=n}return this._eventQueue.push(t),this._queuedEvents||(this._queuedEvents=new Promise(e=>{window.queueMicrotask(()=>{try{for(;this._eventQueue.length;){const e=this._eventQueue.shift(),t="propChange"===e.kind?new CustomEvent(e.type,{detail:e.detail}):e.event;this._element.dispatchEvent(t)}}finally{e(),this._queuedEvents=null}})})),this._queuedEvents}_getEventCollapseInfo(e,t){var s;if("propChange"!==e.kind)return null;for(let n=0;n<t.length;n++){const o=null===(s=e.collapse)||void 0===s?void 0:s.call(e,t[n]);if(o)return[n,o]}return null}_verifyConnectDisconnect(e){this._verifyingState===S.Unset&&window.queueMicrotask(()=>{this._verifyingState===e&&(this._verifyingState===S.Connect?this._verifiedConnect():this._verifiedDisconnect()),this._verifyingState=S.Unset}),this._verifyingState=e}_verifiedConnect(){if(this._state.isComplete())this._reconnectSlots();else if(this._state.startCreationCycle(),this._state.isCreating()){const e=()=>{this._element[o.CHILD_BINDING_PROVIDER]="preact";let e=this._state.getSlotMap();if(e)this._reconnectSlots();else{e=this._state.getSlotMap(!0);const t=this._removeAndConvertSlotsToProps(e);Object.assign(this._props,t)}this._render()};this._state.setCreateCallback(e),this._state.setBindingsDisposedCallback(()=>this._handleBindingsDisposed())}}_verifiedDisconnect(){this._state.isComplete()?(this._disconnectSlots(),this._state.resetCreationCycle(),s.render(null,this._element),this._applyRef(this._oldRootRef,null),this._oldRootRef=void 0,this._vdom=null):this._state.pauseCreationCycle()}_initializePropsFromDom(){const e=this._element.attributes;for(let t=0;t<e.length;t++){const{name:s,value:n}=e[t],[o,r,i]=this._getPropValuePair(s,n);o&&(this._verifyProps(o,r,i),this._updateProps(o.split("."),r))}}_playbackEarlyPropertySets(){for(var e;this._earlySets.length;){const t=this._earlySets.shift(),s=n.getPropertyMetadata(t.property,null===(e=this._metadata)||void 0===e?void 0:e.properties),r=o.CustomElementUtils.convertEmptyStringToUndefined(this._element,s,t.value);this.setProperty(t.property,r)}}_patchRootElement(e){var t;const s=this._oldRootProps||this._getInitialRootProps(),n=e.props;!function(e,t,s,n,o,r){let i;for(i in s)"children"===i||"key"===i||i in t||r(e,i,null,s[i],n)||m(e,i,null,s[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||s[i]===t[i]||r(e,i,t[i],s[i],n)||m(e,i,t[i],s[i],n)}(this._element,n,s,!1,!1,E._setPropertyOverrides);const o=e.ref;this._oldRootRef!==o&&(this._applyRef(o,this._element),o&&(null===(t=this._oldRootRef)||void 0===t||t.call(this,null))),this._oldRootProps=n,this._oldRootRef=o}_applyRef(e,t){e&&("function"==typeof e?e(t):e.current=t)}static _setPropertyOverrides(e,t,s,n){if("style"===t&&"string"==typeof s)throw new Error("CSS style must be an object. CSS text is not supported");if("class"===t||"className"===t){const t=null==n?P:o.CustomElementUtils.getClassSet(n),r=null==s?P:o.CustomElementUtils.getClassSet(s);for(const s of t.values())r.has(s)||e.classList.remove(s);for(const s of r.values())t.has(s)||e.classList.add(s);return!0}if("o"===t[0]&&"n"===t[1]){const o=t!==(t=t.replace(/Capture$/,"")),r=t.toLowerCase();r in e&&(t=r),t=t.slice(2),E._getRootListeners(e,o)[t]=s;const i=o?E._eventProxyCapture:E._eventProxy;return s?n||e.addEventListener(t,i,o):e.removeEventListener(t,i,o),!0}return!1}static _getRootListeners(e,t){const s=t?b:C;let n=e[s];return n||(n=e[s]={}),n}_getInitialRootProps(){const e={};for(const t of this._controlledProps.values())t in this._props&&(e[t]=this._props[t]);return e}_removeAndConvertSlotsToProps(e){var t,s;const o=null===(t=this._metadata.extension)||void 0===t?void 0:t._DYNAMIC_SLOT,r=null==o?void 0:o.prop,i=null===(s=this._metadata)||void 0===s?void 0:s.slots,l=Object.keys(e),a={};if(l.length>0&&l.forEach(t=>{const s=e[t];s.forEach(e=>{c.parkNode(e)});const l=n.getPropertyMetadata(t,i);if(l){const e=!!(null==l?void 0:l.data),n=e||""!==t?t:"children";this._assignSlotProperty(a,n,void 0,t,e,s)}else{if(!r)return;a[r]||(a[r]={});const e=o.isTemplate;this._assignSlotProperty(a,t,r,t,e,s)}}),"knockout"===this._state.getBindingProviderType()){let e;for(;e=this._element.firstChild;)this._state.getBindingProviderCleanNode()(e),e.remove()}return a}_assignSlotProperty(e,t,s,n,r,i){var l,a;const c=s?e[s]:e;if(r){if("TEMPLATE"!==(null===(l=i[0])||void 0===l?void 0:l.nodeName))throw new o.JetElementError(this._element,`Slot content for template slot ${n} must be a template element.`);{const e=i[0];c[t]=null!==(a=e.render)&&void 0!==a?a:this._getSlotRenderer(e,t,s)}}else{const e=i.map((e,t)=>p(e,n,t,E._handleSlotMount,this._handleSlotUnmount.bind(this)));c[t]=e}}_getSlotRenderer(e,t,s){const n=this._state.getBindingProvider(),r=n?()=>{(s?this._props[s]:this._props)[t]=this._getSlotRenderer(e,t,s),this._queueRender(!0)}:null;return t=>{const s=this._state.getTemplateEngine();if(!s)throw new o.JetElementError(this._element,"Unexpected call to render a template slot");return s.execute(this._element,e,t,n,r)}}_handleBindingsDisposed(){c.disposeNodes(this._state.getSlotMap(),this._state.getBindingProviderCleanNode()),this._state.disposeTemplateCache()}_disconnectSlots(){c.disconnectNodes(this._state.getSlotMap())}_reconnectSlots(){c.reconnectNodes(this._state.getSlotMap())}_handleSlotUnmount(e){this._state.isComplete()&&c.parkNode(e)}static _handleSlotMount(e){r.Components&&r.Components.subtreeShown(e)}static _eventProxy(e){this[C][e.type](s.options.event?s.options.event(e):e)}static _eventProxyCapture(e){this[b][e.type](s.options.event?s.options.event(e):e)}_initializeActionCallbacks(e){Object.keys(e).forEach(t=>{const s=e[t],n=o.AttributeUtils.eventTypeToEventListenerProperty(t);this._props[n]=e=>{const n=Object.assign({},e),o=!!s.cancelable,r=[];o&&(n.accept=e=>{r.push(e)});const i={detail:n,bubbles:!!s.bubbles,cancelable:o},l=new CustomEvent(t,i),a=this._queueFireEventsTask({event:l,kind:"action"});if(o)return a.then(()=>l.defaultPrevented?Promise.reject():Promise.all(r).then(()=>Promise.resolve(),e=>Promise.reject(e)))}})}_initializeWritebackCallbacks(e){e.forEach(e=>{var t;const s=o.AttributeUtils.propertyNameToChangedCallback(e),r=n.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties);this._props[s]=t=>{this._updatePropsAndQueueRenderAsNeeded(e,t,r,!1)}})}}var S;!function(e){e[e.Connect=0]="Connect",e[e.Disconnect=1]="Disconnect",e[e.Unset=2]="Unset"}(S||(S={}));const k=new class{constructor(){this.appendChildHelper=(e,t)=>HTMLElement.prototype.appendChild.call(e,t),this.insertBeforeHelper=(e,t,s)=>HTMLElement.prototype.insertBefore.call(e,t,s)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,s){}getProperty(e){}setProperty(e,t){}setProperties(e){}},T=l.traceDispatchEvent(HTMLElement.prototype.dispatchEvent);class O extends HTMLElement{constructor(){super(...arguments),this.dispatchEvent=T}static get observedAttributes(){let e=[];return this.metadata.properties&&(e=e.concat(n.getFlattenedAttributes(this.metadata.properties))),this.rootObservedAttributes&&(e=e.concat(this.rootObservedAttributes)),e}connectedCallback(){this._getHelper().connectedCallback()}disconnectedCallback(){var e;null===(e=this._helper)||void 0===e||e.disconnectedCallback()}attributeChangedCallback(e,t,s){var n;null===(n=this._helper)||void 0===n||n.attributeChangedCallback(e,t,s)}getProperty(e){return this._getHelper().getProperty(e)}setProperty(e,t){this._getHelper().setProperty(e,t)}setProperties(e){this._getHelper().setProperties(e)}appendChild(e){return this._getHelper().appendChildHelper(this,e)}insertBefore(e,t){return this._getHelper().insertBeforeHelper(this,e,t)}setAttribute(e,t){if("class"===e){const e=o.CustomElementUtils.getClassSet(t);o.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)}removeAttribute(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)}_getHelper(){return this._helper||(this.hasAttribute("data-oj-jsx")?(this.removeAttribute("data-oj-jsx"),this.classList.add("oj-complete"),this._helper=k):this._helper=new E(this,this.constructor.component,this.constructor.metadata,this.constructor.rootObservedAttributes,this.constructor.rootObservedProperties,this.constructor.defaultProps)),this._helper}}class w extends o.ElementState{getTemplateEngine(){return w._cachedTemplateEngine}getTrackChildrenOption(){return"immediate"}allowPropertyChangedEvents(){return super.allowPropertyChangedEvents()&&(e=>{var t;const s=e._getHelper();return!!(null===(t=s.isInitialized)||void 0===t?void 0:t.call(s))})(this.Element)}disposeTemplateCache(){var e;const t=this.getSlotMap(),s=Object.keys(t),r=o.CustomElementUtils.getElementDescriptor(this.Element.tagName).metadata,i=null===(e=null==r?void 0:r.extension)||void 0===e?void 0:e._DYNAMIC_SLOT,l=!!(null==i?void 0:i.isTemplate);s.filter(e=>{const t=n.getPropertyMetadata(e,null==r?void 0:r.slots);if(t){if(t.data)return!0}else if(l)return!0;return!1}).forEach(e=>{var s;const n=t[e];"TEMPLATE"===(null===(s=n[0])||void 0===s?void 0:s.nodeName)&&this.getTemplateEngine().cleanupTemplateCache(n[0])})}GetPreCreatedPromise(){const e=super.GetPreCreatedPromise();return!w._cachedTemplateEngine&&this._hasDirectTemplateChildren()?e.then(()=>this._getTemplateEnginePromise()):e}IsTransferAttribute(e){return this.Element.constructor.rootObservedAttrSet.has(e)}GetDescriptiveTransferAttributeValue(e){return((e,t)=>{var s;const n=e.getAttribute(t);if(n)return n;const o=e._getHelper();return((null===(s=o.getProps)||void 0===s?void 0:s.call(o))||{})[t]})(this.Element,e)}_getTemplateEnginePromise(){return new Promise(function(t,s){e(["ojs/ojvcomponent-template"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(s){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:!0,get:function(){return e[s]}})}),t.default=e,t}(e))},s)}).then(e=>{w._cachedTemplateEngine=e})}_hasDirectTemplateChildren(){const e=this.Element.childNodes;for(let t=0;t<e.length;t++){if("template"===e[t].localName)return!0}return!1}}const A=()=>{throw new Error("The Root component should only be used as the top-level return from a VComponent render function.  It will be rewritten by VComponent code so Preact will never actually render it unless it appears in an invalid location.")};function R(e,t){return"className"===e||o.AttributeUtils.isGlobalOrData(e)||function(e,t){var s,n;if(null===(s=null==t?void 0:t.properties)||void 0===s?void 0:s[e])return!1;const o=e.match(j);if(o){const e=o[1].toLowerCase()+o[2];return!(null===(n=null==t?void 0:t.events)||void 0===n?void 0:n[e])}return!1}(e,t)}const j=/^on(?!.*Changed$)([A-Za-z])([A-Za-z]*)$/;"undefined"!=typeof window&&(HTMLTemplateElement.prototype.hasOwnProperty("render")||Object.defineProperty(HTMLTemplateElement.prototype,"render",{value:null,writable:!0}));const U=o.ElementUtils.getUniqueId.bind(null,null);t.Root=A,t.customElement=function(e){return function(t){var r;const i=t.metadata,l=(null===(r=null==i?void 0:i.extension)||void 0===r?void 0:r._OBSERVED_GLOBAL_PROPS)||[],a=l.map(e=>o.AttributeUtils.getGlobalAttrForProp(e));!function(e,t,n,r){const i=t.prototype.render;t.prototype.render=function(t,l,a){var c;const p=null===(c=null==n?void 0:n.extension)||void 0===c?void 0:c._READ_ONLY_PROPS;p&&p.forEach(e=>delete t[e]);const d=t[y],h=!!d;h&&o.CustomElementUtils.getElementState(d).disposeTemplateCache();let u=i.call(this,t,l,a);if(u.type===A&&(u=s.cloneElement(u),u.type=e),u.type!==e){const r={};return h?u:(r.ref=function(e){e&&(e[o.CustomElementUtils.VCOMP_INSTANCE]={props:t})},r["data-oj-jsx"]="",Object.keys(t).forEach(e=>{R(e,n)&&(r[e]=t[e])}),s.h(e,r,u))}if(!h){const e=u.props;t.style&&e.style&&(e.style=Object.assign({},t.style,e.style));const s=t.className||t.class;if(s){const t="className"in e?"className":"class",n=e[t]||"";e[t]=`${s} ${n}`}return e["data-oj-jsx"]="",Object.keys(t).forEach(s=>{s in e||r.has(s)||!R(s,n)||(e[s]=t[s])}),u}return t[g](u),s.h(s.Fragment,{},u.props.children)}}(e,t,i,new Set(l)),function(e,t,s,r,i){class l extends O{}l.metadata=t||{},l.component=s,l.rootObservedAttributes=i,l.rootObservedAttrSet=new Set(i),l.rootObservedProperties=r,l.defaultProps=s.defaultProps?n.deepFreeze(s.defaultProps):null,function(e,t){if(!t)return;for(let s in t)Object.defineProperty(e,s,{get(){return this.getProperty(s)},set(e){this.setProperty(s,e)}})}(l.prototype,null==t?void 0:t.properties),function(e,t){if(!t)return;for(let s in t)e[s]=function(){if(this._helper===k)throw new o.JetElementError(this,"Cannot access element methods when rendered as a value based element.");const e=this._helper.ref.current;if(!e)throw new o.JetElementError(this,"Cannot access methods before element is upgraded.");return e[s].apply(e,arguments)}}(l.prototype,null==t?void 0:t.methods),o.CustomElementUtils.registerElement(e,{descriptor:{metadata:t},stateClass:w,vcomp:!0},l)}(e,i,t,l,a)}},t.getUniqueId=U,t.method=function(e,t,s){},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojvcomponent.js.map;
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("preact")):"function"==typeof define&&define.amd?define('preact/hooks',["exports","preact"],t):t(n.preactHooks={},n.preact)}(this,function(n,t){var u,o,i,r=0,c=[],f=t.options.__b,e=t.options.__r,a=t.options.diffed,v=t.options.__c,p=t.options.unmount;function m(n,u){t.options.__h&&t.options.__h(o,n,r||u),r=0;var i=o.__H||(o.__H={__:[],__h:[]});return n>=i.__.length&&i.__.push({}),i.__[n]}function y(n){return r=1,d(F,n)}function d(n,t,i){var r=m(u++,2);return r.t=n,r.__c||(r.__=[i?i(t):F(void 0,t),function(n){var t=r.t(r.__[0],n);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=o),r.__}function l(n,i){var r=m(u++,4);!t.options.__s&&A(r.__H,i)&&(r.__=n,r.__H=i,o.__h.push(r))}function s(n,t){var o=m(u++,7);return A(o.__H,t)&&(o.__=n(),o.__H=t,o.__h=n),o.__}function h(){c.forEach(function(n){if(n.__P)try{n.__H.__h.forEach(q),n.__H.__h.forEach(x),n.__H.__h=[]}catch(u){n.__H.__h=[],t.options.__e(u,n.__v)}}),c=[]}t.options.__b=function(n){o=null,f&&f(n)},t.options.__r=function(n){e&&e(n),u=0;var t=(o=n.__c).__H;t&&(t.__h.forEach(q),t.__h.forEach(x),t.__h=[])},t.options.diffed=function(n){a&&a(n);var u=n.__c;u&&u.__H&&u.__H.__h.length&&(1!==c.push(u)&&i===t.options.requestAnimationFrame||((i=t.options.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(o),_&&cancelAnimationFrame(t),setTimeout(n)},o=setTimeout(u,100);_&&(t=requestAnimationFrame(u))})(h)),o=void 0},t.options.__c=function(n,u){u.some(function(n){try{n.__h.forEach(q),n.__h=n.__h.filter(function(n){return!n.__||x(n)})}catch(o){u.some(function(n){n.__h&&(n.__h=[])}),u=[],t.options.__e(o,n.__v)}}),v&&v(n,u)},t.options.unmount=function(n){p&&p(n);var u=n.__c;if(u&&u.__H)try{u.__H.__.forEach(q)}catch(n){t.options.__e(n,u.__v)}};var _="function"==typeof requestAnimationFrame;function q(n){var t=o;"function"==typeof n.__c&&n.__c(),o=t}function x(n){var t=o;n.__c=n.__(),o=t}function A(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function F(n,t){return"function"==typeof t?t(n):t}n.useState=y,n.useReducer=d,n.useEffect=function(n,i){var r=m(u++,3);!t.options.__s&&A(r.__H,i)&&(r.__=n,r.__H=i,o.__H.__h.push(r))},n.useLayoutEffect=l,n.useRef=function(n){return r=5,s(function(){return{current:n}},[])},n.useImperativeHandle=function(n,t,u){r=6,l(function(){"function"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))},n.useMemo=s,n.useCallback=function(n,t){return r=8,s(function(){return n},t)},n.useContext=function(n){var t=o.context[n.__c],i=m(u++,9);return i.__c=n,t?(null==i.__&&(i.__=!0,t.sub(o)),t.props.value):n.__},n.useDebugValue=function(n,u){t.options.useDebugValue&&t.options.useDebugValue(u?u(n):n)},n.useErrorBoundary=function(n){var t=m(u++,10),i=y();return t.__=n,o.componentDidCatch||(o.componentDidCatch=function(n){t.__&&t.__(n),i[1](n)}),[i[0],function(){i[1](void 0)}]}});
//# sourceMappingURL=hooks.umd.js.map
;
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});

/**!

 @license
 handlebars v4.7.7

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
define("handlebars/utils",["exports"],function(a){"use strict";function b(a){return j[a]}function c(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function d(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}function e(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return l.test(a)?a.replace(k,b):a}function f(a){return!a&&0!==a||!(!o(a)||0!==a.length)}function g(a){var b=c({},a);return b._parent=a,b}function h(a,b){return a.path=b,a}function i(a,b){return(a?a+".":"")+b}a.__esModule=!0,a.extend=c,a.indexOf=d,a.escapeExpression=e,a.isEmpty=f,a.createFrame=g,a.blockParams=h,a.appendContextPath=i;var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},k=/[&<>"'`=]/g,l=/[&<>"'`=]/,m=Object.prototype.toString;a.toString=m;var n=function(a){return"function"==typeof a};n(/x/)&&(a.isFunction=n=function(a){return"function"==typeof a&&"[object Function]"===m.call(a)}),a.isFunction=n;var o=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===m.call(a)};a.isArray=o}),define("handlebars/exception",["exports","module"],function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0,h=void 0,i=void 0;e&&(f=e.start.line,g=e.end.line,h=e.start.column,i=e.end.column,a+=" - "+f+":"+h);for(var j=Error.prototype.constructor.call(this,a),k=0;k<d.length;k++)this[d[k]]=j[d[k]];Error.captureStackTrace&&Error.captureStackTrace(this,c);try{e&&(this.lineNumber=f,this.endLineNumber=g,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:i,enumerable:!0})):(this.column=h,this.endColumn=i))}catch(l){}}var d=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];c.prototype=new Error,b.exports=c}),define("handlebars/helpers/block-helper-missing",["exports","module","../utils"],function(a,b,c){"use strict";b.exports=function(a){a.registerHelper("blockHelperMissing",function(b,d){var e=d.inverse,f=d.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(c.isArray(b))return b.length>0?(d.ids&&(d.ids=[d.name]),a.helpers.each(b,d)):e(this);if(d.data&&d.ids){var g=c.createFrame(d.data);g.contextPath=c.appendContextPath(d.data.contextPath,d.name),d={data:g}}return f(b,d)})}}),define("handlebars/helpers/each",["exports","module","../utils","../exception"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}var f=e(d);b.exports=function(a){a.registerHelper("each",function(a,b){function d(b,d,f){j&&(j.key=b,j.index=d,j.first=0===d,j.last=!!f,k&&(j.contextPath=k+b)),i+=e(a[b],{data:j,blockParams:c.blockParams([a[b],b],[k+b,null])})}if(!b)throw new f["default"]("Must pass iterator to #each");var e=b.fn,g=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=c.appendContextPath(b.data.contextPath,b.ids[0])+"."),c.isFunction(a)&&(a=a.call(this)),b.data&&(j=c.createFrame(b.data)),a&&"object"==typeof a)if(c.isArray(a))for(var l=a.length;h<l;h++)h in a&&d(h,h,h===a.length-1);else if(global.Symbol&&a[global.Symbol.iterator]){for(var m=[],n=a[global.Symbol.iterator](),o=n.next();!o.done;o=n.next())m.push(o.value);a=m;for(var l=a.length;h<l;h++)d(h,h,h===a.length-1)}else!function(){var b=void 0;Object.keys(a).forEach(function(a){void 0!==b&&d(b,h-1),b=a,h++}),void 0!==b&&d(b,h-1,!0)}();return 0===h&&(i=g(this)),i})}}),define("handlebars/helpers/helper-missing",["exports","module","../exception"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=d(c);b.exports=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new e["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})}}),define("handlebars/helpers/if",["exports","module","../utils","../exception"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}var f=e(d);b.exports=function(a){a.registerHelper("if",function(a,b){if(2!=arguments.length)throw new f["default"]("#if requires exactly one argument");return c.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||c.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){if(2!=arguments.length)throw new f["default"]("#unless requires exactly one argument");return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})}}),define("handlebars/helpers/log",["exports","module"],function(a,b){"use strict";b.exports=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})}}),define("handlebars/helpers/lookup",["exports","module"],function(a,b){"use strict";b.exports=function(a){a.registerHelper("lookup",function(a,b,c){return a?c.lookupProperty(a,b):a})}}),define("handlebars/helpers/with",["exports","module","../utils","../exception"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}var f=e(d);b.exports=function(a){a.registerHelper("with",function(a,b){if(2!=arguments.length)throw new f["default"]("#with requires exactly one argument");c.isFunction(a)&&(a=a.call(this));var d=b.fn;if(c.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=c.createFrame(b.data),e.contextPath=c.appendContextPath(b.data.contextPath,b.ids[0])),d(a,{data:e,blockParams:c.blockParams([a],[e&&e.contextPath])})})}}),define("handlebars/helpers",["exports","./helpers/block-helper-missing","./helpers/each","./helpers/helper-missing","./helpers/if","./helpers/log","./helpers/lookup","./helpers/with"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(a){l["default"](a),m["default"](a),n["default"](a),o["default"](a),p["default"](a),q["default"](a),r["default"](a)}function k(a,b,c){a.helpers[b]&&(a.hooks[b]=a.helpers[b],c||delete a.helpers[b])}a.__esModule=!0,a.registerDefaultHelpers=j,a.moveHelperToHooks=k;var l=i(b),m=i(c),n=i(d),o=i(e),p=i(f),q=i(g),r=i(h)}),define("handlebars/decorators/inline",["exports","module","../utils"],function(a,b,c){"use strict";b.exports=function(a){a.registerDecorator("inline",function(a,b,d,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=d.partials;d.partials=c.extend({},g,b.partials);var h=a(e,f);return d.partials=g,h}),b.partials[e.args[0]]=e.fn,f})}}),define("handlebars/decorators",["exports","./decorators/inline"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){e["default"](a)}a.__esModule=!0,a.registerDefaultDecorators=d;var e=c(b)}),define("handlebars/logger",["exports","module","./utils"],function(a,b,c){"use strict";var d={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=c.indexOf(d.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=d.lookupLevel(a),"undefined"!=typeof console&&d.lookupLevel(d.level)<=a){var b=d.methodMap[a];console[b]||(b="log");for(var c=arguments.length,e=Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];console[b].apply(console,e)}}};b.exports=d}),define("handlebars/internal/create-new-lookup-object",["exports","../utils"],function(a,b){"use strict";function c(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return b.extend.apply(void 0,[Object.create(null)].concat(c))}a.__esModule=!0,a.createNewLookupObject=c}),define("handlebars/internal/proto-access",["exports","./create-new-lookup-object","../logger"],function(a,b,c){"use strict";function d(a){var c=Object.create(null);c.constructor=!1,c.__defineGetter__=!1,c.__defineSetter__=!1,c.__lookupGetter__=!1;var d=Object.create(null);return d.__proto__=!1,{properties:{whitelist:b.createNewLookupObject(d,a.allowedProtoProperties),defaultValue:a.allowProtoPropertiesByDefault},methods:{whitelist:b.createNewLookupObject(c,a.allowedProtoMethods),defaultValue:a.allowProtoMethodsByDefault}}}function e(a,b,c){return"function"==typeof a?f(b.methods,c):f(b.properties,c)}function f(a,b){return void 0!==a.whitelist[b]?a.whitelist[b]===!0:void 0!==a.defaultValue?a.defaultValue:(g(b),!1)}function g(a){i[a]!==!0&&(i[a]=!0,c.log("error",'Handlebars: Access has been denied to resolve the property "'+a+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function h(){Object.keys(i).forEach(function(a){delete i[a]})}a.__esModule=!0,a.createProtoAccessControl=d,a.resultIsAllowed=e,a.resetLoggedProperties=h;var i=Object.create(null)}),define("handlebars/base",["exports","./utils","./exception","./helpers","./decorators","./logger","./internal/proto-access"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},d.registerDefaultHelpers(this),e.registerDefaultDecorators(this)}a.__esModule=!0,a.HandlebarsEnvironment=i;var j=h(c),k=h(f),l="4.7.7";a.VERSION=l;var m=8;a.COMPILER_REVISION=m;var n=7;a.LAST_COMPATIBLE_COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};a.REVISION_CHANGES=o;var p="[object Object]";i.prototype={constructor:i,logger:k["default"],log:k["default"].log,registerHelper:function(a,c){if(b.toString.call(a)===p){if(c)throw new j["default"]("Arg not supported with multiple helpers");b.extend(this.helpers,a)}else this.helpers[a]=c},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,c){if(b.toString.call(a)===p)b.extend(this.partials,a);else{if("undefined"==typeof c)throw new j["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=c}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,c){if(b.toString.call(a)===p){if(c)throw new j["default"]("Arg not supported with multiple decorators");b.extend(this.decorators,a)}else this.decorators[a]=c},unregisterDecorator:function(a){delete this.decorators[a]},resetLoggedPropertyAccesses:function(){g.resetLoggedProperties()}};var q=k["default"].log;a.log=q,a.createFrame=b.createFrame,a.logger=k["default"]}),define("handlebars/safe-string",["exports","module"],function(a,b){"use strict";function c(a){this.string=a}c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b.exports=c}),define("handlebars/internal/wrapHelper",["exports"],function(a){"use strict";function b(a,b){if("function"!=typeof a)return a;var c=function(){var c=arguments[arguments.length-1];return arguments[arguments.length-1]=b(c),a.apply(this,arguments)};return c}a.__esModule=!0,a.wrapHelper=b}),define("handlebars/runtime",["exports","./utils","./exception","./base","./helpers","./internal/wrapHelper","./internal/proto-access"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}function i(a){var b=a&&a[0]||1,c=d.COMPILER_REVISION;if(!(b>=d.LAST_COMPATIBLE_COMPILER_REVISION&&b<=d.COMPILER_REVISION)){if(b<d.LAST_COMPATIBLE_COMPILER_REVISION){var e=d.REVISION_CHANGES[c],f=d.REVISION_CHANGES[b];throw new s["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+e+") or downgrade your runtime to an older version ("+f+").")}throw new s["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function j(a,c){function d(d,e,f){f.hash&&(e=b.extend({},e,f.hash),f.ids&&(f.ids[0]=!0)),d=c.VM.resolvePartial.call(this,d,e,f);var g=b.extend({},f,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),h=c.VM.invokePartial.call(this,d,e,g);if(null==h&&c.compile&&(f.partials[f.name]=c.compile(d,a.compilerOptions,c),h=f.partials[f.name](e,g)),null!=h){if(f.indent){for(var i=h.split("\n"),j=0,k=i.length;j<k&&(i[j]||j+1!==k);j++)i[j]=f.indent+i[j];h=i.join("\n")}return h}throw new s["default"]("The partial "+f.name+" could not be compiled when running in runtime-only mode")}function f(b){function c(b){return""+a.main(i,b,i.helpers,i.partials,e,h,g)}var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=d.data;f._setup(d),!d.partial&&a.useData&&(e=o(b,e));var g=void 0,h=a.useBlockParams?[]:void 0;return a.useDepths&&(g=d.depths?b!=d.depths[0]?[b].concat(d.depths):d.depths:[b]),(c=p(a.main,c,i,d.depths||[],e,h))(b,d)}if(!c)throw new s["default"]("No environment passed to template");if(!a||!a.main)throw new s["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,c.VM.checkRevision(a.compiler);var h=a.compiler&&7===a.compiler[0],i={strict:function(a,b,c){if(!(a&&b in a))throw new s["default"]('"'+b+'" not defined in '+a,{loc:c});return i.lookupProperty(a,b)},lookupProperty:function(a,b){var c=a[b];return null==c?c:Object.prototype.hasOwnProperty.call(a,b)?c:g.resultIsAllowed(c,i.protoAccessControl,b)?c:void 0},lookup:function(a,b){for(var c=a.length,d=0;d<c;d++){var e=a[d]&&i.lookupProperty(a[d],b);if(null!=e)return a[d][b]}},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:b.escapeExpression,invokePartial:d,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var f=this.programs[a],g=this.fn(a);return b||e||d||c?f=k(this,a,g,b,c,d,e):f||(f=this.programs[a]=k(this,a,g)),f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},mergeIfNeeded:function(a,c){var d=a||c;return a&&c&&a!==c&&(d=b.extend({},c,a)),d},nullContext:Object.seal({}),noop:c.VM.noop,compilerInfo:a.compiler};return f.isTop=!0,f._setup=function(d){if(d.partial)i.protoAccessControl=d.protoAccessControl,i.helpers=d.helpers,i.partials=d.partials,i.decorators=d.decorators,i.hooks=d.hooks;else{var f=b.extend({},c.helpers,d.helpers);q(f,i),i.helpers=f,a.usePartial&&(i.partials=i.mergeIfNeeded(d.partials,c.partials)),(a.usePartial||a.useDecorators)&&(i.decorators=b.extend({},c.decorators,d.decorators)),i.hooks={},i.protoAccessControl=g.createProtoAccessControl(d);var j=d.allowCallsToHelperMissing||h;e.moveHelperToHooks(i,"helperMissing",j),e.moveHelperToHooks(i,"blockHelperMissing",j)}},f._child=function(b,c,d,e){if(a.useBlockParams&&!d)throw new s["default"]("must pass block params");if(a.useDepths&&!e)throw new s["default"]("must pass parent depths");return k(i,b,a[b],c,0,d,e)},f}function k(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return!g||b==g[0]||b===a.nullContext&&null===g[0]||(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=p(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function l(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function m(a,c,e){var f=e.data&&e.data["partial-block"];e.partial=!0,e.ids&&(e.data.contextPath=e.ids[0]||e.data.contextPath);var g=void 0;if(e.fn&&e.fn!==n&&!function(){e.data=d.createFrame(e.data);var a=e.fn;g=e.data["partial-block"]=function(b){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return c.data=d.createFrame(c.data),c.data["partial-block"]=f,a(b,c)},a.partials&&(e.partials=b.extend({},e.partials,a.partials))}(),void 0===a&&g&&(a=g),void 0===a)throw new s["default"]("The partial "+e.name+" could not be found");if(a instanceof Function)return a(c,e)}function n(){return""}function o(a,b){return b&&"root"in b||(b=b?d.createFrame(b):{},b.root=a),b}function p(a,c,d,e,f,g){if(a.decorator){var h={};c=a.decorator(c,h,d,e&&e[0],f,g,e),b.extend(c,h)}return c}function q(a,b){Object.keys(a).forEach(function(c){var d=a[c];a[c]=r(d,b)})}function r(a,c){var d=c.lookupProperty;return f.wrapHelper(a,function(a){return b.extend({lookupProperty:d},a)})}a.__esModule=!0,a.checkRevision=i,a.template=j,a.wrapProgram=k,a.resolvePartial=l,a.invokePartial=m,a.noop=n;var s=h(c)}),define("handlebars/no-conflict",["exports","module"],function(a,b){"use strict";b.exports=function(a){var b="undefined"!=typeof global?global:window,c=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=c),a}}}),define("handlebars.runtime",["exports","module","./handlebars/base","./handlebars/safe-string","./handlebars/exception","./handlebars/utils","./handlebars/runtime","./handlebars/no-conflict"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return a&&a.__esModule?a:{"default":a}}function j(){var a=new c.HandlebarsEnvironment;return f.extend(a,c),a.SafeString=k["default"],a.Exception=l["default"],a.Utils=f,a.escapeExpression=f.escapeExpression,a.VM=g,a.template=function(b){return g.template(b,a)},a}var k=i(d),l=i(e),m=i(h),n=j();n.create=j,m["default"](n),n["default"]=n,b.exports=n}),define("handlebars/compiler/ast",["exports","module"],function(a,b){"use strict";var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b.exports=c}),define("handlebars/compiler/parser",["exports","module"],function(a,b){"use strict";var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],
84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:(null!==n&&"undefined"!=typeof n||(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substring(a,b.yyleng-c+a)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.exports=c}),define("handlebars/compiler/visitor",["exports","module","../exception"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){this.parents=[]}function f(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function g(a){f.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function h(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var i=d(c);e.prototype={constructor:e,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!e.prototype[c.type])throw new i["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new i["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;b<c;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new i["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:f,Decorator:f,BlockStatement:g,DecoratorBlock:g,PartialStatement:h,PartialBlockStatement:function(a){h.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:f,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b.exports=e}),define("handlebars/compiler/whitespace-control",["exports","module","./visitor"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function f(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function g(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function h(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function i(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var j=d(c);e.prototype=new j["default"],e.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,e=0,j=d.length;e<j;e++){var k=d[e],l=this.accept(k);if(l){var m=f(d,e,c),n=g(d,e,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&h(d,e,!0),l.open&&i(d,e,!0),b&&q&&(h(d,e),i(d,e)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[e-1].original)[1])),b&&o&&(h((k.program||k.inverse).body),i(d,e)),b&&p&&(h(d,e),i((k.inverse||k.program).body))}}return a},e.prototype.BlockStatement=e.prototype.DecoratorBlock=e.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,e=c;if(c&&c.chained)for(d=c.body[0].program;e.chained;)e=e.body[e.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:g(b.body),closeStandalone:f((d||b).body)};if(a.openStrip.close&&h(b.body,null,!0),c){var k=a.inverseStrip;k.open&&i(b.body,null,!0),k.close&&h(d.body,null,!0),a.closeStrip.open&&i(e.body,null,!0),!this.options.ignoreStandalone&&f(b.body)&&g(d.body)&&(i(b.body),h(d.body))}else a.closeStrip.open&&i(b.body,null,!0);return j},e.prototype.Decorator=e.prototype.MustacheStatement=function(a){return a.strip},e.prototype.PartialStatement=e.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b.exports=e}),define("handlebars/compiler/helpers",["exports","../exception"],function(a,b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new o["default"](a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substring(1,a.length-1):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g=0,h=b.length;g<h;g++){var i=b[g].part,j=b[g].original!==i;if(d+=(b[g].separator||"")+i,j||".."!==i&&"."!==i&&"this"!==i)e.push(i);else{if(e.length>0)throw new o["default"]("Invalid path: "+d,{loc:c});".."===i&&f++}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new o["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}a.__esModule=!0,a.SourceLocation=e,a.id=f,a.stripFlags=g,a.stripComment=h,a.preparePath=i,a.prepareMustache=j,a.prepareRawBlock=k,a.prepareBlock=l,a.prepareProgram=m,a.preparePartialBlock=n;var o=c(b)}),define("handlebars/compiler/base",["exports","./parser","./whitespace-control","./helpers","../utils"],function(a,b,c,d,e){"use strict";function f(a){return a&&a.__esModule?a:{"default":a}}function g(a,b){if("Program"===a.type)return a;i["default"].yy=k,k.locInfo=function(a){return new k.SourceLocation(b&&b.srcName,a)};var c=i["default"].parse(a);return c}function h(a,b){var c=g(a,b),d=new j["default"](b);return d.accept(c)}a.__esModule=!0,a.parseWithoutProcessing=g,a.parse=h;var i=f(b),j=f(c);a.parser=i["default"];var k={};e.extend(k,d)}),define("handlebars/compiler/compiler",["exports","../exception","../utils","./ast"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(){}function g(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function h(a,b,d){function e(){var c=d.parse(a,b),e=(new d.Compiler).compile(c,b),f=(new d.JavaScriptCompiler).compile(e,b,void 0,!0);return d.template(f)}function f(a,b){return g||(g=e()),g.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=c.extend({},b),"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var g=void 0;return f._setup=function(a){return g||(g=e()),g._setup(a)},f._child=function(a,b,c,d){return g||(g=e()),g._child(a,b,c,d)},f}function i(a,b){if(a===b)return!0;if(c.isArray(a)&&c.isArray(b)&&a.length===b.length){for(var d=0;d<a.length;d++)if(!i(a[d],b[d]))return!1;return!0}}function j(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}a.__esModule=!0,a.Compiler=f,a.precompile=g,a.compile=h;var k=e(b),l=e(d),m=[].slice;f.prototype={compiler:f,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;c<b;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!i(d.args,e.args))return!1}b=this.children.length;for(var c=0;c<b;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[],b.knownHelpers=c.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},b.knownHelpers),this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;d<c;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){j(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){j(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,l["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=l["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");c<d;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:m.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=l["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&l["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;b<c;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||l["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,d=this.options.blockParams.length;b<d;b++){var e=this.options.blockParams[b],f=e&&c.indexOf(e,a);if(e&&f>=0)return[b,f]}}}}),define("handlebars/compiler/code-gen",["exports","module","../utils"],function(a,b,c){"use strict";function d(a,b,d){if(c.isArray(a)){for(var e=[],f=0,g=a.length;f<g;f++)e.push(b.wrap(a[f],d));return e}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}var f=void 0;try{if("function"!=typeof define||!define.amd){var g=require("source-map");f=g.SourceNode}}catch(h){}f||(f=function(a,b,c,d){this.src="",d&&this.add(d)},f.prototype={add:function(a){c.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){c.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;b<c;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new f(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof f?a:(a=d(a,this,b),new f(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=this,c=[];Object.keys(a).forEach(function(e){var f=d(a[e],b);"undefined"!==f&&c.push([b.quotedString(e),":",f])});var e=this.generateList(c);return e.prepend("{"),e.add("}"),e},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;c<e;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b.exports=e}),define("handlebars/compiler/javascript-compiler",["exports","module","../base","../exception","../utils","./code-gen"],function(a,b,c,d,e,f){"use strict";function g(a){return a&&a.__esModule?a:{"default":a}}function h(a){this.value=a}function i(){}function j(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;f<g;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),", ",JSON.stringify(b.source.currentLocation)," )"]:e}var k=g(d),l=g(f);i.prototype={nameLookup:function(a,b){return this.internalNameLookup(a,b)},depthedLookup:function(a){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(a),")"]},compilerInfo:function(){var a=c.COMPILER_REVISION,b=c.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return e.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(a,b){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",a,",",JSON.stringify(b),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;h<i;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new k["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));
var j=this.createFunctionContext(d);if(this.isChild)return j;var l={compiler:this.compilerInfo(),main:j};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;h<i;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new l["default"](this.options.srcName),this.decorators=new l["default"](this.options.srcName)},createFunctionContext:function(a){var b=this,c="",d=this.stackVars.concat(this.registers.list);d.length>0&&(c+=", "+d.join(", "));var e=0;Object.keys(this.aliases).forEach(function(a){var d=b.aliases[a];d.children&&d.referenceCount>1&&(c+=", alias"+ ++e+"="+a,d.children[0]="alias"+e)}),this.lookupPropertyFunctionIsUsed&&(c+=", "+this.lookupPropertyFunctionVarDeclaration());var f=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&f.push("blockParams"),this.useDepths&&f.push("depths");var g=this.mergeSource(c);return a?(f.push(g),Function.apply(this,f)):this.source.wrap(["function(",f.join(","),") {\n  ",g,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(a){var b=this.aliasable("container.hooks.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("container.hooks.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var f=this;if(this.options.strict||this.options.assumeObjects)return void this.push(j(this.options.strict&&e,this,b,a));for(var g=b.length;c<g;c++)this.replaceStack(function(e){var g=f.nameLookup(e,b[c],a);return d?[" && ",g]:[" != null ? ",g," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=[];c&&f.push(e.name),f.push(d),this.options.strict||f.push(this.aliasable("container.hooks.helperMissing"));var g=["(",this.itemsSeparatedBy(f,"||"),")"],h=this.source.functionCall(g,"call",e.callParams);this.push(h)},itemsSeparatedBy:function(a,b){var c=[];c.push(a[0]);for(var d=1;d<a.length;d++)c.push(b,a[d]);return c},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:i,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;f<g;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);if(null==h){this.context.programs.push("");var i=this.context.programs.length;d.index=i,d.name="program"+i,this.context.programs[i]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[i]=e.decorators,this.context.environments[i]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams,d.useDepths=this.useDepths,d.useBlockParams=this.useBlockParams}else d.index=h.index,d.name="program"+h.index,this.useDepths=this.useDepths||h.useDepths,this.useBlockParams=this.useBlockParams||h.useBlockParams}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=this.context.environments[b];if(d&&d.equals(a))return d}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof h||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new h(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,d=void 0,e=void 0;if(!this.isInline())throw new k["default"]("replaceStack on non-inline");var f=this.popStack(!0);if(f instanceof h)c=[f.value],b=["(",c],e=!0;else{d=!0;var g=this.incrStack();b=["((",this.push(g)," = ",f,")"],c=this.topStack()}var i=a.call(this,c);e||this.popStack(),d&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d instanceof h)this.compileStack.push(d);else{var e=this.incrStack();this.pushSource([e," = ",d,";"]),this.compileStack.push(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof h)return c.value;if(!b){if(!this.stackSlot)throw new k["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof h?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e.loc=JSON.stringify(this.source.currentLocation),e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=i.RESERVED_WORDS={},c=0,d=a.length;c<d;c++)b[a[c]]=!0}(),i.isValidJavaScriptVariableName=function(a){return!i.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b.exports=i}),define("handlebars",["exports","module","./handlebars.runtime","./handlebars/compiler/ast","./handlebars/compiler/base","./handlebars/compiler/compiler","./handlebars/compiler/javascript-compiler","./handlebars/compiler/visitor","./handlebars/no-conflict"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){return a&&a.__esModule?a:{"default":a}}function k(){var a=q();return a.compile=function(b,c){return f.compile(b,c,a)},a.precompile=function(b,c){return f.precompile(b,c,a)},a.AST=m["default"],a.Compiler=f.Compiler,a.JavaScriptCompiler=n["default"],a.Parser=e.parser,a.parse=e.parse,a.parseWithoutProcessing=e.parseWithoutProcessing,a}var l=j(c),m=j(d),n=j(g),o=j(h),p=j(i),q=l["default"].create,r=k();r.create=k,p["default"](r),r.Visitor=o["default"],r["default"]=r,b.exports=r});
define('ohc-url',["jquery","handlebars"],function(r,t){String.prototype.endsWith||(String.prototype.endsWith=function(r,t){var e=this.toString();(void 0===t||t>e.length)&&(t=e.length),t-=r.length;var n=e.indexOf(r,t);return-1!==n&&n===t}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(r,t){var e=t>0?0|t:0;return this.substring(e,e+r.length)===r}}),Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)});var e=document.createElement("a");r.parseURL=function(t){e.href=t,e.href=e.href;var n=0!==e.pathname.indexOf("/")?"/"+e.pathname:e.pathname,a=e.href.split("#").splice(1).join("#"),o={protocol:e.protocol.replace(":",""),hostname:e.hostname,port:e.port,hash:a.length>0?a:void 0,path:n,target:e.hostname+n,search:e.search?e.search.substring(1):void 0,params:{}};if(o.search)for(var i=o.search.split("&"),h=0;h<i.length;h++){var s=i[h].split("=");if(o.params.hasOwnProperty(s[0]))if(r.isArray(o.params[s[0]]))o.params[s[0]].push(s[1]);else{var p=[];p.push(o.params[s[0]]),p.push(s[1]),o.params[s[0]]=p}else o.params[s[0]]=s.length>1?s[1]:void 0}return o};var n={},a={};n.configure=function(t,e){a={};for(var n=0;n<t.length;n++){var o=r.parseURL(t[n].href).target;a[o]=!0}if(e)for(n=0;n<e.length;n++){o=r.parseURL(e[n]).target;a[o]=!0}},n.addCatalogToInternalUris=function(r){r.forEach(function(r){if(r.hasOwnProperty("href")){var t=window.location.hostname+r.href;r.href.indexOf(!1)&&(t+="index.html",r.href=r.href+"index.html"),a[t]=!0}r.hasOwnProperty("topics")&&n.addCatalogToInternalUris(r.topics)})},n.isUrlInternal=function(t){var e=r.parseURL(t).target;return a.hasOwnProperty(e)},n.isHttps=function(){return"https:"===window.location.protocol},n.isOracle=function(){return r.parseURL(window.location.href).hostname.endsWith("oracle.com")},n.isDocs=function(){var t=r.parseURL(window.location.href).hostname;return t.startsWith("docs")&&(t.endsWith("oracle.com")||t.endsWith("oraclecorp.com"))},n.isUrlSameOrigin=function(t){var e=r.parseURL(window.location.href),n=r.parseURL(t);return e.hostname==n.hostname&&e.port==n.port&&e.protocol==n.protocol},n.isUrlNewTarget=function(t){if(n.isUrlInternal(t))return!1;var e=r.parseURL(t);return!(String(e.target).indexOf("/pls/topic/lookup")>-1)&&(window.location.hostname!==e.hostname||!!e.path.toLowerCase().endsWith(".pdf"))},n.fileShortName=function(t){var e=r.parseURL(t);if(e.path.lastIndexOf("/")===e.path.length-1)return"index";var n=e.path.substring(e.path.lastIndexOf("/")+1);return-1===n.indexOf(".")?n:n.substring(0,n.lastIndexOf("."))},n.currentFileShortName=function(){return n.fileShortName(window.location.href)};var o=document.createElement("a");o.href="#";var i=document.createElement("a");return n.isUrlCurrent=function(t){if(i.href=t,o.href===i.href)return!1;var e=r.parseURL(window.location.href);e.path&&(e.path=decodeURI(e.path));var n=r.parseURL(t);if(n.path&&(n.path=decodeURI(n.path)),e.hostname!==n.hostname)return!1;if(e.path===n.path)return!0;if(e.path.lastIndexOf("/")===e.path.length-1){if(e.path+"index.html"===n.path)return!0;if(e.path+"index.htm"===n.path)return!0}if(n.path.lastIndexOf("/")===n.path.length-1){if(n.path+"index.html"===e.path)return!0;if(n.path+"index.htm"===e.path)return!0}return!1},r.expr[":"].urlInternal=function(r,t,e,a){return!!r.href&&n.isUrlInternal(r.href)},r.expr[":"].urlNewTarget=function(t,e,a,o){var i=r(t);return!!i.hasClass("newwindow")||!i.hasClass("notnew")&&(!!t.href&&n.isUrlNewTarget(t.href))},r.expr[":"].urlSameOrigin=function(r,t,e,a){return!!r.href&&n.isUrlSameOrigin(r.href)},r.expr[":"].urlCurrent=function(r,t,e,a){return!!r.href&&n.isUrlCurrent(r.href)},t.registerHelper("ohcdomain",function(r){return n.isOracle()?r:"https://docs.oracle.com"+r}),n});
define('book-scope-helper',["jquery","ohc-url"],function(e,t){var r="/apps/ohcsearchclient/api/v1/search/pages",s="/apps/ohcsearchclient/api/v1/search/assets";function i(){}return i.resolveFirstAssetTitle=function(e,t){var r=t.hits.slice(0,1)[0]||{};e.resolve(this.mapFirtsAssetTitle(r))},i.mapFirtsAssetTitle=function(e){return(e._source||{}).asset_title||null},i.resolveFirstTitle=function(e,t){var r=t.hits.slice(0,1)[0]||{};e.resolve(this.mapFirstAssetHit(r))},i.mapFirstAssetHit=function(e){return(e._source||{}).title||null},i.rejectWithNull=function(e){e.reject(null)},i.getTitleFromAssets=function(r){var i,n=e.Deferred(),o=r.book||void 0,l=r.library||void 0;return(i={book:o,library:l},t.isHttps()?e.getJSON(s,i):e.Deferred().reject()).done(this.resolveFirstTitle.bind(this,n)).fail(this.rejectWithNull.bind(this,n)),n.promise()},i.getAssetTitleFromPages=function(s){var i,n=e.Deferred();return(i=s,t.isHttps()?e.getJSON(r,i):e.Deferred().reject()).done(this.resolveFirstAssetTitle.bind(this,n)).fail(this.rejectWithNull.bind(this,n)),n.promise()},function(t){var r=e.Deferred(),s=e.when().then(function(){return e.when(i.getAssetTitleFromPages(t))}).then(function(e){return e||i.getTitleFromAssets(t)});return e.when(s).then(function(e){r.resolve(e||t.book||t.library||"unknown")}),r.promise()}});
define('product-scope-helper',["jquery","ohc-url"],function(r,e){var u="/apps/ohcsearchclient/api/v1/search/products";return function(c){var s,n=r.Deferred(),o=r.Deferred();return(s={id:c.product},e.isHttps()?r.getJSON(u,s):r.Deferred().reject()).done(function(r,e){var u=e.hits.slice(0,1)[0]||{};r.resolve(function(r){var e=r._source&&r._source.name;if(r._source.breadcrumbs){var u=r._source.breadcrumbs.product&&r._source.breadcrumbs.product.name,c=r._source.breadcrumbs.category&&r._source.breadcrumbs.category.name,s=r._source.breadcrumbs.release&&r._source.breadcrumbs.release.name,n=r._source.breadcrumbs.suite&&r._source.breadcrumbs.suite.name;if(u&&s)return u+" "+s;if(n&&s)return n+" "+s;if(c&&s)return c+" "+s}return e}(u))}.bind(null,o)).fail(function(r){r.reject(null)}.bind(null,o)),o.always(function(r){n.resolve(r||c.product||c.category||"unknown")}),n.promise()}});
define('solution-scope-helper',["jquery"],function(e){return function(){return e.Deferred().resolve("Architecture Center").promise()}});
define('learn-scope-helper',["jquery"],function(e){return function(){return e.Deferred().resolve("Learn").promise()}});
define('scope-helper-factory',["book-scope-helper","product-scope-helper","solution-scope-helper","learn-scope-helper","jquery"],function(o,e,t,r,c){function n(){}function s(o){var e=c('meta[name="dcterms.title"]').attr("content");return c.Deferred().resolve(e||o.book||o.product||o.library||"unknown").promise()}return n.getMetaLabelComputer=function(o){return this.isPageArticle()?{compute:e,args:{product:o.product||o.category},iconClass:"scope-product-icon"}:this.isSolutionsScope(o)?{compute:t,args:null,iconClass:"scope-solutions-icon"}:this.isLearnScope(o)?{compute:r,args:null,iconClass:"scope-learn-icon"}:this.isCategorySolutions(o)?{compute:s,args:c.extend({},o),iconClass:"scope-product-icon"}:this.isBookScope(o)?{compute:s,args:c.extend({},o),iconClass:"scope-book-icon"}:this.isProductScope(o)?{compute:e,args:{product:o.product||o.category},iconClass:"scope-product-icon"}:{compute:c.Deferred().resolve("unknown").promise(),args:null,iconClass:""}},n.isBookScope=function(o){return void 0!==o.book||void 0!==o.library},n.isProductScope=function(o){return void 0!==o.product||void 0!==o.category},n.isSolutionsScope=function(o){return void 0!==o.product&&"en/solutions"===o.product},n.isCategorySolutions=function(o){return void 0!==o.category&&"solutions"===o.category},n.isLearnScope=function(o){return void 0!==o.category&&"en/learn"===o.category},n.isPageArticle=function(){var o=c("html");return o.hasClass("article")&&o.hasClass("letter-style")},n});
define('utility-bar-js',["jquery","ohc-url","handlebars","scope-helper-factory"],function(e,t,r,n){var o,a={},c=["library","book","product","category"],i="",s=null,l=null,u=!1,p=null,d=null,h=null,m=!1;function f(t){var r=e('meta[name="dcterms.'+t+'"]').attr("content");if(r){var n=e("#search-bar-container .u02searchform input[name="+t+"]");n.length?n.attr("value",r.replace(/\;/g,",")):e("#search-bar-container .u02searchform").append('<input aria-hidden="true" type="hidden" name="'+t+'" value="'+r.replace(/\;/g,",")+'">')}}function w(){e("#search-bar-scope #search-bar-scope-text").show(),e("#search-bar-scope #white-pipe").hide();var t=e("#search-bar-scope"),r=e("#search-scope-tooltip");t.off("click"),t.on("focusin mouseover",function(){window.clearTimeout(s),s=setTimeout(function(){r.removeClass("tooltip-hide")},1e3)}),t.on("focusout mouseout",function(){window.clearTimeout(s),s=setTimeout(function(){r.addClass("tooltip-hide")},100)})}function v(){w(),e("#search-bar-scope #search-bar-scope-text").hide(),e("#search-bar-scope #white-pipe").show()}function y(){v();var t=e("#search-bar-scope");t.off("focusin mouseover"),t.off("focusout mouseout"),t.on("click",function(){e("#search-scope-tooltip").toggleClass("tooltip-hide")})}function g(t){var r={};return e("#search-bar-container > form.u02searchform input").each(function(n,o){0!==t.length&&-1!==t.indexOf(e(o).attr("name"))||(r[e(o).attr("name")]=e(o).val())}),r}function b(){e("#no-results-preview, #results-preview").addClass("preview-hide"),e("#error-results-preview, #preview-container").removeClass("preview-hide"),k(),C()}function k(){var t=e("#preview-container"),r=e("#search-bar-container");const n=r.height()+3;t.css("width",r.width()),t.offset({left:r.offset().left}),t.offset({top:r.offset().top+n})}function x(e,t,r){var n=e[t+1],o=e[t-1];if(-1!==["ArrowDown","Down"].indexOf(r.key))t===e.length-1&&(n=e[0]),n.focus();else if(-1!==["ArrowUp","Up"].indexOf(r.key))0===t&&(o=e[e.length-1]),o.focus();else if("Enter"===r.key){e[t].closest("a").click()}}function C(){var e=document.querySelector("#preview-results-alert");i="New list of preview search results are loaded (links open on the same page), use arrow keys to move through the elements"===i?"":"New list of preview search results are loaded (links open on the same page), use arrow keys to move through the elements",e.innerText=i}return a.init=function(n){var a=r.compile(n);e(window).on("load",function(){e("html[dir=rtl]").find("nav.u02nav").addClass("rtl")}),k();var c=e("#search-bar-input");function i(t,r){if(r.hits.length>0||t.hits.length>0){var n=function(e){var t=e.hits,r=[];0!==t.length&&t.forEach(function(e){var t={};t.title=e._source.name,t.url=-1!==e._source.href.indexOf("http")?e._source.href:"https://"+window.location.hostname+e._source.href,r.push(t)});return r}(t),o=0!==n.length?n.length:-1,i={results:function(e,t){for(var r=0;r<t.length&&e.length+t.length>8;r++)e.pop();return[].concat(t,e)}(function(e){var t=[];return e.hits.forEach(function(e){var r={},n=e._source.domain,o=e._source.content_type;r.title=e._source.title,r.url=e._source.url,r.breadcrumb=function(e){var t=e._source.breadcrumbs,r="";if(void 0!==t&&Object.keys(t).length>0)t.hasOwnProperty("product")&&t.hasOwnProperty("release")?r=t.product.name+" "+t.release.name:t.hasOwnProperty("product")?r=t.product.name:t.hasOwnProperty("category")&&(r=t.category.name);else{var n=e._source.domain;r=n.match(/(docs.oracle.com|docs-stage.oracle.com|docs-uat.us.oracle.com)/g)?"Help Center":n.match(/(www.oracle.com)/g)?"Oracle.com":n.match(/(support.oracle.com)/g)?"Support":n.match(/(docs.cloud.oracle.com)/g)?"Oracle Cloud Infrastructure":n.match(/(oracle)/g)?n.charAt(0).toUpperCase()+n.slice(1):n}return r}(e),"pdf"===e._source.url.substring(e._source.url.lastIndexOf(".")+1)&&(r.pdf=!0),"www.youtube.com"!==n&&-1===o.indexOf("WM147094")||(r.video=!0),t.push(r)}),t}(r),n),hrefAll:"/search/?"+(s="",e("#search-bar-container > form.u02searchform input").each(function(t,r){t>0&&(s+="&"),s+=encodeURIComponent(e(r).attr("name"))+"="+encodeURIComponent(e(r).val())}),s),searchterm:c.val(),productsIndex:o,productsIndexMin:o-1};document.getElementById("results-preview").innerHTML=a(i),e("#no-results-preview, #error-results-preview").addClass("preview-hide"),e("#results-preview, #preview-container").removeClass("preview-hide")}else e("#results-preview, #error-results-preview").addClass("preview-hide"),e("#no-results-preview, #preview-container").removeClass("preview-hide");var s;k(),C()}function f(){if(t.isHttps()){var r=window.location.protocol+"//"+window.location.hostname;d=e.ajax({url:r+"/apps/ohcsearchclient/api/v1/search/products",type:"get",dataType:"json",data:(n=g(["category","product"]),n.start="0",n.pg="1",n.size="2",n.type="product",n)}),h=e.ajax({url:r+"/apps/ohcsearchclient/api/v1/search/pages",type:"get",dataType:"json",data:function(){var e=g([]);return e.start="0",e.pg="1",e.size="8",e}()}),e.when(d,h).then(function(e,t){w(),0!==e.length&&0!==t.length?i(e[0],t[0]):b()},function(){w(),m||b()})}var n}function w(){d=null,h=null}c.on("input",function(){var t=e(this).val();clearTimeout(o),t&&t.trim().length>0&&(m=!1,o=setTimeout(f,800))}),c.keyup(function(t){-1!==["ArrowDown","Down"].indexOf(t.key)&&function(){var t=document.querySelectorAll(".preview-result-container"),r=["ArrowDown","Down"],n=["ArrowUp","Up"];t[0]&&t[0].focus();for(var o=0;o<t.length;o++)e(t[o]).data("i",o),t[o].addEventListener("keyup",function(r){r.preventDefault(),x(t,e(this).data("i"),r)}),t[o].addEventListener("keydown",function(e){if("Tab"===e.key){e.preventDefault();var t=document.getElementById("preview-container");t.classList.add("preview-hide"),document.querySelector("#search-bar-input").focus()}});window.addEventListener("keydown",function(e){var t=document.getElementById("preview-container");-1!==(-1!==r.indexOf(e.key)||n.indexOf(e.key))&&"none"!==getComputedStyle(t).display&&e.preventDefault()})}()}),e(document).click(function(t){null===t.target.closest("#results-preview")&&e("#preview-container").addClass("preview-hide")}),e(document).keydown(function(t){-1===["ArrowDown","Down"].indexOf(t.key)&&null===t.target.closest("#results-preview")&&e("#preview-container").addClass("preview-hide")}),e(window).resize(function(){k()}),e("#search-bar-container .u02searchform").on("submit",function(e){null!==l&&(e.preventDefault(),m=!0,clearTimeout(o),function(){null!=d&&d.abort();null!=h&&h.abort();w()}(),l(c.val(),p))}),e("#skip-search").click(function(e){e.preventDefault(),c.focus()}),e("#search-bar-container").on("click","#search-bar-scope-close",function(t){e("#search-bar-container form").find("input[name=product], input[name=category], input[name=book], input[name=library]").remove(),window.clearTimeout(s);var r=e('#search-bar-scope:not([style*="display: none"])');e("#search-scope-tooltip").addClass("tooltip-hide"),r.hide(),p=null,u&&(l=null,u=!1)})},a.addPersistentEnterListener=function(e){l=e},a.addEnterListener=function(e){l=e,u=!0},a.handleScopeParams=function(t){var o=e("#search-bar-container form").serializeArray().filter(function(e){return c.indexOf(e.name)>-1});if(o.length>0){!function(e,t){p={},e.forEach(function(e){p[e.name]=e.value});var r=n.getMetaLabelComputer(p),o=r.compute,a=r.args,c=r.iconClass;o(a).done(function(e){p.title=e,t({scopeIcon:c,searchBarScopeText:e})})}(o,function(t,n){var o=r.compile(t)(n);e("#search-bar-scope").replaceWith(e("#search-bar-scope",o)),e("#search-bar-scope-close").attr("aria-description","Search scoped to this page. Use this button to use site search instead."),e("#search-bar-scope").show(),a=window.matchMedia("(min-width: 1024px)"),c=window.matchMedia("(max-width: 1023px) and (min-width: 768px)"),i=window.matchMedia("(max-width: 767px)"),a.matches?w():c.matches?v():i.matches&&y(),e(window).resize(function(){a.matches?w():c.matches?v():i.matches&&y()});var a,c,i}.bind(null,t))}else e("#search-bar-scope").hide()},a.rewriteBookParams=function(){var t=e('meta[name="dcterms.isVersionOf"]').attr("content"),r=e('meta[name="dcterms.product"]').attr("content"),n=e("#search-bar-container .u02searchform");if(t&&r){var o=r.split(/,|;/)[0];e("#search-bar-container form input").each(function(){c.indexOf(e(this).attr("name"))>-1&&e(this).remove()}),n.append('<input type="hidden" name="book" value="'+t.toUpperCase()+'">'),n.append('<input type="hidden" name="library" value="'+o+'">')}},a.rewriteProductParams=function(){f("product")},a.rewriteCategoryParams=function(){f("category")},a.addScopeChipFromMetaTags=function(e){this.rewriteCategoryParams(),this.rewriteProductParams(),this.rewriteBookParams(),this.handleScopeParams(e)},a.hideSearchBar=function(){document.querySelectorAll(".u02menu")[0].style.visibility="hidden",document.getElementById("search-bar-container").style.display="none",document.getElementById("preview-container").style.display="none",document.getElementById("u02search").style.display="none",document.querySelectorAll(".u02tools")[0].style.visibility="hidden",document.querySelectorAll(".u02w1")[0].style.display="flex",document.querySelectorAll(".u02local")[0].style.display="contents",document.querySelectorAll(".u02localw1")[0].style.marginLeft="40px",window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)?document.querySelectorAll(".u02local")[0].css("width",""):(document.querySelectorAll(".u02local")[0].style.position="fixed",document.querySelectorAll(".u02local")[0].style.marginLeft="68px")},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}),r.registerHelper("iff",function(e,t,r,n){var o=!1;switch(t){case"==":o=e===r;break;case"gt":o=e>r;break;case"lt":o=e<r;break;case"!=":o=e!==r;break;default:throw"Unknown operator "+t}return o?n.fn(this):n.inverse(this)}),a});
/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */
/*jslint regexp: true */
/*global require, XMLHttpRequest, ActiveXObject,
  define, window, process, Packages,
  java, location, Components, FileUtils */

define('text',['module'], function (module) {
    'use strict';

    var text, fs, Cc, Ci, xpcIsWindows,
        progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'],
        xmlRegExp = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
        bodyRegExp = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
        hasLocation = typeof location !== 'undefined' && location.href,
        defaultProtocol = hasLocation && location.protocol && location.protocol.replace(/\:/, ''),
        defaultHostName = hasLocation && location.hostname,
        defaultPort = hasLocation && (location.port || undefined),
        buildMap = {},
        masterConfig = (module.config && module.config()) || {};

    function useDefault(value, defaultValue) {
        return value === undefined || value === '' ? defaultValue : value;
    }

    //Allow for default ports for http and https.
    function isSamePort(protocol1, port1, protocol2, port2) {
        if (port1 === port2) {
            return true;
        } else if (protocol1 === protocol2) {
            if (protocol1 === 'http') {
                return useDefault(port1, '80') === useDefault(port2, '80');
            } else if (protocol1 === 'https') {
                return useDefault(port1, '443') === useDefault(port2, '443');
            }
        }
        return false;
    }

    text = {
        version: '2.0.15',

        strip: function (content) {
            //Strips <?xml ...?> declarations so that external SVG and XML
            //documents can be added to a document without worry. Also, if the string
            //is an HTML document, only the part inside the body tag is returned.
            if (content) {
                content = content.replace(xmlRegExp, "");
                var matches = content.match(bodyRegExp);
                if (matches) {
                    content = matches[1];
                }
            } else {
                content = "";
            }
            return content;
        },

        jsEscape: function (content) {
            return content.replace(/(['\\])/g, '\\$1')
                .replace(/[\f]/g, "\\f")
                .replace(/[\b]/g, "\\b")
                .replace(/[\n]/g, "\\n")
                .replace(/[\t]/g, "\\t")
                .replace(/[\r]/g, "\\r")
                .replace(/[\u2028]/g, "\\u2028")
                .replace(/[\u2029]/g, "\\u2029");
        },

        createXhr: masterConfig.createXhr || function () {
            //Would love to dump the ActiveX crap in here. Need IE 6 to die first.
            var xhr, i, progId;
            if (typeof XMLHttpRequest !== "undefined") {
                return new XMLHttpRequest();
            } else if (typeof ActiveXObject !== "undefined") {
                for (i = 0; i < 3; i += 1) {
                    progId = progIds[i];
                    try {
                        xhr = new ActiveXObject(progId);
                    } catch (e) {}

                    if (xhr) {
                        progIds = [progId];  // so faster next time
                        break;
                    }
                }
            }

            return xhr;
        },

        /**
         * Parses a resource name into its component parts. Resource names
         * look like: module/name.ext!strip, where the !strip part is
         * optional.
         * @param {String} name the resource name
         * @returns {Object} with properties "moduleName", "ext" and "strip"
         * where strip is a boolean.
         */
        parseName: function (name) {
            var modName, ext, temp,
                strip = false,
                index = name.lastIndexOf("."),
                isRelative = name.indexOf('./') === 0 ||
                             name.indexOf('../') === 0;

            if (index !== -1 && (!isRelative || index > 1)) {
                modName = name.substring(0, index);
                ext = name.substring(index + 1);
            } else {
                modName = name;
            }

            temp = ext || modName;
            index = temp.indexOf("!");
            if (index !== -1) {
                //Pull off the strip arg.
                strip = temp.substring(index + 1) === "strip";
                temp = temp.substring(0, index);
                if (ext) {
                    ext = temp;
                } else {
                    modName = temp;
                }
            }

            return {
                moduleName: modName,
                ext: ext,
                strip: strip
            };
        },

        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,

        /**
         * Is an URL on another domain. Only works for browser use, returns
         * false in non-browser environments. Only used to know if an
         * optimized .js version of a text resource should be loaded
         * instead.
         * @param {String} url
         * @returns Boolean
         */
        useXhr: function (url, protocol, hostname, port) {
            var uProtocol, uHostName, uPort,
                match = text.xdRegExp.exec(url);
            if (!match) {
                return true;
            }
            uProtocol = match[2];
            uHostName = match[3];

            uHostName = uHostName.split(':');
            uPort = uHostName[1];
            uHostName = uHostName[0];

            return (!uProtocol || uProtocol === protocol) &&
                   (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &&
                   ((!uPort && !uHostName) || isSamePort(uProtocol, uPort, protocol, port));
        },

        finishLoad: function (name, strip, content, onLoad) {
            content = strip ? text.strip(content) : content;
            if (masterConfig.isBuild) {
                buildMap[name] = content;
            }
            onLoad(content);
        },

        load: function (name, req, onLoad, config) {
            //Name has format: some.module.filext!strip
            //The strip part is optional.
            //if strip is present, then that means only get the string contents
            //inside a body tag in an HTML string. For XML/SVG content it means
            //removing the <?xml ...?> declarations so the content can be inserted
            //into the current doc without problems.

            // Do not bother with the work if a build and text will
            // not be inlined.
            if (config && config.isBuild && !config.inlineText) {
                onLoad();
                return;
            }

            masterConfig.isBuild = config && config.isBuild;

            var parsed = text.parseName(name),
                nonStripName = parsed.moduleName +
                    (parsed.ext ? '.' + parsed.ext : ''),
                url = req.toUrl(nonStripName),
                useXhr = (masterConfig.useXhr) ||
                         text.useXhr;

            // Do not load if it is an empty: url
            if (url.indexOf('empty:') === 0) {
                onLoad();
                return;
            }

            //Load the text. Use XHR if possible and in a browser.
            if (!hasLocation || useXhr(url, defaultProtocol, defaultHostName, defaultPort)) {
                text.get(url, function (content) {
                    text.finishLoad(name, parsed.strip, content, onLoad);
                }, function (err) {
                    if (onLoad.error) {
                        onLoad.error(err);
                    }
                });
            } else {
                //Need to fetch the resource across domains. Assume
                //the resource has been optimized into a JS module. Fetch
                //by the module name + extension, but do not include the
                //!strip part to avoid file system issues.
                req([nonStripName], function (content) {
                    text.finishLoad(parsed.moduleName + '.' + parsed.ext,
                                    parsed.strip, content, onLoad);
                });
            }
        },

        write: function (pluginName, moduleName, write, config) {
            if (buildMap.hasOwnProperty(moduleName)) {
                var content = text.jsEscape(buildMap[moduleName]);
                write.asModule(pluginName + "!" + moduleName,
                               "define(function () { return '" +
                                   content +
                               "';});\n");
            }
        },

        writeFile: function (pluginName, moduleName, req, write, config) {
            var parsed = text.parseName(moduleName),
                extPart = parsed.ext ? '.' + parsed.ext : '',
                nonStripName = parsed.moduleName + extPart,
                //Use a '.js' file name so that it indicates it is a
                //script that can be loaded across domains.
                fileName = req.toUrl(parsed.moduleName + extPart) + '.js';

            //Leverage own load() method to load plugin value, but only
            //write out values that do not have the strip argument,
            //to avoid any potential issues with ! in file names.
            text.load(nonStripName, req, function (value) {
                //Use own write() method to construct full module value.
                //But need to create shell that translates writeFile's
                //write() to the right interface.
                var textWrite = function (contents) {
                    return write(fileName, contents);
                };
                textWrite.asModule = function (moduleName, contents) {
                    return write.asModule(moduleName, fileName, contents);
                };

                text.write(pluginName, nonStripName, textWrite, config);
            }, config);
        }
    };

    if (masterConfig.env === 'node' || (!masterConfig.env &&
            typeof process !== "undefined" &&
            process.versions &&
            !!process.versions.node &&
            !process.versions['node-webkit'] &&
            !process.versions['atom-shell'])) {
        //Using special require.nodeRequire, something added by r.js.
        fs = require.nodeRequire('fs');

        text.get = function (url, callback, errback) {
            try {
                var file = fs.readFileSync(url, 'utf8');
                //Remove BOM (Byte Mark Order) from utf8 files if it is there.
                if (file[0] === '\uFEFF') {
                    file = file.substring(1);
                }
                callback(file);
            } catch (e) {
                if (errback) {
                    errback(e);
                }
            }
        };
    } else if (masterConfig.env === 'xhr' || (!masterConfig.env &&
            text.createXhr())) {
        text.get = function (url, callback, errback, headers) {
            var xhr = text.createXhr(), header;
            xhr.open('GET', url, true);

            //Allow plugins direct access to xhr headers
            if (headers) {
                for (header in headers) {
                    if (headers.hasOwnProperty(header)) {
                        xhr.setRequestHeader(header.toLowerCase(), headers[header]);
                    }
                }
            }

            //Allow overrides specified in config
            if (masterConfig.onXhr) {
                masterConfig.onXhr(xhr, url);
            }

            xhr.onreadystatechange = function (evt) {
                var status, err;
                //Do not explicitly handle errors, those should be
                //visible via console output in the browser.
                if (xhr.readyState === 4) {
                    status = xhr.status || 0;
                    if (status > 399 && status < 600) {
                        //An http 4xx or 5xx error. Signal an error.
                        err = new Error(url + ' HTTP status: ' + status);
                        err.xhr = xhr;
                        if (errback) {
                            errback(err);
                        }
                    } else {
                        callback(xhr.responseText);
                    }

                    if (masterConfig.onXhrComplete) {
                        masterConfig.onXhrComplete(xhr, url);
                    }
                }
            };
            xhr.send(null);
        };
    } else if (masterConfig.env === 'rhino' || (!masterConfig.env &&
            typeof Packages !== 'undefined' && typeof java !== 'undefined')) {
        //Why Java, why is this so awkward?
        text.get = function (url, callback) {
            var stringBuffer, line,
                encoding = "utf-8",
                file = new java.io.File(url),
                lineSeparator = java.lang.System.getProperty("line.separator"),
                input = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file), encoding)),
                content = '';
            try {
                stringBuffer = new java.lang.StringBuffer();
                line = input.readLine();

                // Byte Order Mark (BOM) - The Unicode Standard, version 3.0, page 324
                // http://www.unicode.org/faq/utf_bom.html

                // Note that when we use utf-8, the BOM should appear as "EF BB BF", but it doesn't due to this bug in the JDK:
                // http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4508058
                if (line && line.length() && line.charAt(0) === 0xfeff) {
                    // Eat the BOM, since we've already found the encoding on this file,
                    // and we plan to concatenating this buffer with others; the BOM should
                    // only appear at the top of a file.
                    line = line.substring(1);
                }

                if (line !== null) {
                    stringBuffer.append(line);
                }

                while ((line = input.readLine()) !== null) {
                    stringBuffer.append(lineSeparator);
                    stringBuffer.append(line);
                }
                //Make sure we return a JavaScript string and not a Java string.
                content = String(stringBuffer.toString()); //String
            } finally {
                input.close();
            }
            callback(content);
        };
    } else if (masterConfig.env === 'xpconnect' || (!masterConfig.env &&
            typeof Components !== 'undefined' && Components.classes &&
            Components.interfaces)) {
        //Avert your gaze!
        Cc = Components.classes;
        Ci = Components.interfaces;
        Components.utils['import']('resource://gre/modules/FileUtils.jsm');
        xpcIsWindows = ('@mozilla.org/windows-registry-key;1' in Cc);

        text.get = function (url, callback) {
            var inStream, convertStream, fileObj,
                readData = {};

            if (xpcIsWindows) {
                url = url.replace(/\//g, '\\');
            }

            fileObj = new FileUtils.File(url);

            //XPCOM, you so crazy
            try {
                inStream = Cc['@mozilla.org/network/file-input-stream;1']
                           .createInstance(Ci.nsIFileInputStream);
                inStream.init(fileObj, 1, 0, false);

                convertStream = Cc['@mozilla.org/intl/converter-input-stream;1']
                                .createInstance(Ci.nsIConverterInputStream);
                convertStream.init(inStream, "utf-8", inStream.available(),
                Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);

                convertStream.readString(inStream.available(), readData);
                convertStream.close();
                inStream.close();
                callback(readData.value);
            } catch (e) {
                throw new Error((fileObj && fileObj.path || '') + ': ' + e);
            }
        };
    }
    return text;
});


define('text!utility-bar-preview',[],function () { return '<ul id="preview-listview">\r\n  {{#each results}}\r\n  <li>\r\n    <div>\r\n      <a role="complementary presentation" href="{{url}}" style="text-decoration: none;" tabindex="-1">\r\n        <div class="preview-result-container" tabindex="-1">\r\n          {{#iff @root.productsIndex \'!=\' -1}}\r\n            {{#iff @index \'lt\' @root.productsIndex }}\r\n              <span class="image-product-icon" role="presentation"></span>\r\n            {{/iff}}\r\n          {{/iff}}\r\n          {{#if pdf}}\r\n            <span class="preview-pdf-icon" role="presentation"></span>\r\n          {{else if video}}\r\n            <span class="preview-video-icon" role="presentation"></span>\r\n          {{/if}}\r\n          <div class="preview-title">{{title}}</div>\r\n          <div role="none" aria-label="preview categories link" class="preview-breadcrumb">{{breadcrumb}}</div>\r\n        </div>\r\n      </a>\r\n    </div>\r\n    {{#iff @root.productsIndex \'!=\' -1}}\r\n      {{#iff @index \'==\' @root.productsIndexMin }}\r\n        <hr id="hr-preview-section-products" />\r\n      {{/iff}}\r\n    {{/iff}}\r\n  </li>\r\n  {{/each}}\r\n</ul>\r\n<hr role="none" id="hr-preview-section" />\r\n<a href="{{hrefAll}}" role="option" id="preview-result-searchall" class="preview-result-container" tabindex="-1">\r\n  <span id="preview-search-icon" role="presentation"></span>\r\n  <span>Search for <span id="preview-searchall-term">{{searchterm}}</span></span>\r\n</a>\r\n';});


define('text!utility-bar-scope-chip',[],function () { return '<div>\r\n  <div id="search-bar-scope">\r\n    <div id="search-bar-scope-book" class="{{#if scopeIcon}}{{scopeIcon}}{{/if}}" role="none" aria-hidden="true"></div>\r\n    <div id="white-pipe" style="display: none; height: 16px; width: 1px; background-color: #fcfbfa; opacity: 0.15; padding-right: 1px;"></div>\r\n    <span id="search-bar-scope-text">{{#if searchBarScopeText}}{{searchBarScopeText}}{{/if}}</span>\r\n    <button id="search-bar-scope-close"><span id="search-bar-scope-close-icon"></span></button>\r\n\r\n    <div id="search-scope-tooltip" class="tooltip tooltip-hide" style="opacity: 1;" role="tooltip">\r\n      <div class="tooltip-inner">\r\n        <div id="search-bar-scope-tooltip" aria-hidden="true">\r\n          <p class="grayed-font">Search is scoped to:</p>\r\n          <p class="black-font">{{#if searchBarScopeText}}{{searchBarScopeText}}{{/if}}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>';});

define('store/publication-context',["require","exports","preact"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t.createContext(null);e.default=r}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 *
 * This is a fork of the i18n Require.js plugin.
 * It makes minor chnages to the way the default locale is determined and to the way bundles are merged
 *
 * @license RequireJS i18n 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */
!function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^/]*)\/?([^/]*)/;function n(e,n,o,a,r,t,l){if(n[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),n[e]){if(o.push(e),!0===n[e]||1===n[e]){var u=l?l+e:e;a.push(r+u+"/"+t)}return!0}return!1}function o(e){return"object"==typeof e}function a(e,n){for(var r=Object.keys(n),t=0;t<r.length;t++){var l=r[t];null==e[l]?e[l]=n[l]:o(n[l])&&o(e[l])&&a(e[l],n[l])}}define('ojL10n',["module"],function(o){var r=o.config?o.config():{};return{version:"2.0.1+",load:function(o,t,l,u){var c;(u=u||{}).locale&&(r.locale=u.locale);var i,f,s,v,g,h,p,d,y,m,L,O=e.exec(o),_=O[1],b=O[5],j=[],H={},k="";O[5]?(c=(_=O[1])+b,i=O[4]):(c=o,b=O[4],i=r.locale,"undefined"!=typeof document?(i||(i=u.isBuild?"root":document.documentElement.lang)||(i=void 0===navigator?"root":navigator.systemLanguage||navigator.language||navigator.userLanguage||"root"),r.locale=i):i="root"),f=function(e){var n,o=e.toLowerCase().split(/-|_/),a=[o[0]],r=1;for(n=1;n<o.length;n++){var t=o[n],l=t.length;if(1===l)break;switch(r){case 1:if(r=2,4===l){a.push(t.charAt(0).toUpperCase()+t.slice(1));break}case 2:r=3,a.push(t.toUpperCase());break;default:a.push(t)}}return function(e){if("zh"!==e[0]||e.length>1&&4===e[1].length)return;var n="Hans",o=e.length>1?e[1]:null;"TW"!==o&&"MO"!==o&&"HK"!==o||(n="Hant");e.splice(1,0,n)}(a),a}(i),v=r.noOverlay,g=r.defaultNoOverlayLocale;var x=r.localePrefix;for((y=r.merge)&&(h=y[_+b])&&(O=e.exec(h),p=O[1],d=O[4]),m=[],s=0;s<f.length;s++)k+=(k?"-":"")+f[s],m.push(k);u.isBuild?(j.push(c),h&&j.push(h),t(j,function(){l()})):("query"===r.includeLocale&&(c=t.toUrl(c+".js"),c+=(-1===c.indexOf("?")?"?":"&")+"loc="+i),L=[c],h&&L.push(h),t(L,function(e,o){var r=[],u=function(e,o,a){for(var t=v||!0===e.__noOverlay,l=g||e.__defaultNoOverlayLocale,u=!1,c=m.length-1;c>=0&&(!u||!t);c--)u=n(m[c],e,r,j,o,a,x);var i=1===m.length&&"root"===m[0];t&&(i||!u)&&l&&n(l,e,r,j,o,a,x),i||n("root",e,r,j,o,a,x)};u(e,_,b);var c=r.length;o&&u(o,p,d),t(j,function(){var n=function(e,n,o,l,u){for(var c=n;c<o&&r[c];c++){var i=r[c],f=x?x+i:i,s=e[i];!0!==s&&1!==s||(s=t(l+f+"/"+u)),a(H,s||{})}};n(o,c,r.length,p,d),n(e,0,c,_,b),H._ojLocale_=f.join("-"),l(H)})}))}}})}();
define('ojtranslations/nls/ojtranslations',{root:{"oj-message":{fatal:"Fatal",error:"Error",warning:"Warning",info:"Info",confirmation:"Confirmation","compact-type-summary":"{0}: {1}"},"oj-converter":{summary:"Value is not in the expected format.",detail:"Enter a value in the expected format.","plural-separator":", ",hint:{summary:"Example: {exampleValue}",detail:"Enter a value in this format: '{exampleValue}'.","detail-plural":"Enter a value in these formats: '{exampleValue}'."},optionHint:{detail:"An accepted value for option '{propertyName}' is '{propertyValueValid}'.","detail-plural":"Accepted values for option '{propertyName}' are '{propertyValueValid}'."},optionTypesMismatch:{summary:"A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."},optionTypeInvalid:{summary:"A value of the expected type was not provided for option '{propertyName}'."},optionOutOfRange:{summary:"Value {propertyValue} is out of range for the option '{propertyName}'."},optionValueInvalid:{summary:"An invalid value '{propertyValue}' was specified for the option '{propertyName}'."},number:{decimalFormatMismatch:{summary:"The provided value is not in the expected number format."},shortLongUnsupportedParse:{summary:"'short' and 'long' are not supported for converter parsing.",detail:"Change component to readonly. readonly fields do not call the converter's parse function."},currencyFormatMismatch:{summary:"The provided value is not in the expected currency format."},percentFormatMismatch:{summary:"The provided value is not in the expected percent format."},invalidNumberFormat:{summary:"The provided value is not a valid number.",detail:"Please provide valid number."}},color:{invalidFormat:{summary:"Invalid color format.",detail:"Invalid color format option specification."},invalidSyntax:{summary:"Invalid color specification.",detail:"Enter a color value that conforms to the CSS3 standard."}},datetime:{datetimeOutOfRange:{summary:"Value '{value}' is out of range for the '{propertyName}'.",detail:"Enter a value between '{minValue}' and '{maxValue}'.",hour:"hour",minute:"minute",second:"second",millisec:"millisec",month:"month",day:"day",year:"year","month name":"month name",weekday:"weekday"},dateFormatMismatch:{summary:"The provided value is not in the expected date format."},invalidTimeZoneID:{summary:"Invalid timezone id {timeZoneID} provided."},nonExistingTime:{summary:"The input time does not exist because it falls during the transition to daylight saving time."},missingTimeZoneData:{summary:"TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data."},timeFormatMismatch:{summary:"The provided value is not in the expected time format."},datetimeFormatMismatch:{summary:"The provided value is not in the expected date and time format."},dateToWeekdayMismatch:{summary:"Day '{date}' does not fall on a '{weekday}'.",detail:"Enter a weekday that corresponds with the date."},invalidISOString:{invalidRangeSummary:"The value '{value}' is out of range for the '{propertyName}' field in the ISO 8601 string '{isoStr}'.",summary:"The provided '{isoStr}' is not a valid ISO 8601 string.",detail:"Please provide valid ISO 8601 string."}}},"oj-validator":{length:{hint:{min:"Enter {min} or more characters.",max:"Enter {max} or fewer characters.",inRange:"Enter {min} to {max} characters.",exact:"Enter {length} characters."},messageDetail:{tooShort:"Enter {min} or more characters.",tooLong:"Enter no more than {max} characters."},messageSummary:{tooShort:"There are too few characters.",tooLong:"There are too many characters."}},range:{number:{hint:{min:"Enter a number greater than or equal to {min}.",max:"Enter a number less than or equal to {max}.",inRange:"Enter a number between {min} and {max}.",exact:"Enter the number {num}."},messageDetail:{rangeUnderflow:"Enter {min} or a higher number.",rangeOverflow:"Enter {max} or a lower number.",exact:"Enter the number {num}."},messageSummary:{rangeUnderflow:"The number is too low.",rangeOverflow:"The number is too high."}},datetime:{hint:{min:"Enter a date and time on or after {min}.",max:"Enter a date and time on or before {max}.",inRange:"Enter a date and time between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a date on or after {min}.",rangeOverflow:"Enter a date on or before {max}."},messageSummary:{rangeUnderflow:"Date and time is earlier than the minimum date and time.",rangeOverflow:"Date and time is later than the maximum date and time."}},date:{hint:{min:"Enter a date on or after {min}.",max:"Enter a date on or before {max}.",inRange:"Enter a date between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a date on or after {min}.",rangeOverflow:"Enter a date on or before {max}."},messageSummary:{rangeUnderflow:"Date is earlier than the minimum date.",rangeOverflow:"Date is later than the maximum date."}},time:{hint:{min:"Enter a time on or after {min}.",max:"Enter a time on or before {max}.",inRange:"Enter a time between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a time at or after {min}.",rangeOverflow:"Enter a time at or before {max}."},messageSummary:{rangeUnderflow:"Time is earlier than the minimum time.",rangeOverflow:"Time is later than the maximum time."}}},restriction:{date:{messageSummary:"Date {value} is of a disabled entry.",messageDetail:"The date you selected isn't available. Try another date."}},regExp:{summary:"Format is incorrect.",detail:"Enter allowable values described in this regular expression: '{pattern}'."},required:{summary:"Value is required.",detail:"Enter a value."}},"oj-ojEditableValue":{loading:"Loading",requiredText:"Required",helpSourceText:"Learn more..."},"oj-ojInputDate":{done:"Done",cancel:"Cancel",prevText:"Previous",nextText:"Next",currentText:"Today",weekHeader:"Wk",tooltipCalendar:"Select Date.",tooltipCalendarTime:"Select Date Time.",tooltipCalendarDisabled:"Select Date Disabled.",tooltipCalendarTimeDisabled:"Select Date Time Disabled.",picker:"Picker",weekText:"Week",datePicker:"Date Picker",inputHelp:"Press Key down or Key up for access to Calendar.",inputHelpBoth:"Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},dateRestriction:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputTime":{cancelText:"Cancel",okText:"OK",currentTimeText:"Now",hourWheelLabel:"Hour",minuteWheelLabel:"Minute",ampmWheelLabel:"AMPM",tooltipTime:"Select Time.",tooltipTimeDisabled:"Select Time Disabled.",inputHelp:"Press Key down or Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}}},"oj-inputBase":{required:{hint:"",messageSummary:"",messageDetail:""},regexp:{messageSummary:"",messageDetail:""},accessibleMaxLengthExceeded:"Maximum length {len} exceeded.",accessibleMaxLengthRemaining:"{chars} characters left."},"oj-ojInputPassword":{regexp:{messageDetail:"Value must match this pattern: '{pattern}'."},accessibleShowPassword:"Show password.",accessibleHidePassword:"Hide password."},"oj-ojFilmStrip":{labelAccFilmStrip:"Displaying page {pageIndex} of {pageCount}",labelAccArrowNextPage:"Select Next to display next page",labelAccArrowPreviousPage:"Select Previous to display previous page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous"},"oj-ojDataGrid":{accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleActionableMode:"Enter actionable mode.",accessibleNavigationMode:"Enter navigation mode, press F2 to enter edit or actionable mode.",accessibleEditableMode:"Enter editable mode, press escape to navigate outside the data grid.",accessibleSummaryExact:"This is a data grid with {rownum} rows and {colnum} columns",accessibleSummaryEstimate:"This is a data grid with unknown number of rows and columns",accessibleSummaryExpanded:"There are currently {num} rows expanded",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleRowSelected:"Row {row} selected",accessibleColumnSelected:"Column {column} selected",accessibleStateSelected:"selected",accessibleMultiCellSelected:"{num} cells selected",accessibleColumnSpanContext:"{extent} wide",accessibleRowSpanContext:"{extent} high",accessibleRowContext:"Row {index}",accessibleColumnContext:"Column {index}",accessibleRowHeaderContext:"Row Header {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleRowEndHeaderContext:"Row End Header {index}",accessibleColumnEndHeaderContext:"Column End Header {index}",accessibleRowHeaderLabelContext:"Row Header Label {level}",accessibleColumnHeaderLabelContext:"Column Header Label {level}",accessibleRowEndHeaderLabelContext:"Row End Header Label {level}",accessibleColumnEndHeaderLabelContext:"Column End Header Label {level}",accessibleLevelContext:"Level {level}",accessibleRangeSelectModeOn:"Add selected range of cells mode on.",accessibleRangeSelectModeOff:"Add selected range of cells mode off.",accessibleFirstRow:"You have reached the first row.",accessibleLastRow:"You have reached the last row.",accessibleFirstColumn:"You have reached the first column",accessibleLastColumn:"You have reached the last column.",accessibleSelectionAffordanceTop:"Top selection handle.",accessibleSelectionAffordanceBottom:"Bottom selection handle.",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",labelResize:"Resize",labelResizeWidth:"Resize Width",labelResizeHeight:"Resize Height",labelSortRow:"Sort Row",labelSortRowAsc:"Sort Row Ascending",labelSortRowDsc:"Sort Row Descending",labelSortCol:"Sort Column",labelSortColAsc:"Sort Column Ascending",labelSortColDsc:"Sort Column Descending",labelCut:"Cut",labelPaste:"Paste",labelEnableNonContiguous:"Enable Non-Contiguous Selection",labelDisableNonContiguous:"Disable Non-Contiguous Selection",labelResizeDialogSubmit:"OK",labelResizeDialogCancel:"Cancel",accessibleContainsControls:"Contains Controls"},"oj-ojRowExpander":{accessibleLevelDescription:"Level {level}",accessibleRowDescription:"Level {level}, Row {num} of {total}",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleStateExpanded:"expanded",accessibleStateCollapsed:"collapsed"},"oj-ojListView":{msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",msgItemsAppended:"{count} items appended to the end.",indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",accessibleReorderInsideItem:"Into {item}",accessibleNavigateSkipItems:"Skipping {numSkip} items",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-_ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojInputNumber":{required:{hint:"",messageSummary:"",messageDetail:""},numberRange:{hint:{min:"",max:"",inRange:"",exact:""},messageDetail:{rangeUnderflow:"",rangeOverflow:"",exact:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},tooltipDecrement:"Decrement",tooltipIncrement:"Increment"},"oj-ojTable":{accessibleColumnContext:"Column {index}",accessibleColumnFooterContext:"Column Footer {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleRowContext:"Row {index}",accessibleSortable:"{id} sortable",accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleStateSelected:"selected",labelAccSelectionAffordanceTop:"Top selection handle",labelAccSelectionAffordanceBottom:"Bottom selection handle",labelEnableNonContiguousSelection:"Enable Non-Contiguous Selection",labelDisableNonContiguousSelection:"Disable Non-Contiguous Selection",labelResize:"Resize",labelResizeColumn:"Resize Column",labelResizePopupSubmit:"OK",labelResizePopupCancel:"Cancel",labelResizePopupSpinner:"Resize Column",labelResizeColumnDialog:"Resize column",labelColumnWidth:"Width in Pixels",labelResizeDialogApply:"Apply",labelSelectRow:"Select Row",labelEditRow:"Edit Row",labelSelectAndEditRow:"Select And Edit Row",labelSelectColumn:"Select Column",labelSort:"Sort",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",msgFetchingData:"Fetching Data...",msgNoData:"No data to display.",msgInitializing:"Initializing...",msgColumnResizeWidthValidation:"Width value must be an integer.",msgScrollPolicyMaxCountSummary:"Exceeded maximum rows for table scrolling.",msgScrollPolicyMaxCountDetail:"Please reload with smaller data set.",msgStatusSortAscending:"{0} sorted in ascending order.",msgStatusSortDescending:"{0} sorted in descending order."},"oj-ojTabs":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",labelReorder:"Reorder",removeCueText:"Removable"},"oj-ojCheckboxset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojRadioset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojSelect":{required:{hint:"",messageSummary:"",messageDetail:""},searchField:"Search field",noMatchesFound:"No matches found",noMoreResults:"No more results",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSwitch":{SwitchON:"On",SwitchOFF:"Off"},"oj-ojCombobox":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",noMoreResults:"No more results",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSelectSingle":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchFound:"One match found",multipleMatchesFound:"{num} matches found",nOrMoreMatchesFound:"{num} or more matches found",cancel:"Cancel",labelAccOpenDropdown:"expand",labelAccClearValue:"clear value",noResultsLine1:"No results found",noResultsLine2:"We can't find anything matching your search."},"oj-ojInputSearch2":{cancel:"Cancel",noSuggestionsFound:"No suggestions found"},"oj-ojInputSearch":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found"},"oj-ojTreeView":{treeViewSelectorAria:"TreeView Selector {rowKey}"},"oj-ojTree":{stateLoading:"Loading...",labelNewNode:"New Node",labelMultiSelection:"Multiple Selection",labelEdit:"Edit",labelCreate:"Create",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteAfter:"Paste After",labelPasteBefore:"Paste Before",labelRemove:"Remove",labelRename:"Rename",labelNoData:"No data"},"oj-ojPagingControl":{labelAccPaging:"Pagination",labelAccPageNumber:"Page {pageNum} content loaded",labelAccNavFirstPage:"First Page",labelAccNavLastPage:"Last Page",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",labelAccNavPage:"Page",labelLoadMore:"Show More...",labelLoadMoreMaxRows:"Reached Maximum Limit of {maxRows} rows",labelNavInputPage:"Page",labelNavInputPageMax:"of {pageMax}",fullMsgItemRange:"{pageFrom}-{pageTo} of {pageMax} items",fullMsgItemRangeAtLeast:"{pageFrom}-{pageTo} of at least {pageMax} items",fullMsgItemRangeApprox:"{pageFrom}-{pageTo} of approx {pageMax} items",msgItemRangeNoTotal:"{pageFrom}-{pageTo} items",fullMsgItem:"{pageTo} of {pageMax} items",fullMsgItemAtLeast:"{pageTo} of at least {pageMax} items",fullMsgItemApprox:"{pageTo} of approx {pageMax} items",msgItemNoTotal:"{pageTo} items",msgItemRangeCurrent:"{pageFrom}-{pageTo}",msgItemRangeCurrentSingle:"{pageFrom}",msgItemRangeOf:"of",msgItemRangeOfAtLeast:"of at least",msgItemRangeOfApprox:"of approx.",msgItemRangeItems:"items",tipNavInputPage:"Go To Page",tipNavPageLink:"Go To Page {pageNum}",tipNavNextPage:"Next",tipNavPreviousPage:"Previous",tipNavFirstPage:"First",tipNavLastPage:"Last",pageInvalid:{summary:"The page value entered is invalid.",detail:"Please enter a value greater than 0."},maxPageLinksInvalid:{summary:"Value for maxPageLinks is invalid.",detail:"Please enter a value greater than 4."}},"oj-ojMasonryLayout":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-panel":{labelAccButtonExpand:"Expand",labelAccButtonCollapse:"Collapse",labelAccButtonRemove:"Remove",labelAccFlipForward:"Flip forward",labelAccFlipBack:"Flip back",tipDragToReorder:"Drag to reorder",labelAccDragToReorder:"Drag to reorder, context menu available"},"oj-ojChart":{labelDefaultGroupName:"Group {0}",labelSeries:"Series",labelGroup:"Group",labelDate:"Date",labelValue:"Value",labelTargetValue:"Target",labelX:"X",labelY:"Y",labelZ:"Z",labelPercentage:"Percentage",labelLow:"Low",labelHigh:"High",labelOpen:"Open",labelClose:"Close",labelVolume:"Volume",labelQ1:"Q1",labelQ2:"Q2",labelQ3:"Q3",labelMin:"Min",labelMax:"Max",labelOther:"Other",tooltipPan:"Pan",tooltipSelect:"Marquee select",tooltipZoom:"Marquee zoom",componentName:"Chart"},"oj-dvtBaseGauge":{componentName:"Gauge"},"oj-ojDiagram":{promotedLink:"{0} link",promotedLinks:"{0} links",promotedLinkAriaDesc:"Indirect",componentName:"Diagram"},"oj-ojGantt":{componentName:"Gantt",accessibleDurationDays:"{0} days",accessibleDurationHours:"{0} hours",accessibleTaskInfo:"Start time is {0}, end time is {1}, duration is {2}",accessibleMilestoneInfo:"Time is {0}",accessibleRowInfo:"Row {0}",accessibleTaskTypeMilestone:"Milestone",accessibleTaskTypeSummary:"Summary",accessiblePredecessorInfo:"{0} predecessors",accessibleSuccessorInfo:"{0} successors",accessibleDependencyInfo:"Dependency type {0}, connects {1} to {2}",startStartDependencyAriaDesc:"start to start",startFinishDependencyAriaDesc:"start to finish",finishStartDependencyAriaDesc:"finish to start",finishFinishDependencyAriaDesc:"finish to finish",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelLevel:"Level",labelRow:"Row",labelStart:"Start",labelEnd:"End",labelDate:"Date",labelBaselineStart:"Baseline Start",labelBaselineEnd:"Baseline End",labelBaselineDate:"Baseline Date",labelLabel:"Label",labelProgress:"Progress",labelMoveBy:"Move By",labelResizeBy:"Resize By",taskMoveInitiated:"Task move initiated",taskResizeEndInitiated:"Task resize end initiated",taskResizeStartInitiated:"Task resize start initiated",taskMoveSelectionInfo:"{0} others selected",taskResizeSelectionInfo:"{0} others selected",taskMoveInitiatedInstruction:"Use the arrow keys to move",taskResizeInitiatedInstruction:"Use the arrow keys to resize",taskMoveFinalized:"Task move finalized",taskResizeFinalized:"Task resize finalized",taskMoveCancelled:"Task move cancelled",taskResizeCancelled:"Task resize cancelled",taskResizeStartHandle:"Task resize start handle",taskResizeEndHandle:"Task resize end handle"},"oj-ojLegend":{componentName:"Legend",tooltipExpand:"Expand",tooltipCollapse:"Collapse"},"oj-ojNBox":{highlightedCount:"{0}/{1}",labelOther:"Other",labelGroup:"Group",labelSize:"Size",labelAdditionalData:"Additional Data",componentName:"{0} Box"},"oj-ojPictoChart":{componentName:"Picture Chart"},"oj-ojSparkChart":{componentName:"Chart"},"oj-ojSunburst":{labelColor:"Color",labelSize:"Size",tooltipExpand:"Expand",tooltipCollapse:"Collapse",componentName:"Sunburst"},"oj-ojTagCloud":{componentName:"Tag Cloud"},"oj-ojThematicMap":{componentName:"Thematic Map",areasRegion:"Areas",linksRegion:"Links",markersRegion:"Markers"},"oj-ojTimeAxis":{componentName:"Time Axis"},"oj-ojTimeline":{componentName:"Timeline",accessibleItemDesc:"Description is {0}.",accessibleItemEnd:"End time is {0}.",accessibleItemStart:"Start time is {0}.",accessibleItemTitle:"Title is {0}.",labelSeries:"Series",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelStart:"Start",labelEnd:"End",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous",navArrowDisabledState:"Disabled",labelDate:"Date",labelTitle:"Title",labelDescription:"Description"},"oj-ojTreemap":{labelColor:"Color",labelSize:"Size",tooltipIsolate:"Isolate",tooltipRestore:"Restore",componentName:"Treemap"},"oj-dvtBaseComponent":{labelScalingSuffixThousand:"K",labelScalingSuffixMillion:"M",labelScalingSuffixBillion:"B",labelScalingSuffixTrillion:"T",labelScalingSuffixQuadrillion:"Q",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",labelDataVisualization:"Data Visualization",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelAndValue:"{0}: {1}",labelCountWithTotal:"{0} of {1}"},"oj-ojNavigationList":{defaultRootLabel:"Navigation List",hierMenuBtnLabel:"Hierarchical Menu button",selectedLabel:"selected",previousIcon:"Previous",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",overflowItemLabel:"More",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",removeCueText:"Removable"},"oj-ojSlider":{noValue:"ojSlider has no value",maxMin:"Max must not be less than or equal to min",startEnd:"value.start must not be greater than value.end",valueRange:"Value must be within min to max range",optionNum:"{option} option is not a number",invalidStep:"Invalid step; step must be > 0",lowerValueThumb:"lower value thumb",higherValueThumb:"higher value thumb"},"oj-ojDialog":{labelCloseIcon:"Close"},"oj-ojPopup":{ariaLiveRegionInitialFocusFirstFocusable:"Entering pop-up. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusNone:"Pop-up opened. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusFirstFocusableTouch:"Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.",ariaLiveRegionInitialFocusNoneTouch:"Pop-up opened. Navigate to the next link to establish focus within the pop-up.",ariaFocusSkipLink:"Double tap to navigate to the open pop-up.",ariaCloseSkipLink:"Double tap to close the open pop-up."},"oj-ojRefresher":{ariaRefreshLink:"Activate link to refresh content",ariaRefreshingLink:"Refreshing content",ariaRefreshCompleteLink:"Refresh complete"},"oj-ojSwipeActions":{ariaShowStartActionsDescription:"Show start actions",ariaShowEndActionsDescription:"Show end actions",ariaHideActionsDescription:"Hide actions"},"oj-ojIndexer":{indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",indexerOthers:"#",ariaDisabledLabel:"No matching group header",ariaOthersLabel:"number",ariaInBetweenText:"Between {first} and {second}",ariaKeyboardInstructionText:"Press enter to select value.",ariaTouchInstructionText:"Double tap and hold to enter gesture mode, then drag up or down to adjust value."},"oj-ojMenu":{labelCancel:"Cancel",ariaFocusSkipLink:"Focus is within the menu, double tap or swipe to move focus to the first menu item."},"oj-ojColorSpectrum":{labelHue:"Hue",labelOpacity:"Opacity",labelSatLum:"Saturation/Luminance",labelThumbDesc:"Color spectrum four way slider."},"oj-ojColorPalette":{labelNone:"None"},"oj-ojColorPicker":{labelSwatches:"Swatches",labelCustomColors:"Custom Colors",labelPrevColor:"Previous Color",labelDefColor:"Default Color",labelDelete:"Delete",labelDeleteQ:"Delete?",labelAdd:"Add",labelAddColor:"Add color",labelMenuHex:"HEX",labelMenuRgba:"RGBa",labelMenuHsla:"HSLa",labelSliderHue:"Hue",labelSliderSaturation:"Saturation",labelSliderSat:"Sat",labelSliderLightness:"Lightness",labelSliderLum:"Luminosity",labelSliderAlpha:"Alpha",labelOpacity:"Opacity",labelSliderRed:"Red",labelSliderGreen:"Green",labelSliderBlue:"Blue"},"oj-ojFilePicker":{dropzoneText:"Drop files here or click to upload",singleFileUploadError:"Upload one file at a time.",singleFileTypeUploadError:"You can't upload files of type {fileType}.",multipleFileTypeUploadError:"You can't upload files of type: {fileTypes}.",dropzonePrimaryText:"Drag and Drop",secondaryDropzoneText:"Select a file or drop one here.",secondaryDropzoneTextMultiple:"Select or drop files here.",unknownFileType:"unknown"},"oj-ojProgressbar":{ariaIndeterminateProgressText:"In Progress"},"oj-ojMessage":{labelCloseIcon:"Close",categories:{error:"Error",warning:"Warning",info:"Information",confirmation:"Confirmation"}},"oj-ojSelector":{checkboxAriaLabel:"Checkbox Select {rowKey}",checkboxAriaLabelSelected:" selected",checkboxAriaLabelUnselected:" unselected"},"oj-ojMessages":{labelLandmark:"Messages",ariaLiveRegion:{navigationFromKeyboard:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToTouch:"Messages region has new messages. Use the voice-over rotor to navigate to the messages landmark.",navigationToKeyboard:"Messages region has new messages.  Press F6 to navigate to the most recent message region.",newMessage:"Message category {category}. {summary}. {detail}."}},"oj-ojConveyorBelt":{tipArrowNext:"Next",tipArrowPrevious:"Previous"}},ar:1,"ar-XB":1,bg:1,bs:1,"bs-Cyrl":1,cs:1,da:1,de:1,el:1,"en-XA":1,"en-XC":1,es:1,et:1,fi:1,fr:1,"fr-CA":1,he:1,hr:1,hu:1,is:1,it:1,ja:1,ko:1,lt:1,lv:1,ms:1,nl:1,no:1,pl:1,pseudo:1,pt:1,"pt-PT":1,ro:1,ru:1,sk:1,sl:1,sr:1,"sr-Latn":1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-Hans":1,"zh-Hant":1});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconfig',["require","exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/ojtranslations"],function(e,n,t,o){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i={};let a=o;i.getDeviceRenderMode=function(){return document.body.getAttribute("data-oj-device-render-mode")||i.getDeviceType()},i.getDeviceType=function(){return t.AgentUtils.getAgentInfo().deviceType},i.getLocale=function(){const e=a._ojLocale_;return"root"===e?"en":e},i.setLocale=function(n,o){var i="ojL10n!ojtranslations/nls/",s=i+n+"/ojtranslations";var u=[new Promise(function(n,t){e([s],function(e){n(r(e))},t)}).then(e=>{a=e})];if(t.LocaleData){var l=i+n+"/localeElements";const o=new Promise(function(n,t){e([l],function(e){n(r(e))},t)}).then(e=>{e&&t.LocaleData.__updateBundle(Object.assign({},e.default))});if(u.push(o),t.TimezoneData){var c=t.TimezoneData.__getBundleNames().map(t=>new Promise(function(o,a){e([`${i}${n}${t}`],function(e){o(r(e))},a)}));u.push(Promise.all(c).then(e=>{e.forEach(t.TimezoneData.__mergeIntoLocaleElements)}))}}Promise.all(u).then(()=>{o&&o()})},i.getResourceUrl=function(e){if(null==e||/^\/|:/.test(e))return e;var n=i._resourceBaseUrl;null==n&&(n=i._getOjBaseUrl()||"");var t=n.length;return n+(0===t||"/"===n.charAt(t-1)?"":"/")+e},i.setResourceBaseUrl=function(e){i._resourceBaseUrl=e},i.setAutomationMode=function(e){i._automationMode=e},i.getAutomationMode=function(){return i._automationMode},i.getVersionInfo=function(){var e="Oracle JET Version: "+t.version+"\n";e+="Oracle JET Revision: "+t.revision+"\n";var n="undefined"!=typeof window;return n&&window.navigator&&(e+="Browser: "+window.navigator.userAgent+"\n",e+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(e+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(e+="jQuery UI Version: "+$.ui.version+"\n")),t.ComponentBinding&&(e+="Knockout Version: "+t.ComponentBinding.__getKnockoutVersion()+"\n"),n&&window.require&&(e+="Require Version: "+window.require.version+"\n"),e},i.logVersionInfo=function(){},i._getOjBaseUrl=function(){var n=null;void 0!==e&&e.toUrl&&(n=e.toUrl("ojs/_foo_").replace(/[^/]*$/,"../"));return n},i.__getTemplateEngine=function(){return i._templateEnginePromise||(i._templateEnginePromise=new Promise(function(n,t){e(["ojs/ojtemplateengine"],function(e){n(r(e))},t)}).then(e=>e.default)),i._templateEnginePromise},i.getConfigBundle=function(){return a},i.getExpressionEvaluator=function(){return i._expressionEvaluator},i.setExpressionEvaluator=function(e){if(i._expressionEvaluator)throw new Error("JET Expression evaluator can't be set more than once.");i._expressionEvaluator=e};const s=i.getDeviceRenderMode,u=i.getDeviceType,l=i.getLocale,c=i.setLocale,f=i.getResourceUrl,g=i.setResourceBaseUrl,d=i.setAutomationMode,p=i.getAutomationMode,v=i.getVersionInfo,m=i.logVersionInfo,_=i.setExpressionEvaluator,E=i.getExpressionEvaluator,j=i.getConfigBundle,w=i.__getTemplateEngine;n.__getTemplateEngine=w,n.getAutomationMode=p,n.getConfigBundle=j,n.getDeviceRenderMode=s,n.getDeviceType=u,n.getExpressionEvaluator=E,n.getLocale=l,n.getResourceUrl=f,n.getVersionInfo=v,n.logVersionInfo=m,n.setAutomationMode=d,n.setExpressionEvaluator=_,n.setLocale=c,n.setResourceBaseUrl=g,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=ojconfig.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtranslation',["exports","ojs/ojcore-base","ojs/ojconfig"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={setBundle:function(e){r._bundle=e},getResource:function(e){return r._getResourceString(e)},applyParameters:function(e,t){return null==e?null:r._format(e,t)},getTranslatedString:function(e,t){var n=r._getResourceString(e);if(null==n)return e;var a={};return arguments.length>2?a=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(a=arguments[1])||a instanceof Array||(a=[a])),r.applyParameters(n,a)},getComponentTranslations:function(e){var t=r._getBundle()[e];if(null==t)return{};for(var n={},a=Object.keys(t),l=0;l<a.length;l++){var o=a[l];n[o]=t[o]}return n},_getResourceString:function(e){var n=e?e.split("."):[],a=r._getBundle();t.Assert.assertObject(a);for(var l=0;l<n.length&&null!=a;l++){a=a[n[l]]}return null!=a?a:null},_format:function(e,t){var n,r,a=e.length,l=[],o=null,u=!1,s=!1,c=!1,i=!1;for(r=0;r<a;r++){var g=e.charAt(r),f=!1;if(u)f=!0,u=!1;else switch(g){case"$":u=!0;break;case"{":i||(s||(n=!1,o=[]),s=!0);break;case"}":if(s&&o.length>0){var p=t[o.join("")];l.push(void 0===p?"null":p)}s=!1;break;case"[":s||(c?i=!0:c=!0);break;case"]":i?i=!1:c=!1;break;default:f=!0}f&&(s?","===g||" "===g?n=!0:n||o.push(g):i||l.push(g))}return l.join("")},_getBundle:function(){var e=r._bundle;return e||n.getConfigBundle()}},a=r.setBundle,l=r.getResource,o=r.applyParameters,u=r.getTranslatedString,s=r.getComponentTranslations;e.applyParameters=o,e.getComponentTranslations=s,e.getResource=l,e.getTranslatedString=u,e.setBundle=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtranslation.js.map;
define('translations/utility-bar/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=class{static getTranslations(){return{ariaLabels:{oracleHome:e.getTranslatedString("utilityBar.ariaLabels.oracleHome"),helpCenter:e.getTranslatedString("utilityBar.ariaLabels.helpCenter"),account:e.getTranslatedString("utilityBar.ariaLabels.account"),selectPageLanguage:e.getTranslatedString("utilityBar.ariaLabels.selectPageLanguage"),siteNavigation:e.getTranslatedString("utilityBar.ariaLabels.siteNavigation")}}}}}));
define('components/utility-bar/index',["require", "exports", "preact", "preact/hooks", "jquery", "utility-bar-js", "text!utility-bar-preview", "text!utility-bar-scope-chip", "../../store/publication-context", "../../translations/utility-bar/translations-helper"], function (require, exports, preact_1, hooks_1, $, utilityBar, previewTemplate, scopeChipTemplate, publication_context_1, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.UtilityBar = void 0;
    class UtilityBar extends preact_1.Component {
        constructor() {
            super();
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                hasConnection: true,
                isOnline: /docs.*\.oracle.*\.com/.test(window.location.host)
            };
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("header", null,
                preact_1.h("nav", { class: "u02nav ocom-base ocom-responsive", role: "none" },
                    preact_1.h("div", { class: "u02", id: "u02" },
                        preact_1.h("div", { id: "u02skip2content", tabIndex: 1 },
                            preact_1.h("ul", null,
                                preact_1.h("li", null,
                                    preact_1.h("a", { id: "u02skip2c", href: "#maincontent", tabIndex: 0 }, "Skip to Content")),
                                preact_1.h("li", null,
                                    preact_1.h("a", { id: "u02skip2s", href: "#skip_to_search_form" }, "Skip to Search")),
                                preact_1.h("li", null,
                                    preact_1.h("a", { "aria-label": "Navigate to help center home page", href: "/" }, "Home")))),
                        preact_1.h("div", { class: 'u02w1' + (this.state.hasConnection ? '' : ' offline') },
                            preact_1.h("div", { class: "u02logos", "data-trackas": "header" },
                                preact_1.h("div", { class: "u02logow1" },
                                    preact_1.h("a", { "aria-label": this.state.translations.ariaLabels.oracleHome, href: "https://www.oracle.com", "data-trackas": "header", "data-lbl": "logo", class: "o_icon" }))),
                            this.state.hasConnection &&
                                preact_1.h("div", { class: "u02menu", "data-trackas": "menu" },
                                    preact_1.h("div", { id: "u02main", class: "u02mlink" },
                                        preact_1.h("div", { class: "u02mlinkw1" },
                                            preact_1.h("a", { href: this.state.isOnline ? '/en/menu.html' : 'https://docs.oracle.com/en/menu.html', id: "u02menulink", "data-lbl": "menu" })))),
                            preact_1.h("div", { class: "u02local", "data-trackas": "header" },
                                preact_1.h("div", { class: "u02localw1" },
                                    preact_1.h("a", { "aria-label": this.state.translations.ariaLabels.helpCenter, href: this.state.isOnline ? '/' : 'https://docs.oracle.com/', "data-trackas": "header", "data-lbl": "local" },
                                        preact_1.h("span", null, "Help Center")))),
                            this.state.hasConnection &&
                                preact_1.h(preact_1.Fragment, null,
                                    preact_1.h("div", { id: "u02search", class: "u02search", "data-trackas": "header", style: "display: none" },
                                        preact_1.h("form", { class: "u02searchform", name: "searchForm", method: "get", action: "/apps/search/search.jsp?" },
                                            preact_1.h("input", { "aria-hidden": "true", type: "hidden", name: "category", value: "all" }),
                                            preact_1.h("input", { "aria-label": "search input text area", type: "text", id: "txtSearch", class: "textcnt autoclear", name: "q", placeholder: "Search", autocomplete: "off", "aria-owns": "awesomplete_list_1" }),
                                            preact_1.h("input", { "aria-label": "submit search", class: "u02searchbttn", type: "submit", "aria-hidden": "true" }))),
                                    preact_1.h("div", { id: "search-bar-container", class: "background-white", role: "search" },
                                        preact_1.h("div", { id: "search-icon" },
                                            preact_1.h("span", { id: "search-icon-black", role: "presentation" }),
                                            preact_1.h("span", { id: "search-icon-white", role: "presentation", class: "preview-hide" })),
                                        preact_1.h("div", { id: "search-bar-scope", style: "display: none;" }),
                                        preact_1.h("form", { class: "u02searchform", name: "searchForm", method: "GET", action: "/search/?" },
                                            preact_1.h("input", { id: "search-bar-input", name: "q", placeholder: "Search", role: "searchbox", autocomplete: "off", class: "background-white black-placeholder" }))),
                                    preact_1.h("div", { id: "preview-container", class: "preview-hide" },
                                        preact_1.h("div", { id: "no-results-preview", class: "preview-hide" },
                                            preact_1.h("div", { class: "no-results-row" },
                                                preact_1.h("span", { class: "no-results-preview-icon", role: "presentation" }),
                                                preact_1.h("div", { class: "no-results-preview-title" }, "No matching results")),
                                            preact_1.h("div", { class: "no-results-preview-text" }, "Try a different search query.")),
                                        preact_1.h("div", { id: "error-results-preview", class: "preview-hide" },
                                            preact_1.h("div", { class: "no-results-row" },
                                                preact_1.h("span", { class: "no-results-preview-icon", role: "presentation" }),
                                                preact_1.h("div", { class: "no-results-preview-title" }, "Search Unavailable")),
                                            preact_1.h("div", { class: "no-results-preview-text" }, "We are making updates to our Search system right now. Please try again later.")),
                                        preact_1.h("div", { id: "results-preview", class: "preview-hide" }))),
                            preact_1.h("label", { id: "preview-results-alert", role: "alert", "aria-live": "polite" }),
                            this.state.isOnline &&
                                preact_1.h("div", { class: "u02tools", "data-trackas": "header" },
                                    preact_1.h("ul", null,
                                        preact_1.h("li", { class: "u02mtool u02accmenu u02toolsloggedout" },
                                            preact_1.h("a", { href: "#usermenu", class: "u02ticon u02user", "aria-label": this.state.translations.ariaLabels.account, "aria-haspopup": "true" }),
                                            preact_1.h("div", { class: "u02user u02toolpop" },
                                                preact_1.h("div", { class: "u02userin" },
                                                    preact_1.h("div", { class: "u02userinw1 u02userloggedin" },
                                                        preact_1.h("div", { class: "u02userinfo" },
                                                            preact_1.h("div", { class: "u02userdata" },
                                                                preact_1.h("a", { class: "u02ulink", href: "https://profile.oracle.com/myprofile/account/secure/update-account.jspx?nexturl=", "aria-label": "First account menu link to navigate to my profile information" }))),
                                                        preact_1.h("div", { class: "u02usertools" },
                                                            preact_1.h("div", { class: "u02menucontent" },
                                                                preact_1.h("h5", { "aria-label": "Oracle account options" }, "Oracle Account"),
                                                                preact_1.h("div", { class: "u02menu-l1" },
                                                                    preact_1.h("ul", null,
                                                                        preact_1.h("li", null,
                                                                            preact_1.h("a", { "aria-label": "Navigate to my account configurations", id: "u02pfile-acct", href: "https://profile.oracle.com/myprofile/account/secure/update-account.jspx?nexturl=", "data-lbl": "account" }, "Account")),
                                                                        preact_1.h("li", null,
                                                                            preact_1.h("a", { "aria-label": "Navigate to Help with your oracle account", href: "https://www.oracle.com/corporate/contact/help.html", "data-lbl": "help" }, "Help")),
                                                                        preact_1.h("li", null,
                                                                            preact_1.h("a", { "aria-label": "Sign out option", href: "#", id: "u02pfile-sout", "data-lbl": "signout" }, "Sign Out"))))))),
                                                    preact_1.h("div", { class: "u02userinw1 u02userloggedout" },
                                                        preact_1.h("div", { class: "u02usertools" },
                                                            preact_1.h("h5", null, "Oracle Account"),
                                                            preact_1.h("p", null,
                                                                "Manage your account and access personalized content.\u00A0",
                                                                preact_1.h("a", { class: "u02acclink", href: "https://profile.oracle.com/myprofile/account/create-account.jspx", "aria-label": "First account menu link to navigate to create a new oracle account" }, "Sign up for an Oracle Account")),
                                                            preact_1.h("div", { class: "u02bttn" },
                                                                preact_1.h("a", { "aria-label": "Navigate to sign in to my account", href: "https://www.oracle.com/webapps/redirect/signon?nexturl=", id: "u02pfile-regs", "data-lbl": "signin", role: "button" }, "Sign in to my Account")))),
                                                    preact_1.h("div", { class: "u02userinw2" },
                                                        preact_1.h("div", { class: "u02usertools" },
                                                            preact_1.h("h5", null, "Sign in to Cloud"),
                                                            preact_1.h("p", null,
                                                                "Access your cloud dashboard, manage orders, and more.\u00A0",
                                                                preact_1.h("a", { "aria-label": "Navigate to free cloud platform trial", class: "u02acclink", href: "https://docs.oracle.com/pls/topic/lookup?ctx=en/cloud/iaas&id=try-free-tier" }, "Free Cloud Platform Trial")),
                                                            preact_1.h("div", { class: "u02bttn" },
                                                                preact_1.h("a", { href: "https://docs.oracle.com/pls/topic/lookup?ctx=en/cloud/iaas&id=sign-into-cloud", "data-lbl": "signin", role: "button", "aria-label": "Last account menu link to navigate to sign in to oracle cloud" }, "Sign in to Cloud"))))))),
                                        (publication.isSolution || publication.isLearn) &&
                                            preact_1.h("li", { class: "u02mtool", id: "u02cmenu" },
                                                preact_1.h("a", { id: "u02cmenulink", "aria-label": this.state.translations.ariaLabels.selectPageLanguage, href: "/en/lang-en.html#u02countrymenu", class: "u02ticon u02regn" }))))),
                        preact_1.h("a", { id: "maincontent", tabIndex: -1 })))));
        }
        componentDidMount() {
            this.loadUtilityBar();
        }
        loadUtilityBar() {
            const jQuery = $;
            const self = this;
            jQuery.fn.equalHeight = function (force) {
                let offset;
                let prevoffset;
                var currTallest = 0, currRow = -1, rows = [], count = 0, total = this.length, el, height;
                force = force || false;
                // if only one or no elements in the collection, we can abort
                if (total <= 1)
                    return this;
                return this.each(function () {
                    el = $(this)[0];
                    el.style.height = 'auto';
                    height = el.offsetHeight;
                    // if force, only set it once so that all elements are height matched
                    // use jQuery offset to find doc relative position
                    // prevent slight (< 10px) offset differences from aborting
                    if (count === 0 || !force) {
                        offset = $(el).offset().top / 10;
                    }
                    if (offset !== prevoffset) {
                        currRow++;
                        rows[currRow] = {
                            collection: []
                        };
                        prevoffset = offset;
                        // initialize with first element's height
                        currTallest = height;
                    }
                    else {
                        currTallest = height > currTallest ? height : currTallest;
                    }
                    rows[currRow].collection.push(el);
                    rows[currRow].heightMatch = currTallest;
                    count++;
                    // only run this once after all calcs
                    if (count === total) {
                        rows.forEach(function (row) {
                            if (row.collection.length < 2)
                                return false;
                            row.collection.forEach(function (el) {
                                el.style.height = row.heightMatch + 'px';
                            });
                        });
                    }
                });
            };
            jQuery.fn.prepareHeightTransition = function () {
                return this.each(function () {
                    var $el = $(this), rehide = false, hgt, resizeTimeout;
                    // forcing a unique namespace seems to fix the resize problem, also not allowing for custom namespaces
                    var namespace = $el.data('phnamespace') ||
                        (Math.floor(Math.random() * 10000000) + '-' + Math.floor(Math.random() * 100000));
                    $el.data('phnamespace', namespace);
                    $(window).off('resize.' + namespace).on('resize.' + namespace, function (e) {
                        // only run once resizing is done
                        clearTimeout(resizeTimeout);
                        resizeTimeout = setTimeout(function () {
                            $el.prepareHeightTransition();
                        }, 500);
                        return false;
                    });
                    // if the element is hidden because of a parent, we have to unhide the parent
                    // for a moment to be able to calculate auto height
                    if ($el.is(':hidden')) {
                        rehide = true;
                        // use show to display initial default value
                        $el.parentsUntil('section', ':hidden').addClass('heightprep').show();
                    }
                    // get the calculated auto height
                    // need to make sure any transitions don't delay height calc
                    $el[0].style.transitionDuration = '0ms';
                    $el[0].style.height = 'auto';
                    hgt = window.getComputedStyle($el[0], null).height;
                    // set css variable for referencing in open class
                    $el[0].style.setProperty('--fullHeight', hgt);
                    // set a class for referencing/re-calling from other code: $('.oheight')
                    $el.addClass('oheight');
                    // unset the inline styles
                    $el[0].style.height = '';
                    $el[0].style.transitionDuration = '';
                    if (rehide) {
                        $el.parentsUntil('section', '.heightprep').removeClass('heightprep').css('display', '');
                    }
                });
            };
            var CLS_OCOMBASE = 'ocom-base', CLS_RESPONSIVE = 'ocom-responsive', CLS_SMAP = 'u02smap', CLS_NAV = 'u02nav', CLS_LOCALNAV = 'u02v1', CLS_LOCALW2 = 'u02w2', CLS_LOCALW3 = 'u02w3', CLS_SHOW = 'u02show', CLS_INIT = 'u02init', CLS_DTOP = 'u02dtop', CLS_TAB = 'u02tab', CLS_MOBILE = 'u02mobi', CLS_TABNAV = 'u02tabnav', CLS_MENULINK = 'u02menulink', CLS_CONTENT = 'u02menucontent', CLS_MLINK = 'u02mlink', CLS_MAINMENU = 'u02mainmenu', CLS_MEGAMENU = 'u02megamenu', CLS_MEGACTR = 'u02megactr', CLS_SKIPOPEN = 'u02skipo', CLS_LOGO = 'u02logo', CLS_LOCLABEL = 'u02local', CLS_LOGOW2 = 'u02logow2', CLS_NOSPLIT = 'u02noflyout', CLS_TOOLS = 'u02tools', CLS_NOTOOLS = 'u02notools', CLS_TOOLPOP = 'u02toolpop', CLS_MTOOL = 'u02mtool', CLS_TICON = 'u02ticon', CLS_NOOVERRIDE = 'u02nooverride', CLS_LOGGEDOUT = 'u02toolsloggedout', CLS_LOGGEDIN = 'u02toolsloggedin', CLS_USER = 'u02userinfo', CLS_USERDATA = 'u02userdata', CLS_ULINK = 'u02ulink', CLS_CMENU = 'u02countrymenu', CLS_REGN = 'u02regn', CLS_CURREGN = 'u02currentcr', CLS_DEFLTREGN = 'u02currentdr', CLS_CURRCTRY = 'u02currentcc', CLS_CMENUL1 = 'u02cmenu-l1', CLS_CMENUL2 = 'u02cmenu-l2', CLS_CMENUCOL = 'u02cmenuc1', CLS_CMENU3COL = 'u02cm3cols', CLS_CLINK = 'u02clink', CLS_CMENUPOP = 'u02cmenupop', CLS_CONTACT = 'u02contact', CLS_CTMENU = 'u02contactmenu', CLS_MENUWRAP = 'u02menuwrap', CLS_EQHEIGHT = 'u02mheight', CLS_BTTNS = 'u02bttns', CLS_HASBTTNS = 'u02hasbttns', CLS_DROPDOWN = 'u02dropdown', CLS_HASMENU = 'u02menu-hasm', CLS_NOMENU = 'u02menu-nomn', CLS_NOSUBMENU = 'u02nosub', CLS_MENUL1 = 'u02menu-l1', CLS_MENUL2 = 'u02menu-l2', CLS_MENUL3 = 'u02menu-l3', CLS_MENUUL = 'u02menu-ul', CLS_MENULI = 'u02menu-li', CLS_POINTER = 'u02menu-l1z1', CLS_OFFSTATE = 'u02z86d', CLS_MORE = 'u02more', CLS_MORELIST = 'u02morelist', CLS_PADDED = 'u02padded', CLS_BACK = 'u02menuback', CLS_OPEN = 'u02opened', CLS_CLOSE = 'u02closing', CLS_CLICKOPEN = 'u02clickopen', CLS_STAYOPEN = 'u02stayopen', CLS_L2OPEN = 'u02l2open', CLS_L3OPEN = 'u02l3open', CLS_HIDE = 'u02hidefast', CLS_HIDEMENU = 'u02hidemenu', CLS_TLINK = 'u02tlink', CLS_BLINK = 'u02blink', CLS_XLINK = 'u02xlink', CLS_HLINK = 'u02hlink', CLS_RTL = 'rtl', CLS_SEARCH = 'u02search', CLS_SEARCHPOP = 'u02searchpop', CLS_SEARCHFORM = 'u02searchform', CLS_SEARCHBTTN = 'u02searchbttn', CLS_FOCUS = 'sfocus', CLS_ERROR = 'serror', CLS_NOHOVER = 'u02nohover', INPUT_SEARCH = 'input#txtSearch', HTML_POINTER = '<div class="' + CLS_POINTER + '"><i></i></div>', DATA_TFWD = 'tfwd', DATA_CLONED = 'u02bttncloned', EV_MOUSEIN = 'mouseenter', EV_MOUSEOUT = 'mouseleave', EV_POINTOVER = 'pointerover', EV_POINTDOWN = 'pointerdown', EV_CLICK = 'click', EV_KEYDOWN = 'keydown', EV_TOUCH = 'touchend', EV_TOUCHST = 'touchstart', EV_FOCUS = 'focus', EV_BLUR = 'blur', EV_SUBMIT = 'submit', EV_RESIZE = 'resize', EV_ORIENT = 'orientationchange', EV_READY = 'u02ready', EV_MENUOPEN = 'u02menuopen', EV_MENUCLOSE = 'u02menuclose', EV_GLOBALRS = [], NS_U02 = 'u02', NS_MOREMENU = 'moremenu', winW = 0, navType = '', IS_TOUCH = 'ontouchstart' in window, IS_RTL, // must initialize after document ready
            classList = function (arr) {
                return (Array.isArray(arr) && arr.filter(function (cls) {
                    // remove any false refs
                    return !!cls;
                }).join(' ')) || arr;
            }, eventList = function (arr, namespc) {
                var ns = namespc || '';
                return classList((Array.isArray(arr) &&
                    arr.map(function (ev) {
                        return [ev, ns].join('.');
                    })) ||
                    [arr, ns].join('.') ||
                    arr);
            }, classSelector = function (arr, mod) {
                return (Array.isArray(arr) &&
                    arr.map(function (cls) {
                        return (Array.isArray(mod) &&
                            mod.map(function (m) {
                                return (Array.isArray(cls) &&
                                    '.' + cls.join(m + ' .') + m) ||
                                    '.' + cls + m;
                            }).join()) ||
                            (Array.isArray(cls) &&
                                '.' + cls.join(' .') + (mod || '')) ||
                            '.' + cls + (mod || '');
                    }).join()) ||
                    (Array.isArray(mod) &&
                        mod.map(function (m) {
                            return '.' + arr + m;
                        }).join()) ||
                    '.' + arr + (mod || '');
            }, createElement = function (tag, clsArr, attrObj) {
                var el = document.createElement(tag);
                clsArr = clsArr || [];
                clsArr = Array.isArray(clsArr) ? clsArr : [clsArr];
                attrObj = attrObj || {};
                Object.keys(attrObj).map(function (key) {
                    el[key] = attrObj[key];
                });
                return $(el).addClass(classList(clsArr));
            };
            /**
             * Adds tabindex attribute and removes aria-hidden from descendant <a> tags
             * 	of the provided open submenu root that have a computed visibility of visible.
             * 	This passed in parameter should be a boolean check whether to do this,
             * 	since it is an expensive style calculation...
             */
            jQuery.fn.addAriaAttributes = function (needsAria) {
                return needsAria && this.each(function () {
                    var $target = $(this);
                    $target.find('a').get().forEach(function (a) {
                        var link = a;
                        window.requestAnimationFrame(function () {
                            if (window.getComputedStyle(link, null).visibility === 'visible') {
                                link.removeAttribute('aria-hidden');
                                link.setAttribute('tabindex', 0);
                            }
                        });
                    });
                }) || this;
            };
            /**
             * Removes tabindex attribute and adds aria-hidden for *all*
             * 	descendant <a> tags that have a computed visibility of hidden.
             * 	This passed in parameter should be a boolean check whether to do this,
             * 	since it is an expensive style calculation...
             */
            jQuery.fn.removeAriaAttributes = function (needsAria) {
                return needsAria && this.each(function () {
                    var $target = $(this);
                    $target.find('a').get().forEach(function (a) {
                        var link = a;
                        window.requestAnimationFrame(function () {
                            if (window.getComputedStyle(link, null).visibility === 'hidden') {
                                link.setAttribute('aria-hidden', true);
                                link.setAttribute('tabindex', -1);
                            }
                        });
                    });
                }) || this;
            };
            /**
             * Creates a progressive flyout menu within the provided
             *  nav container.
             *
             *  Expects a structure like:
             *    *container*
             *      > div.u02menu-l1
             *        > ul
             *          > li [x number of menu items]
             *            > a
             *            > div.u02menul1 [if submenu]
             *              > ul
             *                > li [x number of menu items]
             *                  > a
             *                  > div.u02menul2 [if submenu]
             *                    > ul
             *                      > li [x number of menu items]
             *                        > a
             *                        > div.u02menul3 [if submenu]
             *                          > ul
             *                            > li
             *                              > a
             */
            jQuery.fn.FlyoutMenu = function () {
                return this.each(function () {
                    var $menu = $(this);
                    $menu.find(classSelector([CLS_MENUL1, CLS_MENUL2, CLS_MENUL3]))
                        .addClass(classList([CLS_MENUWRAP, CLS_EQHEIGHT]));
                    $menu.find(classSelector([CLS_MENUL2, CLS_MENUL3]))
                        .closest('li').addClass(CLS_HASMENU);
                    $menu.find('li').each(function () {
                        var $li = $(this), btxt;
                        if ($li.hasClass(CLS_HASMENU)) {
                            btxt = $li.children(classSelector(CLS_TLINK)).text();
                            // clone submenu headings that are outbound links
                            $li.children(classSelector(CLS_TLINK)).each(function () {
                                return !/#open$/.test(this.href) &&
                                    $(this).clone()
                                        .prependTo($li.find('ul').first())
                                        .removeClass(CLS_TLINK).addClass(classList([CLS_XLINK, CLS_HLINK]))
                                        .wrap(createElement('li', CLS_NOSUBMENU)) || 1;
                            });
                            $li.find('ul').first()
                                .prepend(createElement('li', [CLS_BACK, CLS_NOSUBMENU])
                                .html(createElement('a', CLS_BLINK, { href: '#back' }).text(btxt)));
                        }
                        else {
                            $li.addClass(CLS_NOSUBMENU);
                        }
                    });
                    $menu.find(classSelector([CLS_MENUL1, CLS_MENUL2, CLS_MENUL3], ' > ul')).each(function () {
                        var $ul = $(this).addClass(CLS_MENUUL);
                        $ul.children('li').each(function () {
                            var $li = $(this).addClass(CLS_MENULI);
                            return ((!$li.find('a').closest('li').hasClass(CLS_HASMENU) &&
                                !$li.find(classSelector(CLS_BLINK))[0]) &&
                                $li.find('a').removeClass(CLS_TLINK).addClass(CLS_XLINK)) || 1;
                        });
                    });
                    $menu.find(classSelector(CLS_MENUL1), ' > ul > li').each(function () {
                        var $li = $(this);
                        return (!$li.hasClass(CLS_HASMENU) &&
                            $li.addClass(CLS_NOMENU)
                                .children('a').removeClass(CLS_TLINK).addClass(CLS_XLINK)) || 1;
                    });
                });
            };
            /**
             * Utility function to position a direct
             * 	submenu container, when that container extends beyond
             * 	the bounds of the viewport (its parent <nav>).
             * 	Used by jQuery.fn.MoreMenu upon initialization (page load)
             * 	 and called after the window.resize event for recalc
             */
            jQuery.fn.menuShift = function (lvl1, lvl2, notL1, moveTgt) {
                if (!this.length) {
                    return this;
                }
                var $ctr = this.closest('.u02w1'), netW = $(window).width(), bounds = $ctr[0].getBoundingClientRect(), calcShift = function ($el) {
                    var rect = $el[0].getBoundingClientRect();
                    return (rect.left < bounds.left && Math.abs(bounds.left - rect.left)) ||
                        (rect.right > bounds.right && Math.abs(bounds.right - rect.right)) ||
                        0;
                }, DATA_XSHIFT = 'xshift';
                lvl1 = lvl1 || CLS_MENUL2;
                lvl2 = lvl2 || CLS_MENUL3;
                notL1 = notL1 || CLS_MORELIST;
                moveTgt = moveTgt || false;
                return this.each(function () {
                    var $target = $(this), $menu1, $menu2, $offMenu, $moveMenu, shiftProp, shiftVal, widthVal;
                    // unset any existing styles before running
                    $target.find(classSelector(lvl1)).addBack().each(function () {
                        var $el = $(this);
                        if ($el.data(DATA_XSHIFT)) {
                            $el.css($el.data(DATA_XSHIFT), '')
                                .css('width', '');
                        }
                    });
                    $menu1 = $target.children(classSelector(lvl1));
                    // use u02menu-l3 in calc only if we are not within the more menu
                    // and if not mobile
                    $menu2 = !$menu1.closest(classSelector(notL1)).length &&
                        (navType !== 'MOBI') &&
                        $menu1.find(classSelector(lvl2)).first();
                    // assign which menu is used for the calc - set to false if no shift needed
                    $offMenu = ($target.length && calcShift($target) !== 0 && $target) ||
                        ($menu1.length && calcShift($menu1) !== 0 && $menu1) ||
                        ($menu2.length && calcShift($menu2) !== 0 && $menu2);
                    $moveMenu = (moveTgt && $target) || $menu1;
                    if ($offMenu && $offMenu.length) {
                        // run this on the next frame to make sure
                        // 	unset styles have been recalc'd and applied
                        window.requestAnimationFrame(function () {
                            if ($moveMenu.outerWidth() > netW) {
                                $moveMenu.width(netW);
                            }
                            shiftProp = IS_RTL ? 'right' : 'left';
                            shiftVal = calcShift($offMenu);
                            // add the transform, store a ref to prop to unset on next call
                            $moveMenu.css(shiftProp, ['-=', shiftVal, 'px'].join(''))
                                .data(DATA_XSHIFT, shiftProp);
                            widthVal = calcShift($moveMenu);
                            if (widthVal !== 0) {
                                $moveMenu.css('width', ['-=', widthVal, 'px'].join(''));
                            }
                            // force global resize handlers to run to correct
                            // 	wrongly assigned dtop/mobi classes when content
                            // 	was overflowing the window
                            EV_GLOBALRS.forEach(function (ev) {
                                setTimeout($(window).triggerHandler.bind($(window), ev), 0);
                            });
                        });
                    }
                });
            };
            /**
             * Creates a tab menu within the provided container, with a 'More' dropdown
             *  for top level items that cannot fit within the container's width
             *
             *  Expects an existing structure on page
             *    (must be injected if fetched by ajax)
             *  nav
             *    .u02w2 (can be nested deeper, eg. within u02w1)
             *      *container*
             *        div.u02menu-l1
             *          > ul
             *            > li [x number of menu items]
             *              > a
             *              > div.u02menul1 [if submenu]
             *                > ul
             *                  > li [x number of menu items]
             *                    > a
             *                    > div.u02menul2 [if submenu]
             *                      > ul
             *                        > li [x number of menu items]
             *                          > a
             *                          > div.u02menul3 [if submenu]
             *                            > ul
             *                              > li
             *                                > a
             *    .u02w3 (generated if not included in markup)
             */
            jQuery.fn.MoreMenu = function () {
                return this.each(function (i) {
                    var $ctr = $(this), $u02w2 = $ctr.closest(classSelector(CLS_LOCALW2)), $u02 = $ctr.closest('.u02'), $nav = $ctr.closest(classSelector(CLS_NAV)), TXT_MORE = $nav.data('moretxt') || 'More', $listCtr = $ctr.find(classSelector(CLS_MENUL1, ' > ul')), $btnCtr = ($nav.find('.u02w3').length && $nav.find('.u02w3')) ||
                        createElement('div', 'u02w3').appendTo($nav.find('.u02w1')), $listItems = function () { return $listCtr.find('> li').not(classSelector(CLS_MORE)); }, $moreCtr = createElement('li', [CLS_MORE, CLS_MENULI, CLS_HASMENU, $nav.find(classSelector(CLS_MEGAMENU)).length && CLS_MEGAMENU])
                        .html(createElement('a', CLS_TLINK, { href: '#open' }).text(TXT_MORE))
                        .appendTo($listCtr), $moreMenu = createElement('div', [CLS_MORELIST, CLS_MENUL2, CLS_MENUWRAP, CLS_EQHEIGHT])
                        .append(createElement('ul', CLS_MENUUL))
                        .appendTo($moreCtr).find(classSelector(CLS_MENUUL)), moreArr = [], working = false, resizeTimeout;
                    function setupPointer() {
                        var $pointer = $ctr.find(classSelector(CLS_POINTER)).length ?
                            $ctr.find(classSelector(CLS_POINTER)) :
                            $(HTML_POINTER);
                        // move flyout pointer to u02menu-l2, since u02menu-l1
                        //  contains top-level links
                        $pointer.insertBefore($ctr.find(classSelector(CLS_MENUL2)));
                    }
                    function setupTabs($items) {
                        // adds a data-sort attribute to ensure we can keep
                        // the same order when adding/removing from more menu
                        return $items.each(function (i) {
                            $(this).data({
                                sort: i,
                                reqwidth: $(this).outerWidth()
                            });
                        });
                    }
                    function sortFn(a, b) {
                        return $(a).data('sort') - $(b).data('sort');
                    }
                    function onWindowResized(e) {
                        return !working && (working = true) &&
                            window.requestAnimationFrame(handleMoreMenu);
                    }
                    function handleMoreMenu() {
                        // make sure more menu padding is in place
                        padListItemCtr();
                        // first add back any items that will fit
                        addBackItems();
                        // check for items which have wrapped due to not enough space
                        $listItems().each(handleListItem);
                        // append items to more menu, sorted in the order they appeared
                        $moreMenu.append(moreArr.sort(sortFn))
                            // change behavior of .u02menu-hasm to open/close on click only
                            // 	or if megamenu style, set it to always be open
                            .find(classSelector(CLS_HASMENU))
                            .addClass(function () {
                            return classList([
                                CLS_CLICKOPEN,
                                $(this).hasClass(CLS_MEGAMENU) && CLS_STAYOPEN
                            ]);
                        });
                        clearTimeout(resizeTimeout);
                        resizeTimeout = setTimeout(shiftMenu, 100);
                        // toggle visibility of the more menu, unset flag
                        return toggleMore() &&
                            (working = false) &&
                            $listItems().addAriaAttributes($u02.hasClass(CLS_TABNAV)) &&
                            $moreMenu.removeAriaAttributes($u02.hasClass(CLS_TABNAV));
                    }
                    function addBackItems() {
                        var $item;
                        // if item fits in first row, we remove from moreArr, add back to list items
                        while (moreArr.length && getAvailableWidth() >= $(moreArr[0]).data('reqwidth')) {
                            $item = $(moreArr.shift());
                            $item
                                .find(classSelector([CLS_CLICKOPEN, CLS_STAYOPEN])).addBack()
                                .removeClass(classList([CLS_CLICKOPEN, CLS_STAYOPEN]));
                            $moreCtr.before($item);
                        }
                    }
                    function handleListItem(i, el) {
                        // if item has wrapped to second row,
                        // we add to moreArr, if not there already
                        return (el.offsetTop > 0 &&
                            moreArr.indexOf(el) < 0 &&
                            moreArr.unshift(el)) ||
                            // otherwise return true to prevent .each short-circuit
                            true;
                    }
                    function shiftMenu() {
                        return $listItems().add(classSelector(CLS_MORE)).menuShift();
                    }
                    function toggleMore() {
                        return $moreCtr.toggleClass(CLS_SHOW, !!moreArr.length);
                    }
                    function padListItemCtr() {
                        return ($listCtr[0].style[(IS_RTL ? 'paddingLeft' : 'paddingRight')] = getPadW());
                    }
                    function getAvailableWidth() {
                        // returns the available space between edge of the list container <ul>
                        // and its parent container
                        return $u02w2[0].offsetWidth - $listCtr[0].offsetWidth;
                    }
                    function getPadW() {
                        return $moreCtr.find('> a').outerWidth() + 'px';
                    }
                    setupPointer();
                    setupTabs($listItems());
                    handleMoreMenu();
                    $(window).off(eventList([EV_RESIZE, EV_ORIENT], [NS_U02, NS_MOREMENU, i].join('-')))
                        .on(eventList([EV_RESIZE, EV_ORIENT], [NS_U02, NS_MOREMENU, i].join('-')), onWindowResized);
                });
            };
            /**
             * Creates a megamenu within the provided container, by adding the needed
             * 	container class, specifying which submenus need equal height and
             * 	positioning and sizing the container with menuShift
             *
             *  Expects a structure
             *  *container* li.u02megamenu or div.u02mlink if top-level, single-panel
             *      div.u02menu-l[n]
             *        > ul
             *          > li [x number of menu items]
             *            > a
             *            > div.u02menul[n+1] [if submenu]
             *              > ul
             *                > li [x number of menu items]
             *                  > a
             */
            jQuery.fn.MegaMenu = function () {
                return this.each(function () {
                    var $ctr = $(this), $menuctr = $ctr.children(classSelector([CLS_CONTENT, CLS_MENUL2, CLS_MENUL3]));
                    function setupPointer() {
                        // remove any other added pointers and put one before
                        // 	the menucontent container
                        return $ctr.find(classSelector(CLS_POINTER)).remove() &&
                            $menuctr.before(HTML_POINTER) &&
                            // 	add a class to set flex-basis to position pointer correctly
                            $ctr.closest(classSelector(CLS_LOCALW2)).length &&
                            $ctr.closest(classSelector(CLS_LOCALW2)).addClass(CLS_MEGACTR);
                    }
                    setupPointer();
                    $ctr.closest(classSelector(CLS_MEGACTR))
                        .find(classSelector([CLS_MENUL1, CLS_MENUL2, CLS_MENUL3]))
                        .addClass(CLS_EQHEIGHT);
                    $menuctr.menuShift(null, null, null, true);
                });
            };
            jQuery.fn.focusOnFirstItem = function () {
                $(this).find('.u02mainmenu').find('a').first().focus();
            };
            jQuery.fn.focusOnFirstAccounItem = function () {
                if ($(this).hasClass(CLS_LOGGEDOUT)) {
                    $(this).find(".u02userloggedout").find("a").first().focus();
                }
                else if ($(this).hasClass(CLS_LOGGEDIN)) {
                    $(this).find(".u02userloggedin").find("a").first().focus();
                }
                else {
                    $(this).find(".u02cmenu-simple").find("a").first().focus();
                }
            };
            /**
             * Provides a method for opening child menu of the target element
             * 	and controlling the parent menu item for what level is open.
             * 	Registers one time handlers for closing menu.
             */
            jQuery.fn.openMenu = function () {
                return this.each(function () {
                    var $target = $(this), $top = $target.parents(classSelector(CLS_OPEN)).last(), $u02 = $target.closest(classSelector(NS_U02)), $nav = $target.closest(classSelector(CLS_NAV)), cleanupOnLeave = !IS_TOUCH &&
                        !$u02.hasClass(CLS_MOBILE) &&
                        // no cleanup on megamenu deep submenus
                        !$target.closest(classSelector([CLS_MEGAMENU, [CLS_MEGAMENU, CLS_MENUL2]])).not(classSelector(CLS_MLINK)).length &&
                        !$target.hasClass(CLS_CLICKOPEN);
                    $target
                        .removeClass(CLS_CLOSE)
                        .addClass(CLS_OPEN)
                        .addAriaAttributes($u02.hasClass(CLS_TABNAV))
                        .off(eventList(EV_MOUSEOUT, NS_U02))
                        .one(eventList(EV_MOUSEOUT, NS_U02), (cleanupOnLeave && $target.closeMenu.bind($target)) || null);
                    $target.siblings(classSelector(CLS_HASMENU)).not($target)
                        // prevents double-open bug in mobile
                        // 	(tapping sibling link while submenu is opening)
                        // 	by turning off pointer-events during transition
                        .addClass(classList([CLS_CLOSE, $u02.hasClass(CLS_MOBILE) && CLS_NOHOVER]))
                        .each(function () {
                        var $link = $(this);
                        return $link
                            .data('closeTimeout', setTimeout($link.removeClass.bind($link, CLS_CLOSE), 400)) &&
                            $u02.hasClass(CLS_MOBILE) &&
                            $link.data('nohoverTimeout', setTimeout($link.removeClass.bind($link, CLS_NOHOVER), 300)) ||
                            this;
                    })
                        .find(classSelector([CLS_OPEN, CLS_L2OPEN, CLS_L3OPEN])).addBack()
                        .removeClass(classList([CLS_OPEN, CLS_L2OPEN, CLS_L3OPEN]));
                    $top
                        .addClass(function () {
                        return $(this).hasClass(CLS_L2OPEN) && CLS_L3OPEN || CLS_L2OPEN;
                    });
                    $target.trigger(EV_MENUOPEN);
                });
            };
            /**
             * Provides a method for closing menus within the target element
             * 	or close all that can be called on the top level <nav>
             */
            jQuery.fn.closeMenu = function () {
                return this.each(function () {
                    var $target = $(this), $top = $target.parents(classSelector(CLS_OPEN)).last(), $u02 = $target.closest(classSelector(NS_U02)), openClasses = [CLS_OPEN, CLS_HIDEMENU, CLS_L2OPEN, CLS_L3OPEN];
                    if ($target.hasClass(CLS_NAV)) {
                        $target.find(classSelector(openClasses))
                            .removeClass(classList(openClasses)).end()
                            .find(classSelector([[CLS_CMENUPOP, CLS_SHOW]]))
                            .removeClass(CLS_SHOW).end()
                            .prev(classSelector(CLS_OFFSTATE))
                            .removeClass(CLS_SHOW)
                            .off(eventList([
                            EV_MOUSEIN,
                            EV_TOUCH,
                            EV_CLICK
                        ], NS_U02)).end()
                            .removeAriaAttributes($u02.hasClass(CLS_TABNAV))
                            // kill listener for menuopen for badge flyout
                            .off(eventList(EV_MENUOPEN, [NS_U02, 'badge'].join('-')));
                    }
                    else {
                        $target
                            .addClass(CLS_CLOSE)
                            .data('closeTimeout', setTimeout($target.removeClass.bind($target, CLS_CLOSE), 400))
                            .removeClass(classList([CLS_OPEN, CLS_L2OPEN, CLS_L3OPEN]))
                            .removeAriaAttributes($u02.hasClass(CLS_TABNAV))
                            .find(classSelector(CLS_OPEN)).removeClass(CLS_OPEN).end()
                            .find('a').blur();
                        $top.removeClass(function () {
                            return $(this).hasClass(CLS_L3OPEN) && CLS_L3OPEN || CLS_L2OPEN;
                        });
                        if (!$target.closest(classSelector(CLS_OPEN)).length) {
                            $target.closest(classSelector(CLS_NAV))
                                .prev(classSelector(CLS_OFFSTATE))
                                .removeClass(CLS_SHOW);
                        }
                    }
                    $target.trigger(EV_MENUCLOSE);
                });
            };
            /**
             * Main initialization of U02 nav, both U02v0 (global nav)
             * 	and U02v1 (local nav).  Returns a closure to scope all
             * 	element selectors and event handlers to the initialized
             * 	nav container.
             * @param  {jQuery} $ctr  - the <nav> element (top level container)
             * @param  {number} index - numeric index, eg. from jQuery.each(function(index) { })
             */
            function init($ctr, index) {
                index = index || 0;
                return (function () {
                    var $nav = $ctr, $u02 = $nav.find('> .u02'), $u02m = $u02.find(classSelector(CLS_MLINK)), $others = $(classSelector(CLS_NAV)).not($nav), isGlobal = !$u02.hasClass(CLS_LOCALNAV), 
                    // provides unique namespacing for all
                    // 	event handlers
                    evList = function (arr, namespc) {
                        var ns = [NS_U02, index];
                        if (namespc) {
                            ns.push(namespc);
                        }
                        let v = ns.join('-');
                        return eventList.call(null, arr, v);
                    }, contentCache = {}, menucontent, cmenucontent, ctmenucontent, 
                    // window width reference
                    wcheck = 0, 
                    // window scroll reference
                    wscroll = 0, 
                    // flag for debouncing main resize handler
                    u02working = false, 
                    // flag for short circuiting tool switch
                    hasClosed = false, 
                    // setTimeout ref for debouncing equalHeight fn
                    resizeTimeout;
                    // checks if either .u02nav or ancestor (body) has class .rtl
                    IS_RTL = $nav.add($others).closest(classSelector(CLS_RTL)).length;
                    // menu content is either a link to external site map or
                    // can be included in the markup
                    menucontent = ($u02m.length &&
                        $u02m.find(['a#u02menulink', classSelector(CLS_MENULINK)].join())
                            .first().attr('href')) ||
                        $u02.find(classSelector(CLS_CONTENT)).parent();
                    cmenucontent = isGlobal &&
                        $u02.find('a' + classSelector(CLS_REGN)).attr('href');
                    ctmenucontent = isGlobal &&
                        $u02.find('a' + classSelector(CLS_CONTACT)).attr('href');
                    $nav.before(createElement('div', CLS_OFFSTATE));
                    $u02.data(DATA_TFWD, true);
                    // store a reference to the nav resize events,
                    // 	to call after menu shift of local nav and toolpops
                    // 	addresses race condition of overflow content that
                    // 	gives an incorrect window.innerWidth
                    // 	which can cause incorrectly set dtop/mobi classes
                    EV_GLOBALRS.push(evList(EV_RESIZE));
                    if (isGlobal) {
                        // hamburger markup, toolpop pointers
                        addIconMarkup();
                        // inject badge flyout (only if has local label)
                        addBadgeFlyout();
                        // show/hide user name & menu
                        /* globals USER */
                        addUserInfo(self.getUserInfo());
                        $u02.toggleClass(CLS_NOTOOLS, !$u02.find(classSelector(CLS_TOOLS)).length);
                        // replace country menu source with OTN source on OTN pages
                        if (/oracle\.com\/technetwork/.test(window.location.href) && cmenucontent) {
                            $u02.find('a' + classSelector(CLS_REGN))
                                .attr('href', function () {
                                return this.href.split('#')[0] + '#u02countrymenu-otn';
                            });
                        }
                    }
                    return fetchMenuContent(menucontent)
                        .fail(logError)
                        .then(onMenuContentLoaded)
                        .then(function ($menu) {
                        var $target = ($u02m.length && $u02m) || menucontent;
                        $menu
                            .FlyoutMenu()
                            .appendTo(
                        // if menu content was hard-coded into HTML,
                        // we replace with generated markup
                        $target.find(classSelector(CLS_CONTENT)).length &&
                            $target.find(classSelector(CLS_CONTENT)).remove().end() || $target)
                            .before(HTML_POINTER)
                            .addClass(function () {
                            return isGlobal && CLS_MAINMENU;
                        });
                        if (!isGlobal) {
                            // change behavior of buttons with flyouts to click open
                            $u02.find(classSelector([[CLS_BTTNS, CLS_HASMENU]]))
                                .addClass(classList([CLS_CLICKOPEN, CLS_DROPDOWN]))
                                .find(classSelector(CLS_TOOLPOP))
                                .before(HTML_POINTER);
                            if ($u02.find(classSelector(CLS_MEGAMENU)).length) {
                                // add hamburger markup
                                $u02m.addClass('u02haml')
                                    .find('.u02mlinkw1 > a')
                                    .prepend(createElement('div', 'u02hamenu')
                                    .html('<span class="m2"></span>' +
                                    '<span class="m3"></span>'));
                                $u02.find(classSelector(CLS_MEGAMENU)).MegaMenu();
                            }
                            else {
                                // must initialize after injecting so that
                                // it has a reference to its nav container
                                $menu.MoreMenu();
                                // remove u02mlink class on local nav
                                $u02m.removeClass(CLS_MLINK)
                                    .find('.u02mlinkw1')
                                    .remove();
                                $menu
                                    // remove mheight class / inline styles from top level links
                                    .find(classSelector(CLS_MENUL1))
                                    .removeClass(CLS_EQHEIGHT)
                                    .css('cssText', '');
                            }
                        }
                    })
                        // regardless of menucontent fetch, always run initialization
                        // 	event handlers without targets will fail silently
                        .always(function () {
                        // grep acct links for domain fixing
                        updateLinks(isGlobal);
                        resizeMenu();
                        initDeviceType();
                        initKeyboardEvents();
                        initSkipPanelEvents();
                        initToolPanelEvents();
                        initMenuEvents();
                        // if needed, other code can listen for 'u02ready'
                        return $u02.addClass(CLS_INIT) && $nav.trigger(EV_READY) &&
                            // only trigger resize event on responsive pages
                            ($nav.closest(classSelector([CLS_RESPONSIVE, 'f11'])).length &&
                                $(window).off(evList([EV_RESIZE, EV_ORIENT]))
                                    .on(evList([EV_RESIZE, EV_ORIENT]), onWindowResized));
                    });
                    /////////////////////////////////////////////////////////////////////////////////////////////
                    //  INSTANCE FUNCTIONS
                    /////////////////////////////////////////////////////////////////////////////////////////////
                    function addUserInfo(user) {
                        // only called if isGlobal
                        var $user = $u02.find(classSelector([[CLS_USER, CLS_USERDATA, CLS_ULINK]])), $avatar = $u02.find(classSelector([[CLS_USER, 'u02useravatar']])), NOT_FOUND = 'NOT_FOUND', usertxt = '', avatartxt = '';
                        // legacy compatibility
                        if (!$user.length) {
                            $u02.find('.u02userinw1, .u02userinw2')
                                .wrapInner(function () {
                                return createElement('div', 'u02usertools')
                                    .append($(this).hasClass('u02userloggedin') &&
                                    createElement('div', CLS_CONTENT));
                            })
                                .prepend(function () {
                                return $(this).hasClass('u02userloggedin') &&
                                    createElement('div', CLS_USER)
                                        .append(createElement('div', CLS_USERDATA));
                            }).end()
                                .find('#u02userinfo').remove().end()
                                .find('ul[id="u02usertools"], ul.u02usertools')
                                .removeAttr('id')
                                .removeClass('u02usertools')
                                .wrap(function () {
                                return $(this).closest('.u02userinw1')
                                    .hasClass('u02userloggedin') &&
                                    createElement('div', CLS_MENUL1);
                            })
                                .addClass(function () {
                                return !$(this).closest('[class*="u02userinw"]')
                                    .hasClass('u02userloggedin') &&
                                    'u02usertools-ul';
                            }).end()
                                .find('a.u02bttn')
                                .removeClass('u02bttn')
                                .wrap(function () {
                                return $(this).data('lbl') === 'signin' &&
                                    createElement('div', 'u02bttn');
                            }).end()
                                .find(classSelector(CLS_CONTENT, '> a'))
                                .not(document.getElementById('#u02pfile-acct'))
                                .wrap(createElement('li')).removeClass('u02bttn')
                                .closest('li')
                                .appendTo(classSelector(CLS_CONTENT, ' ul'));
                            $user = $u02.find('#u02pfile-acct')
                                .unwrap()
                                .prependTo($u02.find(classSelector([[CLS_USER, CLS_USERDATA]])))
                                .addClass(CLS_ULINK);
                        }
                        $u02.find('.u02userin')
                            // THINK THIS IS NOT NEEDED...
                            // .prepend('<h5 class="u02pttl u02userloggedin">' +
                            // 						$u02.find('.u02signout').text() +
                            // 					'</h5>\n' +
                            // 					'<h5 class="u02pttl u02userloggedout">' +
                            // 						$u02.find('.u02signin').text() +
                            // 					'</h5>')
                            .find(classSelector(CLS_CONTENT)).FlyoutMenu()
                            .find(classSelector(CLS_EQHEIGHT))
                            // no equal height needed
                            .removeClass(CLS_EQHEIGHT)
                            // remove any inline styles
                            .css('cssText', '').end()
                            // change behavior of .u02menu-hasm to open/close on click only
                            .find(classSelector(CLS_HASMENU))
                            .addClass(CLS_CLICKOPEN).end()
                            // remove back nav
                            .find(classSelector(CLS_BACK)).remove();
                        if (!user || !user.guid) {
                            return false;
                        }
                        if (user.username && user.username !== NOT_FOUND) {
                            usertxt = user.username;
                            avatartxt = user.username[0].toUpperCase();
                        }
                        if (user.firstname && user.firstname !== NOT_FOUND &&
                            user.lastname && user.lastname !== NOT_FOUND) {
                            usertxt = [user.firstname, user.lastname].join(' ');
                            avatartxt = [user.firstname[0].toUpperCase(),
                                user.lastname[0].toUpperCase()].join('');
                        }
                        else if (user.firstname && user.firstname !== NOT_FOUND) {
                            usertxt = user.firstname;
                            avatartxt = user.firstname[0].toUpperCase();
                        }
                        else {
                            $user.addClass('u02usernoname');
                        }
                        $user
                            .text(usertxt.trim())
                            .attr('data-lbl', 'user-account');
                        if ($avatar.length) {
                            // only use text if no icon or image
                            if (!$avatar.children('div').first().is('[class*="u02icn"]') &&
                                !$avatar.find('img').length) {
                                $avatar.children('div').first().empty().append('<h6>' + avatartxt + '</h6>');
                            }
                        }
                        $u02.find(classSelector(CLS_LOGGEDOUT))
                            .removeClass(CLS_LOGGEDOUT)
                            .addClass(CLS_LOGGEDIN);
                    }
                    function buildCountryMenu(html) {
                        var $src = $u02.find(classSelector(CLS_REGN)), href = $src.length && $src.attr('href'), 
                        // needed if called from local nav menu content
                        $tool = $nav.add($others).find('#u02cmenu'), $pointer = $(HTML_POINTER), $toolpop = createElement('div', [CLS_CMENUPOP, CLS_TOOLPOP]), cmid, $cmenu;
                        // make sure that no-override flag has not been set by
                        // 	country menu built from	local nav menu source
                        if (isGlobal && $src.hasClass(CLS_NOOVERRIDE)) {
                            return false;
                        }
                        cmid = href && href.split('#')[1] || CLS_CMENU;
                        $cmenu = $('#' + cmid, html);
                        $cmenu.find(classSelector(CLS_CMENUL1, ' > li')).each(function () {
                            var $li = $(this), btxt = $li.children(classSelector(CLS_CLINK)).text();
                            $li.find('> div > ul').first()
                                .prepend(createElement('li', [CLS_BACK, CLS_NOSUBMENU])
                                .html(createElement('a', CLS_BLINK, { href: '#back' }).text(btxt)));
                        });
                        $cmenu.find(classSelector(CLS_CMENUL2)).each(function () {
                            var $menu = $(this);
                            if ($menu.find(classSelector(CLS_CMENUCOL)).length === 3) {
                                $menu.addClass(CLS_CMENU3COL);
                                $menu.closest(classSelector(CLS_CMENU)).addClass(CLS_CMENU3COL);
                            }
                        });
                        $cmenu.find(classSelector(CLS_CMENU, ' > ul'))
                            .prepend(createElement('li', 'u02pttl-li')
                            .html(createElement('h5', 'u02pttl').text($tool.find(classSelector(CLS_TICON)).text())));
                        $cmenu.find(classSelector(CLS_CURREGN)).addClass(CLS_DEFLTREGN);
                        $tool
                            .append(!$tool.find(classSelector(CLS_POINTER)).length && $pointer)
                            .append(!$tool.find(classSelector(CLS_TOOLPOP)).length && $toolpop)
                            .find(classSelector(CLS_CMENUPOP)).html($cmenu).end()
                            .find('h5.u02pttl, .u02ticon > span').text(function () {
                            return $cmenu.data('toollabel') || $tool.find(classSelector(CLS_TICON)).text();
                        });
                        if ($tool.find(classSelector(CLS_CMENUPOP, ' .u02cmenu-simple')).length) {
                            $tool.find(classSelector(CLS_CMENUPOP)).addClass(CLS_CMENUPOP + '-simple');
                        }
                        else {
                            $tool.find(classSelector(CLS_CMENUPOP)).removeClass(CLS_CMENUPOP + '-simple');
                        }
                        $tool.find(classSelector(CLS_REGN)).attr('href', '#' + cmid)
                            // flags no-override if countrymenu came from local menu source,
                            // 	needed due to async timing of menucontent calls - local menu
                            // 	may hit before global menu source
                            .addClass(function () {
                            return !isGlobal && CLS_NOOVERRIDE;
                        });
                        addAriaTree();
                        var languageParam = getUrlVars()['lang'];
                        if (languageParam) {
                            $('.u02countrymenu > ul > li > a.u02currentcc').removeClass('u02currentcc');
                            $('.u02countrymenu > ul > li').find('a[href="' + languageParam + '"]').addClass('u02currentcc');
                        }
                        return setCountryIndicator();
                    }
                    function getUrlVars() {
                        const queryParameters = location.search.slice(1);
                        const params = {};
                        const regex = /([^=]*)=([^&]*)&*/g;
                        let match;
                        while (match = regex.exec(queryParameters)) {
                            params[match[1]] = match[2];
                        }
                        return params;
                    }
                    function buildContactMenu(html) {
                        var $src = $u02.find(classSelector(CLS_CONTACT)), 
                        // needed if called from local nav menu content
                        $tool = $nav.add($others).find('#u02contact'), $pointer = $(HTML_POINTER), $toolpop = createElement('div', [CLS_CONTACT, CLS_TOOLPOP]), isLocal = $u02.hasClass(CLS_LOCALNAV), ctmid, $ctmenu;
                        // make sure that no-override flag has not been set by
                        // 	country menu built from	local nav menu source
                        if (!isLocal && $src.hasClass(CLS_NOOVERRIDE)) {
                            return false;
                        }
                        // legacy markup support for #u02call
                        if (!$tool.length) {
                            $tool = $nav.add($others).find('#u02call')
                                .attr('id', CLS_CONTACT)
                                .removeClass('u02mbttn')
                                .addClass(CLS_MTOOL)
                                .find(classSelector(CLS_TICON))
                                .removeClass('u02call o-call')
                                .addClass(CLS_CONTACT).end();
                        }
                        ctmid = $src.length && $src.attr('href').split('#')[1] ?
                            $src.attr('href').split('#')[1] : CLS_CTMENU;
                        $ctmenu = $('#' + ctmid, html).length && $('#' + ctmid, html) ||
                            // legacy support for u02modal content
                            $('.u02callmodal', html).removeClass('u02mod').attr('id', CLS_CTMENU);
                        $tool
                            .append(!$tool.find(classSelector(CLS_POINTER)).length && $pointer)
                            .append(!$tool.find(classSelector(CLS_TOOLPOP)).length && $toolpop)
                            .find(classSelector(CLS_TOOLPOP)).html($ctmenu).end()
                            .find(classSelector(CLS_TICON, '> span')).text(function () {
                            return $ctmenu.data('toollabel') || $tool.find(classSelector(CLS_TICON)).text();
                        });
                        $tool.find('a' + classSelector(CLS_CONTACT)).attr('href', '#' + ctmid)
                            // flags no-override if countrymenu came from local menu source,
                            // 	needed due to async timing of menucontent calls - local menu
                            // 	may hit before global menu source
                            .addClass(function () {
                            return isLocal && CLS_NOOVERRIDE;
                        });
                    }
                    function updateLinks(isGlobal) {
                        var $pacct = $u02.find('#u02pfile-acct, .u02ulink'), $pregs = $u02.find('#u02pfile-regs'), $psout = $u02.find('#u02pfile-sout'), hloco = window.location.host, turl = encodeURI(window.location.href.replace(/^http:/gi, 'https:'))
                            .replace(/^https:\/\/www-content/gi, 'http://www-content');
                        if ($pacct.length) {
                            $pacct.attr('href', $pacct.attr('href').replace(/nexturl=/gi, 'nexturl=' + turl));
                        }
                        if ($pregs.length) {
                            $pregs.attr('href', $pregs.attr('href').replace(/nexturl=/gi, 'nexturl=' + turl));
                        }
                        if ($psout.length) {
                            $psout.attr('href', $psout.attr('href').replace(/p_done_url=/gi, 'p_done_url=' + turl));
                        }
                        // if page is in a frame target top
                        if (window.frameElement) {
                            $u02.find('a', classSelector(CLS_SEARCHFORM)).attr('target', '_top');
                        }
                        return (/www-(sites|stage)\.oracle\.com/.test(hloco) &&
                            ($pregs.attr('href', $pregs.attr('href')
                                .replace(/www\.oracle\.com/, 'www-portal-stage.oracle.com')) &&
                                $psout.attr('href', $psout.attr('href')
                                    .replace(/login\.oracle\.com/, 'login-stage.oracle.com')))) ||
                            (/^(?!portal-)stage\.oracle\.com/.test(hloco) &&
                                ($pregs.attr('href', $pregs.attr('href')
                                    .replace(/www\.oracle\.com/, 'www-content-stage.oracle.com')))) ||
                            (/www-(sites-)?dev/.test(hloco) &&
                                ($pregs.attr('href', $pregs.attr('href')
                                    .replace(/www\.oracle\.com\/webapps/, 'adc2170261.us.oracle.com')) &&
                                    $psout.attr('href', $psout.attr('href')
                                        .replace(/login\.oracle\.com/, 'adc2201490.us.oracle.com')))) ||
                            (/www-content\.oracle/.test(hloco) &&
                                ($pregs.attr('href', $pregs.attr('href')
                                    .replace(/www\.oracle\.com/, 'www-content.oracle.com')))) ||
                            (/portal-stage\.oracle/.test(hloco) &&
                                ($pregs.attr('href', $pregs.attr('href')
                                    .replace(/.*nexturl=/gi, 'http://www-portal-stage.oracle.com/webapps/redirect/signon?nexturl='))));
                    }
                    function addIconMarkup() {
                        // add hamburger markup
                        $u02m.addClass('u02haml')
                            .find('a')
                            .prepend(createElement('div', 'u02hamenu')
                            .html('<span class="m1"></span>' +
                            '<span class="m2"></span>' +
                            '<span class="m3"></span>' +
                            '<span class="m4"></span>'));
                        // add xtra object to toolpop (can't use before)
                        $u02.find(classSelector(CLS_TOOLPOP))
                            .before(HTML_POINTER);
                        if ($u02.find(classSelector(CLS_SEARCH)).length) {
                            // add search link object for opening search on mobile
                            $u02.find('.u02menu')
                                .before(createElement('a', [], { id: 'mobisearch', href: '#search' })
                                .html(createElement('span').text($u02.find('#u02skip2s').text())
                                .html('<i class="u02i1"></i><i class="u02i2"></i>')));
                        }
                        $u02.find('.u02userlogins > a')
                            .append(createElement('div', 'u02loginmenu')
                            .html('<span class="m2"></span>' +
                            '<span class="m3"></span>'));
                    }
                    function addBadgeFlyout() {
                        if (!$u02.find(classSelector(CLS_LOCLABEL)).length ||
                            $u02.find(classSelector(CLS_LOGO)).hasClass(CLS_NOSPLIT)) {
                            return false;
                        }
                        var $logo = $u02.find(classSelector(CLS_LOGO)), $ga = $logo.find('a'), $la = $u02.find(classSelector(CLS_LOCLABEL, ' a')), globalLink = $ga.attr('href'), globalTxt = $ga.attr('title') || $ga.text().trim(), localLink = $la.attr('href'), localTxt = $la.attr('title') || $la.text().trim();
                        return createElement('div', CLS_LOGOW2)
                            .append(createElement('a', null, {
                            href: localLink,
                            title: localTxt,
                            textContent: localTxt
                        }))
                            .append(createElement('hr'))
                            .append(createElement('a', null, {
                            href: globalLink,
                            title: globalTxt,
                            textContent: globalTxt
                        }))
                            .appendTo($logo)
                            .removeAriaAttributes($u02.hasClass(CLS_TABNAV))
                            .addAriaAttributes($u02.hasClass(CLS_TABNAV))
                            .before(HTML_POINTER) &&
                            $logo.on(evList([EV_MOUSEIN, EV_TOUCH, EV_CLICK]), onBadgeTrigger);
                        function onBadgeTrigger(e) {
                            var namespc = [NS_U02, 'badge'].join('-');
                            // follow links within flyout
                            if ($(e.target).is('a') &&
                                $(e.target).closest(classSelector(CLS_LOGOW2)).length) {
                                return true;
                            }
                            if (IS_TOUCH && (e.type === EV_MOUSEIN || e.type === EV_MOUSEOUT)) {
                                return false;
                            }
                            e.preventDefault();
                            return (!$logo.hasClass(CLS_OPEN) &&
                                $nav.add($others).closeMenu() &&
                                $u02.find('#mobisearch, #u02search').removeClass(CLS_SEARCHPOP) &&
                                $logo.openMenu() &&
                                $nav.add($others)
                                    .off(eventList(EV_MENUOPEN, namespc))
                                    .one(eventList(EV_MENUOPEN, namespc), $logo.closeMenu.bind($logo))) ||
                                ($logo.closeMenu() &&
                                    $nav.add($others).off(eventList(EV_MENUOPEN, namespc)));
                        }
                    }
                    function toolSwitch($li) {
                        // always blur search field
                        $nav.add($others).find(INPUT_SEARCH).blur();
                        // short circuit on load, resize handler
                        if ((!$li || $li == null) && hasClosed) {
                            return true;
                        }
                        resetCountryMenu(function () {
                            $u02.find(classSelector(CLS_CMENU))
                                // set to data-attr to allow for clearing on region change
                                .data('cmenuTimeout', setTimeout(cmenuEqualHeight, 400));
                        });
                        $u02.find(classSelector([[CLS_TOOLS, CLS_OPEN]]))
                            // don't close toolpop if we're in a menu inside it
                            .not(function () {
                            return $li && !$li.hasClass(CLS_MTOOL) ||
                                $li && $li.length &&
                                    $li.closest(classSelector(CLS_MTOOL))[0] === this;
                        })
                            .closeMenu();
                        if ($li && $li.length) {
                            $li.addClass(CLS_OPEN);
                            if ($li.hasClass(CLS_MTOOL)) {
                                $li.addAriaAttributes($u02.hasClass(CLS_TABNAV));
                                // prep height transition on user more menu
                                $li.find(classSelector(CLS_MENUL2)).prepareHeightTransition();
                            }
                            if (!$u02.hasClass(CLS_MOBILE)) {
                                $u02m.add($others).closeMenu();
                            }
                            if ($li.hasClass("clicked")) {
                                $li.focusOnFirstAccounItem();
                            }
                            $nav.prev(classSelector(CLS_OFFSTATE)).addClass(CLS_SHOW)
                                .off(evList([EV_TOUCH, EV_CLICK], 'toolpop'))
                                .one(evList([EV_TOUCH, EV_CLICK], 'toolpop'), toolSwitch.bind(null, null));
                            // TOOL PANELS CLOSE ON LEAVE - DESKTOP
                            $li.one(EV_MOUSEOUT, !IS_TOUCH &&
                                $u02.hasClass(CLS_DTOP) &&
                                $li.hasClass(CLS_MTOOL) &&
                                function () {
                                    $li.addClass(CLS_NOHOVER);
                                    toolSwitch(null);
                                    setTimeout($li.removeClass.bind($li, CLS_NOHOVER), 600);
                                });
                            return $li.trigger(EV_MENUOPEN) && (hasClosed = false);
                        }
                        else {
                            return $u02.find(classSelector(CLS_MTOOL))
                                .off(EV_MOUSEOUT)
                                .closeMenu() &&
                                (hasClosed = true);
                        }
                    }
                    function shiftToolPop() {
                        var $toolpops = $u02.find(classSelector(CLS_TOOLPOP));
                        return $u02.hasClass(CLS_DTOP) &&
                            window.requestAnimationFrame($toolpops.menuShift.bind($toolpops, null, null, null, true)) || 1;
                    }
                    function shiftMegaMenu() {
                        var $megamenus = $u02.find(classSelector([[CLS_MEGACTR, CLS_MLINK], CLS_MEGAMENU]))
                            .children(classSelector([
                            CLS_CONTENT,
                            navType !== 'MOBI' && CLS_MENUL2
                        ]));
                        return (navType === 'MOBI' &&
                            $u02.find(classSelector([[CLS_MEGACTR, CLS_MENUL2]]))
                                // unset any previous width calc
                                .css('width', '') || 1) &&
                            $megamenus.length &&
                            window.requestAnimationFrame($megamenus.menuShift.bind($megamenus, CLS_MENUL1, null, null, true));
                    }
                    function onWindowResized(e) {
                        return !u02working &&
                            (u02working = true) &&
                            window.requestAnimationFrame(resizeMenu.bind(null, e));
                    }
                    function resizeMenu(e) {
                        //  iOS/Chrome reports false values for window.innerWidth
                        //  	on orientationchange, so more reliable to just check
                        //  	the width of the nav
                        //  *BUT* because the presence of scrollbar can impact this size,
                        //  	we can't use it to determine whether to set dtop/mobi class
                        //  	so we use the content of the :before which gets set by CSS
                        winW = $nav.outerWidth();
                        // reliably gets 'DTOP', 'TAB' or 'MOBI' based on media query
                        navType = window.getComputedStyle($u02[0], ':before').content.replace(/\W/g, '');
                        // test if nav width has changed to prevent code running on iOS onscroll
                        if (wcheck !== winW || (e && e.type === 'orientationchange')) {
                            wcheck = winW;
                            // defer equal height processing until resize is complete
                            clearTimeout(resizeTimeout);
                            $nav.closeMenu();
                            // SET MOBILE
                            if (navType === 'MOBI') {
                                $u02.removeClass(classList([CLS_TAB, CLS_DTOP])).addClass(CLS_MOBILE);
                                cloneButtons();
                                // SET DESKTOP
                            }
                            else {
                                $u02.addClass(CLS_DTOP)
                                    .toggleClass(CLS_TAB, navType === 'TAB')
                                    .removeClass(CLS_MOBILE);
                                removeClonedButtons();
                            }
                            resizeTimeout = setTimeout(function () {
                                return equalHeights() && shiftToolPop() && shiftMegaMenu();
                            }, 100);
                            // remove any menuclose listeners attached for targetEqualHeights
                            $nav.find(classSelector(CLS_HASMENU)).off(evList(EV_MENUCLOSE));
                        }
                        return (u02working = false);
                    }
                    function equalHeights() {
                        return $nav
                            .find(classSelector(CLS_EQHEIGHT)).css('height', '').end()
                            .find(classSelector([
                            [CLS_MAINMENU, CLS_MENUL1],
                            [[CLS_LOCALNAV, CLS_DTOP].join('.'),
                                CLS_MENUL1 + '> ul >', CLS_HASMENU
                            ]
                        ]))
                            .not(classSelector([
                            CLS_MEGAMENU,
                            [CLS_MEGAMENU, CLS_HASMENU]
                        ]))
                            .each(function () {
                            var $eqHts = $(this).find(classSelector(CLS_EQHEIGHT))
                                .addBack(classSelector(CLS_EQHEIGHT)).addClass(CLS_SHOW);
                            window.requestAnimationFrame(function () {
                                $u02.find(classSelector(CLS_PADDED)).removeClass(CLS_PADDED);
                                $eqHts.equalHeight(true).removeClass(CLS_SHOW);
                                return !isGlobal && $u02.find(classSelector(CLS_MORELIST)).addClass(CLS_PADDED);
                            });
                        }) &&
                            cmenuEqualHeight() &&
                            megamenuEqualHeights() &&
                            !isGlobal && $u02.find(classSelector([CLS_MEGAMENU, CLS_MENUL2])).addClass(CLS_PADDED);
                    }
                    function targetEqualHeights($target) {
                        $u02.find(classSelector(CLS_EQHEIGHT)).css('height', '').end()
                            .find(classSelector(CLS_PADDED)).removeClass(CLS_PADDED);
                        var $eqHts = $target.parents(classSelector([
                            CLS_MENUL2,
                            navType !== 'DTOP' && CLS_MENUL1
                        ]))
                            .find(classSelector(CLS_EQHEIGHT))
                            .addBack(classSelector(CLS_EQHEIGHT))
                            .filter(function () {
                            // only include open menus
                            return $(this).closest(classSelector([CLS_MLINK, CLS_HASMENU])).hasClass(CLS_OPEN);
                        })
                            .addClass(CLS_SHOW), 
                        // use the natural height of the open menu instead of the tallest
                        eqHeight = $target.find(classSelector(CLS_EQHEIGHT))
                            .first().outerHeight();
                        return window.requestAnimationFrame(function () {
                            $eqHts.css('height', eqHeight).removeClass(CLS_SHOW);
                            return $u02.find(classSelector(CLS_MORELIST)).addClass(CLS_PADDED);
                        }) &&
                            $target.one(evList(EV_MENUCLOSE), function (e) {
                                e.stopPropagation();
                                // only reset on close if in mobile
                                return navType === 'MOBI' && targetEqualHeights($target.parents(classSelector([CLS_HASMENU, CLS_MLINK])).first());
                            });
                    }
                    function megamenuEqualHeights() {
                        // only do equal height in tablet/mobile view
                        return navType !== 'DTOP' &&
                            $nav.find(classSelector(CLS_MEGACTR))
                                .each(function () {
                                var $eqHts = $(this).find(classSelector(CLS_EQHEIGHT))
                                    .addBack(classSelector(CLS_EQHEIGHT))
                                    // no u02menu-l3 in tablet
                                    .not(classSelector(navType === 'TAB' && CLS_MENUL3))
                                    // no u02menu-l2 for single-panel megamenu
                                    .not(classSelector($u02m.hasClass(CLS_MEGAMENU) && CLS_MENUL2))
                                    .addClass(CLS_SHOW);
                                return (navType === 'TAB' &&
                                    $u02.find(classSelector([[CLS_MEGACTR, CLS_MENUL3]]))
                                        // unset any previous height calc for menu-l3 in tablet
                                        .css('height', '') || 1) &&
                                    window.requestAnimationFrame(function () {
                                        return $eqHts.equalHeight(true).removeClass(CLS_SHOW);
                                    });
                            }) ||
                            $nav.find(classSelector(CLS_EQHEIGHT)).css('height', '');
                    }
                    function cmenuEqualHeight(force) {
                        // only need to do the current region - this gets re-called on region change
                        var $cmenus = $u02.find(classSelector([CLS_CMENUL1, [CLS_CURREGN, CLS_CMENUL2]])), 
                        // iPad Chrome mis-reports window.innerWidth on orientationchange,
                        // 	so we just base it off of media query css of toolpop panel
                        doheight = $u02.find(classSelector(CLS_CMENUPOP)).width() > 340 || !!force;
                        // clear any running timeout from resetCountryMenu
                        clearTimeout($u02.find(classSelector(CLS_CMENU)).data('cmenuTimeout'));
                        // unset existing equal height styles
                        return $u02.find(classSelector([CLS_CMENUL1, CLS_CMENUL2], '[style*="height"]'))
                            .css('height', '') &&
                            (doheight && $cmenus.equalHeight(true)) || 1;
                    }
                    function resetCountryMenu(cb) {
                        // reset region to default
                        if (!$u02.find(classSelector([[CLS_CURREGN, CLS_DEFLTREGN]])).length) {
                            $u02.find(classSelector(CLS_DEFLTREGN, ' > a')).focus();
                            $u02.find(classSelector(CLS_CURREGN)).removeClass(CLS_CURREGN);
                            $u02.find(classSelector(CLS_DEFLTREGN)).addClass(CLS_CURREGN);
                        }
                        $u02.find(classSelector([[CLS_CMENU, CLS_SHOW]])).removeClass(CLS_SHOW);
                        return cb && cb();
                    }
                    /* globals PDITLocaleMap */
                    function setCountryIndicator() {
                        var $links = $(classSelector(CLS_CMENUPOP, ' a:not(.u02clink):not(.u02blink)')), siteid = $('meta[name="siteid"]').attr('content'), DATA_CURR = 'data-currentcc';
                        /*return ('undefined' === typeof PDITLocaleMap || siteid == null) ||
              
                            PDITLocaleMap.init().then(function (data) {
              
                                var $label = $links
                                    // store a data-attr with a score for how many types of matches
                                    // 	are found for a given link, since englishcountryname may not
                                    // 	be what's displayed, so also have to check siteid against href
                                    .attr(DATA_CURR, function () {
                                        var matches = 0;
                                        matches += +(this.textContent === data[siteid].englishcountryname);
                                        matches += +(this.textContent === data[siteid].countryname);
                                        matches += +(this.textContent.localeCompare(data[siteid].countryname) === 0);
                                        matches += +(new RegExp('/' + siteid + '/', 'i').test(this.href));
                                        return matches;
                                    })
                                    // remove non-matches
                                    .filter(function () {
                                        return +$(this).attr(DATA_CURR) > 0;
                                    })
                                    // sort by highest match first
                                    .sort(function (a, b) {
                                        var aScore = +$(a).attr(DATA_CURR),
                                            bScore = +$(b).attr(DATA_CURR);
                                        return aScore > bScore ? -1
                                            : aScore < bScore ? 1
                                                : 0;
                                    })
                                    // return the first
                                    .eq(0);
              
                                return $links.removeAttr(DATA_CURR) &&
              
                                    $label.length &&
              
                                    // remove any existing current tags
                                    $(classSelector(CLS_CMENUPOP))
                                        .find(classSelector([CLS_CURREGN, CLS_DEFLTREGN, CLS_CURRCTRY]))
                                        .removeClass(classList([CLS_CURREGN, CLS_DEFLTREGN, CLS_CURRCTRY])) &&
              
                                    // apply current tags to the match and parent region
                                    $label
                                        .closest(classSelector([CLS_CMENUL1], '> li'))
                                        .addClass(classList([CLS_CURREGN, CLS_DEFLTREGN])) &&
              
                                    // need to run equalHeight
                                    cmenuEqualHeight(true);
                            }); */
                    }
                    function cloneButtons() {
                        return $u02.hasClass(CLS_LOCALNAV) &&
                            $u02.data(DATA_CLONED) == null &&
                            $u02.data(DATA_CLONED, true)
                                .find(classSelector(CLS_BTTNS))
                                .clone()
                                .removeClass(CLS_LOCALW3)
                                .find(classSelector(CLS_SEARCH)).remove().end()
                                .appendTo($u02.find(classSelector(CLS_MEGACTR)).length &&
                                $u02.find(classSelector(CLS_MENUL1)).addClass(CLS_HASBTTNS) ||
                                $u02.find(classSelector(CLS_MENUL1, '> ul > li'))
                                    .find(classSelector(CLS_MENUL2)).addClass(CLS_HASBTTNS));
                    }
                    function removeClonedButtons() {
                        return $u02.hasClass(CLS_LOCALNAV) &&
                            !$u02.hasClass(CLS_MEGAMENU) &&
                            !!$u02.data(DATA_CLONED) &&
                            $u02.removeData(DATA_CLONED)
                                .find(classSelector(CLS_HASBTTNS))
                                .removeClass(CLS_HASBTTNS)
                                .find(classSelector(CLS_BTTNS))
                                .remove();
                    }
                    function inputHasFocus(i) {
                        return $(i).is(':focus') || $(i).hasClass(CLS_FOCUS);
                    }
                    function hasScrolled() {
                        var newY = window.scrollY;
                        return Math.abs(newY - wscroll) > 5;
                    }
                    function fetchMenuContent(endpoint) {
                        if (!endpoint.length) {
                            return $.Deferred().reject();
                        }
                        // if passed a jQuery object of menu, return as html string
                        // if url matches content already fetched, return the cached html string
                        // otherwise we do the ajax call and pass to the ajax handler
                        return (endpoint instanceof jQuery &&
                            $.Deferred().resolve(endpoint[0].outerHTML)) ||
                            // if this endpoint has already been fetched
                            // 	return the cached promise
                            contentCache[endpoint.split('#')[0]] ||
                            // otherwise assign this ajax request to the cache
                            // 	and make the call to the endpoint
                            (contentCache[endpoint.split('#')[0]] =
                                $.ajax({
                                    url: endpoint,
                                    type: 'GET',
                                    contentType: 'text/plain; charset=UTF-8',
                                    crossDomain: true,
                                    // support for custom/modified headers config
                                    /* globals beforeMenuContentFetch */
                                    /*beforeSend: 'undefined' !== typeof beforeMenuContentFetch &&
                                        beforeMenuContentFetch*/
                                }));
                    }
                    function onMenuContentLoaded(data) {
                        var // id ref from country tool link
                        cid = /#\w+$/.exec(cmenucontent), cCls = classSelector([[CLS_SMAP, CLS_CMENU]]), cSelect = !!cid && [cid[0], cCls].join() || cCls, 
                        // id ref from contact tool link
                        ctid = /#\w+$/.exec(ctmenucontent), ctCls = classSelector([[CLS_SMAP, CLS_CTMENU]]), ctSelect = !!ctid && [ctid[0], ctCls, '#o-call'].join() || [ctCls, '#o-call'].join(), $menu, $cmenu, $ctmenu;
                        // convert H5's to A
                        data = data.replace(/<([^h/>]*)h5/g, '<a class="' + CLS_TLINK + '" href="#open" ')
                            .replace(/<\/h5>/g, '</a>');
                        // if passed inline content from local nav (.u02w2), use > .u02menucontent
                        // 	otherwise, confine the find to .u02smap (external site map) to prevent
                        // 	picking up other header menucontent, eg. from .u02usertools
                        $menu = $(data).hasClass(CLS_LOCALW2) && $(data).children(classSelector(CLS_CONTENT)) ||
                            $(data).find(['#u02mainmenu', classSelector([[CLS_SMAP, CLS_CONTENT]])].join()).first();
                        $cmenu = $(data).find(cSelect).first();
                        $ctmenu = $(data).find(ctSelect).first();
                        $menu.addClass(CLS_CONTENT)
                            .find(classSelector([CLS_MENUL1, CLS_MENUL2], '> ul > li > a'))
                            .addClass(CLS_TLINK)
                            .attr('href', function () {
                            // don't use or return this.href b/c it always resolves to full url
                            var href = $(this).attr('href') || '';
                            // if no href defined, set to #open
                            return (!href.length ||
                                /#open$/.test(href)) && '#open' ||
                                href;
                        });
                        // for univeral pages force full path on all menu links in global nav
                        if ($nav.hasClass(CLS_OCOMBASE) && isGlobal) {
                            $menu.find('a[href^="/"]')
                                .not('[href$="#open"]')
                                .attr('href', function () {
                                // don't use or return this.href b/c it always resolves to full url
                                var href = $(this).attr('href');
                                // don't rewrite country/contact menu links
                                // Changed 'https://www.oracle.com' by window.location.origin
                                return !$(this).hasClass(CLS_TICON) &&
                                    href;
                            });
                        }
                        if ($cmenu.length) {
                            buildCountryMenu(data.replace(new RegExp(CLS_TLINK, 'g'), CLS_CLINK));
                        }
                        // if a different menucontent url is set in country tool,
                        // 	we have to fetch that content and override country menu
                        if (isGlobal && 'undefined' !== typeof cmenucontent &&
                            cmenucontent.split('#')[0].length &&
                            cmenucontent.split('#')[0] !== menucontent.split('#')[0]) {
                            fetchMenuContent(cmenucontent)
                                .then(function (data) {
                                buildCountryMenu(data
                                    .replace(/<([^h/>]*)h5/g, '<a class="' + CLS_CLINK + '" href="#open" ')
                                    .replace(/<\/h5>/g, '</a>'));
                            })
                                .fail(logError);
                        }
                        if ($ctmenu.length) {
                            buildContactMenu(data);
                        }
                        // if a different menucontent url is set in contact tool,
                        // 	we have to fetch that content and override contact menu
                        if (isGlobal && 'undefined' !== typeof ctmenucontent &&
                            ctmenucontent.split('#')[0].length &&
                            ctmenucontent.split('#')[0] !== menucontent.split('#')[0]) {
                            fetchMenuContent(ctmenucontent)
                                .then(buildContactMenu)
                                .fail(logError);
                        }
                        $u02.find(['#u02menulink', classSelector(CLS_MENULINK)].join())
                            .attr({
                            href: isGlobal && '#main-menu' || '#local-menu',
                            'data-lbl': 'menu'
                        })
                            .closest('.u02menu').attr('data-trackas', 'menu');
                        return $.Deferred().resolve($menu);
                    }
                    function initMenuEvents() {
                        ////////////////////////////////////////////////////////////////////////////////////////
                        // MAIN MENU EVENTS
                        ////////////////////////////////////////////////////////////////////////////////////////
                        // MENU OPEN ON HOVER - DESKTOP
                        $nav.on(evList(EV_MOUSEIN), classSelector([[CLS_DTOP, CLS_MLINK], [CLS_DTOP, CLS_HASMENU]]), function (e) {
                            var $target = $(this);
                            // if clickopen menu return false on non-touch
                            return (!IS_TOUCH && !$target.hasClass(CLS_CLICKOPEN)) &&
                                $target.openMenu() &&
                                (($u02.find(classSelector(CLS_MEGAMENU, classSelector(CLS_HASMENU))).length &&
                                    navType === 'TAB' &&
                                    !$target.closest(classSelector(CLS_MENUL2)).length) &&
                                    // run equal height from first menu for megamenu tablet
                                    // 	for initial open of hamburger
                                    targetEqualHeights($target.hasClass(CLS_MLINK) &&
                                        navType === 'TAB' &&
                                        $target.find(classSelector(CLS_HASMENU)).first() ||
                                        $target) || 1) &&
                                toolSwitch();
                        });
                        $nav.on(evList(EV_TOUCHST), function () {
                            wscroll = window.scrollY;
                        });
                        // FOLLOW XLINKS
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector(CLS_XLINK), function (e) {
                            return !hasScrolled() && true;
                        });
                        // MENU OPEN/CLOSE ON CLICK - DESKTOP / MOBILE
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector([CLS_MLINK, CLS_CLICKOPEN, CLS_HASMENU]), function (e) {
                            var $target = $(this), 
                            // get the link that was clicked on -
                            // 	samdung tablet is not assigning e.target correctly,
                            // 	nor calling the first bound handler (the xlink handler above)
                            // 	so we have explicitly assign e.target to innermost element (?!)
                            $actual = $(e.target).is(classSelector(CLS_NOSUBMENU)) &&
                                $(e.target).children('a') || $(e.target), isMainMenu = $target.hasClass(CLS_MLINK), isSubMenu = $target.hasClass(CLS_CLICKOPEN);
                            if (e.type === EV_CLICK && $actual.closest('a').hasClass(CLS_XLINK)) {
                                return true;
                            }
                            // prevent menu close if container is clicked or touch scrolling
                            if (!$actual.closest('a').length &&
                                $actual.closest($target).not($actual).length ||
                                hasScrolled() ||
                                hasClickPrevented($target) ||
                                e.isDefaultPrevented()) {
                                return;
                            }
                            if (e.cancelable) {
                                e.preventDefault();
                            }
                            // follow outbound links & mobile persistent buttons
                            //  closest allows for an inner wrap on anchor tag
                            if ($actual.closest('a').hasClass(CLS_XLINK) ||
                                ($actual.closest(classSelector(CLS_BTTNS)).length &&
                                    !$actual.closest(classSelector(CLS_DROPDOWN)).length)) {
                                return $nav.closeMenu() && $actual.closest('a')[0].click();
                            }
                            $others.closeMenu();
                            if ($target.hasClass(CLS_OPEN)) {
                                return ((!$target.hasClass(CLS_MEGAMENU) || $target.hasClass(CLS_MLINK)) || navType !== 'TAB') &&
                                    $target.closeMenu() &&
                                    isMainMenu &&
                                    $nav.find(classSelector([[CLS_MOBILE, CLS_TOOLS]])).closeMenu() &&
                                    toolSwitch();
                            }
                            $u02.find(classSelector(CLS_SEARCHPOP)).removeClass(CLS_SEARCHPOP);
                            $target.openMenu();
                            if (($u02.hasClass(CLS_LOCALNAV) && navType === 'MOBI') ||
                                ($u02.find(classSelector(CLS_MEGAMENU, classSelector(CLS_HASMENU))).length &&
                                    navType === 'TAB' &&
                                    !$target.closest(classSelector(CLS_MENUL2)).length)) {
                                // run equal height from first menu for megamenu tablet
                                // 	for initial open of hamburger
                                targetEqualHeights($target.hasClass(CLS_MLINK) &&
                                    navType === 'TAB' &&
                                    $target.find(classSelector(CLS_HASMENU)).first() ||
                                    $target);
                            }
                            $others.off(evList(EV_MENUOPEN)).on(evList(EV_MENUOPEN), $target.closeMenu.bind($target));
                            return toolSwitch(isSubMenu && $target) &&
                                isMainMenu &&
                                $nav.find(classSelector([[CLS_MOBILE, CLS_TOOLS]])).openMenu();
                        });
                        $nav.on(evList([EV_KEYDOWN]), classSelector([CLS_MLINK, CLS_CLICKOPEN, CLS_HASMENU]), function (e) {
                            var $target = $(this), $actual = $(e.target).is(classSelector(CLS_NOSUBMENU)) &&
                                $(e.target).children('a') || $(e.target);
                            if (e.type === EV_KEYDOWN && e.keyCode === 13 && $actual.is("#u02menulink")) {
                                e.preventDefault();
                                $target.openMenu().focusOnFirstItem();
                            }
                        });
                        // MENU OPEN SUB MENU LINKS - DESKTOP
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector(CLS_TLINK), function (e) {
                            var $actual = $(e.target), $target = $actual.closest(classSelector(CLS_HASMENU));
                            if (hasScrolled() || hasClickPrevented($target) || e.isDefaultPrevented()) {
                                return;
                            }
                            // in the case of megamenu, with top level outbound links
                            // 	and submenu is shown in dtop, we hijack the click,
                            // 	convert to xlink and refire
                            // 	to be handled by menu-hasm handler
                            if ($u02.find(classSelector(CLS_MEGAMENU)).length &&
                                $u02.hasClass(CLS_DTOP) &&
                                !/#open$/.test($actual.closest('a').attr('href'))) {
                                return $actual.closest('a').addClass(CLS_XLINK)[0].click();
                            }
                            if (e.cancelable) {
                                e.preventDefault();
                            }
                            return ($target.hasClass(CLS_OPEN) &&
                                ((!$target.hasClass(CLS_MEGAMENU) || $target.hasClass(CLS_MLINK)) || navType !== 'TAB') &&
                                $target.closeMenu()) ||
                                $others.closeMenu() &&
                                    $target.openMenu() &&
                                    ((($u02.hasClass(CLS_LOCALNAV) &&
                                        navType === 'MOBI') ||
                                        // run target eq heights for megamenu-multi in tab
                                        ($u02.find(classSelector(CLS_MEGAMENU, classSelector(CLS_HASMENU))).length &&
                                            navType === 'TAB' &&
                                            !$target.closest(classSelector(CLS_MENUL2)).length)) &&
                                        targetEqualHeights($target) || 1) &&
                                    toolSwitch();
                        });
                        // MENU HIDE UL BG FASTER - DESKTOP
                        $nav.on(evList(EV_MOUSEIN), classSelector([[CLS_DTOP, CLS_NOSUBMENU]]), function () {
                            $(this).closest('ul').addClass(CLS_HIDE);
                            setTimeout(function () {
                                $u02.find(classSelector(CLS_HIDE)).removeClass(CLS_HIDE);
                            }, 1100);
                        });
                        //  MENU HIDE UL BG FASTER - DESKTOP
                        $nav.on(evList(EV_MOUSEIN), classSelector([[CLS_DTOP, CLS_HASMENU]]), function () {
                            $u02.find(classSelector(CLS_HIDE)).removeClass(CLS_HIDE);
                        });
                        // MENU CLOSE SUB MENU LINKS ON FOCUS OF SIBLINGS LINKS - DESKTOP
                        $nav.on(evList(EV_FOCUS), classSelector([CLS_MENUL1, CLS_MENUL2], ' > ul > li > a'), function () {
                            var $items = $(this).closest(classSelector(CLS_HASMENU))
                                .siblings(classSelector(CLS_OPEN));
                            return $items.length && $items.closeMenu();
                        });
                        // MENU BACK LINKS
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector(CLS_BACK), function (e) {
                            if (e.isDefaultPrevented()) {
                                return;
                            }
                            e.preventDefault();
                            return $(this).closest(classSelector(CLS_HASMENU)).closeMenu();
                        });
                        $nav.on(evList(EV_MENUOPEN), classSelector([[CLS_TAB, CLS_MEGACTR, CLS_MLINK]]), function (e) {
                            var $target = $(e.target);
                            return $target.hasClass(CLS_MLINK) &&
                                $target.find(classSelector(CLS_MEGAMENU)).first().openMenu();
                        });
                    }
                    function initKeyboardEvents() {
                        ////////////////////////////////////////////////////////////////////////////////////////
                        // KEYBOARD EVENTS
                        ////////////////////////////////////////////////////////////////////////////////////////
                        $nav.on(evList(EV_KEYDOWN), function (e) {
                            /////////KEYBOARD EVENT FOR HAMBURGER MENU////////////
                            if ($u02.find(".u02mlink").hasClass(CLS_OPEN)) {
                                var firstL1Link = $u02.find(".u02mainmenu").find('a').first(), firstL2Link = $u02.find(".u02mainmenu").find(".u02opened").find('.u02menu-l2').find(".u02nosub").not(".u02menuback").find('a').first(), lastL1Link = $u02.find(".u02mainmenu").find('a').last(), lastL2Link = $u02.find(".u02mainmenu").find(".u02opened").find('.u02menu-l2').find(".u02nosub").find('a').last(), currentItem = $(document.activeElement).parent();
                                switch (e.keyCode) {
                                    case 37:
                                        {
                                            if (currentItem.parent().parent().parent().hasClass(CLS_OPEN)) {
                                                currentItem.parent().parent().parent().closeMenu().find('a').first().focus();
                                            }
                                            break;
                                        }
                                    case 38:
                                        {
                                            currentItem.prev().find('a').first().focus();
                                            if (currentItem.is(":first-child")) {
                                                lastL1Link.focus();
                                            }
                                            else if (currentItem.is(":nth-child(2)")) {
                                                lastL2Link.focus();
                                            }
                                            break;
                                        }
                                    case 13:
                                        {
                                            if ($(document.activeElement).parent().hasClass(CLS_NOSUBMENU)) {
                                                break;
                                            }
                                        }
                                    case 39:
                                        {
                                            e.preventDefault();
                                            if (currentItem.hasClass(CLS_HASMENU)) {
                                                currentItem.openMenu().find(".u02nosub").not(".u02menuback").find('a').first().focus();
                                            }
                                            break;
                                        }
                                    case 40:
                                        {
                                            e.preventDefault();
                                            currentItem.next().find('a').first().focus();
                                            if (currentItem.is(":last-child")) {
                                                if (currentItem.parent().parent().parent().hasClass(CLS_OPEN)) {
                                                    firstL2Link.focus();
                                                }
                                                else {
                                                    firstL1Link.focus();
                                                }
                                            }
                                            break;
                                        }
                                    case 9:
                                        {
                                            $u02.find(".u02mlink").find('a').focus();
                                            if (e.shiftKey) {
                                                $u02.find(".u02mlinkw1").find('a').focus();
                                            }
                                            break;
                                        }
                                    case 27:
                                        {
                                            $u02.find(".u02mlink").find('a').first().focus();
                                            $u02.find("#u02main.u02mlink").removeClass(CLS_OPEN);
                                            break;
                                        }
                                }
                            }
                            /////////KEYBOARD EVENT FOR ACCOUNT MENU ///////////
                            if ($u02.find(".u02mtool.u02accmenu").hasClass(CLS_OPEN)) {
                                switch (e.keyCode) {
                                    case 27:
                                        {
                                            $u02.find(".u02mtool.u02accmenu").find('a').first().focus();
                                            $u02.find("li.u02mtool.u02accmenu").removeClass(CLS_OPEN);
                                            break;
                                        }
                                }
                            }
                            /////////KEYBOARD EVENT FOR LANGUAGE MENU////////////
                            if ($u02.find(".u02mtool#u02cmenu").hasClass(CLS_OPEN)) {
                                var firstLLink = $u02.find(".u02countrymenu").find('a').first(), lastLLink = $u02.find(".u02countrymenu").find('a').last(), currentItem = $(document.activeElement).parent();
                                switch (e.keyCode) {
                                    case 38:
                                        {
                                            currentItem.prev().find("a").focus();
                                            if (currentItem.is(":nth-child(2)")) {
                                                lastLLink.focus();
                                            }
                                            break;
                                        }
                                    case 40:
                                        {
                                            e.preventDefault();
                                            currentItem.next().find("a").focus();
                                            if (currentItem.is(":last-child")) {
                                                firstLLink.focus();
                                            }
                                            break;
                                        }
                                    case 9:
                                        {
                                            $("li.u02mtool a:first-child").focus();
                                            if (e.shiftKey) {
                                                $u02.find(".u02mtool").find("a").first().focus();
                                            }
                                            break;
                                        }
                                    case 27:
                                        $u02.find('.u02mtool#u02cmenu').find('a').first().trigger('focus');
                                        $u02.find('li.u02mtool#u02cmenu').removeClass(CLS_OPEN);
                                        break;
                                }
                            }
                            if (e.keyCode === 9 && $u02.length) {
                                $u02.data(DATA_TFWD, !e.shiftKey);
                            }
                            if (e.keyCode === 27) {
                                if ($u02.hasClass(CLS_MOBILE)) {
                                    $nav.closeMenu();
                                }
                                else {
                                    $nav.find(classSelector(CLS_OPEN)).last().closeMenu();
                                }
                            }
                        });
                    }
                    function initDeviceType() {
                        var namespc = [NS_U02, 'input'].join('-');
                        $nav.add($others).off(eventList([EV_MOUSEIN, EV_TOUCHST, EV_KEYDOWN], namespc))
                            .on(eventList(EV_KEYDOWN, namespc), onFirstTab)
                            .on(eventList([EV_MOUSEIN, EV_POINTOVER], namespc), onFirstMouseover)
                            .on(eventList([EV_TOUCHST, EV_POINTDOWN], namespc), onFirstTouch);
                        function onFirstTab(e) {
                            return (e.keyCode === 9) &&
                                // just run this on first tab instead of tool panel initialization
                                $u02.find(classSelector(CLS_TOOLS))
                                    .removeAriaAttributes(true).addAriaAttributes(true) &&
                                $nav.add($others)
                                    .find(classSelector(NS_U02)).addClass(CLS_TABNAV).end()
                                    .off(eventList(EV_KEYDOWN, namespc))
                                    .on(eventList(EV_CLICK, namespc), onFirstClick) || 1;
                        }
                        function onFirstClick() {
                            return $nav.add($others)
                                .find(classSelector(NS_U02)).removeClass(CLS_TABNAV).end()
                                .off(eventList(EV_CLICK, namespc))
                                .on(eventList(EV_KEYDOWN, namespc), onFirstTab);
                        }
                        function onFirstMouseover(e) {
                            // generally a very bad idea, but here we have to prevent
                            // the subsequent mouseenter event from firing and unsetting IS_TOUCH
                            if (e.type === EV_POINTOVER) {
                                e.stopImmediatePropagation();
                            }
                            // MS Edge/IE ONLY fires mouseevents for touch
                            // 	but listening for pointerevents will reveal pointerType
                            var gotTouch = e.pointerType === 'touch';
                            return $nav.add($others)
                                .off(eventList([EV_MOUSEIN, EV_POINTOVER, EV_POINTDOWN, EV_TOUCHST], namespc))
                                .on(eventList(
                            // if touch, keep listening for mouseenter
                            gotTouch ?
                                [EV_MOUSEIN, EV_POINTOVER]
                                : [EV_TOUCHST, EV_POINTDOWN], namespc), !gotTouch && onFirstTouch || onFirstMouseover) &&
                                // to prevent a falsey return: !(undefined) = true
                                !(IS_TOUCH = gotTouch);
                        }
                        function onFirstTouch(e) {
                            var gotTouch = e.type === EV_TOUCHST || e.pointerType === 'touch';
                            return $nav.add($others)
                                .off(eventList([EV_MOUSEIN, EV_TOUCHST, EV_POINTOVER, EV_POINTDOWN], namespc))
                                .on(eventList([EV_MOUSEIN, EV_POINTOVER], namespc), onFirstMouseover) &&
                                // to prevent a falsey return: !(undefined) = true
                                !(IS_TOUCH = gotTouch);
                        }
                    }
                    function initSkipPanelEvents() {
                        ////////////////////////////////////////////////////////////////////////////////////////
                        // SKIP PANEL EVENTS
                        ////////////////////////////////////////////////////////////////////////////////////////
                        var $skipmenu = $nav.find('#u02skip2content');
                        // should be added regardless of tabnav initialization
                        $skipmenu.removeAttr('tabindex').addAriaAttributes(true);
                        // SHOW SKIP BAR
                        $nav.on(evList(EV_FOCUS), '#u02skip2content a', function () {
                            $skipmenu.addClass(CLS_SKIPOPEN).trigger(EV_MENUOPEN);
                            $u02.addClass(CLS_TABNAV);
                            // Navigate inside the Skip Bar with right/left arrow keys instead of Tab key
                            $u02.unbind().on(evList(EV_KEYDOWN, 'skip'), function (e) {
                                var firstLLink = $u02.find("#u02skip2content").find('a').first(), lastLLink = $u02.find("#u02skip2content").find('a').last(), currentItem = $(document.activeElement).parent();
                                if ($skipmenu.hasClass(CLS_SKIPOPEN)) {
                                    switch (e.keyCode) {
                                        case 37:
                                            {
                                                if (currentItem.is(":first-child")) {
                                                    lastLLink.focus();
                                                    break;
                                                }
                                                currentItem.prev().find("a").focus();
                                                break;
                                            }
                                        case 39:
                                            {
                                                if (currentItem.is(":last-child")) {
                                                    firstLLink.focus();
                                                    break;
                                                }
                                                currentItem.next().find("a").focus();
                                                break;
                                            }
                                        case 9:
                                            {
                                                if (!e.shiftKey) {
                                                    e.preventDefault();
                                                    $skipmenu.removeClass(CLS_SKIPOPEN);
                                                    $u02.find(".u02logow1").find('a').focus();
                                                }
                                                else {
                                                    firstLLink.focus();
                                                }
                                                break;
                                            }
                                    }
                                }
                            });
                            return $nav.on(evList(EV_KEYDOWN, 'skip'), function (e) {
                                return (e.keyCode === 27) && // escape
                                    $nav.off(evList(EV_KEYDOWN, 'skip')) &&
                                    // don't return false - prevents key nav
                                    $skipmenu.removeClass(CLS_SKIPOPEN) || 1;
                            });
                        });
                        // SKIP TO SEARCH
                        $nav.on(evList(EV_CLICK), '#u02skip2s', function (e) {
                            e.preventDefault();
                            $skipmenu.removeClass(CLS_SKIPOPEN);
                            if ($u02.hasClass(CLS_MOBILE)) {
                                $u02.find('#mobisearch').click();
                            }
                            return $u02.find('input#search-bar-input').focus();
                        });
                        // SKIP TO CONTENT
                        $nav.on(evList(EV_CLICK), '#u02skip2c', function (e) {
                            var _a, _b;
                            e.preventDefault();
                            $skipmenu.removeClass(CLS_SKIPOPEN);
                            (_a = document.getElementById('mainContentPublication')) === null || _a === void 0 ? void 0 : _a.focus();
                            (_b = document.getElementById('publicationContent')) === null || _b === void 0 ? void 0 : _b.scrollIntoView();
                        });
                        // HIDE SKIP BAR ON EXIT OF LAST LINK, JUMP TO MENU
                        $nav.on(evList(EV_BLUR), '#u02skip2content li:last-child a', function () {
                            return $u02.data(DATA_TFWD) &&
                                $skipmenu.removeClass(CLS_SKIPOPEN) &&
                                !inputHasFocus('#search-bar-input');
                        });
                        // HIDE SKIP BAR ON EXIT OF FIRST LINK GOING BACKWARDS
                        $nav.on(evList(EV_BLUR), '#u02skip2content li:first-child a', function () {
                            return !$u02.data(DATA_TFWD) && $skipmenu.removeClass(CLS_SKIPOPEN);
                        });
                        // MAIN MENU CLOSE ON FOCUS OF SKIP LINK
                        $nav.on(evList(EV_FOCUS), classSelector(CLS_DTOP, ' #u02skip2s'), function () {
                            if (!$u02.data(DATA_TFWD)) {
                                $('#u02skip2content').addClass(CLS_SKIPOPEN);
                                $nav.closeMenu();
                            }
                        });
                    }
                    function initToolPanelEvents() {
                        ////////////////////////////////////////////////////////////////////////////////////////
                        // TOOL MENU EVENTS
                        ////////////////////////////////////////////////////////////////////////////////////////
                        // TOOL PANELS OPEN ON HOVER - DESKTOP
                        $nav.on(evList(EV_MOUSEIN), classSelector([[CLS_DTOP, CLS_MTOOL]]), function (e) {
                            var $li = $(this);
                            $li.removeClass("clicked");
                            return !IS_TOUCH && toolSwitch($li);
                        });
                        // TOOL PANELS OPEN/CLOSE ON CLICK - DESKTOP/MOBILE
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector(CLS_MTOOL, '> a'), function (e) {
                            var $li = $(this).closest(classSelector(CLS_MTOOL));
                            $li.removeClass("clicked");
                            return !e.isDefaultPrevented() &&
                                !hasClickPrevented($li) &&
                                toolSwitch(!$li.hasClass(CLS_OPEN) && $li) &&
                                e.preventDefault();
                        });
                        $nav.on(evList([EV_KEYDOWN, EV_TOUCH]), classSelector(CLS_MTOOL, '> a'), function (e) {
                            var $li = $(this).closest(classSelector(CLS_MTOOL));
                            if (e.keyCode === 13) {
                                $li.addClass("clicked");
                                return !e.isDefaultPrevented() &&
                                    !hasClickPrevented($li) &&
                                    toolSwitch(!$li.hasClass(CLS_OPEN) && $li) &&
                                    e.preventDefault();
                            }
                        });
                        // COUNTRY MENU REGION SELECT - DESKTOP/MOBILE
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector(CLS_CLINK), function (e) {
                            var $a = $(this), $others = $u02.find(classSelector(CLS_CLINK)).not($a);
                            if (hasScrolled() || hasClickPrevented($a) || e.isDefaultPrevented()) {
                                return;
                            }
                            if (e.cancelable) {
                                e.preventDefault();
                            }
                            $u02.find(classSelector(CLS_CURREGN)).removeClass(CLS_CURREGN);
                            $others.removeAriaAttributes($u02.hasClass(CLS_TABNAV)).blur();
                            $a.closest('li').addClass(CLS_CURREGN);
                            addAriaTree();
                            // always do equalHeight on menu open
                            return cmenuEqualHeight(true) &&
                                $a.closest('ul').addClass(CLS_SHOW)
                                    .addAriaAttributes($u02.hasClass(CLS_TABNAV));
                        });
                        // COUNTRY MENU BACK TO REGION LINKS
                        $nav.on(evList([EV_CLICK, EV_TOUCH]), classSelector([[CLS_CMENU, CLS_BLINK]]), function (e) {
                            e.preventDefault();
                            return $u02.find(classSelector([[CLS_CMENU, CLS_SHOW]]))
                                .removeClass(CLS_SHOW) &&
                                resetCountryMenu(cmenuEqualHeight);
                        });
                    }
                    //Adds an aria tree to the country selector
                    function addAriaTree() {
                        var label = $u02.find(classSelector(CLS_REGN)).find('span');
                        $u02.find(classSelector(CLS_CMENU)).attr('role', 'tree');
                        $u02.find(classSelector(CLS_CLINK)).attr('role', 'treeitem').attr('aria-selected', 'false').attr('aria-expanded', 'false').attr('aria-labelledby', label[0] !== undefined ? label[0].innerText : '');
                        $u02.find(classSelector(CLS_CURREGN, '> a')).attr('role', 'treeitem').attr('aria-selected', 'true').attr('aria-expanded', 'true').attr('aria-labelledby', label[0] !== undefined ? label[0].innerText : '');
                        $u02.find(classSelector(CLS_CMENUL2)).find('a').attr('role', 'treeitem');
                    }
                    function logError(xhr, status, error) {
                        self.setState({ hasConnection: false });
                        /* eslint no-console:0 */
                        var endpoint = this && this.url;
                        return endpoint && console.warn(endpoint && 'U02: Unable to load content from ' + endpoint + ' (' + xhr.statusText + ')' ||
                            xhr.message && [xhr.message, xhr.stack].join('\n'));
                    }
                    /**
                     * Firefox does not prevent emulated mouse events from
                     * 	touchend events, so set a timeout to return false
                     * 	for 200ms interval after a touchend event
                     */
                    function hasClickPrevented($tgt) {
                        var $target = $tgt;
                        return $target.data('clickPrevent') ||
                            $target.data('clickPrevent', setTimeout(function () {
                                $target.removeData('clickPrevent');
                            }, 600)) && false;
                    }
                })();
            }
            function checkAriaAccessibility() {
                var $nav = $('nav.u02nav');
                $('.u02logos').focusin(function () {
                    $nav.closeMenu();
                });
                $('.u02local').focusin(function () {
                    $nav.closeMenu();
                });
                $('#search-bar-container').focusin(function () {
                    $nav.closeMenu();
                });
                $('.mainContainer').focusin(function () {
                    $nav.closeMenu();
                });
                $(".u02ticon.u02regn").focus(function () {
                    $nav.closeMenu();
                });
                $(".u02ticon.u02user").focus(function () {
                    $nav.closeMenu();
                });
                $('.mainContainer').click(function () {
                    $nav.closeMenu();
                });
                // For accessibility
                $('#u02menulink').attr("aria-haspopup", true);
                $('#u02menulink').attr("aria-controls", "menubar1");
                $('#u02menulink').attr("aria-label", translations_helper_1.default.getTranslations().ariaLabels.siteNavigation);
                $('.u02ulink').attr("aria-label", "First account menu link to navigate to my profile information");
                $('.u02userinw1 a.u02acclink').attr("aria-label", "First account menu link to navigate to create a new oracle account");
                $('div.u02bttn:last-child a').attr("aria-label", "Last account menu link to navigate to sign in to oracle cloud");
                $('#u02cmenulink').attr("aria-haspopup", true);
                $('#u02cmenulink').attr("aria-controls", "countrymenu1");
            }
            $(document).ready(function ($) {
                $('#u02pfile-sout').on('click', self.sso_sign_out);
                var $navs = $('nav.u02nav'), stylesLoaded = function () {
                    return !$navs.length ||
                        $navs.css('position') === 'relative';
                }, initFn = function (i) { init($(this), i); }, navsFn = $navs.each.bind($navs, initFn), initInterval;
                // remove stuff from sitemap/menucontent that needs to be removed
                // 	(only used on site map page)
                $('.u02smap')
                    .addClass(CLS_OCOMBASE)
                    .find('.u02modal, .u02contact').remove().end()
                    .find(classSelector([CLS_MENUL1, CLS_MENUL2], ' > ul > li > hr')).parent().remove().end();
                // rewrite legacy o-call buttons to open lightbox with contactmenu content
                $('a.o-call:not(.u02ticon)').each(function () {
                    return $(this).attr({
                        rel: 'lightbox',
                        href: '#u02contactmenu',
                        'data-theme': 'light'
                    });
                });
                checkAriaAccessibility();
                // make sure styles have loaded before initializing
                //  - otherwise equalHeight calcs are thrown off -
                //  if not, set an interval to recheck
                return (stylesLoaded() && navsFn()) ||
                    (initInterval = setInterval(function () {
                        if (stylesLoaded()) {
                            clearInterval(initInterval);
                            return navsFn();
                        }
                    }, 50));
            });
            utilityBar.init(previewTemplate);
            if ($('html').hasClass('article')) {
                utilityBar.rewriteProductParams();
            }
            else {
                utilityBar.rewriteBookParams();
            }
            utilityBar.handleScopeParams(scopeChipTemplate);
        }
        existsUCMCookie(s) {
            if (s == "ORA_UCM_INFO") {
                if ((this.oraUcmInfo.version != null) && (this.oraUcmInfo.guid != null) && (this.oraUcmInfo.username != null)) {
                    return true;
                }
            }
            return false;
        }
        isUCMRegistered() {
            if (this.existsUCMCookie("ORA_UCM_INFO") == true) {
                return true;
            }
            return false;
        }
        isUCMAnonymous() {
            if ((this.oraUcmInfo.version != null) && (this.oraUcmInfo.guid != null) && (this.isUCMRegistered() == false)) {
                return true;
            }
            else {
                return false;
            }
        }
        /*getUCMCookies() {
            ORA_UCM_INFO = new private_ORA_UCM_INFO();
        }*/
        getCookieData(label) {
            var labelLen = label.length;
            var cLen = document.cookie.length;
            var i = 0;
            var cEnd;
            while (i < cLen) {
                var j = i + labelLen;
                if (document.cookie.substring(i, j) == label) {
                    cEnd = document.cookie.indexOf(";", j);
                    if (cEnd == -1) {
                        cEnd = document.cookie.length;
                    }
                    j++;
                    var u = decodeURIComponent(document.cookie.substring(j, cEnd).replace(/\+/g, "%20"));
                    return this.cleanCookieContent(u);
                }
                i++;
            }
            return "";
        }
        cleanCookieContent(sContent) {
            var sMe = (typeof (sContent) == "undefined") ? "NoData" : sContent;
            var badChar = "<>";
            if (sMe != "NoData") {
                var al = sMe.length;
                for (let i = 0; i < al; i++) {
                    if (sMe.substr(i, 1) != "." && sMe.substr(i, 1) != "?" && badChar.search(sMe.substr(i, 1)) > -1) {
                        sMe = "Invalid";
                        i = al + 1;
                    }
                }
            }
            return sMe;
        }
        getUserInfo() {
            const USER = {};
            const value_enc = this.getCookieData("ORA_UCM_INFO");
            const array = value_enc.split("~");
            USER.version = array[0];
            USER.guid = array[1];
            USER.firstname = array[2];
            USER.lastname = array[3];
            USER.username = array[4];
            return USER;
        }
        invalidateAuthCookie() {
            var oraSSOauthHint = this.getCookieData("ORASSO_AUTH_HINT");
            if (oraSSOauthHint != null) {
                var cookie_invalid_str = "ORASSO_AUTH_HINT=INVALID; Max-Age=0; domain=.oracle.com; path=/;";
                document.cookie = cookie_invalid_str;
            }
        }
        // SSO_SIGN_OUT
        sso_sign_out() {
            var rUrl = escape(window.location.href.replace(/^http:/gi, 'https:'));
            if ((rUrl.indexOf('\/secure') != -1)) {
                rUrl = 'http://www.oracle.com/partners/';
            }
            this.invalidateAuthCookie();
            if (window.location.host.indexOf("-stage") > -1) {
                window.location.href = "https://login-stage.oracle.com/sso/logout?p_done_url=" + rUrl;
            }
            else {
                window.location.href = "https://login.oracle.com/sso/logout?p_done_url=" + rUrl;
            }
            return false;
        }
        private_UCMCookieDecode(value) {
            var asciiArray = " !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}~.";
            var urldecodevalue = unescape(value);
            var ucmdecodevalue = '';
            var ch = '';
            for (let i = 0; i < urldecodevalue.length; i++) {
                ch = urldecodevalue.charAt(i);
                let j = asciiArray.indexOf(ch);
                if (j != -1) {
                    j += 2;
                    if (j > (asciiArray.length - 1)) {
                        j -= asciiArray.length;
                    }
                    ucmdecodevalue += asciiArray.charAt(j);
                }
                else {
                    ucmdecodevalue += ch;
                }
            }
            return ucmdecodevalue;
        }
    }
    exports.UtilityBar = UtilityBar;
});

define('store/screen-range-context',["require","exports","preact"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t.createContext(null);e.default=r}));
define('translations/primary-message/alert/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{closeThisNotice:s.getTranslatedString("primaryMessage.alert.labels.closeThisNotice")},ariaLabels:{closeThisNotice:s.getTranslatedString("primaryMessage.alert.ariaLabels.closeThisNotice")}}}}}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojresponsiveutils',["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,o,t){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const r={};o._registerLegacyNamespaceProp("ResponsiveUtils",r),r.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},r.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},r._RANGE={},r._RANGE[r.SCREEN_RANGE.SM]=0,r._RANGE[r.SCREEN_RANGE.MD]=1,r._RANGE[r.SCREEN_RANGE.LG]=2,r._RANGE[r.SCREEN_RANGE.XL]=3,r._RANGE[r.SCREEN_RANGE.XXL]=4,r._getMediaQueryFromClass=function(e){var o=document.getElementsByClassName(e).item(0);return null===o&&((o=document.createElement("meta")).className=e,document.head.appendChild(o)),window.getComputedStyle(o).getPropertyValue("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},r.getFrameworkQuery=function(e){var o="oj-mq-"+e,s=r._getMediaQueryFromClass(o);return"null"===s?(t.warn("Framework query not found. Please check that the value of the theming variable$includeResponsiveMediaQueryClasses is set to true, if itis set to false the media queries are not sent down to the browser."),null):s},r.compare=function(e,o){var t=r._RANGE[e],s=r._RANGE[o];if(null==t)throw new Error("size1 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");if(null==s)throw new Error("size2 param "+o+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");return t-s};const s=r.compare,l=r.getFrameworkQuery,n=r.SCREEN_RANGE,a=r.FRAMEWORK_QUERY_KEY;e.FRAMEWORK_QUERY_KEY=a,e.SCREEN_RANGE=n,e.compare=s,e.getFrameworkQuery=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojresponsiveutils.js.map;
define('enums/components/main/range.enum',["require","exports"],(function(require,e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e[e.MD=600]="MD",e[e.LG=1024]="LG",e[e.XL=1440]="XL"}(t||(t={})),e.default=t}));
define('utils/responsive-helper',["require","exports","ojs/ojresponsiveutils","../enums/components/main/range.enum"],(function(require,e,n,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRangeSM=e.isRangeMDOrLower=e.getScreenRange=void 0;e.getScreenRange=e=>e>0&&e<E.default.MD?n.SCREEN_RANGE.SM:e>=E.default.MD&&e<E.default.LG?n.SCREEN_RANGE.MD:e>=E.default.LG&&e<E.default.XL?n.SCREEN_RANGE.LG:n.SCREEN_RANGE.XL;e.isRangeMDOrLower=e=>n.compare(e,n.SCREEN_RANGE.MD)<=0;e.isRangeSM=e=>n.compare(e,n.SCREEN_RANGE.SM)<=0}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/version',["jquery"],e):e(jQuery)}((function(e){"use strict";return e.ui=e.ui||{},e.ui.version="1.13.2"}));
/*!
 * jQuery UI Widget 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/widget',["jquery","./version"],t):t(jQuery)}((function(t){"use strict";var e,i=0,s=Array.prototype.hasOwnProperty,n=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)(s=t._data(n,"events"))&&s.remove&&t(n).triggerHandler("remove");e(i)}),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return s||(s=i,i=t.Widget),Array.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr.pseudos[u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){if(!this||!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(a=new i).options=t.widget.extend({},a.options),t.each(s,(function(t,e){r[t]="function"==typeof e?function(){function s(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=s,this._superApply=n,t=e.apply(this,arguments),this._super=i,this._superApply=o,t}}():e})),o.prototype=t.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)})),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,o,a=n.call(arguments,1),r=0,l=a.length;r<l;r++)for(i in a[r])o=a[r][i],s.call(a[r],i)&&void 0!==o&&(t.isPlainObject(o)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):e[i]=o);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=n.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each((function(){var i,n=t.data(this,s);return"instance"===o?(l=n,!1):n?"function"!=typeof n[o]||"_"===o.charAt(0)?t.error("no such method '"+o+"' for "+e+" widget instance"):(i=n[o].apply(n,r))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each((function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new i(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,i){e._removeClass(i,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],s=this;function n(){var i=[];e.element.each((function(e,n){t.map(s.classesElementLookup,(function(t){return t})).some((function(t){return t.is(n)}))||i.push(n)})),s._on(t(i),{remove:"_untrackClassesElement"})}function o(o,a){var r,l;for(l=0;l<o.length;l++)r=s.classesElementLookup[o[l]]||t(),e.add?(n(),r=t(t.uniqueSort(r.get().concat(e.element.get())))):r=t(r.not(e.element).get()),s.classesElementLookup[o[l]]=r,i.push(o[l]),a&&e.classes[o[l]]&&i.push(e.classes[o[l]])}return(e=t.extend({element:this.element,classes:this.options.classes||{}},e)).keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,(function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})),this._off(t(e.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,(function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!("function"==typeof a&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){var a;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})?n={duration:n}:!0===n&&(n={}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue((function(i){t(this)[e](),o&&o.call(s[0]),i()}))}})),t.widget}));
/*!
 * jQuery UI Unique ID 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(i){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/unique-id',["jquery","./version"],i):i(jQuery)}((function(i){"use strict";return i.fn.extend({uniqueId:(e=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&i(this).removeAttr("id")}))}});var e}));
/*!
 * jQuery UI Keycode 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/keycode',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}));
/*!
 * jQuery UI Focusable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/focusable',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.focusable=function(i,t){var n,s,r,u,a,o=i.nodeName.toLowerCase();return"area"===o?(s=(n=i.parentNode).name,!(!i.href||!s||"map"!==n.nodeName.toLowerCase())&&((r=e("img[usemap='#"+s+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(o)?(u=!i.disabled)&&(a=e(i).closest("fieldset")[0])&&(u=!a.disabled):u="a"===o&&i.href||t,u&&e(i).is(":visible")&&function(e){var i=e.css("visibility");for(;"inherit"===i;)e=e.parent(),i=e.css("visibility");return"visible"===i}(e(i)))},e.extend(e.expr.pseudos,{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable}));
/*!
 * jQuery UI Tabbable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/tabbable',["jquery","./version","./focusable"],e):e(jQuery)}((function(e){"use strict";return e.extend(e.expr.pseudos,{tabbable:function(n){var t=e.attr(n,"tabindex"),u=null!=t;return(!u||t>=0)&&e.ui.focusable(n,u)}})}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtimerutils',["exports"],function(e){"use strict";const n={};function t(){}t.prototype.getPromise=function(){},t.prototype.clear=function(){},n.getTimer=function(e){return new n._TimerImpl(e)},n._TimerImpl=function(e){var n,t,i;function o(e){i=null,t(e)}this.getPromise=function(){return n},this.clear=function(){window.clearTimeout(i),i=null,o(!1)},n="undefined"==typeof window?Promise.reject():new Promise(function(n){t=n,i=window.setTimeout(o.bind(null,!0),e)})};const i=n.getTimer;e.getTimer=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojtimerutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcore',["ojs/ojcore-base","ojs/ojlogger","ojs/ojcontext","ojs/ojconfig","ojs/ojresponsiveutils","ojs/ojthemeutils","ojs/ojtimerutils","ojs/ojtranslation"],function(e,o,s,r,t,a,i,c){"use strict";return e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,e._registerLegacyNamespaceProp("Logger",o),e._registerLegacyNamespaceProp("Context",s),e._registerLegacyNamespaceProp("Config",r),e._registerLegacyNamespaceProp("ResponsiveUtils",t),e._registerLegacyNamespaceProp("ThemeUtils",a),e._registerLegacyNamespaceProp("TimerUtils",i),e._registerLegacyNamespaceProp("Translations",c),e});
//# sourceMappingURL=ojcore.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmessaging',["ojs/ojcore-base","jquery"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const E=function(t,e,E){this.Init(t,e,E)};t._registerLegacyNamespaceProp("Message",E),E.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},E.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},t.Object.createSubclass(E,t.Object,"Message"),E.prototype.Init=function(t,e,n){E.superclass.Init.call(this),this.summary=t,this.detail=e,this.severity=n||E.SEVERITY_TYPE.ERROR},E.getSeverityLevel=function(t){var e=t;if(e)if("string"==typeof t){var n=E._LEVEL_TO_TYPE.indexOf(e,1);e=-1===n?E.SEVERITY_LEVEL.ERROR:n}else"number"==typeof e&&(e<E.SEVERITY_LEVEL.CONFIRMATION||e>E.SEVERITY_LEVEL.FATAL)&&(e=E.SEVERITY_LEVEL.ERROR);return e||E.SEVERITY_LEVEL.ERROR},E.getSeverityType=function(t){var e=t;e&&("string"==typeof e?-1===E._LEVEL_TO_TYPE.indexOf(e,1)&&(e=E.SEVERITY_TYPE.ERROR):"number"==typeof e&&(e=e<E.SEVERITY_LEVEL.CONFIRMATION||e>E.SEVERITY_LEVEL.FATAL?E.SEVERITY_TYPE.ERROR:E._LEVEL_TO_TYPE[t]));return e||E.SEVERITY_TYPE.ERROR},E.getMaxSeverity=function(t){var n=-1;return t&&t.length>0&&e.each(t,function(t,e){var i=E.getSeverityLevel(e.severity);n=n<i?i:n}),n},E.isValid=function(t){return!(E.getMaxSeverity(t)>=E.SEVERITY_LEVEL.ERROR)},E._LEVEL_TO_TYPE=["none",E.SEVERITY_TYPE.CONFIRMATION,E.SEVERITY_TYPE.INFO,E.SEVERITY_TYPE.WARNING,E.SEVERITY_TYPE.ERROR,E.SEVERITY_TYPE.FATAL];const n=function(t,e,E,n){this.Init(t,e,E,n)};return t.Object.createSubclass(n,E,"ComponentMessage"),n._DEFAULT_OPTIONS={display:(n.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"}).SHOWN,context:""},n.prototype.Init=function(t,E,i,o){n.superclass.Init.call(this,t,E,i),this._options=e.extend({},n._DEFAULT_OPTIONS,o)},n.prototype.clone=function(){return new n(this.summary,this.detail,this.severity,this._options)},n.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===n.DISPLAY.HIDDEN)},n.prototype._forceDisplayToShown=function(){return!(!this._options||n.DISPLAY.HIDDEN!==this._options.display)&&(this._options.display=n.DISPLAY.SHOWN,!0)},n.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},E.ComponentMessage=n,E});
//# sourceMappingURL=ojmessaging.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdomutils',["exports","ojs/ojthemeutils","ojs/ojcore-base","jquery"],function(e,t,n,o){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i={_HTML_START_TAG:"<html>",_HTML_END_TAG:"</html>",_LEGAL_ELEMENTS:{SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},_LEGAL_ATTRIBUTES:{class:1,style:1}};var r,a,s,l,c,u,f;i.isHTMLContent=function(e){return 0===e.indexOf(i._HTML_START_TAG)&&e.lastIndexOf(i._HTML_END_TAG)===e.length-7},i.cleanHtml=function(e){var t=o(document.createElement("span")).get(0);return t.innerHTML=e,e&&e.indexOf("<")>=0&&i._cleanElementHtml(t),t},i._cleanElementHtml=function(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--){var r=t.item(n);if(r&&1===r.nodeType)if(i._LEGAL_ELEMENTS[r.nodeName]){for(var a=r.attributes,s=a.length-1;s>=0;s--){var l=a[s];void 0!==o(r).attr(l.name)&&(i._LEGAL_ATTRIBUTES[l.name]||r.removeAttribute(l.nodeName))}i._cleanElementHtml(r)}else r&&e.removeChild(r)}},i.isAncestor=function(e,t){for(var n=t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1},i.isAncestorOrSelf=function(e,t){return t===e||i.isAncestor(e,t)},i.addResizeListener=function(e,t,n,o){let r=i._RSZ_TRKR;o&&(r=i._RSZ_TRKR_OBS,i._OBS_BASED.set(t,!0));let a=r.get(e);null==a&&(a=new i._ResizeTracker(e,o),r.set(e,a),a.start()),a.addListener(t,n)},i.removeResizeListener=function(e,t){const n=i._OBS_BASED.get(t)?i._RSZ_TRKR_OBS:i._RSZ_TRKR,o=n.get(e);null!=o&&(o.removeListener(t),o.isEmpty()&&(o.stop(),n.delete(e)))},i.fixResizeListeners=function(e){o(e).find(".oj-helper-detect-expansion").parent().each(function(e,t){var n=i._RSZ_TRKR.get(t);null!=n&&n.init(!0)})},i.isMetaKeyPressed=function(e){var t=n.AgentUtils.getAgentInfo();return n.AgentUtils.OS.MAC===t.os?e.metaKey:e.ctrlKey},i.dispatchEvent=function(e,t){var n="disabled",o=e[n];try{e[n]=!1,e.dispatchEvent(t)}finally{e[n]=o}},i._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,0)}).bind(window),i._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){return window.clearTimeout(e)}).bind(window),i._ResizeTracker=function(e,t){e instanceof o&&(e=e[0]);var n=e.hasAttribute("data-oj-resize-notify"),r=o.Callbacks(),a=[],s=[],l=0,c=null,u=null,f=null,d=null,g=null,h=null,v=null;function m(e){var t=!1;if(null!=d.offsetParent){var n=d.offsetWidth,o=d.offsetHeight;u===n&&f===o||(l=2,S(n,o),t=!0,e&&p(!0))}return t}function L(t){const n=t[0].borderBoxSize;p(!1,[n?(n[0]||n).inlineSize:e.offsetWidth,n?(n[0]||n).blockSize:e.offsetHeight])}function p(t,o){var s=o?o[0]:e.offsetWidth,l=o?o[1]:e.offsetHeight,u=(t,o)=>{r.fire(t,o),n&&e.dispatchEvent(new Event("oj-resize"))};r.has()&&(t?(null!==c&&i._cancelInvokeAfterPaint(c),c=i._invokeAfterPaint(function(){c=null,u(s,l)})):u(s,l));for(var f=0;f<a.length;f++)a[f].getCallback()(s,l)}function E(e){e.stopPropagation(),m(!0)||l>0&&null!=d.offsetParent&&(0===d.scrollLeft||0===d.scrollTop)&&(l-=1,S(u,f))}function S(e,t){u=e,f=t;var n=d.firstChild.style,o=1;do{n.width=e+o+"px",n.height=t+o+"px",d.scrollLeft=o,d.scrollTop=o,o+=1}while((0===d.scrollTop||0===d.scrollLeft)&&o<=5);g.scrollLeft=e,g.scrollTop=t}this.addListener=function(t,o){if(void 0===o||isNaN(o)||0===o)r.add(t);else{var l=()=>{t.apply(null,arguments),e.dispatchEvent(new Event("oj-resize"))};a.push(new i._collapsingListenerManager(n?l:t,o)),s.push(t)}},this.removeListener=function(e){var t=s.indexOf(e);t>=0?(s.splice(t,1),a.splice(t,1)[0].stop()):r.remove(e)},this.isEmpty=function(){return!r.has()&&0===s.length},this.start=function(){if(t&&window.ResizeObserver instanceof Function)(v=new ResizeObserver(L)).observe(e,{box:"border-box"});else{h=E;var n=e.childNodes[0];(d=document.createElement("div")).className="oj-helper-detect-expansion";var o=document.createElement("div");d.appendChild(o),null!=n?e.insertBefore(d,n):e.appendChild(d),d.addEventListener("scroll",h,!1),(g=document.createElement("div")).className="oj-helper-detect-contraction";var i=document.createElement("div");i.style.width="200%",i.style.height="200%",g.appendChild(i),e.insertBefore(g,d),g.addEventListener("scroll",h,!1),this.init(!1)}},this.stop=function(){null!=c&&(i._cancelInvokeAfterPaint(c),c=null),null!=v?(v.disconnect(),v=null):null!=d&&(d.removeEventListener("scroll",h),g.removeEventListener("scroll",h),d.parentNode&&e.removeChild(d),g.parentNode&&e.removeChild(g))},this.init=function(e){if(d){var t=m(e);e&&!t&&null!=d.offsetParent&&S(u,f)}}},i._RSZ_TRKR=new WeakMap,i._RSZ_TRKR_OBS=new WeakMap,i._OBS_BASED=new WeakMap,i.isValidIdentifier=function(e){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(e)},i._collapsingListenerManager=function(e,t){var n=null,o=null,i=function(){e.apply(null,n),o=null},r=function(){n=Array.prototype.slice.call(arguments),null==o&&(o=window.setTimeout(i,t))};this.getCallback=function(){return r},this.stop=function(){null!=o&&(window.clearTimeout(o),o=null)}},i.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},i.setInKoCleanExternal=function(e){i._koCleanNode=e},i.unwrap=function(e,t){var n=i._koCleanNode;n&&e.get(0)===n||(t?t.replaceWith(e):e.unwrap())},i.isChromeEvent=function(e){if(!("clientX"in e)||!("clientY"in e))return!1;var t=n.AgentUtils.getAgentInfo();if(n.AgentUtils.OS.ANDROID===t.os||n.AgentUtils.OS.IOS===t.os)return!1;if(t.engine!==n.AgentUtils.ENGINE.GECKO&&t.engine!==n.AgentUtils.ENGINE.WEBKIT&&t.engine!==n.AgentUtils.ENGINE.BLINK&&t.browser!==n.AgentUtils.BROWSER.IE)return!1;var r="ltr"===i.getReadingDirection(),a=!r&&t.browser===n.AgentUtils.BROWSER.SAFARI,s=e.target,l=o(s),c=s.getBoundingClientRect(),u=i.getScrollBarWidth();return!(!r||"HTML"!==s.nodeName&&"visible"===l.css("overflow-x")||!(e.clientX>c.right-u))||(!r&&!a&&"HTML"===s.nodeName&&e.clientX>c.right-u||(!r&&"visible"!==l.css("overflow-x")&&e.clientX<c.left+u||("HTML"===s.nodeName||"visible"!==l.css("overflow-y"))&&e.clientY>c.bottom-u))},i.getScrollBarWidth=function(){return o.position.scrollbarWidth()},i.getReadingDirection=function(){var e=document.documentElement.getAttribute("dir");return e&&(e=e.toLowerCase()),"rtl"===e?"rtl":"ltr"},i.setScrollLeft=function(e,t){e.scrollLeft=i.calculateScrollLeft(t)},i.calculateScrollLeft=function(e){var t=e;if("rtl"===i.getReadingDirection()){var o=n.AgentUtils.getAgentInfo().browser;o!==n.AgentUtils.BROWSER.IE&&o!==n.AgentUtils.BROWSER.EDGE&&(t=-e)}return t},i.getCSSLengthAsInt=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0&&"auto"!==e){var t=parseInt(e,10);return isNaN(t)&&(t=0),t}return 0},i.getCSSLengthAsFloat=function(e){if(!isNaN(e))return parseFloat(e);if(e&&e.length>0){var t=parseFloat(e);return isNaN(t)&&(t=0),t}return 0},i.getCSSTimeUnitAsMillis=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0){var t=parseFloat(e);if(isNaN(t))t=0;else{var n,o=e+"";o.length>2&&o.endsWith("ms")?n=o.slice(-3,-2):o.length>1&&o.endsWith("s")&&(n=o.slice(-2,-1)),isNaN(n)?t=0:!o.endsWith("ms")&&o.endsWith("s")&&(t*=1e3)}return t}return 0},i._LOGICAL_PARENT_DATA="oj-logical-parent",i.getLogicalParent=function(e){if(e)return e.data(i._LOGICAL_PARENT_DATA)},i.setLogicalParent=function(e,t){e&&(null===t?e.removeData(i._LOGICAL_PARENT_DATA):e.data(i._LOGICAL_PARENT_DATA,t))},i.isLogicalAncestorOrSelf=function(e,t){n.Assert.assertDomElement(e),n.Assert.assertDomElement(t);for(var r=t;r;){if(r===e)return!0;var a=i.getLogicalParent(o(r));r=a?a[0]:r.parentNode}return!1},i.validateURL=function(e,t){var n=t||["http:","https:"],o=document.createElement("a");o.href=e;var i=o.protocol;if(null!=i&&(i=i.toLowerCase()),n.indexOf(i)<0&&""!==i)throw new Error(i+" is not a valid URL protocol")},i._suppressNativeContextMenu=function(){o(document.body).hasClass("oj-hybrid")&&!o(document.body).hasClass("oj-hybrid-show-context-menu")&&document.body.addEventListener("contextmenu",function(e){"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&e.preventDefault()},!0)},i._suppressNativeContextMenu(),i.PRESS_HOLD_THRESHOLD=750,i.recentTouchEnd=function(){var e=0;function t(){e=Date.now()}return document.addEventListener("touchend",t,!0),document.addEventListener("touchcancel",t,!0),function(){return Date.now()-e<500}}(),i.recentTouchStart=(r=0,a=i.PRESS_HOLD_THRESHOLD+50,document.addEventListener("touchstart",function(){r=Date.now()},{passive:!0,capture:!0}),function(){return Date.now()-r<a}),i.recentPointer=(l=0,c=i.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!s||e>l+i.PRESS_HOLD_THRESHOLD)&&(l=e,s=!1)},!0),document.addEventListener("touchstart",function(){l=Date.now(),s=!0},{passive:!0,capture:!0}),document.addEventListener("mouseup",function(){l=Date.now(),s=!1},!0),document.addEventListener("touchend",function(){l=Date.now(),s=!1},!0),function(){return Date.now()-l<(s?c:600)}),i.makeFocusable=(u=0,f=(t.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,function(e){var t=e.element,n="ojFocusable";if(e.remove){t.removeClass("oj-focus oj-focus-highlight");var r=t.data(n);if(null==r)return;var a=".ojFocusable"+(""+r).split(",").join(" .ojFocusable");t.off(a).removeData(n)}else{var s=e.afterToggle||o.noop,l=e.applyHighlight?function(t){t.addClass("oj-focus"),function(e,t){switch(e?e():f){case"all":return!0;case"none":return!1;default:return!(i.recentPointer()||t&&t())}}(e.getFocusHighlightPolicy,e.recentPointer)&&t.addClass("oj-focus-highlight"),s("focusin")}:function(e){e.addClass("oj-focus"),s("focusin")},c=!1;(e.setupHandlers||function(i,r){var a=e.component,s=function(e){i(o(e.currentTarget)),c=!0},l=function(e){c&&(r(o(e.currentTarget)),c=!1)};if(a)a._on(t,{focusin:s,focusout:l});else{var f=u;u+=1;var d=t.data(n);t.data(n,null==d?f:d+","+f);var g={},h=".ojFocusable"+f;g["focusin"+h]=s,g["focusout"+h]=l,t.on(g)}})(l,function(e){e.removeClass("oj-focus oj-focus-highlight"),s("focusout")})}}),i.getNoJQFocusHandlers=function(e,t){return{focusIn:function(t){return e(o(t))},focusOut:function(e){return t(o(e))}}};const d=i.isHTMLContent,g=i.cleanHtml,h=i.isAncestor,v=i.isAncestorOrSelf,m=i.addResizeListener,L=i.removeResizeListener,p=i.fixResizeListeners,E=i.isMetaKeyPressed,S=i.dispatchEvent,A=i.isValidIdentifier,_=i.isTouchSupported,T=i.setInKoCleanExternal,R=i.unwrap,w=i.isChromeEvent,N=i.getScrollBarWidth,O=i.getReadingDirection,C=i.setScrollLeft,H=i.calculateScrollLeft,P=i.getCSSLengthAsInt,b=i.getCSSLengthAsFloat,D=i.getCSSTimeUnitAsMillis,I=i.getLogicalParent,y=i.setLogicalParent,M=i.isLogicalAncestorOrSelf,j=i.validateURL,B=i.PRESS_HOLD_THRESHOLD,F=i.recentTouchEnd,x=i.recentTouchStart,U=i.recentPointer,z=i.getNoJQFocusHandlers,k=i.makeFocusable;e.PRESS_HOLD_THRESHOLD=B,e.addResizeListener=m,e.calculateScrollLeft=H,e.cleanHtml=g,e.dispatchEvent=S,e.fixResizeListeners=p,e.getCSSLengthAsFloat=b,e.getCSSLengthAsInt=P,e.getCSSTimeUnitAsMillis=D,e.getLogicalParent=I,e.getNoJQFocusHandlers=z,e.getReadingDirection=O,e.getScrollBarWidth=N,e.isAncestor=h,e.isAncestorOrSelf=v,e.isChromeEvent=w,e.isHTMLContent=d,e.isLogicalAncestorOrSelf=M,e.isMetaKeyPressed=E,e.isTouchSupported=_,e.isValidIdentifier=A,e.makeFocusable=k,e.recentPointer=U,e.recentTouchEnd=F,e.recentTouchStart=x,e.removeResizeListener=L,e.setInKoCleanExternal=T,e.setLogicalParent=y,e.setScrollLeft=C,e.unwrap=R,e.validateURL=j,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdomutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbootstrap',["exports"],function(e){"use strict";var n;const t={whenDocumentReady:function(){return n||(n="loading"===document.readyState?new Promise(function(e){var n=function(){document.removeEventListener("DOMContentLoaded",n),e()};document.addEventListener("DOMContentLoaded",n)}):Promise.resolve()),n}}.whenDocumentReady;e.whenDocumentReady=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojbootstrap.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcustomelement',["ojs/ojcore","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojtrace-event","ojs/ojmetadatautils","ojs/ojbootstrap","ojs/ojcore-base"],function(t,e,r,n,i,o,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const a={};a.proto={getClass:function(t){var e=Object.create(HTMLElement.prototype);this.InitializePrototype(e),e.dispatchEvent=n.traceDispatchEvent(HTMLElement.prototype.dispatchEvent);var i=this.GetMetadata(t);a._enumerateMetadataForKey(e,i,"properties",this.DefinePropertyCallback.bind(this)),a._enumerateMetadataForKey(e,i,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(e),e.setProperties=function(t){r.CustomElementUtils.getElementBridge(this)._setProperties(this,t)},Object.defineProperty(e,"set",{value:function(t,e){this.setProperty(t,e)}}),Object.defineProperty(e,"unset",{value:function(t){this.setProperty(t,void 0)}}),e.attributeChangedCallback=this.AttributeChangedCallback,e.connectedCallback=this._connectedCallback,e.disconnectedCallback=this._detachedCallback;const o=e.appendChild;e.appendChild=function(t){return r.CustomElementUtils.canRelocateNode(this,t)?o.call(this,t):t};const s=e.insertBefore;e.insertBefore=function(t,e){return r.CustomElementUtils.canRelocateNode(this,t)?s.call(this,t,e):t},e.setAttribute=function(t,e){if("class"===t){const t=r.CustomElementUtils.getClassSet(e);r.CustomElementUtils.getElementState(this).setOuterClasses(t)}else HTMLElement.prototype.setAttribute.call(this,t,e)},e.removeAttribute=function(t){"class"===t?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,t)};var l=function(){var t=window.Reflect;return void 0!==t?t.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},u=this;return Object.defineProperty(l,"observedAttributes",{get:function(){return u.GetAttributes(i)}}),Object.defineProperty(e,"constructor",{value:l,writable:!0,configurable:!0}),l.prototype=e,Object.setPrototypeOf(l,HTMLElement),l},initializeBridge:function(t,e){this.METADATA=this.GetMetadata(e),this._eventListeners={},this.State=r.CustomElementUtils.getElementState(t)},AddComponentMethods:function(t){},AttributeChangedCallback:function(t,n,o){const s=r.AttributeUtils.attributeToPropertyName(t),l=r.CustomElementUtils.getElementBridge(this);if(n!==o||l.State.dirtyProps.has(s)){if(l.State.dirtyProps.delete(s.split(".")[0]),"disabled"===t&&l.ShouldRemoveDisabled()&&l._isDisabledAttributeRemoved())return void(null!=o&&(e.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),l._removeDisabledAttribute(this)));if(l.ShouldHandleAttributeChanged(this)){a.__CheckOverlappingAttribute(this,t),null===o&&(o=void 0);var u={detail:{attribute:t,value:o,previousValue:n}};if(this.dispatchEvent(new CustomEvent("attribute-changed",u)),!r.AttributeUtils.getExpressionInfo(o).expr){const e=i.getPropertyMetadata(s,r.CustomElementUtils.getElementProperties(this));e&&this.setProperty(s,a.__ParseAttrValue(this,t,s,o,e)),l.HandleAttributeChanged(this,t,n,o)}}}},CreateComponent:function(t){},DefineMethodCallback:function(t,e,r){},DefinePropertyCallback:function(t,e,r){},GetAttributes:function(t){return t?i.getFlattenedAttributes(t.properties):[]},GetMetadata:function(t){return t[a.DESC_KEY_META]||{}},GetAliasForProperty:function(t){return t},ShouldHandleAttributeChanged:function(t){return this.State.canHandleAttributes()},ShouldCallHandleAttributeChanged:function(t){return this.ShouldHandleAttributeChanged()},HandleAttributeChanged:function(t,e,r,n){},HandleBindingsApplied:function(t,e){},HandleDetached:function(t){},HandleReattached:function(t){},InitializeElement:function(t){},InitializePrototype:function(t){},BatchedPropertySet:function(t,e){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];t.setProperty(i,e[i])}},GetEventListenerProperty:function(t){var e=r.AttributeUtils.eventListenerPropertyToEventType(t),n=this._eventListeners[e];if(n)return n.getListener()},GetProperty:function(t,e,n){var o=i.getPropertyMetadata(e,r.CustomElementUtils.getElementProperties(t));return r.AttributeUtils.isEventListenerProperty(e)||!o||-1===e.indexOf(".")?n[e]:r.CustomElementUtils.getPropertyValue(n,e)},HandlePropertyChanged:function(t,e,r,n,i,o){var s=i?"external":"internal";a.__FirePropertyChangeEvent(t,e,r,n,s,o)},PlaybackEarlyPropertySets:function(t){if(this._earlySets){const e=r.CustomElementUtils.getElementDescriptor(t.tagName),n=this.GetMetadata(e);for(;this._earlySets.length;){const e=this._earlySets.shift(),i=r.CustomElementUtils.convertEmptyStringToUndefined(t,n.properties[e.property],e.value);t.setProperty(e.property,i)}}},SaveEarlyPropertySet:function(t,e,r){return!this.State.allowPropertySets()&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:e,value:r}),!0)},SetEventListenerProperty:function(t,e,n){var i=r.AttributeUtils.eventListenerPropertyToEventType(e),o=this._eventListeners[i];o||(o=this._createEventListenerWrapper(),this._eventListeners[i]=o,t.addEventListener(i,o)),null==n||n instanceof Function?o.setListener(n):a.__ThrowTypeError(t,e,n,"function")},SetProperty:function(e,n,o,s,l){var u=i.getPropertyMetadata(n,r.CustomElementUtils.getElementProperties(e));if(r.AttributeUtils.isEventListenerProperty(n)||!u)e[n]=o;else{var p=e.getProperty(n),c=n.split(".")[0],d=s[c];if(t.CollectionUtils.isPlainObject(d)&&(d=t.CollectionUtils.copyInto({},d,void 0,!0)),!r.ElementUtils.comparePropertyValues(u,o,p)){var h=-1!==n.indexOf(".");if(h&&(this._SKIP_PROP_CHANGE_EVENT=!0),l?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),s,n,o,e):a.__SetProperty(this.GetAliasForProperty.bind(this),s,n,o),this._SKIP_PROP_CHANGE_EVENT=!1,h){var y={path:n,value:o,previousValue:p};this.HandlePropertyChanged(e,c,s[c],d,l,y)}return this.State.dirtyProps.add(c),{property:c,propertySet:!0,isSubproperty:h}}}return{property:null,propertySet:!1,isSubproperty:!1}},ShouldRemoveDisabled:function(){return!0},ValidateAndSetProperty:function(t,e,r,n,i){var o=this.ValidatePropertySet(i,r,n);a.__SetProperty(t,e,r,o)},ValidatePropertySet:function(t,n,o){var s=r.CustomElementUtils.getElementProperties(t),l=i.getPropertyMetadata(n,s),u=n.split(".");if(l){if(s[u[0]].readOnly)throw new r.JetElementError(t,`Read-only property '${n}' cannot be set.`);try{i.checkEnumValues(t,n,o,l)}catch(e){throw new r.JetElementError(t,e.message)}return null!=o?a.checkType(t,n,o,l):o}e.warn(r.CustomElementUtils.getElementInfo(t)+": Ignoring property set for undefined property '"+n+"'.")},PostCreate:function(t){t.hasAttribute("disabled")&&this.ShouldRemoveDisabled()&&!this._isDisabledAttributeRemoved()&&this._removeDisabledAttribute(t)},_connected:function(t){const e=this.State;if(e.isComplete())this.HandleReattached(t);else if(e.startCreationCycle(),e.isCreating()){this.InitializeElement(t),e.setBindingProviderCallback(this.PlaybackEarlyPropertySets.bind(this,t));const r=()=>{try{e.getSlotMap(!0);return(this.CreateComponent(t)||Promise.resolve()).then(this.PostCreate.bind(this,t))}catch(t){return Promise.reject(t)}};e.setCreateCallback(r)}},_connectedCallback:function(){r.CustomElementUtils.getElementBridge(this)._connected(this)},_detachedCallback:function(){const t=r.CustomElementUtils.getElementBridge(this),e=t.State;e.isComplete()?t.HandleDetached(this):e.pauseCreationCycle()},_createEventListenerWrapper:function(){var t,e=function(e){t&&t(e)};return e.setListener=function(e){t=e},e.getListener=function(){return t},e},_setProperties:function(t,e){for(var r=[],n={},i=!1,o=Object.keys(e),s=0;s<o.length;s++){var a=o[s];a.indexOf(".")>=0?r.push(a):(n[a]=e[a],i=!0)}i&&this.BatchedPropertySet(t,n);for(var l=0;l<r.length;l++){var u=r[l];t.setProperty(u,e[u])}},_isDisabledAttributeRemoved:function(){return!0===this._disabledProcessed},_removeDisabledAttribute:function(t){this._disabledProcessed=!0,t.removeAttribute("disabled")}},a._enumerateMetadataForKey=function(t,e,r,n){if(e&&e[r]){var i=e[r];Object.keys(i).forEach(function(e){n(t,e,i[e])})}},a.checkType=function(t,e,n,i){const o=i.type,s=r.ElementUtils.getSupportedTypes(o);if(1===s.typeCount&&!s.any&&!s.other){const r=typeof n;if(s.array&&!Array.isArray(n)||s.object&&"object"!==r||s.string&&"string"!==r||s.number&&("number"!==r||!isFinite(n)))a.__ThrowTypeError(t,e,n,o);else if(s.boolean)return!!n}return n},a.__ThrowTypeError=function(t,e,n,i){throw new r.JetElementError(t,`Invalid type '${typeof n}' found for property '${e}'. Expected value of type '${i}'.`)},a.__CheckOverlappingAttribute=function(t,e){var n=e.split(".");if(n.length>1)for(n.pop();n.length;){var i=n.join(".");if(t.hasAttribute(i))throw new r.JetElementError(t,`Cannot set overlapping attributes '${e}' and '${i}'.`);n.pop()}},a.__InitProperties=function(t,e){const n=r.CustomElementUtils.getElementBridge(t);var o=r.CustomElementUtils.getElementProperties(t);if(o)for(var s=t.attributes,l=0;l<s.length;l++){var u=s[l],p=r.AttributeUtils.attributeToPropertyName(u.nodeName),c=i.getPropertyMetadata(p,o);if(c&&!c.readOnly)if(a.__CheckOverlappingAttribute(t,u.nodeName),!r.AttributeUtils.getExpressionInfo(u.value).expr){var d=a.__ParseAttrValue(t,u.nodeName,p,u.value,c);n.ValidateAndSetProperty(n.GetAliasForProperty.bind(n),e,p,d,t)}}},a.__SetProperty=function(t,e,r,n){var i,o=e,s=r.split("."),a=t(s[0]);s.length>1&&!e[a]&&(o=i={});for(var l=0;l<s.length;l++){var u=t(s[l]);l===s.length-1?o[u]=n:o[u]||(o[u]={}),o=o[u]}i&&(e[a]=i[a])},a.__ParseAttrValue=function(t,e,n,i,o){if(null==i)return i;function s(n){return r.AttributeUtils.attributeToPropertyValue(t,e,n,o)}var a=r.CustomElementUtils.getElementDescriptor(t.tagName).parseFunction;return a?a(i,n,o,function(t){return s(t)}):s(i)},a.__ProcessEventListeners=function(e){var n=t.CollectionUtils.copyInto({},e,void 0,!0,1);return n.properties=n.properties||{},a._enumerateMetadataForKey(null,n,"properties",function(t,e){var i=r.AttributeUtils.propertyNameToChangeEventType(e),o=r.AttributeUtils.eventTypeToEventListenerProperty(i);n.properties[o]={_derived:!0,_eventListener:!0}}),a._enumerateMetadataForKey(null,n,"events",function(t,e){var i=r.AttributeUtils.eventTypeToEventListenerProperty(e);n.properties[i]={_derived:!0,_eventListener:!0}}),n},a.__FirePropertyChangeEvent=function(t,e,n,i,o,s){var a=r.CustomElementUtils.getElementBridge(t);if(!a._SKIP_PROP_CHANGE_EVENT){var l={};s&&(l.subproperty=s),l.value=n,l.previousValue=i,l.updatedFrom=o,a.beforePropertyChangedEvent&&a.beforePropertyChangedEvent(t,e,l),("external"!==o||a.State.isComplete())&&t.dispatchEvent(new CustomEvent(e+"Changed",{detail:l}))}},a.__DefineDynamicObjectProperty=function(t,e,r,n){Object.defineProperty(t,e,{enumerable:!0,get:r,set:n})},a.DESC_KEY_META="metadata",t._registerLegacyNamespaceProp("BaseCustomElementBridge",a),o.whenDocumentReady().then(function(){!function(){var t=document.createElement("div");t.style.border="1px solid",t.style.borderColor="red green",t.style.position="absolute",t.style.top="-999px",t.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var e=document.body;e.appendChild(t);var r=window.getComputedStyle(t),n=r.backgroundImage;r.borderTopColor!==r.borderRightColor&&(null==n||"none"!==n&&"url (invalid-url:)"!==n)||e.classList.add("oj-hicontrast"),e.removeChild(t)}()}),o.whenDocumentReady().then(function(){!function(){let t=[];const e=s.AgentUtils.getAgentInfo();t.push("oj-agent-os-"+e.os.toLowerCase()),t.push("oj-agent-browser-"+e.browser.toLowerCase()),document.documentElement.classList.add(...t)}()})});
//# sourceMappingURL=ojcustomelement.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdefaultsutils',["exports","ojs/ojmetadatautils"],function(e,t){"use strict";function n(e,t,n){let l=e._defaults;if(void 0===l){const s=i(e,t,n);l=Object.create(s),a(e,l),e._defaults=l}return l}function i(e,n,i){var a;let l=e._staticDefaults;if(void 0===l){if(l=null,n){const e=n.properties,s=null===(a=n.extension)||void 0===a?void 0:a._DEFAULTS;if(s){const e=new s;l=Object.create(e)}else e&&(l=Object.create(t.getDefaultValues(e,i)))}e._staticDefaults=l}return l}function a(e,t){if(e.getDynamicDefaults){const n=e.getDynamicDefaults();if(n)for(let e in n)void 0===t[e]&&(t[e]=n[e])}}var l=Object.freeze({__proto__:null,getFrozenDefault:function(e,i,a){const l=n(i,a,!0);return t.deepFreeze(l[e])},getDefaults:n,getStaticDefaults:i,applyDynamicDefaults:a});e.DefaultsUtils=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdefaultsutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojfocusutils',["jquery","ojs/ojcore-base","ojs/ojdomutils"],function(t,e,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const r={_TABBABLE:":tabbable,iframe",containsFocus:function(t){var e=document.activeElement;return!(!t||!e)&&n.isAncestorOrSelf(t,e)},focusElement:function(t){t.focus()},focusFirstTabStop:function(t){var e=r.getFirstTabStop(t);return e&&r.focusElement(e),e},isFirstActiveElement:function(e){var n=t(e).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[0];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},isLastActiveElement:function(e){var n=t(e).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[n.length-1];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},getFirstTabStop:function(e){var n=t(e);if(n.is(r._TABBABLE))return e;var i=n.find(r._TABBABLE);if(i&&i.length>0){if(i[0].classList.contains("oj-radio")){var o=i.filter(".oj-selected.oj-radio");return o&&o.length?o[0]:i[0]}return i[0]}return null},getLastTabStop:function(e){var n=t(e).find(r._TABBABLE);if(n&&n.length>0){if(n[n.length-1].classList.contains("oj-radio")){var i=n.filter(".oj-selected.oj-radio");return i&&i.length?i[i.length-1]:n[n.length-1]}return n[n.length-1]}return null},isFocusable:function(n){return!!t(n).is(":focusable")&&!("A"===n.nodeName&&!n.hasAttribute("tabindex")&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.SAFARI)}};return r});
//# sourceMappingURL=ojfocusutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojgestureutils',["exports","jquery","ojs/ojdomutils"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o={_EVENT_NAMESPACE:".contextMenu",stopDetectContextMenuGesture:function(e){e._clickListener&&(t(e).off(o._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer),e._touchStartAndMouseDownListener&&(e.removeEventListener("touchstart",e._touchStartAndMouseDownListener,{passive:!1}),delete e._touchStartAndMouseDownListener),e._touchMoveListener&&(e.removeEventListener("touchmove",e._touchMoveListener,{passive:!0}),delete e._touchMoveListener)},startDetectContextMenuGesture:function(e,u){var r,s,c,i,a=n.PRESS_HOLD_THRESHOLD,d=!1,l=!1,v=null,p=o._EVENT_NAMESPACE,h=!1;function m(n,o,r){if((d=r)&&t(e).one("touchend"+p,function(){h=!0,setTimeout(function(){h=!1},50)}),"touchstart"===v&&"contextmenu"===n.type||"contextmenu"===v&&"touchstart"===n.type||"keydown"===v&&"contextmenu"===n.type)return"keydown"===v&&"contextmenu"===n.type&&n.preventDefault(),v=null,void clearTimeout(i);n.isDefaultPrevented&&n.isDefaultPrevented()||n.originalEvent&&n.originalEvent.defaultPrevented||n.defaultPrevented||("touchstart"!==n.type&&"touchmove"!==n.type||(n.originalEvent=n),u(n,o),(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&("touchstart"!==n.type&&"contextmenu"!==n.type&&"keydown"!==n.type||(v=n.type,i=setTimeout(function(){v=null},300))))}var f=function(e){d&&(e.preventDefault(),e.stopPropagation(),d=!1)};e._clickListener=f,e.addEventListener("click",f,!0);var y=function(t){if("mousedown"!==t.type||!h){if(d=!1,"touchstart"===t.type&&1===t.touches.length){var n=t.touches[0];s=n.pageX,c=n.pageY,l=!0,r=setTimeout(m.bind(void 0,t,"touch",!0),a),e._contextMenuPressHoldTimer=r}return!0}};e._touchStartAndMouseDownListener=y,e.addEventListener("touchstart",y,{passive:!1});var _=function(e){var t=e.touches[0];return(Math.abs(s-t.pageX)>5||Math.abs(c-t.pageY)>5)&&(l=!1,clearTimeout(r)),!0};e._touchMoveListener=_,e.addEventListener("touchmove",_,{passive:!0}),t(e).on("mousedown"+p,y).on("touchend"+p+" touchcancel"+p,function(){return l=!1,clearTimeout(r),!0}).on("keydown"+p+" contextmenu"+p,function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&m(e,l?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}),n.isTouchSupported()&&t(e).addClass("oj-menu-context-menu-launcher")}},u=o.startDetectContextMenuGesture,r=o.stopDetectContextMenuGesture;e.startDetectContextMenuGesture=u,e.stopDetectContextMenuGesture=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojgestureutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcomponentcore',["exports","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcore","jquery","ojs/ojmessaging","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojlogger","ojs/ojdefaultsutils","ojs/ojtranslation","ojs/ojfocusutils","ojs/ojgestureutils"],function(t,e,n,i,o,s,r,a,l,u,c,_,h,p,d,E,f,g,m){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const v=function(t){this.Init(t)};r.Object.createSubclass(v,r.Object,"oj.ComponentMessaging"),r._registerLegacyNamespaceProp("ComponentMessaging",v),v._STRATEGY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline",LABEL_EDGE_INSIDE:"inside",LABEL_EDGE_INSIDE_FORM_CNTRL:"insideformcontrol",USER_ASSISTANCE_INLINE:"userassistanceinline"},v._STRATEGY_TYPE_TO_CALLBACK={};const y="aria-describedby";v.registerMessagingStrategy=function(t,e){t&&"function"==typeof e&&(v._STRATEGY_TYPE_TO_CALLBACK[t]=e)},v.prototype.Init=function(t){v.superclass.Init.call(this),this._component=t,this._activated=!1,this._initializeMessagingStrategies()},v.prototype.activate=function(t,e,n){var i=this;r.Assert.assertObject(n),this._launcher=t,this._contentElement=e,this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},n),this._isActive()?this._reactivate():(a.each(this._strategies,function(t,e){e.activate(i)}),this._activated=!0)},v.prototype.update=function(t){r.Assert.assertObject(t),r.Assert.assertBoolean(this._activated),this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},t),this._activated&&a.each(this._strategies,function(e,n){n.shouldUpdate(t)&&n.update()})},v.prototype.deactivate=function(){a.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},v.prototype.close=function(){this._activated&&a.each(this._strategies,function(t,e){e.close()})},v.prototype._createMessagingStrategy=function(t,e){return new(v._STRATEGY_TYPE_TO_CALLBACK[t]||v._STRATEGY_TYPE_TO_CALLBACK[v._STRATEGY_TYPE.NONE])(e)},v.prototype._getComponent=function(){return this._component||null},v.prototype._getLauncher=function(){return this._launcher||null},v.prototype._getContentElement=function(){return this._contentElement||null},v.prototype._getMessagingContent=function(){return this._messagingContent||{}},v.prototype._setMessagingContent=function(t){r.Assert.assertObject(t),this._messagingContent=r.CollectionUtils.copyInto(this._messagingContent||{},t)},v.prototype._isActive=function(){return this._activated},v.prototype._getResolvedMessagingDisplayOptions=function(t){for(var e={},n=!1,i=this._component.options,o={},s=Object.keys(t),r=0;r<s.length;r++){var l=s[r],u=t[l];n=!1;var c=l+"";if(Array.isArray(u))for(var _=0;_<u.length;_++){var h=u[_];n||(n=this._resolveStrategyTypeForArtifact(c,h,i,o))}else"string"==typeof u&&(n||(n=this._resolveStrategyTypeForArtifact(c,u,i,o)));n||(o[c]=v._STRATEGY_TYPE.NONE)}return this._addLabelStrategy(o),a.each(v._STRATEGY_TYPE,function(t,n){e[n]=[]}),a.each(o,function(t,n){e[n].push(t)}),e},v.prototype._getUserAssistanceStrategyToArtifactsObj=function(){var t={},e=this._component.options.displayOptions||{},n={},i=Object.keys(e);for(let t=0;t<i.length;t++){let o=i[t],s=e[o],r=o+"";n[r]="string"==typeof s&&"none"===s?v._STRATEGY_TYPE.NONE:v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE}return this._addLabelStrategy(n),Object.keys(v._STRATEGY_TYPE).forEach(function(e){let n=v._STRATEGY_TYPE[e];t[n]=[]}),Object.keys(n).forEach(function(e){let i=n[e];t[i].push(e)}),t},v.prototype._addLabelStrategy=function(t){var e=this._component._ResolveLabelEdgeStrategyType();this._resolveStrategyTypeForArtifact("labelEdge",e,this._component.options,t)||(t.labelEdge=v._STRATEGY_TYPE.NONE)},v.prototype._resolveStrategyTypeForArtifact=function(t,e,n,i){var o=!1,s=n.placeholder;switch(e){case v._STRATEGY_TYPE.PLACEHOLDER:"converterHint"===t&&(o||s||(i[t]=e,o=!0));break;case v._STRATEGY_TYPE.INLINE:"messages"===t&&(o||(i[t]=e,o=!0));break;case v._STRATEGY_TYPE.LABEL_EDGE_INSIDE:case v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL:"labelEdge"!==t||o||r.StringUtils.isEmptyOrUndefined(n.labelHint)||(i[t]=e,o=!0);break;default:o||"labelEdge"===t||(i[t]=e,o=!0)}return o},v.prototype._initializeMessagingStrategies=function(){var t=this._strategyToArtifacts(),e=t[v._STRATEGY_TYPE.NOTEWINDOW],n=t[v._STRATEGY_TYPE.NONE],i=t[v._STRATEGY_TYPE.PLACEHOLDER],o=t[v._STRATEGY_TYPE.INLINE],s=t[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE],r=t[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL],a=t[v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE],l={};e.length>0&&(l[v._STRATEGY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(v._STRATEGY_TYPE.NOTEWINDOW,e)),i.length>0&&0===s.length&&(l[v._STRATEGY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(v._STRATEGY_TYPE.PLACEHOLDER,i)),o.length>0&&(l[v._STRATEGY_TYPE.INLINE]=this._createMessagingStrategy(v._STRATEGY_TYPE.INLINE,o)),a.length>0&&(l[v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE]=this._createMessagingStrategy(v._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,a)),s.length>0?l[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE]=this._createMessagingStrategy(v._STRATEGY_TYPE.LABEL_EDGE_INSIDE,s):r.length>0&&(l[v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL]=this._createMessagingStrategy(v._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,r)),l[v._STRATEGY_TYPE.NONE]=this._createMessagingStrategy(v._STRATEGY_TYPE.NONE,n),this._strategies=l},v.prototype._reactivate=function(){var t,e=this._strategyToArtifacts(),n=this;a.each(e,function(e,i){e+="",t=n._strategies[e],i&&i.length>0?t?t&&t.reactivate(i):(t=n._createMessagingStrategy(e,i),n._strategies[e]=t,t.activate(n)):t&&v._STRATEGY_TYPE.NONE!==e&&(t.deactivate(),delete n._strategies[e])})},v.prototype._strategyToArtifacts=function(){let t,e=this._component._getResolvedUserAssistance();if("compact"!==e&&"displayOptions"!==e)t=this._getUserAssistanceStrategyToArtifactsObj();else{let n=this._component.options.displayOptions||{};"compact"===e?(n.messages="notewindow",n.validatorHint="notewindow",n.converterHint="notewindow",t=this._getResolvedMessagingDisplayOptions(n)):t=this._getResolvedMessagingDisplayOptions(n)}return t};const T=function(t){this.Init(t)};r.Object.createSubclass(T,r.Object,"oj.MessagingStrategy"),r._registerLegacyNamespaceProp("MessagingStrategy",T),T.prototype.Init=function(t){r.Assert.assertArray(t),T.superclass.Init.call(this),this._displayOptions=t},T.prototype.activate=function(t){this._componentMessaging=t},T.prototype.deactivate=function(){},T.prototype.close=function(){},T.prototype.reactivate=function(t){this.Init(t)},T.prototype.shouldUpdate=function(t){return!0},T.prototype.update=function(){},T.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},T.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},T.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},T.prototype.setHasValidatorHints=function(t){this._hasValidatorHints=t},T.prototype.getHasValidatorHints=function(){return!0===this._hasValidatorHints},T.prototype.GenerateIdIfNeeded=function(t){isNaN(T._uidCounter)&&(T._uidCounter=0);var e=t;e.id||(e.id="ojms_"+T._uidCounter,T._uidCounter+=1)},T.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},T.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},T.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),n=e&&e.converterHint;return n&&t.push(n),t},T.prototype.GetValidatorHints=function(){if(!this.getHasValidatorHints()){this.setHasValidatorHints(!0);let t=this.GetComponent();this._setMessagingContent(t._getValidatorHintsMC()),t._initAsyncValidatorMessagingHint()}var t=this._getMessagingContent();return t&&t.validatorHint||[]},T.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},T.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},T.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},T.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},T.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},T.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},T.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},T.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},T.prototype.AddAriaDescribedByForInlineMessaging=function(t){let e=this.GetContentElement();r.Assert.assertPrototype(e,a);let n=a(t).uniqueId()[0].getAttribute("id");e.each(function(){let t=this.getAttribute(y),e=t?t.split(/\s+/):[];-1===e.indexOf(n)&&e.push(n);let i=e.join(" ").trim();this.setAttribute(y,i)})},T.prototype.AddDescribedByToElement=function(t,e){const n=t.getAttribute("described-by");let i,o=n?n.split(/\s+/):[];-1===o.indexOf(e)&&o.push(e),i=o.join(" ").trim(),t.setAttribute("described-by",i)},T.prototype.RemoveAriaDescribedByForInlineMessaging=function(t){let e=this.GetContentElement();r.Assert.assertPrototype(e,a);let n=t.getAttribute("id");e.each(function(){let t=this.getAttribute(y),e=t?t.split(/\s+/):[],i=e.indexOf(n);-1!==i&&e.splice(i,1);let o=e.join(" ").trim();o?this.setAttribute(y,o):this.removeAttribute(y)})},T.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},T.prototype._setMessagingContent=function(t){return this._componentMessaging?this._componentMessaging._setMessagingContent(t):{}};const C=function(t){this.Init(t)};v.registerMessagingStrategy(v._STRATEGY_TYPE.NONE,C),C._SELECTOR_STATE_INVALID="oj-invalid",C._SELECTOR_STATE_WARNING="oj-warning",r.Object.createSubclass(C,T,"oj.DefaultMessagingStrategy"),r._registerLegacyNamespaceProp("DefaultMessagingStrategy",C),C.prototype.update=function(){C.superclass.update.call(this);var t=this.GetLauncher(),e=this.GetMaxSeverity(),n=[],i=[],o=!1,s=this.GetComponent().widget();t&&(this.IsInvalid()?(n.push(C._SELECTOR_STATE_WARNING),i.push(C._SELECTOR_STATE_INVALID),o=!0):this.HasMessages()&&e===l.SEVERITY_LEVEL.WARNING?(n.push(C._SELECTOR_STATE_INVALID),i.push(C._SELECTOR_STATE_WARNING)):(n.push(C._SELECTOR_STATE_INVALID),n.push(C._SELECTOR_STATE_WARNING)),s.removeClass(n.join(" ")).addClass(i.join(" ")),this.GetContentElement().attr({"aria-invalid":o}))},C.prototype.deactivate=function(){this.GetComponent().widget().removeClass(C._SELECTOR_STATE_INVALID).removeClass(C._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),C.superclass.deactivate.call(this)};const S=function(t){this.Init(t)};v.registerMessagingStrategy(v._STRATEGY_TYPE.PLACEHOLDER,S),r.Object.createSubclass(S,T,"oj.PlaceholderMessagingStrategy"),r._registerLegacyNamespaceProp("PlaceholderMessagingStrategy",S),S.prototype.Init=function(t){S.superclass.Init.call(this,t)},S.prototype.activate=function(t){S.superclass.activate.call(this,t),this._refreshPlaceholder()},S.prototype.reactivate=function(t){S.superclass.reactivate.call(this,t),this._refreshPlaceholder()},S.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},S.prototype.update=function(){S.superclass.update.call(this),this._refreshPlaceholder()},S.prototype._refreshPlaceholder=function(){var t=this.GetLauncher();if(this.ShowPlaceholderContent()&&t){var e=this.GetConverterHint(),n=e.length?e[0]:"";if(r.StringUtils.isEmptyOrUndefined(n))return;this.GetComponent().option({placeholder:n},{_context:{internalMessagingSet:!0}})}},S.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()};const A=function(t,e){this.Init(t,e)};A.isInvalid=function(t){return l.getMaxSeverity(t)>=l.SEVERITY_LEVEL.ERROR},r.Object.createSubclass(A,r.Object,"oj.ComponentValidity"),r._registerLegacyNamespaceProp("ComponentValidity",A),A.prototype.Init=function(t,e){A.superclass.Init.call(this),this._initialize(t,e)},A.prototype.isInvalid=function(){return this._invalid},A.prototype.getMessages=function(){return this._messages},A.prototype.getMaxSeverity=function(){return this._maxSeverity},A.prototype.update=function(t,e){this._initialize(t,e)},A.prototype._initialize=function(t,e){this._compValid=t,this._compMessages=e,this._messages=this._getImmediateMessages(),this._maxSeverity=l.getMaxSeverity(this._messages),this._invalid=A.isInvalid(this._messages)},A.prototype._getImmediateMessages=function(){for(var t=this._compMessages||[],e=[],n=0;n<t.length;n++){var i=t[n];i instanceof l.ComponentMessage&&!i.canDisplay()||e.push(i)}return e};const N={};c._registerLegacyNamespaceProp("Components",N),N._OJ_CONTAINER_ATTR="data-oj-container";const b="node is not a component element";function O(t,e){if(null==t)return null;var n=1===t.nodeType,i=c.Composite&&!e?c.Composite.getContainingComposite(t):null;if(i)return i;if(n&&t.hasAttribute("data-oj-internal"))return t.parentNode instanceof Element&&t.parentNode.hasAttribute("data-oj-surrogate-id")?O(t=document.querySelector("[data-oj-popup-"+t.id+"-parent]"),e):O(t.parentNode,e);if(L(t))return t;if(n&&t.classList.contains("oj-component")){if(G(t=t.querySelector(".oj-component-initnode:not([data-oj-internal])")||t))return t}else if(n&&t.hasAttribute("data-oj-containerid"))return O(t=document.getElementById(t.getAttribute("data-oj-containerid")),e);return O(t.parentNode,e)}function P(t,e){var n=function(){var t=a(this),n=t.data("oj-component-names");if(null!=n)for(var i=0;i<n.length;i++){var o=t.data("oj-"+n[i]);null!=o&&e(o)}},i=a(t);i.hasClass("oj-component-initnode")&&n.call(t),i.find(".oj-component-initnode").each(n)}function I(t,e,n){function i(t){if(e&&t.classList.contains("oj-component-initnode")){var i=a(t),o=i.data("oj-component-names");if(null!=o)for(var s=0;s<o.length;s++){var r=i.data("oj-"+o[s]);null!=r&&e(r)}}if(n&&"oj-defer"===t.tagName.toLowerCase()){if(!t._activate)throw new Error("subtreeShown called before module ojs/ojdefer was loaded");t._activate()}}if(!function(t){for(var e=t;e;){if(e.nodeType===Node.DOCUMENT_NODE)return!1;if(e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("oj-subtree-hidden"))return!0;e=e.parentNode}return!0}(t)){i(t);var o=[".oj-component-initnode"];n&&o.push("oj-defer");var s=[];o.forEach(function(t){s.push(".oj-subtree-hidden "+t),s.push(".oj-pending-subtree-hidden "+t)});for(var r=o.join(","),l=s.join(","),u=function(t,e){for(var n=[],i=0,o=0;o<e.length;o++){for(var s=e[o];i<t.length&&t[i]!==s;)n.push(t[i]),i+=1;i+=1}for(;i<t.length;)n.push(t[i]),i+=1;return n}(t.querySelectorAll(r),t.querySelectorAll(l)),c=0;c<u.length;c++)i(u[c])}}function R(t){this.getCallback=function(){return t}}function D(t,e,n){return Object.keys(e).forEach(function(i){var o=t[i]||[],s=e[i];n?o=o.concat(s):o.push(s),t[i]=o}),t}function M(t){return p.CustomElementUtils.isElementRegistered(t.tagName)}function G(t){return!!N.__GetWidgetConstructor(t)}function L(t){return M(t)||G(t)}N.setDefaultOptions=function(t){var e=N._defaultProperties||{};Object.keys(t).forEach(function(n){var i=t[n];if(!c.CollectionUtils.isPlainObject(i))throw new Error("Invalid default options");e[n]=D(e[n]||{},i,!1)}),N._defaultProperties=e},N.getDefaultOptions=function(){return N._defaultProperties||{}},N.createDynamicPropertyGetter=function(t){return new R(t)},N.getWidgetConstructor=function(t,e){return t&&!p.CustomElementUtils.isElementRegistered(t.tagName)?N.__GetWidgetConstructor(t,e):null},N.__GetWidgetConstructor=function(t,e){var n=a(t),i=n.data("oj-component-names");if(i&&(null==e?e=i[0]:i.indexOf(e)<0&&(e=void 0),null!=e)){var o=n[e];if("function"==typeof o)return o.bind(n)}return null},N.subtreeAttached=function(t){_.fixResizeListeners(t),P(t,function(t){t.__handleSubtreeAttached()})},N.subtreeDetached=function(t){P(t,function(t){t.__handleSubtreeDetached()})},N.subtreeShown=function(t,e){var n=a(t)[0];if(n.nodeType===Node.ELEMENT_NODE){var i=(e||{}).initialRender;i||_.fixResizeListeners(n),n.classList.remove("oj-subtree-hidden"),I(n,function(t){p.CustomElementUtils.allowSlotRelocation(!0);try{i?t._NotifyInitShown():t._NotifyShown()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!0)}},N.subtreeHidden=function(t){var e=a(t)[0];e.nodeType===Node.ELEMENT_NODE&&(I(e,function(t){p.CustomElementUtils.allowSlotRelocation(!0);try{t._NotifyHidden()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!1),e.classList.add("oj-subtree-hidden"))},N.markPendingSubtreeHidden=function(t){t.classList.add("oj-pending-subtree-hidden")},N.unmarkPendingSubtreeHidden=function(t){t.classList.remove("oj-pending-subtree-hidden")},N.isComponentInitialized=function(t,e){var n=t.data("oj-component-names");return!!(a.isArray(n)&&n.indexOf(e)>-1&&t.is(".oj-component-initnode"))},N.__getDefaultOptions=function(t){for(var e={},n=N.getDefaultOptions(),i=t.length-1;i>=0;i--){var o=n[t[i]];void 0!==o&&(e=D(e,o,!0))}return e},N.getComponentElementByNode=function(t){var e=!!(arguments.length>1&&arguments[1]);return O(t,e)},N.getSubIdByNode=function(t,e){return N.callComponentMethod(t,"getSubIdByNode",e)},N.getNodeBySubId=function(t,e){return N.callComponentMethod(t,"getNodeBySubId",e)},N.getComponentOption=function(t,e){if(!L(t))throw new Error(b);return M(t)?t.getProperty?t.getProperty.call(t,e):void 0:N.__GetWidgetConstructor(t)("option",e)},N.setComponentOption=function(t,e,n){if(!L(t))throw new Error(b);M(t)?t.setProperty&&t.setProperty.call(t,e,n):N.__GetWidgetConstructor(t)("option",e,n)},N.callComponentMethod=function(t,e,n){if(!L(t))throw new Error(b);return M(t)?t[e]?t[e].apply(t,[].slice.call(arguments,2)):void 0:N.__GetWidgetConstructor(t).apply(a(t),[].slice.call(arguments,1))};const j={};j.proto=Object.create(r.BaseCustomElementBridge.proto),r.CollectionUtils.copyInto(j.proto,{beforePropertyChangedEvent:function(t,e,n){var i=e,o=n.value;n.subproperty&&(i=n.subproperty.path,o=n.subproperty.value),this._partialRender(t,i,o)},AddComponentMethods:function(t){t.refresh=function(){p.CustomElementUtils.getElementBridge(this)._fullRender(this)},t.setProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(this);n.SaveEarlyPropertySet(this,t,e)||n.SetProperty(this,t,e,this,!0)},t.getProperty=function(t){return p.CustomElementUtils.getElementBridge(this).GetProperty(this,t,this)},t._propsProto.setProperty=function(t,e){this._BRIDGE.SetProperty(this._ELEMENT,t,e,this,!1)},t._propsProto.getProperty=function(t){return this._BRIDGE.GetProperty(this,t,this)}},CreateComponent:function(t){if(N.unmarkPendingSubtreeHidden(t),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR){var e=p.ElementUtils.getUniqueId();if(this._CONTEXT={element:t,props:this._PROPS_PROXY,unique:e},this._CONTEXT.uniqueId=t.id?t.id:e,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},DefineMethodCallback:function(t,e,n){t[e]=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._INSTANCE){var i=n.internalName||e;return t._INSTANCE[i].apply(t._INSTANCE,arguments)}}},DefinePropertyCallback:function(t,e,n){function i(t,i){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,e,t)){i&&(t=p.CustomElementUtils.convertEmptyStringToUndefined(this._ELEMENT,n,t));var o=this._BRIDGE._PROPS[e];p.ElementUtils.comparePropertyValues(n,t,o)?d.info(p.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+e+"' with same value."):(i&&(t=this._BRIDGE.ValidatePropertySet(this._ELEMENT,e,t)),n._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,e,t),this._BRIDGE._PROPS[e]=t):(this._BRIDGE._PROPS[e]=t,r.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,e,t,o,i?"external":"internal"),this._BRIDGE.State.dirtyProps.add(e)))}}function o(){var t=this._BRIDGE._PROPS[e];return void 0===t&&(t=this._BRIDGE._getDefaultValue(e,n),this._BRIDGE._PROPS[e]=t),t}n._derived||r.BaseCustomElementBridge.__DefineDynamicObjectProperty(t._propsProto,e,function(){return o.bind(this)()},function(t){i.bind(this)(t,!1)}),r.BaseCustomElementBridge.__DefineDynamicObjectProperty(t,e,function(){var t=p.CustomElementUtils.getElementBridge(this);return o.bind(t._PROPS_PROXY)()},function(t){var e=p.CustomElementUtils.getElementBridge(this);i.bind(e._PROPS_PROXY)(t,!0)})},InitializeElement:function(t){r.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&N.markPendingSubtreeHidden(t),r.BaseCustomElementBridge.__InitProperties(t,t)},InitializePrototype:function(t){r.BaseCustomElementBridge.proto.InitializePrototype.call(this,t),Object.defineProperty(t,"_propsProto",{value:{}})},initializeBridge:function(t,e){r.BaseCustomElementBridge.proto.initializeBridge.call(this,t,e),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},t._propsProto&&(this._PROPS_PROXY=Object.create(t._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=t)},ShouldRemoveDisabled:function(){return!0===this._EXTENSION._SHOULD_REMOVE_DISABLED},_fullRender:function(t){if(this._INSTANCE&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},_partialRender:function(t,e,n){if(this._INSTANCE){var i=this._INSTANCE.handlePropertyChanged;if((!i||!i(e,n))&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},_getDefaultValue:function(t,e){return this._EXTENSION._CONSTRUCTOR?E.DefaultsUtils.getDefaults(this._EXTENSION._CONSTRUCTOR,this.METADATA,!1)[t]:u.getDefaultValue(e)}}),r._registerLegacyNamespaceProp("DefinitionElementBridge",j);class B extends p.ElementState{IsTransferAttribute(t){const e=p.CustomElementUtils.getElementBridge(this.Element),n=e._EXTENSION._GLOBAL_TRANSFER_ATTRS;return e._WIDGET_ELEM&&n&&n.includes(t)}GetDescriptiveTransferAttributeValue(t){return p.CustomElementUtils.getElementBridge(this.Element)._WIDGET_ELEM.getAttribute(t)}}const w={};w.proto=Object.create(r.BaseCustomElementBridge.proto),r._registerLegacyNamespaceProp("CustomElementBridge",w),r.CollectionUtils.copyInto(w.proto,{getThrottlePromise:function(){var t=this.State.getBindingProviderPromise();return t=t.then(function(t){return t?t.__GetThrottlePromise():null})},AddComponentMethods:function(t){t.setProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(this);if(!n.SaveEarlyPropertySet(this,t,e)&&!n._setEventProperty(this,t,e)&&!n._validateAndSetCopyProperty(this,t,e,null)){var i=u.getPropertyMetadata(t,p.CustomElementUtils.getElementProperties(this));i?(n._setOption(t,e,i,this),n.State.dirtyProps.add(t.split(".")[0])):this[t]=e}},t.getProperty=function(t){var e=p.CustomElementUtils.getElementBridge(this),n=u.getPropertyMetadata(t,p.CustomElementUtils.getElementProperties(this));if(p.AttributeUtils.isEventListenerProperty(t)||!n)return this[t];var i=n?n.extension:null;return i&&i._COPY_TO_INNER_ELEM?e._getCopyProperty(this,t,n):w._getPropertyAccessor(this,t)()},t.focus=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._WIDGET_INSTANCE){var e=t._WIDGET_INSTANCE.__getFocusElement();e&&(e!==this?e.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},t.blur=function(){var t=p.CustomElementUtils.getElementBridge(this);if(t._WIDGET_INSTANCE){var e=t._WIDGET_INSTANCE.__getFocusElement();e&&(e!==this?e.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.blur.call(this)}},BatchedPropertySet:function(t,e){var n,i=Object.keys(e),o={};for(n=0;n<i.length;n++){var s=i[n],r=e[s];this._setEventProperty(t,s,r)||this._validateAndSetCopyProperty(t,s,r,null)||(r=this.ValidatePropertySet(t,s,r),o[s=this.GetAliasForProperty(s)]=r)}var a=N.__GetWidgetConstructor(this._WIDGET_ELEM);if(a)a("option",o);else for(n=0;n<i.length;n++){var l=i[n];t.setProperty(l,e[l])}},CreateComponent:function(t){var e=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=w._getWidgetElement(t,e?e(t):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==t){for(var n=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],i=0;i<n.length;i++){var o=n[i];t.hasAttribute(o)&&(this._WIDGET_ELEM.setAttribute(o,t.getAttribute(o)),this._removingTransfer=!0,t.removeAttribute(o))}this._copyProperties()}N.unmarkPendingSubtreeHidden(t);var s=a(this._WIDGET_ELEM),r=a(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(s);r(this._PROPS),this._WIDGET=r,this._WIDGET_INSTANCE=r("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS);var l=function(e){return function(n){t.dispatchEvent(new FocusEvent(e,{relatedTarget:n.relatedTarget}))}},u=this._WIDGET_INSTANCE.__getFocusElement();u&&u!==t&&(u.addEventListener("focus",l("focus")),u.addEventListener("blur",l("blur")))},DefineMethodCallback:function(t,e,n){t[e]=function(){var t=p.CustomElementUtils.getElementBridge(this),i=n.internalName||e;p.CustomElementUtils.allowSlotRelocation(!0);try{return t._WIDGET.apply(null,[i].concat([].slice.call(arguments)))}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},DefinePropertyCallback:function(t,e,n){var i=n.extension;Object.defineProperty(t,e,{enumerable:!0,get:function(){var t=p.CustomElementUtils.getElementBridge(this);return n._eventListener?t.GetEventListenerProperty(e):i&&i._COPY_TO_INNER_ELEM?t._getCopyProperty(this,e,n):w._getPropertyAccessor(this,e)()},set:function(t){var i=p.CustomElementUtils.getElementBridge(this);i.SaveEarlyPropertySet(this,e,t)||(t=p.CustomElementUtils.convertEmptyStringToUndefined(this,n,t),n._eventListener?i.SetEventListenerProperty(this,e,t):i._validateAndSetCopyProperty(this,e,t,n)||(i._setOption(e,t,n,this),i.State.dirtyProps.add(e)))}})},GetAttributes:function(t){var e=u.getFlattenedAttributes(t.properties);return t.extension._GLOBAL_TRANSFER_ATTRS&&(e=e.concat(t.extension._GLOBAL_TRANSFER_ATTRS)),t.extension._WATCHED_ATTRS&&(e=e.concat(t.extension._WATCHED_ATTRS)),e},GetAliasForProperty:function(t){var e=this._EXTENSION._ALIASED_PROPS;return e&&e[t]?e[t]:t},InitializeElement:function(t){r.BaseCustomElementBridge.proto.InitializeElement.call(this,t),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&N.markPendingSubtreeHidden(t),r.BaseCustomElementBridge.__InitProperties(t,this._PROPS)},HandleAttributeChanged:function(t,e,n,i){var o=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,s=o&&-1!==o.indexOf(e),r=this._EXTENSION._WATCHED_ATTRS,a=r&&-1!==r.indexOf(e);s&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(e,i),this._removingTransfer=!0,t.removeAttribute(e)):a&&n!==i&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(e,n,i)},HandleDetached:function(t){r.BaseCustomElementBridge.proto.HandleDetached.call(this,t),N.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected()},HandleReattached:function(t){r.BaseCustomElementBridge.proto.HandleReattached.call(this,t),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},initializeBridge:function(t,e){r.BaseCustomElementBridge.proto.initializeBridge.call(this,t,e),this._INNER_DOM_FUNCTION=e.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:t}:{},this._setupPropertyAccumulator(t,this._PROPS),this._processProperties(t)},_setOption:function(t,e,n,i){let o={};if(void 0===e&&-1===t.indexOf(".")&&(o={_context:{skipEvent:!0}},e=u.getDefaultValue(n),this.State.isComplete())){const e=i[t];r.BaseCustomElementBridge.__FirePropertyChangeEvent(i,t,void 0,e,"external")}w._getPropertyAccessor(i,t,o)(e)},_copyProperties:function(){if(this._COPY_ATTRS)for(var t=0;t<this._COPY_ATTRS.length;t++){var e=this._COPY_ATTRS[t],n=p.AttributeUtils.attributeToPropertyName(e);if(Object.prototype.hasOwnProperty.call(this._PROPS,n)){var i=this._PROPS[n];this._setCopyProperty(e,i),delete this._PROPS[n]}}},_getCopyProperty:function(t,e,n){var i=p.AttributeUtils.propertyNameToAttribute(e);if(n.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(i)){var o=this._WIDGET_ELEM.getAttribute(i);return p.AttributeUtils.attributeToPropertyValue(t,i,o,n)}return null}return this._WIDGET_ELEM[e]},_processProperties:function(t){var e=p.CustomElementUtils.getElementProperties(t);if(e)for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],s=e[o];s.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[o]=!0);var r=s.extension;r&&r._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(o))}},_setCopyProperty:function(t,e){null==e||!1===e?this._WIDGET_ELEM.removeAttribute(t):!0===e?this._WIDGET_ELEM.setAttribute(t,""):this._WIDGET_ELEM.setAttribute(t,e)},_setupPropertyAccumulator:function(t,e){this._WIDGET=function(n,i,o){if("option"===n)return r.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),e,i,o),e[i];throw new p.JetElementError(t,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(t,e,n,i){var o=p.AttributeUtils.propertyNameToAttribute(e),s=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(o);if(s)if(n=this.ValidatePropertySet(t,e,n),this._WIDGET_ELEM){i||(i=u.getPropertyMetadata(e,p.CustomElementUtils.getElementProperties(t)));var a=this._getCopyProperty(t,e,i);this._setCopyProperty(o,n),r.BaseCustomElementBridge.__FirePropertyChangeEvent(t,e,this._getCopyProperty(t,e,i),a,"external")}else this._PROPS[o]=n;return s},_setEventProperty:function(t,e,n){var i=p.AttributeUtils.isEventListenerProperty(e);return i&&(t[e]=n),i}}),w.getMetadata=function(t){return w._METADATA_MAP[t.toLowerCase()]},w.isKnownEvent=function(t,e){var n=p.CustomElementUtils.getElementBridge(t);return null!=(n.METADATA.events&&n.METADATA.events[e])},w.isKnownProperty=function(t,e){var n=p.CustomElementUtils.getElementBridge(t);return null!=(n.METADATA.properties&&n.METADATA.properties[e])},w.getPropertyForAlias=function(t,e){var n=p.CustomElementUtils.getElementBridge(t)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return n&&n[e]?n[e]:e},w.register=function(t,e){var n=e[r.BaseCustomElementBridge.DESC_KEY_META];n=r.BaseCustomElementBridge.__ProcessEventListeners(n),e[r.BaseCustomElementBridge.DESC_KEY_META]=n,w._METADATA_MAP[t.toLowerCase()]=n;var i=n.extension,o=i&&i._WIDGET_NAME?w.proto:j.proto;const s=i&&i._WIDGET_NAME?B:p.ElementState;var a=i._ALIASED_PROPS;a&&(i._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(a).forEach(function(t){i._COMPONENT_TO_ELEMENT_ALIASES[a[t]]=t}));const l={descriptor:e,bridgeProto:o,stateClass:s};p.CustomElementUtils.registerElement(t,l,o.getClass(e))},w._getPropertyAccessor=function(t,e,n){return function(i){var o=p.CustomElementUtils.getElementBridge(t);return 1===arguments.length?(i=o.ValidatePropertySet(t,e,i),e=o.GetAliasForProperty(e),void o._WIDGET("option",e,i,n)):(e=o.GetAliasForProperty(e),o._WIDGET("option",e))}.bind(t)},w._getWidgetElement=function(t,e){var n=t;if(e){var i=t.firstElementChild;if(i&&i.tagName.toLowerCase()===e)n=i;else{n=document.createElement(e);for(var o=[],s=t.childNodes,r=0;r<s.length;r++)o.push(s[r]);for(t.appendChild(n);o.length;){var a=o.shift();p.CustomElementUtils.getSlotAssignment(a)||n.appendChild(a)}}n.setAttribute("data-oj-internal","")}return n},w._METADATA_MAP={};class x{static isDataProvider(t){return!!t.fetchFirst}static isTreeDataProvider(t){return!!t.getChildDataProvider}}c._registerLegacyNamespaceProp("DataProviderFeatureChecker",x);var U,Y,W={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=X},stopPropagation:function(){this.isPropagationStopped=X},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=X}};function H(t,e,n,i,o,s,r){var a=n,l=!1,u={};delete i[o],Object.defineProperty(i,o,{get:function(){if(l)return a;if(null!=t._settingNestedKey)return a;var n=s(r?r():o);return F([e,n,a],u)},set:function(e){a=e,null!=t._settingNestedKey?u[t._settingNestedKey]=!0:l=!0},enumerable:!0})}function k(t){if(1===t.length){var e=t[0];return e instanceof R?e.getCallback():null}for(var n=!1,i=0;i<t.length&&!n;i++){var o=t[i];null!=o&&o instanceof R&&(n=!0)}return n?function(e){var n=[];return t.forEach(function(t){null!=t&&t instanceof R?n.push(t.getCallback()(e)):n.push(t)}),F(n)}:null}function F(t,e){for(var n,i=0;i<t.length;i++){var o=t[i];if(void 0!==o)if(a.isPlainObject(o))n=V({},a.isPlainObject(n)?[n,o]:[o],i===t.length-1?null:e,null);else n=o}return n}function V(t,e,n,i){for(var o=e.length,s=0;s<o;s++)for(var r=e[s],l=Object.keys(r),u=0;u<l.length;u++){var c,_=l[u];if(c=null==n?null:null==i?_:i+"."+_,null==n||!n[c]){var h=r[_];if(void 0!==h)if(a.isPlainObject(h)){var p=a.isPlainObject(t[_])?[t[_],h]:[h];t[_]=V({},p,n,c)}else t[_]=h}}return t}function X(){return!0}function K(t){return t.getAttribute&&t.getAttribute("class")||""}a.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(t,e){t&&(this.OuterWrapper=t._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var e=this.widget();if(null==e)return;var n=t.class;n&&e.addClass(n),t.style&&d.error("The rootAttributes.style option violates the recommended\n          Content Security Policy which disallows inline styles and is therefore ignored.\n          Use the rootAttributes.class option instead."),delete(t=a.extend({},t)).class,delete t.style,e.attr(t),delete t.id;var i=Object.keys(t);if(i.length)throw new Error("Unsupported values passed to rootAttributes option: "+i.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass("oj-component-initnode")},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){var t,e,n;t=this.element,e=this.widgetName,(n=t.data("oj-component-names"))||(n=[],t.data("oj-component-names",n)),n.indexOf(e)<0&&n.push(e),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:a.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var e=this;this._savedAttributes=[],a.each(t,function(t,n){var i={},o={element:n,attributes:i},s=n.attributes;e._savedAttributes.push(o),a.each(s,function(t,e){var n=e.name;i[n]={attr:e.value}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;for(var n=t[0],i=0,o=e.length;i<o;i++){var s=e[i];if(s.element===n)return s.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){a.each(this._savedAttributes,function(t,e){var n=a(e.element),i=e.attributes;if(1===n.length){var o,s,r=e.element.attributes,l=[];for(o=0,s=r.length;o<s;o++)r[o].name in i||l.push(r[o].name);for(o=0,s=l.length;o<s;o++)"style"===l[o]?n[0].style=null:n.removeAttr(l[o]);var u=Object.keys(i);for(o=0;o<u.length;o++){var c=u[o];"style"===c&&""===i[c].attr?n[0].style=null:n.attr(c,i[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(t,e,n){return this._IsCustomElement()&&this._getWritebackOption(t)?r.Object.compareValues(e,n):e===n},getTranslatedString:function(t,e){var n={};arguments.length>2?n=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(n=arguments[1])||n instanceof Array||(n=[n]));var i=this.option("translations."+t);return null==i?t:f.applyParameters(i.toString(),n)},getNodeBySubId:function(t){return null!=t&&null!=t.subId||!this.element?null:this.element[0]},getSubIdByNode:function(t){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),_.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass("oj-component-initnode"),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(t,e){var n=t.data("oj-component-names");if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),0===n.length&&t.removeData("oj-component-names"))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(t,e){if(0===arguments.length)return a.widget.extend({},this.options);var n,i=arguments[0],o=i,s=null,r={};if("string"==typeof i){o={};var l=i.split(".");if(i=l.shift(),l.length){var u;s=l.join(".");try{arguments.length>1&&(this._settingNestedKey=s),u=a.widget.extend({},this.options[i]),o[i]=u}finally{this._settingNestedKey=null}for(n=0;n<l.length-1;n++)u[l[n]]=u[l[n]]||{},u=u[l[n]];if(i=l.pop(),1===arguments.length)return void 0===u[i]?null:u[i];u[i]=e}else{if(1===arguments.length)return void 0===this.options[i]?null:this.options[i];o[i]=e}r=arguments[2]||r}else r=arguments[1]||r;if(null!=s){var c={path:t,value:e};r=a.widget.extend({},r,{subkey:s,subproperty:c})}var _=r?r._context:null,h=!!_&&_.internalSet,E={},f=Object.keys(o);for(n=0;n<f.length;n++){var g=f[n],m=o[g],v=this.options[g],y=r&&r.changed;y||!this._CompareOptionValues(g,v,m)?E[g]=m:this._IsCustomElement()&&d.info(p.CustomElementUtils.getElementInfo(this.element[0])+": Ignoring property set for property '"+g+"' with same value.")}if(Object.keys(E).length>0){p.CustomElementUtils.allowSlotRelocation(!0);try{h?this._internalSetOptions(E,r):this._setOptions(E,r)}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}return this},_internalSetOptions:function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o],r=this.options[o];this.options[o]=s,this._optionChanged(o,s,r,e)}},_setOptions:function(t,e){p.CustomElementUtils.allowSlotRelocation(!0);try{for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],s=t[o];this._setOption(o,s,e)}}finally{p.CustomElementUtils.allowSlotRelocation(!1)}return this},_setOption:function(t,e,n){var i=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var o=null==n?null:n.subkey;null!=o&&(this._settingNestedKey=o),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._SetupContextMenu()}return this._optionChanged(t,e,i,n),this},_optionChanged:function(t,e,n,i){var o,s=null,r=!1,l=!1,u=null,c="external",_=null;if(i&&(s=i._context)){if(s.skipEvent)return;u=s.originalEvent,r=void 0===s.writeback?null!=u:s.writeback,l=s.readOnly,_=s.optionMetadata,o=s.extraData,s.internalSet&&(c="internal")}(_=_||{}).writeback=r?"shouldWrite":"shouldNotWrite",l&&(_.readOnly=!0);var h={option:t,previousValue:n,value:e,optionMetadata:_,updatedFrom:c},p=null==i?null:i.subkey;if(p){var d=p.split("."),E=n;d.forEach(function(t){E&&(E=E[t])});var f=i.subproperty;f.previousValue=E,h.subproperty=f}null!=o&&(h=a.extend({},o,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(t,e,n){return this._trigger2(t,e,n).proceed},_trigger2:function(t,e,n){var i=n||{};if(this._IsCustomElement())return this._triggerCustomEvent(t,e,i);var o=this.options[t],s=a.Event(e,W);return s.type=(this.widgetEventPrefix+t).toLowerCase(),s.target=this.element[0],this.element.trigger(s,i),{proceed:!(a.isFunction(o)&&!1===o.apply(this.element[0],[s].concat(i))||s.isDefaultPrevented()),event:s}},_triggerCustomEvent:function(t,e,n){var i,o,s,r={},l=this._getRootElement();if("optionChange"===t){var u=w.getPropertyForAlias(l,n.option);if(!w.isKnownProperty(l,u))return{proceed:!0,event:null};i=p.AttributeUtils.propertyNameToChangeEventType(u);for(var c=Object.keys(n),_=0;_<c.length;_++){var h=c[_];if("option"!==h)if("optionMetadata"===h)for(var d=Object.keys(n[h]),E=0;E<d.length;E++){var f=d[E];"writeback"!==f&&"component"!==f&&(r[f]=n[h][f])}else r[h]=n[h]}}else{if(i=p.AttributeUtils.eventTriggerToEventType(t),!w.isKnownEvent(l,i))return{proceed:!0,event:null};o=!0,s=!0,r=this._resolveJQueryObjects(n)}e&&(r.originalEvent=e instanceof a.Event?e.originalEvent:e);var g={detail:r};o&&(g.bubbles=!0),s&&(g.cancelable=!0);var m=new CustomEvent(i,g);return l.dispatchEvent(m),{proceed:!m.defaultPrevented,event:m}},_resolveJQueryObjects:function(t){for(var e=r.CollectionUtils.copyInto({},t),n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],s=e[o];s&&s instanceof a&&(0===s.length?e[o]=null:1===s.length?e[o]=s[0]:e=s.toArray())}return e},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,e&&!("contextMenu"in t)&&this.option("contextMenu",document.getElementById(e),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(t,e,n){if(!this._IsEffectivelyDisabled()){var i;if("OJ-MENU"===t.tagName)i=t;else{var o=N.__GetWidgetConstructor(t,"ojMenu");if(!(i=o&&o("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(i,e,n),a(t).is(":visible")&&e.preventDefault()}},_SetupContextMenu:function(){var t=this._GetContextMenu();if(t||(t=this._GetDefaultContextMenu()),t&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=t;var e=this;m.startDetectContextMenuGesture(this.widget()[0],function(n,i){e._handleContextMenuGesture(t,n,i)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,m.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var t=p.CustomElementUtils.getSlotMap(this._getRootElement()).contextMenu;if(t&&t.length>0)return t[0]}else if(this.options.contextMenu)return a(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(t,e,n){this._OpenContextMenu(e,n)},_OpenContextMenu:function(t,e,n,i,o){var s=this._GetContextMenu();if(s||(s=this._contextMenuGestureInit&&a(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),s){var r={mouse:{my:"start top",at:"start bottom",of:t,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:t,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},l={launcher:this.element,position:r[e]},u={initialFocus:"menu"},c=o?a.extend(l,n,u):a.extend(!0,l,n,u);if(s.__openingContextMenu=!0,"OJ-MENU"===s.tagName)s.open(t,c,i);else{var _=N.__GetWidgetConstructor(s,"ojMenu");(_&&_("instance")).open(t,c,i);var h=function(t){t.preventDefault()};s.addEventListener("contextmenu",h),window.setTimeout(function(){s.removeEventListener("contextmenu",h)},50)}s.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),t.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!_.recentTouchEnd()},_AddHoverable:function(t){var e;a.isPlainObject(t)?e=t.element:(e=t,t={});var n=t.afterToggle||a.noop;e.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,n)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",n))},_RemoveHoverable:function(t){t&&t.off(this.hoverableEventNamespace)},_AddActiveable:function(t){var e;a.isPlainObject(t)?e=t.element:(e=t,t={});var n=t.afterToggle||a.noop;_.isTouchSupported()&&(e[0]&&(this._touchstartListener=this._activeStartHandler.bind(this,n),e[0].addEventListener("touchstart",this._touchstartListener,{passive:!0})),e.on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n))),e.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n))},_RemoveActiveable:function(t){t&&(t[0]&&(t[0].removeEventListener("touchstart",this._touchstartListener,{passive:!0}),delete this._touchstartListener),t.off(this.activeableEventNamespace),U=null)},_activeStartHandler:function(t,e){var n=a(e.currentTarget);("mouseenter"!==e.type||this._isTargetInActiveElement(e.currentTarget))&&(n.hasClass("oj-disabled")||"touchstart"!==e.type&&!this._isRealMouseEvent(e)||(n.addClass("oj-active"),t(e.type),"mousedown"===e.type&&(U=e.currentTarget,this.document.one("mouseup",function(){U=null}))))},_hoverStartHandler:function(t,e){var n=a(e.currentTarget);!n.hasClass("oj-disabled")&&this._isRealMouseEvent(e)&&(n.addClass("oj-hover"),t(e.type))},_hoverAndActiveEndHandler:function(t,e,n){("oj-active"!==t||"mouseleave"!==n.type||this._isTargetInActiveElement(n.currentTarget))&&(a(n.currentTarget).removeClass(t),e(n.type))},_isTargetInActiveElement:function(t){return U===t||null!=U&&a.contains(U,t)},_hoverable:function(){},_focusable:function(t){a.isPlainObject(t)||(t={element:t}),t.component=this,_.makeFocusable(t)},_UnregisterChildNode:function(t){if(t){a(t).off(this.eventNamespace);var e=this.bindings;e&&(this.bindings=a(e.not(t)))}},_GetReadingDirection:function(){return _.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var t=[],e=this,n=0;this._traverseWidgetHierarchy(function(i){var o=0===n?e._GetTranslationsSectionName():i.widgetFullName;n+=1;var s=f.getComponentTranslations(o);null==s||a.isEmptyObject(s)||t.push(o)});var i=t.length;return i>0?function(){if(1===i)return f.getComponentTranslations(t[0]);for(var e={},n=i-1;n>=0;n--)a.widget.extend(e,f.getComponentTranslations(t[n]));return e}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var t={};this._propertyContext=t;var e=this.element[0];t.containers=function(t){for(var e=t,n=[];e;){var i=e.getAttribute,o=i?i.call(e,N._OJ_CONTAINER_ATTR):null;null!=o&&n.push(o),e=e.parentNode}return n}(e),t.element=e,t.isCustomElement=this._IsCustomElement(),t.isCustomElement&&(t.customElement=this._getRootElement())}return this._propertyContext},_setupDefaultOptions:function(t,e){var n=this.options,i=this._getTranslationSectionLoader(),o=e.translations;null==i||void 0!==o&&!a.isPlainObject(o)||H(this,void 0,e.translations,n,"translations",i),this._loadGlobalDefaultOptions(t,e)},_loadGlobalDefaultOptions:function(t,e){var n=this.options,i=[];this._traverseWidgetHierarchy(function(t){i.push(t.widgetName)}),i.push("default");var o=N.__getDefaultOptions(i);if(!a.isEmptyObject(o))for(var s=this,r=function(){return s._getDynamicPropertyContext()},l=Object.keys(o),u=0;u<l.length;u++){var c=l[u],_=e[c];if(void 0===_||a.isPlainObject(_)){var h=o[c];if(h){var p=k(h);if(p)H(this,t[c],_,n,c,p,r);else{var d=[t[c]].concat(h);d.push(_),n[c]=F(d)}}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return p.CustomElementUtils.isElementRegistered(this._getRootElement().tagName)},_GetThrottlePromise:function(){if(this._IsCustomElement()){var t=this._getRootElement();return p.CustomElementUtils.getElementBridge(t).getThrottlePromise()}return Promise.resolve(null)},_FixRendererContext:function(t){if(this._IsCustomElement()){var e=r.CollectionUtils.copyInto({},t);return delete e.component,e.componentElement=this._getRootElement(),e}return t},_WrapCustomElementRenderer:function(t){return this._IsCustomElement()&&"function"==typeof t?function(e){var n=t(e);return n&&n.insert?n.insert:null}:t},__saveWritebackOptions:function(t){this._writebackOptions=t},_getWritebackOption:function(t){return!(!this._writebackOptions||!this._writebackOptions[t])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(t){return!!this._VerifyConnectedForSetup()&&(void 0===this.connectedState&&window.queueMicrotask(function(){this.connectedState===t&&(0===t?this._SetupResources():this._ReleaseResources()),this.connectedState=void 0}.bind(this)),this.connectedState=t,!0)},__handleWatchedAttribute:function(t,e,n){this._WatchedAttributeChanged(t,e,n)},_WatchedAttributeChanged:function(t,e,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete a.fn.baseComponent,r.__registerWidget=function(t,e,n,i){if(a.widget(t,e,n),i){var o=t.split(".")[1];delete a.fn[o]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var s,r=t.split("."),l=r[0],u=r[1],c=l+"-"+u;s="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),a.expr.pseudos[s.toLowerCase()]=function(t){return!!a.data(t,c)}}},a.cleanData=(Y=a.cleanData,function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(null==i)break;var o=!1,s=N.__GetWidgetConstructor(i);if(s&&!(o=s("instance")._IsCustomElement())){var r=N.getComponentElementByNode(i);o=r&&p.CustomElementUtils.isElementRegistered(r.tagName)}o||e.push(i)}e.length>0&&Y(e)}),a.fn.addClass=function(t){if("function"==typeof t)return this.each(function(e){a(this).addClass(t.call(this,e,K(this)))});const e=Array.isArray(t)?t:p.CustomElementUtils.getClassSet(t);return this.each(function(){1===this.nodeType&&this.classList.add(...e)}),this},a.fn.removeClass=function(t){if("function"==typeof t)return this.each(function(e){a(this).removeClass(t.call(this,e,K(this)))});if(!arguments.length)return this.attr("class","");const e=Array.isArray(t)?t:p.CustomElementUtils.getClassSet(t);return this.each(function(){1===this.nodeType&&this.classList.remove(...e)}),this};const z={};r._registerLegacyNamespaceProp("Test",z),z.ready=!1,z.domNodeForLocator=function(t){var e=t;if(r.StringUtils.isString(t)){var n=t;try{e=JSON.parse(n)}catch(t){return null}}if(e&&e.element){var i=a(e.element);if(i&&i.length>0){delete e.element;var o=e;return N.getNodeBySubId(i[0],o)}}return null},z.getOpenPopupCount=function(){return r.ZOrderUtils.getOpenPopupCount()},z.findOpenPopups=function(){return r.ZOrderUtils.findOpenPopups()},z.compareStackingContexts=function(t,e){return r.ZOrderUtils.compareStackingContexts(t,e)};const q=N.subtreeAttached,J=N.subtreeDetached,Z=N.subtreeHidden,Q=N.subtreeShown,$=N.createDynamicPropertyGetter,tt=N.setDefaultOptions,et=N.getDefaultOptions,nt=N.__GetWidgetConstructor,it=N.setComponentOption,ot=N.getComponentOption,st=N.getWidgetConstructor,rt=N.isComponentInitialized,at=N.markPendingSubtreeHidden,lt=N.unmarkPendingSubtreeHidden,ut=N.__getDefaultOptions,ct=N.getComponentElementByNode,_t=N.getSubIdByNode,ht=N.getNodeBySubId,pt=N.callComponentMethod,dt=N._OJ_CONTAINER_ATTR;t.DataProviderFeatureChecker=x,t._OJ_CONTAINER_ATTR=dt,t.__GetWidgetConstructor=nt,t.__getDefaultOptions=ut,t.callComponentMethod=pt,t.createDynamicPropertyGetter=$,t.getComponentElementByNode=ct,t.getComponentOption=ot,t.getDefaultOptions=et,t.getNodeBySubId=ht,t.getSubIdByNode=_t,t.getWidgetConstructor=st,t.isComponentInitialized=rt,t.markPendingSubtreeHidden=at,t.setComponentOption=it,t.setDefaultOptions=tt,t.subtreeAttached=q,t.subtreeDetached=J,t.subtreeHidden=Z,t.subtreeShown=Q,t.unmarkPendingSubtreeHidden=lt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojcomponentcore.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojoption',["ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojcustomelement","ojs/ojcustomelement-utils"],function(e,t,o,n,r){"use strict";function i(e){function t(e){var t=r.CustomElementUtils.getSlotMap(e),n=["startIcon","","endIcon"];o.each(t,function(t,r){-1===n.indexOf(t)&&function(e,t){o.each(t,function(t,o){e.removeChild(o)})}(e,r)}),o.each(n,function(n,r){t[r]&&function(e,t){o.each(t,function(t,o){e.appendChild(o)})}(e,t[r])})}this.updateDOM=function(){var o=e.element.customOptionRenderer;t(e.element),o&&"function"==typeof o&&o(e.element)}}var s;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,(s={properties:{disabled:{type:"boolean",value:!1},value:{type:"any"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptionRenderer={},s.extension._CONSTRUCTOR=i,e.CustomElementBridge.register("oj-option",{metadata:s})});
//# sourceMappingURL=ojoption.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojchildmutationobserver',["ojs/ojcustomelement","ojs/ojcustomelement-utils"],function(e,t){"use strict";return function(e,n){var r=e,o=n,s=t.CustomElementUtils.isElementRegistered(e.tagName)?t.CustomElementUtils.getElementState(e).getTrackChildrenOption():"none",i=function(e){var n=function(e){for(var n=[],o=0;o<e.length;o++)for(var i=e[o],l="childList"===i.type?i.target:i.target.parentNode;l;)l===r?(n.push(i),l=null):l="nearestCustomElement"!==s||t.ElementUtils.isValidCustomElementName(l.localName)?null:l.parentNode;return n}(e);n.length>0&&o(n)},l=new MutationObserver(i);return{observe:function(){"none"!==s&&l.observe(r,{attributes:!0,childList:!0,subtree:!0,characterData:!0})},disconnect:function(){var e=l.takeRecords();e&&e.length>0&&i(e),l.disconnect()}}}});
//# sourceMappingURL=ojchildmutationobserver.js.map;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.7",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define('hammerjs',[],function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojjquery-hammer',["ojs/ojlogger","hammerjs","jquery"],function(e,t,a){"use strict";var r;a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,t?(a.fn.ojHammer=function(e){switch(e){case"instance":return this.data("ojHammer");case"destroy":return this.each(function(){var e=a(this),t=e.data("ojHammer");t&&(t.destroy(),e.removeData("ojHammer"))});default:return this.each(function(){var r=a(this);r.data("ojHammer")||r.data("ojHammer",new t.Manager(r[0],e))})}},t.Manager.prototype.emit=(r=t.Manager.prototype.emit,function(e,t){r.call(this,e,t),a(this.element).trigger({type:e,gesture:t})})):e.warn("Hammer jQuery extension loaded without Hammer.")});
//# sourceMappingURL=ojjquery-hammer.js.map;
/*!
 * jQuery UI Position 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/position',["jquery","./version"],t):t(jQuery)}((function(t){"use strict";return function(){var i,o=Math.max,e=Math.abs,n=/left|center|right/,l=/top|center|bottom/,f=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,h=/%$/,r=t.fn.position;function c(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function p(i,o){return parseInt(t.css(i,o),10)||0}function a(t){return null!=t&&t===t.window}function d(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:a(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}t.position={scrollbarWidth:function(){if(void 0!==i)return i;var o,e,n=t("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),l=n.children()[0];return t("body").append(n),o=l.offsetWidth,n.css("overflow","scroll"),o===(e=l.offsetWidth)&&(e=n[0].clientWidth),n.remove(),i=o-e},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),n="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=a(o[0]),n=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:n,offset:!e&&!n?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);var h,a,g,u,m,w,W="string"==typeof(i=t.extend({},i)).of?t(document).find(i.of):t(i.of),v=t.position.getWithinInfo(i.within),y=t.position.getScrollInfo(v),H=(i.collision||"flip").split(" "),b={};return w=d(W),W[0].preventDefault&&(i.at="left top"),a=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],(function(){var t,o,e=(i[this]||"").split(" ");1===e.length&&(e=n.test(e[0])?e.concat(["center"]):l.test(e[0])?["center"].concat(e):["center","center"]),e[0]=n.test(e[0])?e[0]:"center",e[1]=l.test(e[1])?e[1]:"center",t=f.exec(e[0]),o=f.exec(e[1]),b[this]=[t?t[0]:0,o?o[0]:0],i[this]=[s.exec(e[0])[0],s.exec(e[1])[0]]})),1===H.length&&(H[1]=H[0]),"right"===i.at[0]?m.left+=a:"center"===i.at[0]&&(m.left+=a/2),"bottom"===i.at[1]?m.top+=g:"center"===i.at[1]&&(m.top+=g/2),h=c(b.at,a,g),m.left+=h[0],m.top+=h[1],this.each((function(){var n,l,f=t(this),s=f.outerWidth(),r=f.outerHeight(),d=p(this,"marginLeft"),w=p(this,"marginTop"),x=s+d+p(this,"marginRight")+y.width,T=r+w+p(this,"marginBottom")+y.height,L=t.extend({},m),P=c(b.my,f.outerWidth(),f.outerHeight());"right"===i.my[0]?L.left-=s:"center"===i.my[0]&&(L.left-=s/2),"bottom"===i.my[1]?L.top-=r:"center"===i.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],n={marginLeft:d,marginTop:w},t.each(["left","top"],(function(o,e){t.ui.position[H[o]]&&t.ui.position[H[o]][e](L,{targetWidth:a,targetHeight:g,elemWidth:s,elemHeight:r,collisionPosition:n,collisionWidth:x,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:i.my,at:i.at,within:v,elem:f})})),i.using&&(l=function(t){var n=u.left-L.left,l=n+a-s,h=u.top-L.top,c=h+g-r,p={target:{element:W,left:u.left,top:u.top,width:a,height:g},element:{element:f,left:L.left,top:L.top,width:s,height:r},horizontal:l<0?"left":n>0?"right":"center",vertical:c<0?"top":h>0?"bottom":"middle"};a<s&&e(n+l)<a&&(p.horizontal="center"),g<r&&e(h+c)<g&&(p.vertical="middle"),o(e(n),e(l))>o(e(h),e(c))?p.important="horizontal":p.important="vertical",i.using.call(this,t,p)}),f.offset(t.extend(L,{using:l}))}))},t.ui.position={fit:{left:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollLeft:n.offset.left,f=n.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(e=t.left+h+i.collisionWidth-f-l,t.left+=h-e):t.left=r>0&&h<=0?l:h>r?l+f-i.collisionWidth:l:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-s,t.left)},top:function(t,i){var e,n=i.within,l=n.isWindow?n.scrollTop:n.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(e=t.top+h+i.collisionHeight-f-l,t.top+=h-e):t.top=r>0&&h<=0?l:h>r?l+f-i.collisionHeight:l:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-s,t.top)}},flip:{left:function(t,i){var o,n,l=i.within,f=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,c=r-h,p=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];c<0?((o=t.left+a+d+g+i.collisionWidth-s-f)<0||o<e(c))&&(t.left+=a+d+g):p>0&&((n=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(n)<p)&&(t.left+=a+d+g)},top:function(t,i){var o,n,l=i.within,f=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,c=r-h,p=r+i.collisionHeight-s-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];c<0?((n=t.top+a+d+g+i.collisionHeight-s-f)<0||n<e(c))&&(t.top+=a+d+g):p>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<p)&&(t.top+=a+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojpopupcore',["exports","ojs/ojcore-base","jquery","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojdomutils","ojs/ojpreact-patch","jqueryui-amd/position","ojs/ojcontext","preact"],function(t,e,o,i,n,r,s,a,l,p){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;const c=function(t){this._tapCallback=t,this.Init()};e._registerLegacyNamespaceProp("SimpleTapRecognizer",c),e.Object.createSubclass(c,e.Object,"oj.SimpleTapRecognizer"),c.prototype.Init=function(){c.superclass.Init.call(this);var t=this._eventHandler.bind(this);this._eventHandlerCallback=t;for(var e,o=document.documentElement,i=0;i<c._TOUCHEVENTS.length;i++)"touchstart"===(e=c._TOUCHEVENTS[i])||"touchmove"===e?o.addEventListener(e,t,{passive:!1,capture:!0}):o.addEventListener(e,t,!0)},c.prototype._eventHandler=function(t){var e=this._tapCallback,o=t.type;if("touchstart"===o)this._touchStartEvent=t,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===o||"touchcancel"===o)this._touchStartEvent=null;else if("touchend"===o){if(this._touchStartEvent){var i=this._touchStartEvent._tapStart;if(isNaN(i))e(this._touchStartEvent);else(new Date).getTime()-i<c._PRESSHOLDTHRESSHOLD&&e(this._touchStartEvent)}this._touchStartEvent=null}},c.prototype.destroy=function(){this._tapCallback=null;var t=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var e,o=document.documentElement,i=0;i<c._TOUCHEVENTS.length;i++)"touchstart"===(e=c._TOUCHEVENTS[i])||"touchmove"===e?o.removeEventListener(e,t,{passive:!1,capture:!0}):o.removeEventListener(e,t,!0)},c._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],c._PRESSHOLDTHRESSHOLD=700;const u=function(){this.Init()};e._registerLegacyNamespaceProp("PopupService",u),e.Object.createSubclass(u,e.Object,"oj.PopupService");const h=function(){this.Init()},_={};u.prototype.Init=function(){u.superclass.Init.call(this)},u.getInstance=function(t){return u._popupService||(u._popupService=new h),u._popupService},u.prototype.open=function(t){e.Assert.failedInAbstractFunction()},u.prototype.close=function(t){e.Assert.failedInAbstractFunction()},u.prototype.changeOptions=function(t){e.Assert.failedInAbstractFunction()},u.prototype.triggerOnDescendents=function(t,o,i){e.Assert.failedInAbstractFunction()},u.prototype.destroy=function(){u._popupService=null},u.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},u.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},u.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},u.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},e.__registerWidget("oj.ojSurrogate",o.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var t=this.options.beforeDestroy;this.options.beforeDestroy=null,t&&t()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()}});e.CustomElementBridge.register("oj-surrogate",{metadata:{properties:{beforeDestroy:{type:"function"}},extension:{_WIDGET_NAME:"ojSurrogate"}}}),e._registerLegacyNamespaceProp("PopupServiceImpl",h),e.Object.createSubclass(h,u,"oj.PopupServiceImpl"),h.prototype.open=function(t){e.Assert.assertObject(t);var s=t[u.OPTION.POPUP];e.Assert.assertPrototype(s,o);var a=_.getStatus(s);if(a===_.STATUS.UNKNOWN||a===_.STATUS.BEFORE_OPEN||a===_.STATUS.CLOSE){var l=t[u.OPTION.LAUNCHER];e.Assert.assertPrototype(l,o);var p=t[u.OPTION.POSITION];e.Assert.assertObjectOrNull(p);var c=t[u.OPTION.EVENTS];e.Assert.assertObject(c);var f=t[u.OPTION.MODALITY];(!f||u.MODALITY.MODELESS!==f&&u.MODALITY.MODAL!==f)&&(f=u.MODALITY.NONE);var E=t[u.OPTION.LAYER_SELECTORS];e.Assert.assertString(E);var d=t[u.OPTION.CUSTOM_ELEMENT],g=t[u.OPTION.LAYER_LEVEL];(!g||u.LAYER_LEVEL.TOP_LEVEL!==g&&u.LAYER_LEVEL.NEAREST_ANCESTOR!==g)&&(g=u.LAYER_LEVEL.NEAREST_ANCESTOR);var T=c[u.EVENT.POPUP_BEFORE_OPEN];T&&o.isFunction(T)||(T=h._defaultBeforeOpenCallback);var v=c[u.EVENT.POPUP_AFTER_OPEN];_.setStatus(s,_.STATUS.OPENING),r.setLogicalParent(s,l),_.addToAncestorLayer(s,l,f,E,g,d);var O,S=function(){try{s.removeAttr("aria-hidden"),this._assertEventSink(),i.subtreeShown(s[0])}catch(t){n.error("Error opening popup:\n%o",t)}finally{_.setStatus(s,_.STATUS.OPEN),v&&v(t);var r=_.getFirstAncestorLayer(s);if(e.Assert.assertPrototype(r,o),_.applyEvents(r,c),!_._getSurrogate(r)&&o.isFunction(c[u.EVENT.POPUP_REMOVE]))(0,c[u.EVENT.POPUP_REMOVE])()}};S=S.bind(this);try{O=T(t)}catch(t){n.error("Error before open popup:\n%o",t)}finally{O&&O instanceof Promise?O.then(S):S()}}else this._assertEventSink()},h._defaultBeforeOpenCallback=function(t){var i=t[u.OPTION.POPUP];e.Assert.assertPrototype(i,o);var n=t[u.OPTION.POSITION];i.show(),n&&i.position(n)},h.prototype.close=function(t){e.Assert.assertObject(t);var s=t[u.OPTION.POPUP];e.Assert.assertPrototype(s,o);var a=_.getOpenPopupLayer(s);e.Assert.assertPrototype(a,o);var l=t[u.OPTION.EVENTS];l?l=o.extend(_.getEvents(a),l):(l=_.getEvents(a),t[u.OPTION.EVENTS]=l);var p=_.getStatus(s);if(p!==_.STATUS.OPEN&&p!==_.STATUS.BEFORE_CLOSE||!l)this._assertEventSink();else{var c=l[u.EVENT.POPUP_BEFORE_CLOSE];c&&o.isFunction(c)||(c=h._defaultBeforeCloseCallback);var f=l[u.EVENT.POPUP_AFTER_CLOSE];_.setStatus(s,_.STATUS.CLOSING),_.applyEvents(a,{}),s.attr("aria-hidden","true");var E,d=function(){try{s.hide(),s.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),_.removeFromAncestorLayer(s),r.setLogicalParent(s,null),this._assertEventSink(),i.subtreeHidden(s[0])}catch(t){n.error("Error closing popup:\n%o",t)}finally{_.setStatus(s,_.STATUS.CLOSE),f&&o.isFunction(f)&&f(t)}};d=d.bind(this);try{E=c(t)}catch(t){n.error("Error before close popup:\n%o",t)}finally{E&&E instanceof Promise?E.then(d):d()}}},h._defaultBeforeCloseCallback=function(t){var i=t[u.OPTION.POPUP];e.Assert.assertPrototype(i,o),i.hide()},h.prototype.changeOptions=function(t){e.Assert.assertObject(t);var i=t[u.OPTION.POPUP];if(e.Assert.assertPrototype(i,o),_.getStatus(i)===_.STATUS.OPEN){var n=_.getOpenPopupLayer(i);e.Assert.assertPrototype(n,o);var r=t[u.OPTION.EVENTS];r&&_.applyEvents(n,r);var s=t[u.OPTION.MODALITY];s&&_.applyModality(n,s);var a=t[u.OPTION.LAYER_SELECTORS];e.StringUtils.isEmptyOrUndefined(a)||n.attr("class",a)}},h.prototype.triggerOnDescendents=function(t,e,o){if(_.isPopupOpen(t)){var i={};i.event=e,i.argsArray=o;var n=_.getFirstAncestorLayer(t);_.postOrderVisit(n,this._triggerOnDescendentsVisitCallback,i)}},h.prototype._triggerOnDescendentsVisitCallback=function(t,e){var i=e.event,n=e.argsArray,r=_.getEvents(t);return r&&o.isFunction(r[i])&&r[i].apply(this,n),_.VISIT_RESULT.ACCEPT},h.prototype._assertEventSink=function(){var t,e,o,i=_.hasPopupsOpen(),n=this._callbackEventFilter;if(!i&&n){for(window.removeEventListener("resize",h._refreshCallback,!0),window.removeEventListener("scroll",h._refreshCallback,!0),(e=document.documentElement).removeEventListener("mousewheel",h._refreshCallback,{passive:!0,capture:!0}),e.removeEventListener("DOMMouseScroll",h._refreshCallback,!0),this._callbackEventFilter=null,t=0;t<h._REDISTRIBUTE_EVENTS.length;t++)o=h._REDISTRIBUTE_EVENTS[t],e.removeEventListener(o,n,!0);var s=this._simpleTapRecognizer;s&&(s.destroy(),this._simpleTapRecognizer=null)}else if(i&&!n){for(window.addEventListener("resize",h._refreshCallback,!0),window.addEventListener("scroll",h._refreshCallback,!0),(e=document.documentElement).addEventListener("mousewheel",h._refreshCallback,{passive:!0,capture:!0}),e.addEventListener("DOMMouseScroll",h._refreshCallback,!0),n=this._eventFilterCallback.bind(this),this._callbackEventFilter=n,t=0;t<h._REDISTRIBUTE_EVENTS.length;t++)o=h._REDISTRIBUTE_EVENTS[t],e.addEventListener(o,n,!0);r.isTouchSupported()&&(this._simpleTapRecognizer=new c(n))}},h.prototype._eventFilterCallback=function(t){var e=o(t.target);if(_.hasPopupsOpen()){if(!r.isChromeEvent(t)&&("focus"!==t.type||e.is(":focusable"))){var i=_.getDefaultLayer();if("keydown"!==t.type||!_.hasModalDialogOpen()||r.isAncestor(i[0],e[0])){var n=_.getFirstAncestorLayer(e),s=i.find("."+h._FOCUS_WITHIN_SELECTOR).first();if(i[0]!==n[0]?n.hasClass(h._FOCUS_WITHIN_SELECTOR)||(s.length&&s.removeClass(h._FOCUS_WITHIN_SELECTOR),n.addClass(h._FOCUS_WITHIN_SELECTOR)):s.length&&s.removeClass(h._FOCUS_WITHIN_SELECTOR),"focus"!==t.type||"-1"!==e.attr("tabindex")){for(var a={},l=h._COPY_SAFE_EVENT_PROPERTIES,p={},c=0;c<l.length;c++){var u=l[c],f=t[u];void 0===f||o.isFunction(f)||(p[u]=f)}a.event=o.Event(t,p),_.postOrderVisit(i,h._redistributeVisitCallback,a)}}else _.eatEvent(t)}}else this._assertEventSink()},h._redistributeVisitCallback=function(t,e){var i=_.getEvents(t),n=e.event;return i&&o.isFunction(i[u.EVENT.POPUP_AUTODISMISS])&&i[u.EVENT.POPUP_AUTODISMISS](n),_.VISIT_RESULT.ACCEPT},h._refreshCallback=function(t){isNaN(h._refreshTimerId)&&(h._refreshTimerId=window.setTimeout(function(){h._refreshTimerId=Number.NaN;var t=_.getDefaultLayer();o.isFunction(window.requestAnimationFrame)?h._afRequestId=window.requestAnimationFrame(function(){h._afRequestId=null,_.postOrderVisit(t,h._refreshVisitCallback)}):_.postOrderVisit(t,h._refreshVisitCallback)},h._REFRESH_DELAY))},h._refreshVisitCallback=function(t,e){if(e.level>0)return _.VISIT_RESULT.REJECT;var i=_.getEvents(t);return i&&o.isFunction(i[u.EVENT.POPUP_REFRESH])&&i[u.EVENT.POPUP_REFRESH](),_.VISIT_RESULT.ACCEPT},h.prototype.destroy=function(){h.superclass.destroy.call(this)},h._FOCUS_WITHIN_SELECTOR="oj-focus-within",h._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],h._COPY_SAFE_EVENT_PROPERTIES=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","char","charCode","key","keyCode"],h._REFRESH_DELAY=10,e._registerLegacyNamespaceProp("ZOrderUtils",_),_.STATUS={UNKNOWN:0,BEFORE_OPEN:.5,OPENING:1,OPEN:2,BEFORE_CLOSE:2.5,CLOSING:3,CLOSE:4},_._STATUS_DATA="oj-popup-status",_.getStatus=function(t){t instanceof Element&&(t=o(t));var e=t.data(_._STATUS_DATA);return isNaN(e)?_.STATUS.UNKNOWN:e},_.setStatus=function(t,e){t instanceof Element&&(t=o(t)),e>_.STATUS.UNKNOWN&&e<=_.STATUS.CLOSE&&t.data(_._STATUS_DATA,e)},_.getFirstAncestorLayer=function(t){if(!t)return _.getDefaultLayer();for(var e=t;e&&e.length>0&&e.attr(_._SURROGATE_ATTR)!==_._DEFAULT_LAYER_ID;){if(_._hasSurrogate(e[0]))return e;e=e.parent()}return _.getDefaultLayer()},_.getDefaultLayer=function(){var t=o(document.getElementById(_._DEFAULT_LAYER_ID));return t.length>0||((t=o("<div>")).attr("role","presentation"),t.attr("id",_._DEFAULT_LAYER_ID),t.prependTo(o(document.body))),t},_.addToAncestorLayer=function(t,n,r,s,a,l){var p=t[0];if(_._hasSurrogate(p.parentNode))throw new Error("JET Popup is already open - id: "+p.getAttribute("id"));var c=_.getFirstAncestorLayer(a===u.LAYER_LEVEL.TOP_LEVEL?null:n),h=o("<div>"),f=t.attr("id");e.StringUtils.isEmptyOrUndefined(f)?h.uniqueId():h.attr("id",[f,"layer"].join("_")),h.attr("role","presentation"),h.addClass(s),t.after(h);const E=_._createSurrogate(h,l);i.subtreeDetached(p),t.appendTo(h),t.data(_._LAYER_ID_DATA,h.attr("id")),h.appendTo(c),i.subtreeAttached(p),_._applyVDomPatch(E[0],p),_.applyModality(h,r)},_._applyVDomPatch=function(t,e){t[s.OJ_POPUP]=e,s.patchPopupParent(t.parentElement)},_._getSurrogate=function(t){var e=t.attr(_._SURROGATE_ATTR);if(e)return document.getElementById(e)},_.applyEvents=function(t,e,n){n||(n=o(_._getSurrogate(t))),t.data(_._EVENTS_DATA,e),n.length>0&&e&&o.isFunction(e[u.EVENT.POPUP_REMOVE])&&i.setComponentOption(n[0],"beforeDestroy",e[u.EVENT.POPUP_REMOVE])},_.getEvents=function(t){return t.data(_._EVENTS_DATA)},_._createSurrogate=function(t,i){var n="script";i&&(n="oj-surrogate");var r=o(document.createElement(n)),s=t.attr("id");e.StringUtils.isEmptyOrUndefined(s)||r.attr("id",[s,"surrogate"].join("_")),i&&r.attr("data-oj-binding-provider","none"),r.insertBefore(t),i||r.ojSurrogate();var a=r.attr("id");return t.attr(_._SURROGATE_ATTR,a),r},_._removeSurrogate=function(t){var e=t.attr(_._SURROGATE_ATTR);t.removeAttr(_._SURROGATE_ATTR);var n=o(document.getElementById(e)),r=n.length>0;return r&&(t.insertAfter(n),i.setComponentOption(n[0],"beforeDestroy",null),n.remove()),r},_.getOpenPopupLayer=function(t){var e=t.parent();if(!e||0===e.length){var i=t.data(_._LAYER_ID_DATA);e=o(document.getElementById(i))}return e},_.removeFromAncestorLayer=function(t){var e=_.getOpenPopupLayer(t);_.preOrderVisit(e,_._closeDescendantPopupsCallback),_._removeOverlayFromAncestorLayer(e),e.removeData(_._EVENTS_DATA),e.removeData(_._MODALITY_DATA),t.removeData(_._LAYER_ID_DATA);var o=t[0];i.subtreeDetached(o),_._removeSurrogate(e)&&o&&o.parentElement?(r.unwrap(t,e),i.subtreeAttached(o)):e.remove()},_._closeDescendantPopupsCallback=function(t,e){if(e.level>0)return _.VISIT_RESULT.REJECT;var i=t.data(_._EVENTS_DATA);return i&&o.isFunction(i[u.EVENT.POPUP_CLOSE])&&i[u.EVENT.POPUP_CLOSE](),_.VISIT_RESULT.ACCEPT},_.applyModality=function(t,o){var i=t.data(_._MODALITY_DATA);t.data(_._MODALITY_DATA,o),e.StringUtils.isEmptyOrUndefined(i)?u.MODALITY.MODAL===o?_._addOverlayToAncestorLayer(t):_._removeOverlayFromAncestorLayer(t):i!==o&&(o!==i&&o===u.MODALITY.MODAL?_._addOverlayToAncestorLayer(t):_._removeOverlayFromAncestorLayer(t)),o===u.MODALITY.MODAL?t.attr("aria-modal","true"):t.removeAttr("aria-modal")},_.hasModalDialogOpen=function(){for(var t=_.getDefaultLayer().children(),e=t.length-1;e>-1;e--){if(o(t[e]).hasClass(_._OVERLAY_SELECTOR))return!0}return!1},_._addOverlayToAncestorLayer=function(t){var i=o("<div>");i.addClass(_._OVERLAY_SELECTOR),i.addClass(t[0].className),i.attr("role","presentation");var n=t.attr("id");e.StringUtils.isEmptyOrUndefined(n)?i.uniqueId():i.attr("id",[n,"overlay"].join("_")),t.before(i);var r=i.attr("id");t.attr(_._OVERLAY_ATTR,r)},_._removeOverlayFromAncestorLayer=function(t){var i=t.attr(_._OVERLAY_ATTR);e.StringUtils.isEmptyOrUndefined(i)||(t.removeAttr(_._OVERLAY_ATTR),o(document.getElementById(i)).remove())},_.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},_._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},_.postOrderVisit=function(t,e,o){var i=o;o||(i={}),i.level=0,i.type=_._VISIT_TRAVERSAL.POST_ORDER,_._visitTree(t,e,i)},_.preOrderVisit=function(t,e,o){var i=o;o||(i={}),i.level=0,i.type=_._VISIT_TRAVERSAL.PRE_ORDER,_._visitTree(t,e,i)},_._visitTree=function(t,e,i){for(var n=i.level,r=t.children(),s=r.length-1;s>-1;s--){var a=o(r[s]);if(_._hasSurrogate(a[0])){var l;if(i.type===_._VISIT_TRAVERSAL.PRE_ORDER){if((l=e(a,i))===_.VISIT_RESULT.COMPLETE)return l;if(l===_.VISIT_RESULT.REJECT)break}if(i.level=n+1,l=_._visitTree(a,e,i),i.level=n,l===_.VISIT_RESULT.COMPLETE)return l;if(i.type===_._VISIT_TRAVERSAL.POST_ORDER){if((l=e(a,i))===_.VISIT_RESULT.COMPLETE)return l;if(l===_.VISIT_RESULT.REJECT)break}}}return _.VISIT_RESULT.ACCEPT},_._hasSurrogate=function(t){return!(!t||1!==t.nodeType||!t.hasAttribute(_._SURROGATE_ATTR))},_.hasPopupsOpen=function(){return _.getDefaultLayer().children().length>0},_.getOpenPopupCount=function(){var t={popupCount:0},e=_.getDefaultLayer();return _.preOrderVisit(e,_._openPopupCountCallback,t),t.popupCount},_._openPopupCountCallback=function(t,e){return e.popupCount+=1,_.VISIT_RESULT.ACCEPT},_.findOpenPopups=function(){var t={},e=[];t.popups=e;var i=_.getDefaultLayer();return _.preOrderVisit(i,_._openPopupsCallback,t),e=t.popups,o(e)},_._openPopupsCallback=function(t,e){return e.popups.push(t[0]),_.VISIT_RESULT.ACCEPT},_.isAboveTopModalLayer=function(t){if(!t||!_.hasPopupsOpen())return!0;var e=function(){var t={topLayer:null},e=_.getDefaultLayer();if(_.preOrderVisit(e,function(t,e){if(e.level>0)return _.VISIT_RESULT.REJECT;var i=e.topLayer;return i?_.compareStackingContexts(o(t),o(i))>0&&(e.topLayer=t):e.topLayer=t,_.VISIT_RESULT.ACCEPT},t),t.topLayer)return t.topLayer[0]}();if(!e)return!0;var i=function(t){var e={topModalPopup:null};if(t.hasAttribute(_._OVERLAY_ATTR)&&(e.topModalPopup=o(t)),_.postOrderVisit(o(t),function(t,e){return t[0].hasAttribute(_._OVERLAY_ATTR)?(e.topModalPopup=t,_.VISIT_RESULT.COMPLETE):_.VISIT_RESULT.ACCEPT},e),e.topModalPopup)return e.topModalPopup[0]}(e);return!i||(r.isAncestorOrSelf(i,t)||_.compareStackingContexts(o(i),o(t))<0)},_.compareStackingContexts=function(t,i){function n(t,e){var i,n=["absolute","relative","fixed"],s=t.parents(),a=[];for(i=s.length-1;i>-1;i--)a.push(o(s[i]));(s=a).push(t);var l=[],p=0;for(i=0;i<s.length;i++){var c=s[i],u=c.css("position"),h=r.getCSSLengthAsFloat(c.css("opacity")),_=r.getCSSLengthAsInt(c.css("z-index")),f=o.inArray(c[0],c.parent().children());o.inArray(u,n)>-1&&_>0?(l.push({weight:[p,_,f],order:[f]}),p+=1):h<1?(l.push({weight:[p,1,f],order:[f]}),p+=1):e&&l.push({weight:[0,0,f],order:[f]})}return l}function s(t,e){for(var o=Math.max(t.length,e.length),i=0;i<o;i++){var n=i<t.length?t[i]:0,r=i<e.length?e[i]:0;if(n!==r)return n<r?-1:1}return 0}e.Assert.assertPrototype(t,o),e.Assert.assertPrototype(i,o);var a,l,p=n(t,!1),c=n(i,!1),u=Math.max(p.length,c.length);for(a=0;a<u;a++)if(0!==(l=s(a<p.length?p[a].weight:[-1],a<c.length?c[a].weight:[-1])))return l;for(p=n(t,!0),c=n(i,!0),u=Math.max(p.length,c.length),a=0;a<u;a++)if(0!==(l=s(a<p.length?p[a].order:[-1],a<c.length?c[a].order:[-1])))return l;return 0},_.eatEvent=function(t){t.stopPropagation(),t.preventDefault()},_.isPopupOpen=function(t){var e=t.parent();return!(!e||1!==e.length||!_._hasSurrogate(e[0]))},_._EVENTS_DATA="oj-popup-events",_._MODALITY_DATA="oj-popup-modality",_._DEFAULT_LAYER_ID="__oj_zorder_container",_._SURROGATE_ATTR="data-oj-surrogate-id",_._LAYER_ID_DATA="oj-popup-layer-id",_._OVERLAY_ATTR="data-oj-overlayid",_._OVERLAY_SELECTOR="oj-component-overlay";const f={};e._registerLegacyNamespaceProp("PositionUtils",f),f.normalizeHorizontalAlignment=function(t,i){for(var n=o.extend({},t),r=0;r<f._ALIGN_RULE_PROPERTIES.length;r++){var s=f._ALIGN_RULE_PROPERTIES[r],a=n[s];if(a)if(e.StringUtils.isString(a))n[s]=a.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+");else for(var l=0;l<f._SUB_ALIGN_RULE_PROPERTIES.length;l++){var p=f._SUB_ALIGN_RULE_PROPERTIES[l],c=a[p];e.StringUtils.isString(c)&&(a[p]=c.replace("start",i?"right":"left").replace("end",i?"left":"right").replace("<",i?"+":"-").replace(">",i?"-":"+"))}}return n},f.normalizePositionOf=function(t,e,o){return"event"===t?o:null==t||"launcher"===t?e:t},f._normalizeEventForPosition=function(t){o.each(["pageX","pageY"],function(e,o){if(t&&void 0===t[o]&&t.originalEvent){var i,n=t.originalEvent,r=n.type;if(i="touchstart"===r||"touchmove"===r?"touches":"touchend"===r?"changedTouches":null){var s=n[i][0];s&&(t[o]=s[o])}}})},f._ALIGN_RULE_PROPERTIES=["my","at"],f._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],f.isAligningPositionClipped=function(t){if(t.target&&t.target.height>0&&t.target.width>0){var e=t.target.element;return!f.isWithinViewport(e)}return!1},f.isWithinViewport=function(t){function e(t,e){var o;if(["hidden","scroll","auto"].indexOf(e.overflowY)>-1){if(t.bottom-e.top<-1)return!1;if(o="auto"===e.overflowX&&e.scrollWidth>e.innerWidth||"scroll"===e.overflowX?r.getScrollBarWidth():0,e.bottom-o-t.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(e.overflowX)>-1&&(o="auto"===e.overflowY&&e.scrollHeight>e.innerHeight||"scroll"===e.overflowY?r.getScrollBarWidth():0,t.right-(e.left+("rtl"===r.getReadingDirection()?o:0))<-1||t.left-(e.right-("ltr"===r.getReadingDirection()?o:0))>-1))}function i(t){var e=t[0];if(1===e.nodeType){var i=o.extend({},e.getBoundingClientRect());return i.overflowX=t.css("overflow-x"),i.overflowY=t.css("overflow-y"),i.innerHeight=t.innerHeight(),i.innerWidth=t.innerWidth(),i.scrollHeight=e.scrollHeight,i.scrollWidth=e.scrollWidth,i}return{height:0,width:0}}function n(t){return["fixed","absolute","relative","sticky"].indexOf(t.css("position"))>-1&&(!isNaN(parseInt(t.css("top"),10))||!isNaN(parseInt(t.css("bottom"),10))||!isNaN(parseInt(t.css("left"),10))||!isNaN(parseInt(t.css("right"),10)))}if(!t)return!1;if(o.isWindow(t[0])||n(t))return!0;for(var s,a=i(t),l=!0,p=t.parent();l&&p&&p.length>0&&"BODY"!==p[0].nodeName&&1===p[0].nodeType&&!n(p);){if("visible"!==(s=p).css("overflow-x")||"visible"!==s.css("overflow-y")){var c=i(p);c.height>0&&c.width>0&&(l=e(a,c))}p=p.parent()}return l},f._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},f._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",f.captureTransformOriginAnimationEffectsOption=function(t,e){var o=[e.horizontal,e.vertical].join("-");t.data(f._ALIGN_MNEMONIC_DATA,o)},f.addTransformOriginAnimationEffectsOption=function(t,o){var i,n;e.StringUtils.isString(o)?(n=!0,i=o):(n=!1,i=JSON.stringify(o));var r=/#myPosition/g;if(i.match(r)){var s=t.data(f._ALIGN_MNEMONIC_DATA);e.StringUtils.isEmptyOrUndefined(s)&&(s="center-middle");var a=f._ANIMATION_TRANSFORM_ORIGIN_RULES[s];i=i.replace(r,a),o=n?i:JSON.parse(i)}return o},f._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|-)?(\d+)?/,f._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,f._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,f._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,f._parsePositionNmnemonic=function(t,e){var o=[null,Number.NaN],i=f._JQUI_MNEMONIC_GRP_REGX.exec(t);if(i[1]&&e.test(i[1])&&(o[0]=i[1],i[2])){var n=parseInt(i[3],10);isNaN(n)||(n*="-"===i[2]?-1:1,o[1]=n)}return o},f._parseJSON=function(t){if(e.StringUtils.isString(t)&&/^{/.test(t)&&/}$/.test(t))try{return JSON.parse(t)}catch(t){}return null},f._coerceMyAtToJet=function(t,i,n,s){var a=f._parseJSON(i);a&&(i=a),(a=f._parseJSON(n))&&(n=a),s||(s={});var l,p=o.extend({},s),c={x:0,y:0};if(n&&"x"in n&&"y"in n&&(c.x=r.getCSSLengthAsInt(n.x),c.y=r.getCSSLengthAsInt(n.y)),e.StringUtils.isString(i)){var u=i.split(/\s/);u.length>0&&!e.StringUtils.isEmpty(u[0])&&(l=f._parsePositionNmnemonic(u[0],f._HORIZONTAL_ENUM_TST_REGX))[0]&&(p.horizontal=l[0],isNaN(l[1])||(c.x=l[1])),u.length>1&&!e.StringUtils.isEmpty(u[1])&&(l=f._parsePositionNmnemonic(u[1],f._VERTICAL_ENUM_TST_REGX))[0]&&(p.vertical=l[0],isNaN(l[1])||(c.y=l[1]))}else i&&("horizontal"in i&&(l=f._parsePositionNmnemonic(i.horizontal,f._HORIZONTAL_ENUM_TST_REGX))[0]&&(p.horizontal=l[0],isNaN(l[1])||(c.x=l[1])),"vertical"in i&&(l=f._parsePositionNmnemonic(i.vertical,f._VERTICAL_ENUM_TST_REGX))[0]&&(p.vertical=l[0],isNaN(l[1])||(c.y=l[1])));var h={};return h[t]=p,h.offset=c,h},f._coerceCollisionToJet=function(t,e){var o=e;return f._COLLISION_ENUM_TST_REGX.test(t)&&(o=t),{collision:o}},f._coerceOfToJet=function(t,i){var n=f._parseJSON(t);n&&(t=n);var s=i;if(e.StringUtils.isString(t))s=t;else if(o.isWindow(t))s="window";else if(t instanceof Element||t instanceof o){(t=o(t)).uniqueId(),s="#"+function(t){for(var e=[],o=/\w|_|-/,i=0;i<t.length;i++){var n=t.substring(i,i+1);o.test(n)?e.push(n):e.push("\\"+n)}return e.join("")}(t.attr("id"))}else t instanceof Event||t instanceof o.Event?("pageX"in t||"pageY"in t)&&((s={}).x=r.getCSSLengthAsFloat(t.pageX),s.y=r.getCSSLengthAsFloat(t.pageY)):t&&("x"in t||"y"in t)&&((s={}).x=r.getCSSLengthAsFloat(t.x),s.y=r.getCSSLengthAsFloat(t.y));return{of:s}},f.coerceToJet=function(t,e){t||(t={});var i=f._parseJSON(t);i&&(t=i),e||(e={});var n=e.my,r=e.at,s=e.collision,a=e.of,l=f._coerceMyAtToJet("my",t.my,t.offset,n),p=f._coerceMyAtToJet("at",t.at,null,r),c={offset:{x:l.offset.x+p.offset.x,y:l.offset.y+p.offset.y}};return delete l.offset,delete p.offset,o.extend({},l,p,c,f._coerceCollisionToJet(t.collision,s),f._coerceOfToJet(t.of,a),function(t,e){return{using:o.isFunction(t)?t:e}}(t.using,void 0))},f.coerceToJqUi=function(t){function i(e,o){var i=[];if(t[e][o]?i.push(t[e][o]):i.push("center"),"my"===e&&t.offset){var n="horizontal"===o?"x":"y",r=t.offset[n];isNaN(r)||0===r||(i.push(r>0?"+":""),i.push(Math.floor(r).toString()))}return i.join("")}var n={};["my","at"].forEach(function(e){if(t[e]){var o=[];o.push(i(e,"horizontal")),o.push(" "),o.push(i(e,"vertical")),n[e]=o.join("")}});var r=t.of;if(e.StringUtils.isString(r))n.of="window"===r?window:r;else if(r&&!e.StringUtils.isString(r)&&"x"in r&&"y"in r){var s=r.x,a=r.y,l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,s,a,s,a,!1,!1,!1,!1,0,null),n.of=o.Event(l,{pageX:s,pageY:a})}else n.of=r;return t.collision&&(n.collision=t.collision),t.using&&(n.using=t.using),n},f.calcAvailablePopupSize=function(t,e,i){var n,s,a,l,p=o.position.getWithinInfo(i||window),c=o.position.getScrollInfo(p),u="rtl"===r.getReadingDirection(),h=u?c.width:0,_=u?0:c.width,f=e.element,E=e.target,d=p.isWindow?p.scrollLeft:0,g=p.isWindow?p.scrollTop:0,T=f.left,v=f.left+f.width,O=f.top,S=f.top+f.height,P=E.left,m=E.left+E.width,y=E.top,A=E.top+E.height,R=p.offset.left+d+h,I=p.offset.left+p.width+d-_,L=p.offset.top+g,N=p.offset.top+p.height+g-c.height;return T<P?(n=R,s=v<=P?P:v<=m?Math.min(m,I):I):T===P?P-R>I-m?(n=R,s=m):(n=P,s=I):T<m?(n=P,s=v<=m?m:I):(n=m,s=I),O<y?(a=L,l=S<=y?y:S<=A?Math.min(A,N):N):O===y?(a=y,l=N):O<A?(a=y,l=S<=A?A:N):(a=A,l=N),{width:s-n,height:l-a}},function(){var t,i=Math.max,n=Math.abs;const s=/left|center|right/,a=/top|center|bottom/,l=/[+-]\d+(\.[\d]+)?%?/,p=/^\w+/,c=/%$/;var u=o.fn.position,h=o.position.getWithinInfo;function _(t,e,o){return[parseFloat(t[0])*(c.test(t[0])?e/100:1),parseFloat(t[1])*(c.test(t[1])?o/100:1)]}function f(t,e){return parseInt(o.css(t,e),10)||0}function E(t){var i=t[0];if(9===i.nodeType)return{width:t.width(),height:t.height(),offset:{top:0,left:0}};if(o.isWindow(i)){var n=e.AgentUtils.getAgentInfo(),r=e.AgentUtils.OS.ANDROID===n.os||e.AgentUtils.OS.IOS===n.os;return{width:t.width(),height:r?i.innerHeight:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}return i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}o.position={getWithinInfo:h.bind(this),scrollbarWidth:function(){if(void 0!==t)return t;var e,i,n=document.createElement("div");n.style.display="block",n.style.position="absolute",n.style.width="50px",n.style.height="50px",n.style.overflow="hidden";var r=document.createElement("div");return r.style.height="100px",r.style.width="auto",n.appendChild(r),o("body").append(o(n)),e=r.offsetWidth,n.style.overflow="scroll",e===(i=r.offsetWidth)&&(i=n.clientWidth),o(n).remove(),t=e-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?o.position.scrollbarWidth():0,height:n?o.position.scrollbarWidth():0}}},o.fn.position=function(t){if(!t||!t.of)return u.apply(this,arguments);var e,r,c,h,d,g;t=o.extend({},t);var T=o(t.of),v=o.position.getWithinInfo(t.within),O=o.position.getScrollInfo(v),S=(t.collision||"flip").split(" "),P={};return g=E(T),T[0].preventDefault&&(t.at="left top"),r=g.width,c=g.height,h=g.offset,d=o.extend({},h),o.each(["my","at"],function(){var e,o,i=(t[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",e=l.exec(i[0]),o=l.exec(i[1]),P[this]=[e?e[0]:0,o?o[0]:0],t[this]=[p.exec(i[0])[0],p.exec(i[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===t.at[0]?d.left+=r:"center"===t.at[0]&&(d.left+=r/2),"bottom"===t.at[1]?d.top+=c:"center"===t.at[1]&&(d.top+=c/2),e=_(P.at,r,c),d.left+=e[0],d.top+=e[1],this.each(function(){var s,a,l=o(this),p=l.outerWidth(),u=l.outerHeight(),E=f(this,"marginLeft"),g=f(this,"marginTop"),m=p+E+f(this,"marginRight")+O.width,y=u+g+f(this,"marginBottom")+O.height,A=o.extend({},d),R=_(P.my,l.outerWidth(),l.outerHeight());"right"===t.my[0]?A.left-=p:"center"===t.my[0]&&(A.left-=p/2),"bottom"===t.my[1]?A.top-=u:"center"===t.my[1]&&(A.top-=u/2),A.left+=R[0],A.top+=R[1],s={marginLeft:E,marginTop:g},o.each(["left","top"],function(i,n){o.ui.position[S[i]]&&o.ui.position[S[i]][n](A,{targetWidth:r,targetHeight:c,elemWidth:p,elemHeight:u,collisionPosition:s,collisionWidth:m,collisionHeight:y,offset:[e[0]+R[0],e[1]+R[1]],my:t.my,at:t.at,within:v,elem:l})}),t.using&&(a=function(e){var o=h.left-A.left,s=o+r-p,a=h.top-A.top,_=a+c-u,f={target:{element:T,left:h.left,top:h.top,width:r,height:c},element:{element:l,left:A.left,top:A.top,width:p,height:u},horizontal:s<0?"left":o>0?"right":"center",vertical:_<0?"top":a>0?"bottom":"middle"};r<p&&Math.abs(o+s)<r&&(f.horizontal="center"),c<u&&Math.abs(a+_)<c&&(f.vertical="middle"),i(n(o),n(s))>i(n(a),n(_))?f.important="horizontal":f.important="vertical",t.using.call(this,e,f)}),l.offset(o.extend(A,{using:a}))})};var d=o.ui.position.flip.left;o.ui.position.flip={left:d.bind(this),top:function(t,e){var o,i,n=e.within,r=n.offset.top+n.scrollTop,s=n.height,a=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,p=l-a,c=l+e.collisionHeight-s-a;o="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0;var u,h,_=-2*e.offset[1];p<0?((u=t.top+o+i+_+e.collisionHeight-s-r)<0||u<Math.abs(p))&&c<0&&p>c&&(t.top+=o+i+_):c>0&&((h=t.top-e.collisionPosition.marginTop+o+i+_-a)>0||Math.abs(h)<c)&&(t.top+=o+i+_)}},o.ui.position.fit={left:function(t,e){var o,i=e.within,n=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=t.left-e.collisionPosition.marginLeft,a=n-s,l=s+e.collisionWidth-r-n;e.collisionWidth>r?a>0&&l<=0?(o=t.left+a+e.collisionWidth-r-n,t.left+=a-o):t.left=l>0&&a<=0?n:a>l?n+r-e.collisionWidth:n:a>0?t.left+=a:l>0?t.left-=l:t.left=Math.max(t.left-s,t.left),t.left<0&&(t.left=0)},top:function(t,e){var o,i=e.within,n=i.isWindow?i.scrollTop:i.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,a=n-s,l=s+e.collisionHeight-r-n;e.collisionHeight>r?a>0&&l<=0?(o=t.top+a+e.collisionHeight-r-n,t.top+=a-o):t.top=l>0&&a<=0?n:a>l?n+r-e.collisionHeight:n:a>0?t.top+=a:l>0?t.top-=l:t.top=Math.max(t.top-s,t.top),t.top<0&&(t.top=0)}},o.ui.position.flipcenter={left:function(t,e){var i=t.left;o.ui.position.flip.left.call(this,t,e);var n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,l=t.left-e.collisionPosition.marginLeft,p=s-l,c=l+e.collisionWidth-a-s;(p>0||c>0)&&("right"===e.at[0]?i-=e.targetWidth/2:"left"===e.at[0]&&(i+=e.targetWidth/2),i-=("rtl"===r.getReadingDirection()?-1:1)*(e.elemWidth/2),t.left=Math.max(0,i))},top:function(t,e){var i=t.top;o.ui.position.flip.top.call(this,t,e);var n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,p=a+e.collisionHeight-s-r;(l>0||p>0)&&("top"===e.at[1]?i+=e.targetHeight/2:"bottom"===e.at[1]&&(i-=e.targetHeight/2),i+=e.elemHeight/2,t.top=Math.max(0,i))}}}();const E=function(){this.Init()};e._registerLegacyNamespaceProp("PopupLiveRegion",E),e.Object.createSubclass(E,e.Object,"oj.PopupLiveRegion"),E.prototype.Init=function(){E.superclass.Init.call(this),isNaN(E._refCounter)?E._refCounter=1:E._refCounter+=1},E.prototype.destroy=function(){if(!isNaN(E._refCounter)&&(E._refCounter-=1)<1){var t=o(document.getElementById(E._POPUP_LIVE_REGION_ID));t.length>0&&t.remove()}},E.prototype.announce=function(t){if(!e.StringUtils.isEmpty(t)){var i=E._getLiveRegion();i.children().remove(),setTimeout(function(){o("<div>").text(t).appendTo(i)},250)}},E._getLiveRegion=function(){var t=o(document.getElementById(E._POPUP_LIVE_REGION_ID));return 0===t.length&&((t=o("<div>")).attr({id:E._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),t.addClass("oj-helper-hidden-accessible"),t.appendTo(document.body)),t},E._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion";const d=function(t,i,n,r,s){e.Assert.assertPrototype(t,o),e.Assert.assertString(i),e.Assert.assertFunction(n),e.Assert.assertStringOrNull(r),this._options={insertBefore:!1,preventKeyEvents:!0},s&&(this._options=Object.assign({},this._options,s)),this._sibling=t,this._message=i,this._callback=n,this._id=r,this.Init()};e._registerLegacyNamespaceProp("PopupSkipLink",d),e.Object.createSubclass(d,e.Object,"oj.PopupSkipLink"),d.prototype.Init=function(){d.superclass.Init.call(this);var t=this._sibling,e=this._callback,i=this._message,n=this._options.insertBefore,r=this._options.preventKeyEvents;this._message=null;var s=this._id;this._id=null;var a=o(document.getElementById(s));a.length<1&&(a=o("<a>").attr({tabindex:"-1",href:"#",role:"link"})),a.attr("id",s),a.addClass("oj-helper-hidden-accessible"),a.text(i),n?a.insertBefore(t):a.insertAfter(t),a.on("click",d._activateHandler.bind(this,e)),r&&a.on("keydown keyup keypress",d._keyHandler),t.data(d._SKIPLINK_ATTR,a)},d._activateHandler=function(t,e){_.eatEvent(e),window.setImmediate(t)},d._keyHandler=function(t){t.keyCode===o.ui.keyCode.ENTER&&_.eatEvent(t)},d.prototype.destroy=function(){var t=this._sibling;if(delete this._sibling,delete this._callback,t){var e=t.data(d._SKIPLINK_ATTR);t.removeData(d._SKIPLINK_ATTR),e&&(e.off("click keydown keyup keypress"),e.remove())}},d.prototype.getLink=function(){var t,e=this._sibling;return e&&(t=e.data(d._SKIPLINK_ATTR)),t},d._SKIPLINK_ATTR="oj-skiplink";const g=function(t,e,o,i){this._element=t,this._operation=e,this._widgetName=o,this._isCustomElement=!!i,this.Init()};e._registerLegacyNamespaceProp("PopupWhenReadyMediator",g),e.Object.createSubclass(g,e.Object,"oj.PopupWhenReadyMediator"),g.prototype.Init=function(){g.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var t=this._operation,e=["oj"];this._isCustomElement?(e.push(t.charAt(0).toUpperCase()),e.push(t.slice(1))):e.push(t);var o=e.join("");this._eventType=o,this._element.on(o,this._callback);var i=l.getContext(this._element[0]).getBusyContext(),n={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},r=i.addBusyState(n);this.AddPromiseExecutor(r),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},g.prototype._getBusyStateDescription=function(t,e,o){return o+" identified by '"+t.attr("id")+"' is busy animating on the '"+e+"' operation."},g.prototype._deliverResolved=function(t){var e=this._resolvedQueue;this._resolvedQueue=null;var o=t||this._operation;this._operation=null;for(var i=0;i<e.length;i++)try{e[i](o)}catch(t){n.error("Error resolving whenReady promises:\n%o",t)}this._whenReadyPromise=Promise.resolve("none")},g.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var t=this._eventType;this._element.off(t,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},g.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},g.prototype._eventHandler=function(t){t.target===this._element[0]&&(this._element.off(t.type,this._callback),this._deliverResolved(),this._callback=null)},g.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},g.prototype.AddPromiseExecutor=function(t,e){this._resolvedQueue&&this._resolvedQueue.push(t)},g.prototype.isOperationPending=function(t,e,o,i){var r=!1,s=this._widgetName,a=this._getPendingOperation();if(e===a)n.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",s,e),r=!0;else if("none"!==a){n.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",s,e,a),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[o].apply(this,i)}.bind(t)),r=!0}return r};class T extends p.Component{constructor(){super(...arguments),this._setRootRef=t=>{this._rootRef=t}}render(t){return p.h("div",{style:{display:"none"},ref:this._setRootRef},t.children)}componentDidMount(){this._popup=o(this._rootRef.firstChild);const t={[u.OPTION.POPUP]:this._popup,[u.OPTION.EVENTS]:{[u.EVENT.POPUP_AUTODISMISS]:this.props.autoDismiss,[u.EVENT.POPUP_REFRESH]:function(){this._popup.position(this._getPosition())}.bind(this)},[u.OPTION.LAYER_SELECTORS]:this.props.layerSelectors,[u.OPTION.CUSTOM_ELEMENT]:!0,[u.OPTION.LAUNCHER]:o(this._rootRef),[u.OPTION.POSITION]:this._getPosition()};u.getInstance().open(t)}componentWillUnmount(){u.getInstance().close({[u.OPTION.POPUP]:this._popup})}componentDidUpdate(){this._popup.position(this._getPosition())}_getPosition(){return f.normalizeHorizontalAlignment(this.props.position,"rtl"===r.getReadingDirection())}}T.defaultProps={autoDismiss:null,layerSelectors:"",position:{}},t.PopupLiveRegion=E,t.PopupService=u,t.PopupSkipLink=d,t.PopupWhenReadyMediator=g,t.PositionUtils=f,t.VPopup=T,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojpopupcore.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojanimation',["exports","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger"],function(e,t,n,i,a,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r={};t._registerLegacyNamespaceProp("AnimationUtils",r),r._getName=function(e,t){if(!r._nameMap){r._nameMap={};var n=r._nameMap,i=e.style;n.backfaceVisibility=void 0!==i.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",n.transform=void 0!==i.webkitTransform?"webkitTransform":"transform",n.transformOrigin=void 0!==i.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",n.transition=void 0!==i.webkitTransition?"webkitTransition":"transition",n.transitionend=void 0!==i.webkitTransition?"webkitTransitionEnd":"transitionend"}return r._nameMap[t]||t},r._getElementStyle=function(e,t){return e.style[r._getName(e,t)]},r._setElementStyle=function(e,t,n){e.style[r._getName(e,t)]=n},r._animate=function(e,t,i,a,o,s){var l=[].concat(o),f=function(n,f){var c=function(e){var t=0===e.propertyName.indexOf("-webkit-")?e.propertyName.substr(8):e.propertyName;t=r._getCamelCasePropName(t);var n=l.indexOf(t);n>-1&&(l.length>1?l.splice(n,1):u())},d=0,m=!1;function u(){m||(d&&(window.cancelAnimationFrame(d),d=0),e.removeEventListener(r._getName(e,"transitionend"),c),n&&n(!0),m=!0)}null==i&&(i={}),null==i.css&&(i.css={}),i.css.transition=r._createTransitionValue(e,o,a);var p=r._saveStyle(e,t,i,a,s||o);r._applyState(e,t,p>1),e.addEventListener(r._getName(e,"transitionend"),c);var g=a.duration,h=a.delay,v=a._skipPromise;function _(){d=0,r._applyState(e,i,p>1)}null==t?_():(a._noReflow||(r._x=e.offsetWidth),d=window.requestAnimationFrame(_));var y=r._getTotalTiming(g,h);v||setTimeout(u,y+100)};return a._skipPromise?(f(null),null):new Promise(f).then(function(){t&&t.addClass&&n(e).removeClass(t.addClass),i&&i.addClass&&n(e).removeClass(i.addClass),r._restoreStyle(e)})},r._saveCssValues=function(e,t,n,i){for(var a=Object.keys(t),o=Object.prototype.hasOwnProperty,s=0;s<a.length;s++){var l=a[s];o.call(n,l)||i&&-1!==i.indexOf(l)||(n[l]=r._getElementStyle(e,l))}},r._saveStyle=function(e,t,n,i,a){var o=e._ojSavedStyle||{},s=t&&t.css?t.css:{},l=n&&n.css?n.css:{},f=a;i&&"all"===i.persist||(f=null),r._saveCssValues(e,s,o,f),r._saveCssValues(e,l,o,f),e._ojSavedStyle=o;var c=e._ojEffectCount||0;return c+=1,e._ojEffectCount=c,c},r._restoreStyle=function(e){var t=e,n=t._ojEffectCount;if(n>1)t._ojEffectCount=n-1;else{var i=t._ojSavedStyle;if(i){for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o];r._setElementStyle(t,s,i[s])}delete t._ojSavedStyle,delete t._ojEffectCount}}},r._getCamelCasePropName=function(e){if(e.indexOf("-")>=0){for(var t="",n=e.split("-"),i=0;i<n.length;i++){var a=n[i];a&&(t?t+=a.charAt(0).toUpperCase()+a.slice(1):t=a)}return t}return e},r._getHyphenatedPropName=function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0===t.indexOf("webkit")&&(t="-"+t),t},r._concatMultiValue=function(e,t,n,i,a){if(t.css[n]){var o=r._getElementStyle(e,n);o&&0!==o.indexOf(i)&&(t.css[n]=o+a+t.css[n])}},r._splitTransform=function(e){var t=[];if(e&&"none"!==e)for(var n=e,i=n.indexOf(")");i>0;){var a=n.substr(0,i+1);t.push(a.trim()),i=(n=n.slice(i+1)).indexOf(")")}return t},r._getTransformFuncName=function(e){var t=e.indexOf("(");return t>=1?e.substr(0,t):e},r._applyTransform=function(e,t){for(var n=r._getElementStyle(e,"transform"),i=r._splitTransform(n),a=r._splitTransform(t),o=[],s=0;s<a.length;s++){var l=r._getTransformFuncName(a[s]),f=!1;if(l)for(var c=0;c<i.length;c++)0===i[c].indexOf(l+"(")&&(i[c]=a[s],f=!0);f||o.push(a[s])}return(i=i.concat(o)).join(" ")},r._applyState=function(e,t,i){if(t){if(t.css){i&&r._concatMultiValue(e,t,"transition","all",", "),t.css.transform&&(t.css.transform=r._applyTransform(e,t.css.transform));for(var a=t.css,o=Object.keys(a),s=0;s<o.length;s++){var l=o[s];r._setElementStyle(e,l,a[l])}}t.addClass&&n(e).addClass(t.addClass),t.removeClass&&n(e).removeClass(t.removeClass)}},r._getTimingValue=function(e){var t=parseFloat(e);return isNaN(t)?0:e.indexOf("ms")>-1?t:1e3*t},r._getTotalTiming=function(e,t){var n=r._getTimingValue(e);return n>0?n+(t?r._getTimingValue(t):0):0},r._calcCssTime=function(e,t,n){for(var i=e.split(","),a=t.split(","),o=n.split(","),s=i.length,l=a.length,f=o.length,c=0,d=0;d<s;d++){var m=o[d%f],u=a[d%l],p=r._getTotalTiming(m,u);c=Math.max(c,p)}return c},r._calcEffectTime=function(e){var t,n,i,a=window.getComputedStyle(e);t=a.animationName||a.webkitAnimationName,n=a.animationDelay||a.webkitAnimationDelay,i=a.animationDuration||a.webkitAnimationDuration;var o=r._calcCssTime(t,n,i);t=a.transitionProperty||a.webkitTransitionProperty,n=a.transitionDelay||a.webkitTransitionDelay,i=a.transitionDuration||a.webkitTransitionDuration;var s=r._calcCssTime(t,n,i);return Math.max(o,s)},r._fillEmptyOptions=function(e,t){e.delay=e.delay||t.delay,e.duration=e.duration||t.duration,e.timingFunction=e.timingFunction||t.timingFunction,e.persist=e.persist||t.persist},r._triggerEvent=function(e,t,n,i){var a;if(i&&i._trigger)a=!i._trigger(t,null,n);else{var o="oj"+t.substr(0,1).toUpperCase()+t.substr(1),r=new CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0}),s=i||e;s.dispatchEvent&&s.dispatchEvent(r),a=r.defaultPrevented}return a},r.startAnimation=function(e,t,i,a){return e=n(e)[0],new Promise(function(o,s){var l=n(e),f="oj-animate-"+t,c=f+"-active",d=!1,m=!1,u=function(){if(d&&m){l.removeClass(f),l.removeClass(c),r._restoreStyle(e),o(!0);var n={action:t,element:e};r._triggerEvent(e,"animateEnd",n,a)}},p=function(){d=!0,u()},g=function(){m=!0,u()};r._saveStyle(e,null,null,null,null);var h={action:t,element:e,endCallback:p};if(!r._triggerEvent(e,"animateStart",h,a)){for(var v=[].concat(i),_=[],y={},x=0;x<v.length;x++){var b,C=v[x],O="";null!=C&&"none"!==C&&("string"==typeof C?(O=C,b={}):"object"==typeof C&&(O=C.effect,b=n.extend({},C)),r._fillEmptyOptions(b,y),y=n.extend({},b)),O&&r[O]&&_.push(r[O](e,b))}_.length?Promise.all(_).then(p):p()}l.addClass(f);var w=window.requestAnimationFrame(function(){w=0,l.addClass(c);var t=r._calcEffectTime(e);t>0?setTimeout(g,t+100):g()});setTimeout(function(){w&&(window.cancelAnimationFrame(w),w=0,g())},1e3)})},r._mergeOptions=function(e,t){return null==r._defaultOptions&&(r._defaultOptions=a.parseJSONFromFontFamily("oj-animation-effect-default-options")),n.extend({duration:"400ms"},r._defaultOptions?r._defaultOptions[e]:null,t)},r._createTransitionValue=function(e,t,n){var i="";if(t)for(var a=0;a<t.length;a++){var o=r._getName(e,t[a]);i+=(a>0?", ":"")+r._getHyphenatedPropName(o)+" "+n.duration,n.timingFunction&&(i+=" "+n.timingFunction),n.delay&&(i+=" "+n.delay)}return i},r._fade=function(e,t,n,i,a){var o=r._mergeOptions(n,t),s={css:{opacity:i}},l={css:{opacity:a}};return o&&(o.startOpacity&&(s.css.opacity=o.startOpacity),o.endOpacity&&(l.css.opacity=o.endOpacity)),r._animate(e,s,l,o,["opacity"])},r.fadeIn=function(e,t){return r._fade(e,t,"fadeIn",0,1)},r.fadeOut=function(e,t){return r._fade(e,t,"fadeOut",1,0)},r.expand=function(e,t){return r._expandCollapse(e,t,!0)},r.collapse=function(e,t){return r._expandCollapse(e,t,!1)},r._wrapRowContent=function(e,t){var n,i,a=[],o=e.children,r=[],s=[];for(e._ojSavedHeight=e.style.height,i=0;i<o.length;i++){n=o[i];var l=window.getComputedStyle(n);r.push(l.padding),s.push(l.textAlign),n._ojSavedPadding=n.style.padding}for(i=0;i<o.length;i++){n=o[i];var f=document.createElement("div");f.style.overflow="hidden;";var c=document.createElement("div");for(c.style.display="table-cell",c.style.verticalAlign="middle",c.style.boxSizing="border-box",c.style.height=t,c.style.padding=r[i],c.style.textAlign=s[i],f.appendChild(c);n.firstChild;)c.appendChild(n.firstChild);n.appendChild(f),n.style.padding="0",a.push(f)}return e.style.height="0",a},r._unwrapRowContent=function(e){for(var t=e.children,n=0;n<t.length;n++){var i=t[n],a=i.children[0];if(a){var o=a.children[0];if(o)for(;o.firstChild;)i.appendChild(o.firstChild);i.removeChild(a)}i.style.padding=i._ojSavedPadding,delete i._ojSavedPadding}e.style.height=e._ojSavedHeight,delete e._ojSavedHeight},r._expandCollapseRow=function(e,t,i){var a=Promise.resolve(),o=e.offsetHeight+"px",s=r._wrapRowContent(e,o),l=n.extend({},t);if(i?l.endMaxHeight||(l.endMaxHeight=o):l.startMaxHeight||(l.startMaxHeight=o),l.persist="all",l._noReflow=!0,s.length)for(var f=0;f<s.length;f++)0===f?(l._skipPromise=!1,a=r._expandCollapse(s[f],l,i)):(l._skipPromise=!0,r._expandCollapse(s[f],l,i));return a.then(function(){null!=t&&"all"===t.persist||r._unwrapRowContent(e)})},r._getSizeLimit=function(e,t,n,i,a){var o=n;if(!o)if(i)o="0";else{var r=a?t.maxWidth:t.maxHeight;o="none"!==r?r:(a?e.offsetWidth:e.offsetHeight)+"px"}return o},r._expandCollapse=function(e,t,n){if(e&&"TR"===e.tagName)return r._expandCollapseRow(e,t,n);var i=r._mergeOptions(n?"expand":"collapse",t),a={css:{}},o={css:{}},s=i.direction||"height",l=a.css,f=o.css,c=window.getComputedStyle(e),d=[];if("both"===s||"height"===s){var m=r._getSizeLimit(e,c,i.startMaxHeight,n,!1),u=r._getSizeLimit(e,c,i.endMaxHeight,!n,!1);l.maxHeight=m,f.maxHeight=u,d.push("maxHeight")}if("both"===s||"width"===s){var p=r._getSizeLimit(e,c,i.startMaxWidth,n,!0),g=r._getSizeLimit(e,c,i.endMaxWidth,!n,!0);l.maxWidth=p,f.maxWidth=g,d.push("maxWidth")}l.overflow=i.overflow?i.overflow:"hidden";var h=[].concat(d);return h.push("overflow"),r._animate(e,a,o,i,d,h)},r.zoomIn=function(e,t){return r._zoom(e,t,!0)},r.zoomOut=function(e,t){return r._zoom(e,t,!1)},r._zoom=function(e,t,n){var i,a=r._mergeOptions(n?"zoomIn":"zoomOut",t),o={css:{}},s={css:{}},l=a.axis||"both";i="both"===l?"scale":"x"===l?"scaleX":"scaleY";var f=o.css,c=s.css;return f.transform=i+"("+(n?0:1)+") translateZ(0)",c.transform=i+"("+(n?1:0)+") translateZ(0)",f.transformOrigin=a.transformOrigin||"center",r._animate(e,o,s,a,["transform"])},r.slideIn=function(e,t){return r._slide(e,t,!0)},r.slideOut=function(e,t){return r._slide(e,t,!1)},r._slide=function(e,t,n){var a=r._mergeOptions(n?"slideIn":"slideOut",t),o={css:{}},s={css:{}},l=a.direction||"start",f="0",c="0",d=o.css,m=s.css;if(a.offsetX||a.offsetY)a.offsetX&&(f=a.offsetX),a.offsetY&&(c=a.offsetY);else{var u="rtl"===i.getReadingDirection();switch(l){case"left":f=(n?e.offsetWidth:-e.offsetWidth)+"px";break;case"right":f=(n?-e.offsetWidth:e.offsetWidth)+"px";break;case"top":c=(n?e.offsetHeight:-e.offsetHeight)+"px";break;case"bottom":c=(n?-e.offsetHeight:e.offsetHeight)+"px";break;case"end":f=(n?-e.offsetWidth:e.offsetWidth)*(u?-1:1)+"px";break;default:f=(n?e.offsetWidth:-e.offsetWidth)*(u?-1:1)+"px"}}return n?(d.transform="translate("+f+","+c+") translateZ(0)",m.transform="translate(0,0) translateZ(0)"):(d.transform="translate(0,0) translateZ(0)",m.transform="translate("+f+","+c+") translateZ(0)"),r._animate(e,o,s,a,["transform"])},r.ripple=function(e,t){var i=r._mergeOptions("ripple",t),a={css:{}},o={css:{}},s=e.offsetWidth,l=e.offsetHeight,f=n("<div>").css({position:"absolute",overflow:"hidden"}),c=n("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),d="static"===window.getComputedStyle(e).position?{left:e.offsetLeft,top:e.offsetTop}:{left:0,top:0};e.insertBefore(f[0],e.firstChild),f.css({left:d.left+"px",top:d.top+"px",width:s+"px",height:l+"px"}),f.prepend(c);var m=a.css,u=o.css;return r._setRippleOptions(m,c,f,i),m.transform="scale(0) translateZ(0)",m.opacity=i.startOpacity||c.css("opacity"),u.transform="scale(1) translateZ(0)",u.opacity=i.endOpacity||0,i.persist="all",r._animate(c[0],a,o,i,["transform","opacity"]).then(function(){f.remove()})},r._setRippleOptions=function(e,t,n,i){var a=e,o=t.width(),s=n.width(),l=n.height();if(i.diameter){var f=i.diameter,c=parseInt(f,10);isNaN(c)||(o="%"===f.charAt(f.length-1)?Math.floor(Math.min(s,l)*(c/100)):c,a.width=o+"px",a.height=o+"px")}var d,m="static"===n.css("position")?n.position():{left:0,top:0};null!=(d=r._calcRippleOffset(i.offsetX,o,s,m.left))&&(a.left=d+"px"),null!=(d=r._calcRippleOffset(i.offsetY,o,l,m.top))&&(a.top=d+"px"),i.color&&(a.backgroundColor=i.color)},r._calcRippleOffset=function(e,t,n,i){var a,o=e||"50%",r=parseInt(o,10);return isNaN(r)||(a="%"===o.charAt(o.length-1)?n*(r/100)-t/2:r-t/2,a=Math.floor(a+i)),a},r._removeRipple=function(e,t){var i=t||{},a=i.removeEffect||"fadeOut",s=n(".oj-animation-rippler",e);if(0!==s.length)return a in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?r[a](s,i).then(function(){s.remove()}):s.remove();o.warn("No rippler so returning")},r._calcBackfaceAngle=function(e){var t,n=e.match(/^([+-]?\d*\.?\d*)(.*)$/),i=parseFloat(n[1]),a=n[2];switch(a){case"deg":t=i-180+a;break;case"grad":t=i-200+a;break;case"rad":t=i-3.1416+a;break;case"turn":t=i-.5+a;break;default:o.error("Unknown angle unit in flip animation: "+a)}return t},r._flip=function(e,t,i,a,o){if(t&&"children"===t.flipTarget){var s,l=[],f=n(e).children(),c=n.extend({},t);delete c.flipTarget;var d=n.extend({},c);d.startAngle=r._calcBackfaceAngle(t.startAngle||a),d.endAngle=r._calcBackfaceAngle(t.endAngle||o);for(var m=0;m<f.length;m++)s=n(f[m]).hasClass("oj-animation-backface")?d:c,l.push(r._flip(f[m],s,i,a,o));return Promise.all(l)}var u,p={},g={},h={css:p},v={css:g},_="rotateY(",y="2000px",x="hidden",b="center";(t=r._mergeOptions(i,t))&&("x"===t.axis&&(_="rotateX("),t.startAngle&&(a=t.startAngle),t.endAngle&&(o=t.endAngle),t.perspective&&(y=t.perspective),t.backfaceVisibility&&(x=t.backfaceVisibility),t.transformOrigin&&(b=t.transformOrigin)),u="perspective("+y+") "+_;return p.transform=u+a+")",p.backfaceVisibility=x,p.transformOrigin=b,g.transform=u+o+")",r._animate(e,h,v,t,["transform"],["transform","backfaceVisibility","transformOrigin"])},r.flipIn=function(e,t){return r._flip(e,t,"flipIn","-180deg","0deg")},r.flipOut=function(e,t){return r._flip(e,t,"flipOut","0deg","180deg")},r.addTransition=function(e,t){var n=r._mergeOptions("addTransition",t);return r._animate(e,null,null,n,n.transitionProperties)},r._createHeroParent=function(){var e=document.createElement("div"),t=document.body;t.appendChild(e),e.style.position="absolute",e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px",e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+"px",e.style.zIndex=2e3,e.className="oj-animation-host-viewport";var n=document.createElement("div");return n.className="oj-animation-host",e.appendChild(n),n},r._removeHeroParent=function(e){if(e){var t=e.parentNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},r._defaultHeroCreateClonedElement=function(e){return e.fromElement.cloneNode(!0)},r._defaultHeroHideFromAndToElements=function(e){var t=e.fromElement,n=e.toElement;t.style.visibility="hidden",n.style.visibility="hidden"},r._defaultHeroAnimateClonedElement=function(e){return new Promise(function(t){var n=e.clonedElement.style;n.transformOrigin="left top",n.transform="translate(0, 0) scale(1, 1)",requestAnimationFrame(function(){n.transitionDelay=e.delay,n.transitionDuration=e.duration,n.transitionTimingFunction=e.timingFunction,n.transitionProperty="transform";var i="translate("+e.translateX+"px,"+e.translateY+"px)";i+=" scale("+e.scaleX.toFixed(2)+","+e.scaleY.toFixed(2)+")",n.transform=i;var a=r._getTimingValue(e.delay)+r._getTimingValue(e.duration);setTimeout(function(){t()},a)})})},r._defaultHeroShowToElement=function(e){e.toElement.style.visibility="visible"},r._doAnimateHero=function(e,t,n,i,a,o){var s=document.querySelector(t);if(null!=s){var l=e.getBoundingClientRect(),f=s.getBoundingClientRect(),c=f.left-l.left,d=f.top-l.top,m=f.width/l.width,u=f.height/l.height,p={fromElement:e,toElement:s,clonedElement:null,translateX:c,translateY:d,scaleX:m,scaleY:u,toElementElapsedTime:i,delay:n.delay,duration:n.duration,timingFunction:n.timingFunction},g=n.createClonedElement(p);p.clonedElement=g;var h=r._createHeroParent(),v=h.getBoundingClientRect();h.appendChild(g),g.style.position="absolute",g.style.left=l.left-v.left+"px",g.style.top=l.top-v.top+"px",n.hideFromAndToElements(p),g.style.visibility="visible",n.animateClonedElement(p).then(function(){_(),a()}).catch(function(e){_(),o(e)})}else{i+100>n.toElementWaitTime?o("toElement not found in DOM after toElementWaitTime has expired"):setTimeout(function(){r._doAnimateHero(e,t,n,i+100,a,o)},100)}function _(){n.showToElement(p),r._removeHeroParent(h)}},r.animateHero=function(e,t){var n=e,i={toElementWaitTime:5e3,createClonedElement:r._defaultHeroCreateClonedElement,hideFromAndToElements:r._defaultHeroHideFromAndToElements,animateClonedElement:r._defaultHeroAnimateClonedElement,showToElement:r._defaultHeroShowToElement,delay:"0s",duration:"400ms",timingFunction:"ease"};return Object.assign(i,t),new Promise(function(e,a){n?t.toElementSelector?r._doAnimateHero(n,t.toElementSelector,i,0,e,a):a("No options.toElementSelector specified"):a("No element specified")})};const s=r.startAnimation,l=r.fadeIn,f=r.fadeOut,c=r.expand,d=r.collapse,m=r.zoomIn,u=r.zoomOut,p=r.slideIn,g=r.slideOut,h=r.ripple,v=r.flipIn,_=r.flipOut,y=r.addTransition,x=r.animateHero;e.addTransition=y,e.animateHero=x,e.collapse=d,e.expand=c,e.fadeIn=l,e.fadeOut=f,e.flipIn=v,e.flipOut=_,e.ripple=h,e.slideIn=p,e.slideOut=g,e.startAnimation=s,e.zoomIn=m,e.zoomOut=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojanimation.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojpopup',["ojs/ojpopupcore","ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojfocusutils","ojs/ojcustomelement-utils"],function(e,t,i,s,o,n,r,a,l,u){"use strict";var c;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,function(){var c=["oj-left","oj-center","oj-right","oj-top","oj-middle","oj-bottom"],h={"right-top":"oj-right oj-top","right-middle":"oj-right oj-middle","right-bottom":"oj-right oj-bottom","left-top":"oj-left oj-top","left-middle":"oj-left oj-middle","left-bottom":"oj-left oj-bottom","center-top":"oj-center oj-top","center-middle":"oj-left oj-middle","center-bottom":"oj-center oj-bottom"};t.__registerWidget("oj.ojPopup",i.oj.baseComponent,{widgetEventPrefix:"oj",options:{animation:null,autoDismiss:"focusLoss",chrome:"default",initialFocus:"auto",position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flip"},tail:"none",modality:"modeless",role:"tooltip",beforeOpen:null,open:null,beforeClose:null,close:null,focus:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var e=this._getRootStyle(),s=this.element;s.hide().addClass(e).attr("aria-hidden","true"),s.addClass("oj-component");var o=i("<div>");o.addClass([e,"content"].join("-")),o.attr("role","presentation"),o.append(s[0].childNodes),o.appendTo(s),this._content=o,this._setChrome(),this._setupFocus(s);var n=this.options;n.position=t.PositionUtils.coerceToJet(n.position)},_AfterCreate:function(){this._super(),this.element.uniqueId(),this._createTail()},_destroy:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyTail(),delete this._popupServiceEvents;var e=this.element;e.hide().attr("aria-hidden","true").removeUniqueId();var i=this._content;delete this._content,e.append(i[0].childNodes),i.remove();var s=this._closeDelayTimer;s&&(delete this._closeDelayTimer,s()),this._super()},open:function(e,i){if(!this._isOperationPending("open",[e,i])){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly();var s=this.element,o=t.ZOrderUtils.getStatus(s);if(o===t.ZOrderUtils.STATUS.CLOSE||o===t.ZOrderUtils.STATUS.UNKNOWN)if(t.ZOrderUtils.setStatus(s,t.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen")){this._setWhenReady("open"),this._setLauncher(e);var n=this._launcher,r=this.options;(i=i||r.position).of||(this._hasPositionOfLauncherOverride=!0,i.of=n),this._setPosition(i),this._setAutoDismiss(r.autoDismiss),this._addDescribedBy(),this._IsCustomElement()&&s[0].hasAttribute("role")||s.attr("role",r.role);var a=this._getPositionAsJqUi(),l=this._getRootStyle(),u=[l,"layer"].join("-"),c=r.tail;"none"!==c&&(u+=" "+[l,"tail",c].join("-"));var h={};h[t.PopupService.OPTION.POPUP]=s,h[t.PopupService.OPTION.LAUNCHER]=n,h[t.PopupService.OPTION.POSITION]=a,h[t.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),h[t.PopupService.OPTION.LAYER_SELECTORS]=u,h[t.PopupService.OPTION.MODALITY]=r.modality,h[t.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),t.PopupService.getInstance().open(h)}else t.ZOrderUtils.setStatus(this.element,o)}},_beforeOpenHandler:function(e){var i=e[t.PopupService.OPTION.POPUP],s=e[t.PopupService.OPTION.POSITION];i.show(),i.position(s),this.initialWidth=i.width(),this.initialHeight=i.height();var o=this.options.animation;if(o&&o.open){var n=o.actionPrefix,r=n?[n,"open"].join("-"):"open";return a.startAnimation(i[0],r,t.PositionUtils.addTransformOriginAnimationEffectsOption(i,o.open),this)}},_afterOpenHandler:function(e){var i=e[t.PopupService.OPTION.POPUP],s=e[t.PopupService.OPTION.LAUNCHER];this.initialWidth===i.width()&&this.initialHeight===i.height()||this._reposition(),delete this.initialWidth,delete this.initialHeight,this._registerResizeListener(i[0]),this._initVoiceOverAssist(),this._trigger("open"),this._intialFocus(),this._on(i,{keydown:this._keyHandler}),s&&s.length>0&&this._on(s,{keydown:this._keyHandler})},_GetContextMenu:function(){if(!this._IsCustomElement())return this._super();var e=u.CustomElementUtils.getSlotMap(this._content[0]).contextMenu;return e&&e.length>0?e[0]:void 0},close:function(){if(!this._isOperationPending("close",[])){var e=this.element,i=t.ZOrderUtils.getStatus(e);if(i===t.ZOrderUtils.STATUS.OPEN)if(t.ZOrderUtils.setStatus(e,t.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose")||this._ignoreBeforeCloseResultant){this._setWhenReady("close");var s=this._launcher;this._off(e,"keydown"),s&&s.length>0&&this._off(s,"keydown"),this._restoreFocus(),this._destroyVoiceOverAssist();var o={};o[t.PopupService.OPTION.POPUP]=e,t.PopupService.getInstance().close(o)}else t.ZOrderUtils.setStatus(e,i)}},_beforeCloseHandler:function(e){var i=e[t.PopupService.OPTION.POPUP];this._unregisterResizeListener(i[0]);var s=this.options.animation;if(!this._ignoreBeforeCloseResultant&&s&&s.close){var o=s.actionPrefix,n=o?[o,"close"].join("-"):"close";return a.startAnimation(i[0],n,t.PositionUtils.addTransformOriginAnimationEffectsOption(i,s.close),this).then(function(){i.hide()})}i.hide()},_afterCloseHandler:function(e){(this._removeDescribedBy(),this._setAutoDismiss(),delete this._launcher,this._trigger("close"),this._hasPositionOfLauncherOverride)&&(this.options.position.of=null,delete this._hasPositionOfLauncherOverride)},isOpen:function(){var e=t.ZOrderUtils.getStatus(this.element);return e===t.ZOrderUtils.STATUS.OPENING||e===t.ZOrderUtils.STATUS.OPEN||e===t.ZOrderUtils.STATUS.BEFORE_CLOSE||e===t.ZOrderUtils.STATUS.CLOSING},refresh:function(){if(this._super(),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._reposition()){var e=this.element;t.PopupService.getInstance().triggerOnDescendents(e,t.PopupService.EVENT.POPUP_REFRESH)}},_setOption:function(e,i){var s=this.options;switch(e){case"tail":i!==s.tail&&this._setTail(i);break;case"chrome":i!==s.chrome&&this._setChrome(i);break;case"position":return this._setPosition(i),void this.refresh();case"autoDismiss":t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&i!==s.autoDismiss&&this._setAutoDismiss(i);break;case"modality":if(t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var o=this.element,n={};n[t.PopupService.OPTION.POPUP]=o,n[t.PopupService.OPTION.MODALITY]=i,t.PopupService.getInstance().changeOptions(n)}}this._superApply(arguments)},_getRootStyle:function(){return"oj-popup"},_setTail:function(e){this._destroyTail(),this._createTail(e),this._reposition()},_createTail:function(e){var s=e||this.options.tail;if("none"!==s){var o=this._getRootStyle(),n=[o,"tail"].join("-"),r=[n,s].join("-"),a=i("<div>").hide();a.addClass(n).addClass(r),a.attr("role","presentation"),this._tailId=a.attr("id",this._getSubId("tail")).attr("id");var l=this.element;if(a.appendTo(l),l.addClass(r),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var u=[o,"layer"].join("-");u+=" "+r;var c={};c[t.PopupService.OPTION.POPUP]=l,c[t.PopupService.OPTION.LAYER_SELECTORS]=u,t.PopupService.getInstance().changeOptions(c)}}},_getTail:function(){var e=this._tailId;return e?i(document.getElementById(e)):null},_destroyTail:function(){var e=this._getTail();e&&e.remove(),delete this._tailId;var i=this.options.tail,s=this._getRootStyle(),o=[s,"tail",i].join("-"),n=this.element;if(n.removeClass(o),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var r=[s,"layer"].join("-"),a={};a[t.PopupService.OPTION.POPUP]=n,a[t.PopupService.OPTION.LAYER_SELECTORS]=r,t.PopupService.getInstance().changeOptions(a)}},_setChrome:function(e){var t=e||this.options.chrome,i=[this._getRootStyle(),"no-chrome"].join("-"),s=this.element;"default"===t&&s.hasClass(i)?s.removeClass(i):"none"!==t||s.hasClass(i)||s.addClass(i)},_setLauncher:function(e){var t=e;if(t?("string"===i.type(t)||1===t.nodeType)&&(t=i(t)):t=i(document.activeElement),t instanceof i&&t.length>1)for(var s=this.element,n=0;n<t.length;n++){var r=t[0];if(!o.isAncestorOrSelf(s[0],r)){t=i(r);break}}else t instanceof i&&!(t instanceof i&&0===t.length)||(t=i(document.activeElement));this._launcher=t},_setPosition:function(e){var i=this.options;e&&(i.position=t.PositionUtils.coerceToJet(e,i.position))},_getPositionAsJqUi:function(){var e=this.options,s=t.PositionUtils.coerceToJqUi(e.position),o="rtl"===this._GetReadingDirection(),n=(s=t.PositionUtils.normalizeHorizontalAlignment(s,o)).using;return n=i.isFunction(n)?n:null,s.using=this._usingHandler.bind(this,n),s},_resolveBusyStateAndCloseImplicitly:function(e){e(),delete this._closeDelayTimer,this._closeImplicitly()},_resolveBusyStateAndCancelDelayedClosure:function(e,t){window.clearTimeout(e),t()},_usingHandler:function(e,i,n){var r=n.element.element;if(i.top!==r.css("top")||i.left!==r.css("left")){var a=this._getTail();if(a){a.hide();for(var l=0;l<c.length;l++)a.removeClass(c[l]),r.removeClass(c[l]);if(a.removeAttr("style"),n.target&&0===n.target.height&&0===n.target.width){var u="rtl"===this._GetReadingDirection(),p=t.PositionUtils.normalizeHorizontalAlignment(this.options.position,u).my;if(!t.StringUtils.isEmptyOrUndefined(p)){var d="center"===p.horizontal?p.horizontal:n.horizontal,f="center"===p.vertical?"middle":p.vertical;n.horizontal=d,n.vertical=f}}var _=[n.horizontal,n.vertical].join("-"),v=h[_];a.addClass(v),r.addClass(v),a.show();var m,g;if("left"===n.horizontal?(m=a.outerWidth(),m-=m+o.getCSSLengthAsInt(a.css("left")),i.left+=m-2):"right"===n.horizontal&&(m=a.outerWidth(),m-=m+o.getCSSLengthAsInt(a.css("right")),i.left-=m-2),"top"===n.vertical?(g=a.outerHeight(),g-=g+o.getCSSLengthAsInt(a.css(n.vertical)),i.top+=g-2):"bottom"===n.vertical&&(g=a.outerHeight(),g-=g+o.getCSSLengthAsInt(a.css(n.vertical)),i.top-=g-2),r.css(i),"center"===n.horizontal&&"middle"!==n.vertical){var O=r.width(),S=Math.round((O/2-a.outerWidth()/2)/O*100);a.css({left:S+"%"})}else if("middle"===n.vertical){var P=r.height(),y=Math.round((P/2-a.outerHeight()/2)/P*100);a.css({top:y+"%"})}}else r.css(i);if(t.PositionUtils.captureTransformOriginAnimationEffectsOption(r,n),e&&e(i,n),"focusLoss"===this.options.autoDismiss&&t.PositionUtils.isAligningPositionClipped(n)){this._ignoreRestoreFocus=!0;var T=s.getContext(this.element[0]).getBusyContext(),E={description:["ojPopup identified by '",this.element.attr("id"),"' is pending implicit closure."].join("")},U=T.addBusyState(E),b=window.setTimeout(this._resolveBusyStateAndCloseImplicitly.bind(this,U),0);this._closeDelayTimer=this._resolveBusyStateAndCancelDelayedClosure.bind(this,b,U)}}},_reposition:function(){var e=this.element,s=this._getPositionAsJqUi();if(t.StringUtils.isString(s.of)){var o=i(s.of);if(0===o.length)return!1;s.of=o}return!(this.element.width()>window.innerWidth||this.element.height()>window.innerHeight)&&(e.position(s),!0)},_unregisterResizeListener:function(e){e&&this._resizeHandler&&(o.removeResizeListener(e,this._resizeHandler),this._resizeHandler=null)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),o.addResizeListener(e,this._resizeHandler,30,!0))},_handleResize:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._reposition()},_intialFocus:function(e){var t=this._deriveInitialFocus();(e||"none"!==t)&&(this.GetFocusElement().focus(),this._trigger("focus"))},GetFocusElement:function(){var e=document.activeElement;if(e&&this._isFocusInPopup(e))return e;var t,s=this._deriveInitialFocus();if("none"===s&&(s="popup"),"firstFocusable"===s){for(var o=this._content.find(":focusable"),n=0;n<o.length;n++)if(l.isFocusable(o[n])){t=i(o[n]);break}t||(s="popup")}if("popup"===s){var r=this._closeSkipLink;r?t=r.getLink():(t=this.element).attr("tabindex","-1")}return t[0]},_deriveInitialFocus:function(){var e=this.options,t=e.initialFocus;"auto"===t&&(t="modal"===e.modality?o.isTouchSupported()?"popup":"firstFocusable":"none");return t},_isFocusInPopup:function(e,t){if(e||(e=document.activeElement),!e)return!1;var i=this.element;return t&&(i=i.parent()),o.isAncestorOrSelf(i[0],e)},_isFocusInLauncher:function(e){e||(e=document.activeElement);var t=this._launcher;return o.isAncestorOrSelf(t[0],e)},_restoreFocus:function(){this._ignoreRestoreFocus?delete this._ignoreRestoreFocus:this._isFocusInPopup(null,!0)&&this._launcher.focus()},_keyHandler:function(e){if(!e.isDefaultPrevented()){var t=this._content,s=e.target;if(e.keyCode===i.ui.keyCode.ESCAPE&&(this._isFocusInPopup(s)||this._isFocusInLauncher(s)))e.preventDefault(),this.close();else if(117===e.keyCode||"F6"===e.key)this._isFocusInPopup(s)?"modeless"===this.options.modality?(e.preventDefault(),this._launcher.focus()):this.close():this._isFocusInLauncher(s)&&(e.preventDefault(),this._intialFocus(!0));else if(e.keyCode===i.ui.keyCode.TAB&&this._isFocusInPopup(s)){var o=t.find(":tabbable");if(o.length>0){var n=o[0],r=o[o.length-1],a=this.element;n!==s&&a[0]!==s||!e.shiftKey?r!==s||e.shiftKey||(e.preventDefault(),r===n?(a.attr("tabindex","-1"),a.focus()):i(n).focus()):(e.preventDefault(),n===r&&n===s?(a.attr("tabindex","-1"),a.focus()):i(r).focus())}else e.preventDefault(),"modeless"===this.options.modality?this._launcher.focus():this.close()}}},_setAutoDismiss:function(e){var i=this._focusLossCallback,s=this._getPopupServiceEvents();if(i&&(delete s[t.PopupService.EVENT.POPUP_AUTODISMISS],delete this._focusLossCallback),"focusLoss"===e&&(i=this._dismissalHandler.bind(this),this._focusLossCallback=i,s[t.PopupService.EVENT.POPUP_AUTODISMISS]=i),t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var o=this.element,n={};n[t.PopupService.OPTION.POPUP]=o,n[t.PopupService.OPTION.EVENTS]=s,t.PopupService.getInstance().changeOptions(n)}},_dismissalHandler:function(e){if(t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN){var i=this._launcher,s=this.element.parent(),n=e.target,r=this._focusSkipLink;if(r){var a=r.getLink();if(a&&o.isAncestorOrSelf(a[0],n))return}if(!o.isAncestorOrSelf(i[0],n)&&!o.isAncestorOrSelf(s[0],n)){var u=n.getAttribute("tabindex");if(l.isFocusable(n)&&"-1"!==u){if("mousedown"===e.type||"touchstart"===e.type)return;this._ignoreRestoreFocus=!0}this.close()}}},_addDescribedBy:function(){var e=this._launcher,t=this.element.attr("id"),s=e.attr("aria-describedby"),o=s?s.split(/\s+/):[];o.push(t),s=i.trim(o.join(" ")),e.attr("aria-describedby",s)},_removeDescribedBy:function(){var e=this._launcher,t=this.element;if(e&&0!==e.length){var s=t.attr("id"),o=e.attr("aria-describedby"),n=o?o.split(/\s+/):[],r=i.inArray(s,n);-1!==r&&n.splice(r,1),(o=i.trim(n.join(" ")))?e.attr("aria-describedby",o):e.removeAttr("aria-describedby")}},_initVoiceOverAssist:function(){var i,s=t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.IOS||t.AgentUtils.getAgentInfo().os===t.AgentUtils.OS.ANDROID,o=this._liveRegion;o||(o=new e.PopupLiveRegion,this._liveRegion=o);var n=this._deriveInitialFocus();if(i=s?this.getTranslatedString("none"===n?"ariaLiveRegionInitialFocusNoneTouch":"ariaLiveRegionInitialFocusFirstFocusableTouch"):this.getTranslatedString("none"===n?"ariaLiveRegionInitialFocusNone":"ariaLiveRegionInitialFocusFirstFocusable"),o.announce(i),s){var r=this._getSubId("focusSkipLink"),a=this._launcher,l=this._intialFocus.bind(this,!0);i=this.getTranslatedString("ariaFocusSkipLink"),this._focusSkipLink=new e.PopupSkipLink(a,i,l,r);var u=this._content,c=this._getSubId("closeSkipLink");l=this._closeImplicitly.bind(this),i=this.getTranslatedString("ariaCloseSkipLink"),this._closeSkipLink=new e.PopupSkipLink(u,i,l,c)}},_destroyVoiceOverAssist:function(){this._liveRegion.destroy(),delete this._liveRegion;var e=this._focusSkipLink;e&&(e.destroy(),delete this._focusSkipLink);var t=this._closeSkipLink;t&&(t.destroy(),delete this._closeSkipLink)},_getSubId:function(e){var i=this.element.attr("id");return t.StringUtils.isEmptyOrUndefined(i)&&(i=this.uuid),[i,e].join("_")},_surrogateRemoveHandler:function(){var e=this.element;t.ZOrderUtils.getStatus(e)===t.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};this._popupServiceEvents=e,e[t.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),e[t.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[t.PopupService.EVENT.POPUP_REFRESH]=this.refresh.bind(this),e[t.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[t.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[t.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[t.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojPopup",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_setupFocus:function(e){var t=this;this._focusable({applyHighlight:!0,setupHandlers:function(s,o){t._on(e,{focus:function(e){s(i(e.currentTarget))},blur:function(e){o(i(e.currentTarget))}})}})},_NotifyDetached:function(){t.ZOrderUtils.getStatus(this.element)===t.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}});const p={open:"--oj-private-popup-global-open-animation-default",close:"--oj-private-popup-global-close-animation-default"};r.setDefaultOptions({ojPopup:{modality:r.createDynamicPropertyGetter(function(){return n.getCachedCSSVarValues(["--oj-private-popup-global-modality-default"])[0]}),animation:r.createDynamicPropertyGetter(function(){const e={},t=Object.keys(p),i=t.map(e=>p[e]),s=n.getCachedCSSVarValues(i);return t.forEach((t,i)=>{e[t]=JSON.parse(s[i])}),e})}})}(),(c={properties:{autoDismiss:{type:"string",enumValues:["focusLoss","none"],value:"focusLoss"},chrome:{type:"string",enumValues:["default","none"],value:"default"},initialFocus:{type:"string",enumValues:["auto","firstFocusable","none","popup"],value:"auto"},modality:{type:"string",enumValues:["modal","modeless"],value:"modeless"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"bottom"}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flip"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},tail:{type:"string",enumValues:["none","simple"],value:"none"},translations:{type:"object",value:{},properties:{ariaCloseSkipLink:{type:"string"},ariaFocusSkipLink:{type:"string"},ariaLiveRegionInitialFocusFirstFocusable:{type:"string"},ariaLiveRegionInitialFocusFirstFocusableTouch:{type:"string"},ariaLiveRegionInitialFocusNone:{type:"string"},ariaLiveRegionInitialFocusNoneTouch:{type:"string"}}}},methods:{close:{},getProperty:{},isOpen:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeClose:{},ojBeforeOpen:{},ojClose:{},ojFocus:{},ojOpen:{}},extension:{}}).extension._WIDGET_NAME="ojPopup",c.extension._CONTROLS_SUBTREE_HIDDEN=!0,t.CustomElementBridge.register("oj-popup",{metadata:c})});
//# sourceMappingURL=ojpopup.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlabel',["ojs/ojcore","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojpopup","ojs/ojcore-base","jquery","hammerjs","ojs/ojlogger","ojs/ojcontext","ojs/ojdomutils"],function(e,t,i,o,s,n,r,l,p,a){"use strict";var u;s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,s.__registerWidget("oj.ojLabel",n.oj.baseComponent,{version:"1.0.0",defaultElement:"<label>",widgetEventPrefix:"oj",options:{for:null,help:{definition:null,source:null},labelId:null,showRequired:!1,rootAttributes:null},_BUNDLE_KEY:{_TOOLTIP_HELP:"tooltipHelp",_TOOLTIP_REQUIRED:"tooltipRequired"},widget:function(){return this.uiLabel},refresh:function(){this._super(),this._refreshRequired(),this._refreshHelp(),this._addIdsToDom()},_InitOptions:function(e,t){this._super(e,t),this._isCustomElement=this._IsCustomElement(),this._checkRequiredOption()},_ComponentCreate:function(){this._super(),this._touchEatClickNamespace=this.eventNamespace+"TouchEatClick",this._touchEatContextMenuNamespace=this.eventNamespace+"TouchEatContextMenu",this._helpDefPopupNamespace=this.eventNamespace+"HelpDefPopup",this._bTouchSupported=a.isTouchSupported(),this._drawOnCreate()},_AfterCreate:function(){var e,t,i,o=this,s=this.options.for,n=this.options.showRequired;if(this.OuterWrapper&&(e=this.OuterWrapper.getAttribute("data-oj-input-id"),t=this.OuterWrapper.getAttribute("data-oj-set-id")),e?this.element[0].setAttribute("for",e):t&&(this._targetElement=document.getElementById(t),(i=this._targetElement)&&(this._needsHelpIcon()&&o._addHelpSpanIdOnTarget(o.helpSpanId,i),o.options.showRequired&&o._addRequiredDescribedByOnCustomFormElement(i))),s&&this._isCustomElement){var r=p.getContext(this.OuterWrapper).getBusyContext().addBusyState({description:"The oj-label id='"+this.OuterWrapper.id+"' is looking for its form component with id "+s});Promise.resolve().then(()=>{if(o._targetElement=document.getElementById(s),o._targetElement){i=o._targetElement;var t=document.getElementById(o.helpSpanId);if(o._needsHelpIcon()?o._addHelpSpanIdOnTarget(o.helpSpanId,i):t||i.getAttribute("described-by")!==o.helpSpanId||o._removeHelpSpanIdOnTarget(o.helpSpanId,i),n&&o._addRequiredDescribedByOnCustomFormElement(i),!e)if(o._isElementCustomElement(i)){var p=o.OuterWrapper.id;o._addElementAttribute(i,p,"labelled-by")}else o.element[0].setAttribute("for",s)}else l.info("could not find an element with forOption "+s);r()})}else this._isCustomElement&&this.options.labelId&&(this._targetElement=this._getTargetElementFromLabelledAttr("aria-labelledby",this.options.labelId),(i=this._targetElement)&&this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,i))},_SaveAttributes:function(e){this._IsCustomElement()||(this._savedClasses=e.attr("class"))},_RestoreAttributes:function(){this._IsCustomElement()||(this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class"))},_NotifyDetached:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_NotifyHidden:function(){this._superApply(arguments),this._handleCloseHelpDefPopup()},_GetTranslationsSectionName:function(){return this._IsCustomElement(),"oj-ojLabel"},_WatchedAttributeChanged:function(e,t,i){switch(this._superApply(arguments),e){case"data-oj-input-id":this.element[0].setAttribute("for",i);break;case"data-oj-set-id":if(t&&!i){let e=document.getElementById(t);this._removeDescribedByWithPrefix(e,this.OuterWrapper.id)}else{this._targetElement=document.getElementById(i);var o=this._targetElement,s=this._needsHelpIcon(),n=this.options.showRequired;if(s||n){var r=p.getContext(this.OuterWrapper).getBusyContext(),l=r.addBusyState({description:"The oj-label is writing described-by on its target."}),a=this;Promise.resolve().then(()=>{s&&a._addHelpSpanIdOnTarget(a.helpSpanId,o),a.options.showRequired&&a._addRequiredDescribedByOnCustomFormElement(o),l()})}}}},_removeDescribedByWithPrefix:function(e,t){var i,o;o=(i=e.getAttribute("described-by"))?i.split(/\s+/):[],(i=(o=o.filter(function(e){return-1===e.indexOf(t)})).join(" ").trim())?e.setAttribute("described-by",i):e.removeAttribute("described-by")},_drawOnCreate:function(){var e,t=null;this.OuterWrapper?(this.uiLabel=n(this.OuterWrapper).append(this.element.wrap(this._createOjLabelGroupDom()).parent()),this.uiLabel.addClass("oj-label oj-component")):this.uiLabel=this.element.wrap(this._createRootDomElement()).closest(".oj-component"),this._addIdsToDom(),e=this.element[0].id,this.helpSpanId=e+"_helpIcon",this.requiredSpanId=e+"_requiredIcon",this._isCustomElement||this._moveLabelStyleClassesToRootDom(),this.options.showRequired&&this._createRequiredIconSpanDom(),this._needsHelpIcon()&&(t=this._createIconSpan(this.helpSpanId,!0),this._createHelp(t))},_addRequiredDescribedByOnCustomFormElement:function(e){e&&this._isElementCustomElementAriaRequiredUnsupported(e)&&this._addElementAttribute(e,this.requiredSpanId,"described-by")},_removeRequiredDescribedByOnCustomFormElement:function(e){e&&this._isElementCustomElementAriaRequiredUnsupported(e)&&this._removeElementAttribute(e,this.requiredSpanId,"described-by")},_addHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._addElementAttribute(t,e,i)},_removeHelpSpanIdOnTarget:function(e,t){var i;i=this._getAriaAttributeForTarget(t),this._removeElementAttribute(t,e,i)},_getAriaAttributeForTarget:function(e){return this._isElementCustomElement(e)?"described-by":"group"===e.getAttribute("role")?"aria-labelledby":"aria-describedby"},_getTargetElementFromLabelledAttr:function(e,t){var i;return i="["+e+"~='"+t+"']",document.querySelector(i)},_isElementCustomElement:function(e){return s.Assert.assertDomElement(e),-1!==e.tagName.indexOf("-")},_isElementCustomElementAriaRequiredUnsupported:function(e){var t;s.Assert.assertDomElement(e);var i,o=["oj-radioset","oj-checkboxset"],n=o.length,r=!1;i=e.tagName.toLowerCase();for(var l=0;l<n&&!r;l++)t=o[l],0===i.indexOf(t)&&(r=!0);return r},_addElementAttribute:function(e,t,i){var o,s,n=e.getAttribute(i);-1===(s=n?n.split(/\s+/):[]).indexOf(t)&&s.push(t),o=s.join(" ").trim(),e.setAttribute(i,o)},_removeElementAttribute:function(e,t,i){var o,s,n,r=e.getAttribute(i);-1!==(s=(n=r?r.split(/\s+/):[]).indexOf(t))&&n.splice(s,1),(o=n.join(" ").trim())?e.setAttribute(i,o):e.setAttribute(i,"")},_createHelp:function(e){var t=this.options.help.definition,i=this.options.help.source,o=this._createHelpIconAnchorDomElement(t,i);n(e).prepend(o),this._attachHelpDefToIconAnchor(),this._focusable({element:o,applyHighlight:!0})},_createRequiredIconSpanDom:function(){this._createIconSpan(this.requiredSpanId,!1).appendChild(this._createRequiredIconDomElement())},_checkRequiredOption:function(){var e=this.options.showRequired;if("boolean"!=typeof e)throw new Error("Option 'showRequired' has invalid value set: "+e)},_addIdsToDom:function(){this._isCustomElement&&(this.OuterWrapper.id||n(this.OuterWrapper).uniqueId(),this._refreshLabelId()),null==this.element.attr("id")&&this.element.uniqueId()},_moveLabelStyleClassesToRootDom:function(){var e,t,i,o=this.element.attr("class");if(o){i=(e=o.split(/\s+/)).length;for(var s=0;s<i;s++)(t=e[s]).indexOf("-label")>0&&(this.uiLabel.addClass(t),this.element.removeClass(t))}},_createIconSpan:function(e,t){var i=document.createElement("span");return i.setAttribute("id",e),t?this.uiLabel.find(".oj-label-group").prepend(i):this.element.before(i),i},_createRootDomElement:function(){var e,t,i=this.options.rootAttributes,o="oj-label oj-component";return i&&(e=i.class),e&&(o=o+" "+e),(t=document.createElement("div")).className=o,t.appendChild(this._createOjLabelGroupDom()),t},_createOjLabelGroupDom:function(){var e;return(e=document.createElement("div")).className="oj-label-group",e},_createRequiredIconDomElement:function(){var e=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),t=document.createElement("span");return t.className="oj-label-required-icon oj-component-icon",t.setAttribute("role","img"),t.setAttribute("title",e),t.setAttribute("aria-label",e),t},_createHelpIconAnchorDomElement:function(e,t){var i;if((i=document.createElement("a")).setAttribute("tabindex","0"),i.setAttribute("target","_blank"),i.className="oj-label-help-icon-anchor oj-label-help-icon oj-component-icon oj-clickable-icon-nocontext",t)try{a.validateURL(t),i.setAttribute("href",t)}catch(e){throw new Error(e+". The source option ("+t+") is invalid.")}else i.setAttribute("role","img");return e?i.setAttribute("aria-label",e):i.setAttribute("aria-label",this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP)),i},_attachHelpDefToIconAnchor:function(){var e,t,i,o=this;0!==(t=this.widget().find(".oj-label-help-icon-anchor")).length&&(this._bTouchSupported&&(this._eatClickOnHelpIconListener&&this.widget().off(this._touchEatClickNamespace),this._eatClickOnHelpIconListener=function(){return!1},t.on("contextmenu"+this._touchEatContextMenuNamespace,!1)),this._openPopupForHelpDefCallbackListener=function(s){null==e&&((e=o._createHelpDefPopupDiv()).on("mouseleave"+o._helpDefPopupNamespace,o._mouseleaveClosePopupForHelpDefListener),e.on("mouseenter"+o._helpDefPopupNamespace,o._clearTimeoutOnPopupMouseEnterListener),i={my:"start bottom",at:"end top",collision:"flipcenter",of:t},e.ojPopup({position:i,modality:"modeless",animation:{open:null,close:null}})),o._handleOpenHelpDefPopup(s,e,t)},this._mouseleaveClosePopupForHelpDefListener=function(i){if(null!=o._helpDefPopupDivId){const s=i.currentTarget===t[0],n=i.currentTarget===e[0];if(s||n){const t=p.getContext(o.element[0]).getBusyContext();o.helpDefClosePopupBCResolved=t.addBusyState({description:"The oj-label is closing the help popup.'"}),o.closePopupTimer=setTimeout(function(){e.ojPopup("close"),o._resolveHelpDefClosePopupTimoutBC()},200)}}},this._clearTimeoutOnPopupMouseEnterListener=function(){o.closePopupTimer&&(clearTimeout(o.closePopupTimer),o._resolveHelpDefClosePopupTimoutBC())},this._addShowHelpDefinitionEventHandlers(t))},_createHelpDefPopupDiv:function(){var e,t,i,o,s=this.options.help.definition;return o=s||this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_HELP),this._helpDefPopupDivId?(i=n(document.getElementById(this._helpDefPopupDivId))).length&&i.find(".oj-label-help-popup-container").first().text(o):((t=document.createElement("div")).className="oj-label-help-popup",t.style.display="none",(i=n(t)).uniqueId(),this._helpDefPopupDivId=i.prop("id"),(e=document.createElement("div")).className="oj-label-help-popup-container",t.appendChild(e),n(e).text(o),this.uiLabel.append(i)),i},_addShowHelpDefinitionEventHandlers:function(e){var t;e.on("focusin"+this._helpDefPopupNamespace+" mouseenter"+this._helpDefPopupNamespace,this._openPopupForHelpDefCallbackListener),e.on("mouseleave"+this._helpDefPopupNamespace,this._mouseleaveClosePopupForHelpDefListener),this._bTouchSupported&&(this.options.help.source?(t={recognizers:[[r.Press,{time:a.PRESS_HOLD_THRESHOLD}]]},e.ojHammer(t),this._on(e,{press:this._openPopupForHelpDefCallbackListener})):(t={recognizers:[[r.Tap],[r.Press,{time:a.PRESS_HOLD_THRESHOLD}]]},e.ojHammer(t),this._on(e,{press:this._openPopupForHelpDefCallbackListener,tap:this._openPopupForHelpDefCallbackListener})))},_resolveHelpDefClosePopupTimoutBC:function(){this.closePopupTimer=null,this.helpDefClosePopupBCResolved&&(this.helpDefClosePopupBCResolved(),delete this.helpDefClosePopupBCResolved)},_handleOpenHelpDefPopup:function(e,t,i){if(this.closePopupTimer&&(clearTimeout(this.closePopupTimer),this._resolveHelpDefClosePopupTimoutBC()),!t.ojPopup("isOpen"))if(this._bTouchSupported){if("press"===e.type){var o=this.widget();o.on("click"+this._touchEatClickNamespace,this._eatClickOnHelpIconListener);var s=this;t.on("ojclose",function(){o.off(s._touchEatClickNamespace)})}else t.off("ojclose");"press"!==e.type&&"tap"!==e.type&&(a.recentTouchStart()||"focusin"!==e.type&&"mouseenter"!==e.type)||t.ojPopup("open",i)}else t.ojPopup("open",i)},_handleCloseHelpDefPopup:function(){null!=this._helpDefPopupDivId&&n(document.getElementById(this._helpDefPopupDivId)).ojPopup("close")},_removeHelpDefIconEventListeners:function(e){this._bTouchSupported&&(this.widget().off(this._touchEatClickNamespace),e.off(this._touchEatContextMenuNamespace),this._eatClickOnHelpIconListener=null,this._eatContextMenuOnHelpIconListener=null,e.ojHammer("destroy")),e.off(this._helpDefPopupNamespace),null!=this._helpDefPopupDivId&&n(document.getElementById(this._helpDefPopupDivId)).off(this._helpDefPopupNamespace),this._openPopupForHelpDefCallbackListener=null,this._mouseleaveClosePopupForHelpDefListener=null},_removeHelpDefPopup:function(){var e;null!=this._helpDefPopupDivId&&((e=n(document.getElementById(this._helpDefPopupDivId))).length>0&&(e.ojPopup("destroy"),e.remove()),this._helpDefPopupDivId=null)},_needsHelpIcon:function(){var e,t,i=this.options,o=i.help.source;return(t=""!==o&&null!=o)||(t=""!==(e=i.help.definition)&&null!=e),t},_refreshHelp:function(){var e,t,i=this.helpSpanId,o=this._targetElement;1===(t=this.uiLabel.find(".oj-label-help-icon")).length&&(this._removeHelpDefIconEventListeners(t),this._removeHelpDefPopup(),t.remove()),e=document.getElementById(i),this._needsHelpIcon()?(null==e&&(e=this._createIconSpan(i,!0)),this._createHelp(e),this._isCustomElement&&o&&this._addHelpSpanIdOnTarget(i,o)):null!==e&&(e.parentNode.removeChild(e),this._isCustomElement&&o&&this._removeHelpSpanIdOnTarget(i,o))},_refreshRequired:function(){var e,t,i=this.requiredSpanId;e=document.getElementById(i),this.options.showRequired?e?(t=this.getTranslatedString(this._BUNDLE_KEY._TOOLTIP_REQUIRED),this.uiLabel.find(".oj-label-required-icon").attr("title",t)):(this._createRequiredIconSpanDom(),this._isCustomElement&&this._addRequiredDescribedByOnCustomFormElement(this._targetElement)):(null!==(e=document.getElementById(i))&&e.parentNode.removeChild(e),this._isCustomElement&&this._removeRequiredDescribedByOnCustomFormElement(this._targetElement))},_refreshFor:function(e,t){var i=this.element[0],o=this.OuterWrapper.id;if(e){i.removeAttribute("for"),this.OuterWrapper.removeAttribute("data-oj-input-id");var s=document.getElementById(e);if(s){var n=s.getAttribute("labelled-by");if(n)if(n===o)s.removeAttribute("labelled-by");else{var r=n.split(/\s+/).filter(function(e){return e!==o}).join(" ");s.setAttribute("labelled-by",r)}}}if(this._targetElement=document.getElementById(this.options.for),this._targetElement){var l=this._targetElement;this._isElementCustomElement(l)?(this._addElementAttribute(l,o,"labelled-by"),this._needsHelpIcon()&&this._addHelpSpanIdOnTarget(this.helpSpanId,l),this.options.showRequired&&this._addRequiredDescribedByOnCustomFormElement(l)):i.setAttribute("for",t)}},_refreshLabelId:function(){var e,t;(e=this.options.labelId)?this.element.attr("id",e):(t=this.uiLabel.attr("id"))&&this.element.attr("id",t+"|label")},_setOption:function(e,t){var i=this.options[e];switch(this._superApply(arguments),e){case"showRequired":this._refreshRequired();break;case"help":this._refreshHelp();break;case"for":this._isCustomElement&&this._refreshFor(i,t);break;case"labelId":this._refreshLabelId()}},getNodeBySubId:function(e){var t;return(t=this._super(e))||"oj-label-help-icon"===e.subId&&(t=this.widget().find(".oj-label-help-icon")[0]),t||null},getSubIdByNode:function(e){var t=null;return null!=e&&e===this.widget().find(".oj-label-help-icon")[0]&&(t={subId:"oj-label-help-icon"}),t||this._superApply(arguments)},_destroy:function(){var e=this.uiLabel.find(".oj-label-help-icon");return this._removeHelpDefIconEventListeners(e),this._removeHelpDefPopup(),this.helpSpanId=null,this.requiredSpanId=null,this._isCustomElement=null,a.unwrap(this.element,this.uiLabel),this._super()}}),(u={properties:{for:{type:"string"},help:{type:"object",value:{definition:null,source:null},properties:{definition:{type:"string"},source:{type:"string"}}},labelId:{type:"string"},showRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{tooltipHelp:{type:"string"},tooltipRequired:{type:"string"}}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._WIDGET_NAME="ojLabel",u.extension._INNER_ELEM="label",u.extension._GLOBAL_TRANSFER_ATTRS=["accesskey"],u.extension._WATCHED_ATTRS=["data-oj-input-id","data-oj-set-id"],s.CustomElementBridge.register("oj-label",{metadata:u})});
//# sourceMappingURL=ojlabel.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlabelledbyutils',["ojs/ojlabel"],function(e){"use strict";const t={CUSTOM_LABEL_ELEMENT_ID:"|label",_labelledByUpdatedForSet:function(e,a,d,l){if((a||d)&&this._IsCustomElement()){var i={callbackAdd:function(e,a,d){const l=t.CUSTOM_LABEL_ELEMENT_ID;t._addAriaLabelledBy(e,a+l),t._addSetIdOnLabel(a,d.componentId)},callbackRemove:function(e,a,d){const l=t.CUSTOM_LABEL_ELEMENT_ID;t._removeAriaLabelledBy(e,a+l),t._removeSetIdOnLabel(a,d.componentId)},args:{componentId:e}};t._byUpdatedTemplate(a,d,l,i)}},_describedByUpdated:function(e,a,d=this._GetContentElement()){if(e||a){var l={callbackAdd:function(e,a){t._addRemoveAriaBy(e,"aria-describedby",a,!0)},callbackRemove:function(e,a){t._addRemoveAriaBy(e,"aria-describedby",a,!1)}};t._byUpdatedTemplate(e,a,d,l)}},_byUpdatedTemplate:function(e,t,a,d){var l,i,n,o;if(!e&&t)for(i=t.split(/\s+/),o=0;o<i.length;o++)l=i[o],d.callbackAdd.call(this,a,l,d.args);else if(e&&!t)for(i=e.split(/\s+/),o=0;o<i.length;o++)l=i[o],d.callbackRemove.call(this,a,l,d.args);else if(e&&t){for(i=t.split(/\s+/),n=e.split(/\s+/),o=0;o<n.length;o++)l=n[o],-1===t.indexOf(l)&&d.callbackRemove.call(this,a,l,d.args);for(o=0;o<i.length;o++)l=i[o],-1===e.indexOf(l)&&d.callbackAdd.call(this,a,l,d.args)}},_addAriaLabelledBy:function(e,a){t._addRemoveAriaBy(e,"aria-labelledby",a,!0)},_removeAriaLabelledBy:function(e,a){t._addRemoveAriaBy(e,"aria-labelledby",a,!1)},_addSetIdOnLabel:function(e,t){var a=document.getElementById(e);a&&(a.getAttribute("data-oj-set-id")||a.setAttribute("data-oj-set-id",t))},_removeSetIdOnLabel:function(e){var t=document.getElementById(e);t&&t.getAttribute("data-oj-set-id")&&t.removeAttribute("data-oj-set-id")},_addRemoveAriaBy:function(e,t,a,d){e.each(function(){let e=this.getAttribute(t),l=e?e.split(/\s+/):[],i=l.indexOf(a);d&&-1===i?l.push(a):d||-1===i||l.splice(i,1);let n=l.join(" ").trim();n?this.setAttribute(t,n):this.removeAttribute(t)})}};return t});
//# sourceMappingURL=ojlabelledbyutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmenu',["jquery","ojs/ojjquery-hammer","ojs/ojpopupcore","ojs/ojoption","ojs/ojcore-base","hammerjs","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojlogger","ojs/ojconfig","ojs/ojcustomelement-utils"],function(e,t,i,n,s,o,r,a,l,u,c,h,m){"use strict";var d;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,function(){var t=[],n=!1,d="oj-menu-position";const p={dropdown:{open:"--oj-private-menu-global-drop-down-open-animation",close:"--oj-private-menu-global-drop-down-close-animation"},sheet:{open:"--oj-private-menu-global-sheet-open-animation",close:"--oj-private-menu-global-sheet-close-animation"},submenu:{open:"--oj-private-menu-global-submenu-open-animation",close:"--oj-private-menu-global-submenu-close-animation"}};var f=s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.MAC&&s.AgentUtils.getAgentInfo().browser===s.AgentUtils.BROWSER.SAFARI,_="menuItem"===a.getCachedCSSVarValues(["--oj-private-menu-global-sheet-cancel-affordance"])[0],v="dismiss"===a.getCachedCSSVarValues(["--oj-private-menu-global-sheet-swipe-down-behavior"])[0],g=a.getCachedCSSVarValues(["--oj-private-menu-global-drop-down-modality"])[0]||"modeless",b=a.getCachedCSSVarValues(["--oj-private-menu-global-sheet-modality"])[0]||"modal",O="bottom-"+(a.getCachedCSSVarValues(["oj-private-menu-global-sheet-margin-bottom"])[0]||0),j=v&&{recognizers:[[o.Swipe,{direction:o.DIRECTION_HORIZONTAL}]]};const S=-(.5*parseInt(window.getComputedStyle(document.documentElement).fontSize,10)+1);function y(t){var i,n=[],s=t.children("oj-defer").first();i=s.length>0?s.children(".oj-menu-item, oj-menu-select-many"):t.children(".oj-menu-item, oj-menu-select-many");for(var o=0;o<i.length;o++){var r=e(i[o]);r.is(".oj-menu-item")?n.push(r[0]):"OJ-MENU-SELECT-MANY"===r[0].nodeName&&(n=e.merge(n,r.children(".oj-menu-item")))}return n}s.__registerWidget("oj.ojMenu",e.oj.baseComponent,{defaultElement:"<ul>",delay:300,role:"menu",widgetEventPrefix:"oj",options:{menuSelector:"ul",openOptions:{display:"auto",initialFocus:"menu",launcher:null,position:{my:{horizontal:"start",vertical:"top"},offset:{x:0,y:0},at:{horizontal:"start",vertical:"bottom"},of:void 0,collision:"flipfit"}},submenuOpenOptions:{position:{my:"start top",at:"end top",collision:"flipfit"}},animateStart:null,animateEnd:null,beforeOpen:null,close:null,open:null,action:null,menuAction:null},_ComponentCreate:function(){if(this._super(),this._focusForTesting=this._focus,this._nextForTesting=this._next,this._selectForTesting=this._select,this._IsCustomElement()){this.element.hide();var e=this.options;e.openOptions.position=s.PositionUtils.coerceToJet(e.openOptions.position);var t=this.element[0].querySelector("oj-defer");t&&t.setAttribute("data-oj-context",!0)}else this._createAsTopLevelMenu()},_preventDefault:function(e){this.options.disabled&&e.preventDefault()},_createAsTopLevelMenu:function(){var t=this;this.activeMenu=this.element,this.mouseHandled=!1,this._setupSwipeBehavior(),this.element.uniqueId().addClass("oj-menu oj-component").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._on(!0,{"mousedown .oj-menu-item":this._preventDefault,click:this._preventDefault,keydown:function(t){this.options.disabled&&(t.keyCode!==e.ui.keyCode.ESCAPE&&t.keyCode!==e.ui.keyCode.TAB||(t.keyCode===e.ui.keyCode.TAB&&t.preventDefault(),this._focusLauncherAndDismiss(t)))}}),this.options.disabled&&this.element.addClass("oj-disabled").attr("aria-disabled","true");var i=function(t){if(!this.focusHandled){this.focusHandled=!0;var i=e(t.currentTarget);try{this._focusIsFromPointer=!0,this._focus(t,i)}finally{this._focusIsFromPointer=!1}}}.bind(this),n=function(t){e(t.target).is(":visible")&&this._collapse(t,"eventSubtree")}.bind(this);this._touchStartHandler=function(t){this.focusHandled=!1;var i=e(t.currentTarget);this._focus(t,i)}.bind(this),this.element[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this._delegatedHandleMouseEnterMenuItem=function(t){const n=t.currentTarget,s=t.target.closest(".oj-menu-item");s&&n.contains(s)&&i(e.Event(t,{currentTarget:s}))},this.element[0].addEventListener("touchstart",this._delegatedHandleMouseEnterMenuItem,{passive:!0}),this._on({"click .oj-disabled > a":function(e){e.preventDefault()},click:function(){this.mouseHandled=!1},mouseover:function(){this.focusHandled=!1},"click .oj-menu-item:has(a)":function(t){var i=e(t.target).closest(".oj-menu-item");if(!this.mouseHandled&&i.not(".oj-disabled").length){if(this.mouseHandled=!0,t.preventDefault(),this.active&&this.active.closest(i).length&&this.active.get(0)!==i.get(0))return;i.has(".oj-menu").length?this._expand(t):(this._select(t),this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".oj-menu").length&&this._clearTimer&&this._clearTimer()))}},"mouseenter .oj-menu-item":i,mouseleave:n,"mouseleave .oj-menu":n,focus:function(t,i){if(!(i||t.target===this.element[0]||this._focusSkipLink&&t.target===this._focusSkipLink.getLink()[0])){var n=this.active||e(y(this.element)).first(0);this._focus(t,n)}},keydown:this._keydown,keyup:function(t){t.keyCode!==e.ui.keyCode.ENTER&&t.keyCode!==e.ui.keyCode.SPACE||(this.__spaceEnterDownInMenu=!1)}}),this._focusable({applyHighlight:!f,recentPointer:function(){return t._focusIsFromPointer},setupHandlers:function(e,i){t._focusInHandler=e,t._focusOutHandler=i}}),this._usingCallback=e.proxy(this._usingHandler,this),this._setup()},_createAsSubmenu:function(){this.element.attr(l._OJ_CONTAINER_ATTR,this.widgetName),this.element.uniqueId().addClass("oj-menu oj-component oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,tabIndex:"0","aria-hidden":"true"}),this._setup()},__contextMenuPressHoldJustEnded:function(e){if(!arguments.length)return n;n=e},_processOjOptions:function(){this._maxEndIconCount=0,this._maxStartIconCount=0,this._startIconWidth=0,this._endIconWidth=0;var t=function(t){var i,n=[],s=t.children("oj-defer").first();i=s.length>0?s.children("oj-option, oj-menu-select-many"):t.children("oj-option, oj-menu-select-many");for(var o=0;o<i.length;o++){var r=e(i[o]);"OJ-OPTION"===r[0].nodeName?n.push(r[0]):"OJ-MENU-SELECT-MANY"===r[0].nodeName&&(n=e.merge(n,r.children("oj-option")))}return e(n)}(this.element);this._clearOption(t);for(var i=0;i<t.length;i++){t[i].customOptionRenderer=this._customOptionRenderer.bind(this)}},_customOptionRenderer:function(t){function i(e){if(e.previousElementSibling&&"OJ-OPTION"===e.previousElementSibling.nodeName)return e.previousElementSibling;if(e.previousElementSibling&&"OJ-MENU-SELECT-MANY"===e.previousElementSibling.nodeName){var t=e.previousElementSibling.lastElementChild;return"OJ-OPTION"===t.nodeName?t:t.previousElementSibling?t.previousElementSibling:i(t)}return e.previousElementSibling||"OJ-MENU-SELECT-MANY"!==e.parentElement.nodeName?void 0:i(e.parentElement)}function n(e){return e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName?e.nextElementSibling:e.nextElementSibling&&"OJ-MENU-SELECT-MANY"===e.nextElementSibling.nodeName?e.nextElementSibling.firstElementChild:e.nextElementSibling&&"OJ-OPTION"===e.nextElementSibling.nodeName||"OJ-MENU-SELECT-MANY"!==e.parentElement.nodeName?void 0:n(e.parentElement)}var s=e(t),o="OJ-MENU-SELECT-MANY"===s.parent().prop("nodeName"),r=this;this._hasSubmenus=!1;for(var a,l,u,c,h=s.children('a[ojmenu="opt"]'),d=0;d<h.length;d++)(a=e(h[d])).children().removeClass("oj-menu-item-icon").removeClass("oj-menu-item-end-icon"),a.replaceWith(a.contents());if(s.children('span[ojmenu="opt"]').remove(),/[^\-\u2014\u2013\s]/.test(s.text())){this._initMenuItems(s);var p=document.createElement("a");p.setAttribute("href","#"),p.setAttribute("ojmenu","opt"),(a=e(p)).uniqueId().attr({tabIndex:"-1",role:this._itemRole(s)}),o&&(a.attr("aria-checked","false"),(l=t).previousElementSibling||i(l)||e(l).addClass("oj-top"),l.nextElementSibling&&"OJ-OPTION"===l.nextElementSibling.nodeName||n(l)||e(l).addClass("oj-bottom")),s.prepend(p);var f=m.CustomElementUtils.getSlotMap(t),_=f.startIcon;if(_||o){if(o){var v=document.createElement("span");v.setAttribute("slot","startIcon"),v.setAttribute("ojmenu","opt"),v.setAttribute("class","oj-menucheckbox-icon"),_?_.splice(0,0,v):_=[v]}var g=_.length;r._maxStartIconCount=Math.max(r._maxStartIconCount,g),e.each(_,function(t,i){e(i).addClass("oj-menu-item-icon"),a.append(i),g>1&&r._positionStartIcon(i,t,g)})}var b=0,O=f.endIcon;O&&(b=O.length,r._maxEndIconCount=Math.max(r._maxEndIconCount,b));var j=f[""];e.each(j,function(t,i){e(i).is("oj-menu")?(r._setupSubmenu(a,e(i),0===b),r._hasSubmenus=!0):a.append(i)}),O&&e.each(O,function(t,i){e(i).addClass("oj-menu-item-end-icon"),a.append(i),b>1&&r._positionEndIcon(i,t,b)}),t.disabled?(s.addClass("oj-disabled"),a.attr("aria-disabled","true")):(s.removeClass("oj-disabled"),a.removeAttr("aria-disabled"))}else this._initDividers(s),(c=i(u=t))&&e(c).addClass("oj-menu-item-before-divider"),(c=n(u))&&e(c).addClass("oj-menu-item-after-divider");this._updateMenuPadding(this.element)},_positionStartIcon:function(t,i,n){var s;s=this.isRtl?"margin-right":"margin-left";var o=Number(e(t).attr("data-oj-default-margin"));isNaN(o)&&(o=parseInt(e(t).css(s),10),e(t).attr("data-oj-default-margin",o)),this._startIconWidth=-1*o,e(t).css(s,o*(n-i)+"px")},_positionEndIcon:function(t,i,n){var s,o;this.isRtl?(s="margin-left",o="margin-right"):(s="margin-right",o="margin-left");var r=Number(e(t).attr("data-oj-default-margin"));isNaN(r)&&(r=parseInt(e(t).css(s),10),e(t).attr("data-oj-default-margin",r)),this._endIconWidth=-1*parseInt(e(t).css(o),10),e(t).css(s,r+this._endIconWidth*(n-i-1)+"px")},_updateMenuPadding:function(t){var i=e(y(t)).children(),n=i.children(".oj-menu-item-icon:not(.oj-menu-cancel-icon)").length;t.toggleClass("oj-menu-icons",!!n).toggleClass("oj-menu-text-only",!n),this._maxStartIconCount&&this._maxStartIconCount>1&&this._applyAnchorIconPadding(i,this._startIconWidth,this._maxStartIconCount,!0);var s=i.children(".oj-menu-item-end-icon").length;t.toggleClass("oj-menu-end-icons",!!s),this._maxEndIconCount&&this._maxEndIconCount>1&&this._applyAnchorIconPadding(i,this._endIconWidth,this._maxEndIconCount,!1)},_applyAnchorIconPadding:function(t,i,n,s){var o;o=this.isRtl&&s||!this.isRtl&&!s?"padding-right":"padding-left",t.each(function(){var t=Number(e(this).attr("data-oj-default-padding"));isNaN(t)&&(t=parseInt(e(this).css(o),10),e(this).attr("data-oj-default-padding",t)),e(this).css(o,t+i*(n-1)+"px")})},_clickAwayHandler:function(i){if("focus"===i.type||"mousedown"===i.type||"touchstart"===i.type||121===i.keyCode&&i.shiftKey||93===i.keyCode){if("mousedown"===i.type&&n)return;var s=this,o=t.slice(0,t.length);e.each(o,function(t,n){if(!e(i.target).closest(n.element).length&&("keydown"===i.type||"mousedown"===i.type&&3===i.which||!e(i.target).closest(n._launcher).length||n._isContextMenu&&("mousedown"===i.type&&3!==i.which||"touchstart"===i.type))&&!n._dismissEvent){n._dismissEvent=i;var o=n._collapse(i,"eventSubtree");s._runOnPromise(o,function(){n.__dismiss(i),n._dismissEvent=null})}})}},_setOption:function(e,t){this._superApply(arguments),"translations"===e&&this._cancelAnchor&&this._cancelAnchor.text(this.options.translations.labelCancel)},_destroy:function(){this.element.is(":visible")&&this.__dismiss(),this._setWhenReady("none"),this._clearTimer&&this._clearTimer(),delete this._clearTimer,this.element[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),delete this._touchStartHandler,this.element[0].removeEventListener("touchstart",this._delegatedHandleMouseEnterMenuItem,{passive:!0}),delete this._delegatedHandleMouseEnterMenuItem,this.element.removeAttr("aria-activedescendant").removeClass("oj-component").find(".oj-menu").addBack().removeClass("oj-menu oj-menu-submenu oj-menu-icons oj-menu-end-icons oj-menu-text-only").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".oj-menu-item").removeClass("oj-menu-item").removeAttr("role").children("a").removeAttr("aria-disabled").removeUniqueId().removeClass("oj-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("oj-ojMenu-submenu-icon")&&t.remove()}),this.element.find("a").removeAttr("aria-expanded"),this.element.find(".oj-menu-divider").removeClass("oj-menu-divider").removeAttr("role"),delete this._popupServiceEvents,delete this._usingCallback;var t=this._clearCloseDelayTimer;delete this._clearCloseDelayTimer,t&&t(),this.element.ojHammer("destroy"),this._super()},_keydown:function(t){var i=!0;function n(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}switch(t.keyCode){case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this._previous(t);break;case e.ui.keyCode.DOWN:this._next(t);break;case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.keyCode===e.ui.keyCode.RIGHT!==this.isRtl?this.active&&!this.active.is(".oj-disabled")&&this._expand(t):this._collapse(t,"active");break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._handleEnterSpace(t),this.__spaceEnterDownInMenu=!0;var s=this;setTimeout(function(){s.__spaceEnterDownInMenu=!1},100);break;case e.ui.keyCode.TAB:t.preventDefault(),this._focusLauncherAndDismiss(t);break;case e.ui.keyCode.ESCAPE:if(this._launcher){var o=this.element.attr("aria-activedescendant"),r=e(document.getElementById(o)).parents(".oj-menu").first();r.length>0&&r[0]!==this.element[0]?this._collapse(t,"active"):this._focusLauncherAndDismiss(t)}else this._collapse(t,"active");break;default:i=!1;var a=this.previousFilter||"",l=String.fromCharCode(t.keyCode),u=!1;clearTimeout(this.filterTimer),l===a?u=!0:l=a+l;var c=new RegExp("^"+n(l),"i"),h=e(y(this.activeMenu)).filter(function(){return c.test(e(this).children("a").text())});(h=u&&-1!==h.index(this.active.next())?this.active.nextAll(".oj-menu-item"):h).length||(l=String.fromCharCode(t.keyCode),c=new RegExp("^"+n(l),"i"),h=e(y(this.activeMenu)).filter(function(){return c.test(e(this).children("a").text())})),h.length?(this._focus(t,h),h.length>1?(this.previousFilter=l,this.filterTimer=setTimeout(function(){delete this.previousFilter}.bind(this),1e3)):delete this.previousFilter):delete this.previousFilter}i&&t.preventDefault()},_handleEnterSpace:function(e){this.active&&!this.active.is(".oj-disabled")&&(this.active.children("a[aria-haspopup='true']").length?this._expand(e):this._select(e))},refresh:function(){function t(t){for(var i=t.element.find("oj-menu:not(.oj-menu-submenu)"),n=0;n<i.length;n++){e(i[n]).attr("aria-hidden","true").hide(),r.getContext(i[n]).getBusyContext().whenReady().then(function(e){e.refresh()}.bind(t,i[n]))}}(this._super(),this._IsCustomElement()&&!this._wasCreated)?(this.element.parent().is("oj-option")&&(this._isSubmenu=!0,this._createAsSubmenu()),this._isSubmenu||(l.subtreeShown(this.element[0]),this._createAsTopLevelMenu(),t(this)),this._wasCreated=!0):(t(this),this._setup());this._reposition()},_reposition:function(){var t=this.element;if(t.is(":visible")&&!(t[0].getBoundingClientRect().width>document.documentElement.clientWidth)){var i=t.data(d);t[0].style.maxHeight="",t[0].style.overflowY="",this._updateMenuMaxHeight(),t.position(i),t.find(".oj-menu").each(function(){var t=e(this);t.is(":visible")&&(i=t.data(d),t.position(i))})}},_setup:function(){this.isRtl="rtl"===this._GetReadingDirection(),this._IsCustomElement()?(this._processOjOptions(),this._isSubmenu&&(this.options.openOptions.launcher=this.element.parent()),this._updateMenuPadding(this.element)):this._setupWidgetMenus(),this.active&&!e.contains(this.element[0],this.active[0])&&this._blur()},_setupWidgetMenus:function(){var t=this,i=this.element.find(this.options.menuSelector),n=i.add(this.element),s=n.children();this._hasSubmenus=!!i.length,s.filter(".oj-menu-divider").has("a").removeClass("oj-menu-divider oj-menu-item").removeAttr("role");var o=s.filter(":not(.oj-menu-item):has(a)"),r=o.children("a");this._initMenuItems(o),this._initAnchors(r);var a=s.filter(function(t,i){var n=e(i);return n.is(":not(.oj-menu-item)")&&!/[^\-\u2014\u2013\s]/.test(n.text())});this._initDividers(a),this._initDividerNeighbors(s,a),s.filter(".oj-disabled").children("a").attr("aria-disabled","true"),s.filter(":not(.oj-disabled)").children("a").removeAttr("aria-disabled"),i.filter(":not(.oj-menu)").addClass("oj-menu oj-menu-submenu oj-menu-dropdown").hide().attr({role:this.role,"aria-hidden":"true"}).each(function(){var i=e(this);t._setupSubmenu(t._getSubmenuAnchor(i),i,!0)}),n.each(function(){t._updateMenuPadding(e(this))})},_setupSubmenu:function(t,i,n){var s=0!==t[0].querySelectorAll(".oj-menu-submenu-icon.oj-component-icon").length;if(t.attr("aria-haspopup","true").attr("aria-expanded","false"),n&&!s){var o=e("<span>");o.addClass("oj-menu-submenu-icon oj-component-icon").data("oj-ojMenu-submenu-icon",!0),t.append(o)}i.attr("aria-labelledby",t.attr("id"))},_initMenuItems:function(e){e.addClass("oj-menu-item").attr("role","presentation")},_initAnchors:function(t){for(var i=0;i<t.length;i++){var n=e(t[i]);n.uniqueId().attr({tabIndex:"-1",role:this._itemRole(n.parent())})}},_initDividers:function(e){e.addClass("oj-menu-divider").attr("role","separator")},_initDividerNeighbors:function(e,t){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider"),t.prev().addClass("oj-menu-item-before-divider"),t.next().addClass("oj-menu-item-after-divider")},_clearOption:function(e){e.removeClass("oj-menu-item-before-divider oj-menu-item-after-divider oj-menu-divider oj-menu-item").removeAttr("role")},_getSubmenuAnchor:function(e){return e.prev("a")},_getSubmenuWidget:function(e){return l.__GetWidgetConstructor(e,"ojMenu")("instance")},_itemRole:function(e){return"OJ-MENU-SELECT-MANY"===e.parent().prop("nodeName")?"menuitemcheckbox":"menuitem"},_getAdjacentDividers:function(e,t){var i=e.prev(".oj-menu-divider").add(e.next(".oj-menu-divider"));return t&&(i=i.add(e)),i},_focus:function(t,i){var n=this.active?this.active:e();if(!i.is(n)){t&&"focus"===t.type||this._clearTimer&&this._clearTimer(),i=i.first(),this._makeActive(i,t);var s=i.parents(".oj-menu").first(),o=s.closest(".oj-menu-item");s.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),this._getAdjacentDividers(o,!0).addClass("oj-focus-ancestor"),t&&"keydown"===t.type?this._close():this._clearTimer=this._setTimer(function(){return delete this._clearTimer,this._close()},this._getSubmenuBusyStateDescription("closing"),this.delay);var r=this._IsCustomElement()?i.children("oj-menu"):i.children(".oj-menu"),a=r.length>0&&n.length>0&&e.contains(r[0],n[0]);r.length&&t&&/^mouse|click/.test(t.type)&&!this.active.hasClass("oj-disabled")&&!a&&this._startOpening(t,r),this.activeMenu=i.parents(".oj-menu").first()}},_makeActive:function(t,i){if(!t.is(this.active)){var n,s,o=this.active?this.active:e(),r=t.children("a");this.active=t,this.element.attr("aria-activedescendant",r.attr("id")),this._focusOutHandler(o),this._focusInHandler(t),this._getAdjacentDividers(o).removeClass("oj-focus"),this._getAdjacentDividers(t).addClass("oj-focus"),this._trigger("_activeItem",i,{previousItem:o,item:t,privateNotice:"The _activeItem event is private.  Do not use."}),i&&/^key/.test(i.type)&&(n=r[0],(s=n.getBoundingClientRect()).top<0||s.bottom>document.documentElement.clientHeight||s.left<0||s.right>document.documentElement.clientWidth)&&r[0].scrollIntoView()}},_removeActive:function(t){if(this.active){var i=this.active;this.active=null,this.element.removeAttr("aria-activedescendant"),this._focusOutHandler(i),this._getAdjacentDividers(i).removeClass("oj-focus"),this._trigger("_activeItem",t,{previousItem:i,item:e(),privateNotice:"The _activeItem event is private.  Do not use."})}},_blur:function(e){this._clearTimer&&this._clearTimer(),this._removeActive(e)},_focusLauncherAndDismiss:function(e,t){this._launcher&&this._launcher.focus(),this.__dismiss(e,t)},close:function(){this.__dismiss()},__dismiss:function(e,t){if(!this._isOperationPending("close","__dismiss",[e,t])&&s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN){var i=this.element.is(":visible");this._setWhenReady("close");var n={};n[s.PopupService.OPTION.POPUP]=this.element,n[s.PopupService.OPTION.CONTEXT]={event:e,selectUi:t,isOpen:i},s.PopupService.getInstance().close(n)}},_getDefaultAnimation:function(e,t){var i=p,n=a.getCachedCSSVarValues([i[e][t]])[0];return JSON.parse(n)},_isAnimationDisabled:function(){return!this._IsCustomElement()||this._disableAnimation},_replaceAnimationOptions:function(e,t){var i=e;if(t&&e&&"string"!=typeof e){for(var n=JSON.stringify(e),s=Object.keys(t),o=0;o<s.length;o++){var r=s[o];n=n.replace(new RegExp(r,"g"),t[r])}i=JSON.parse(n)}return i},_runOnPromise:function(e,t){return e?e.then(t):t()},_beforeCloseHandler:function(e){var t=e[s.PopupService.OPTION.POPUP];if(this._IsCustomElement()){var i=e[s.PopupService.OPTION.CONTEXT],n=i.selectUi;if(n&&n.item.length){var o={},r=n.item[0],a=i.event;o.originalEvent=a.originalEvent;var l={detail:o,cancelable:!0,bubbles:!0},c=new CustomEvent("ojAction",l);r.dispatchEvent(c),l.detail.selectedValue=r.value;var h=new CustomEvent("ojMenuAction",l);this.element[0].dispatchEvent(h),i.event=h}}if(!this._isAnimationDisabled()){var m=this._getDefaultAnimation(this._sheetMenuIsOpen?"sheet":"dropdown","close"),d=u.startAnimation(t[0],"close",s.PositionUtils.addTransformOriginAnimationEffectsOption(t,m),this);return d.then(function(){t.attr("aria-hidden","true").hide()}),d}t.attr("aria-hidden","true").hide()},_afterCloseHandler:function(e){var i=e[s.PopupService.OPTION.CONTEXT],n=i.event,o=i.selectUi,r=i.isOpen;(this.element.removeData(d),this._launcher=null,this._sheetMenuIsOpen=!1,!this._IsCustomElement()&&o)&&(n=this._trigger2("select",n,o).event);r&&this._trigger("close",n,{}),this._currentOpenOptions=null;var a=t.indexOf(this);t.splice(a,1),this._destroyVoiceOverAssist()},getCurrentOpenOptions:function(){return e.extend(!0,{},this._currentOpenOptions||this.options.openOptions)},_closeMenuIfOpen:function(e,t,i){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&(this._disableAnimation=!0,this._currentOpenOptions=e,this.__dismiss(t.event),this._dismissEvent=null,this._currentOpenOptions=i)},open:function(i,n){var o=arguments[2];if(!this._isOperationPending("open","open",[i,n,o])){var l=function(i,n){this._IsCustomElement()&&this.refresh(),this.element.removeAttr("aria-activedescendant"),this.element.find(".oj-focus").removeClass("oj-focus"),this.focusHandled=!1,this._focusIsFromPointer=!1,this.mouseHandled=!1,this.activeMenu=this.element,this.active=null,(n=e.extend({},this.options.openOptions,n)).position=e.extend({},n.position),this._IsCustomElement()&&this._setPosition(n.position),o=e.extend({},this.options.submenuOpenOptions,o);var r=this._currentOpenOptions;this._currentOpenOptions=n,s.PositionUtils._normalizeEventForPosition(i),this._isContextMenu=this.element[0].slot&&"contextMenu"===this.element[0].slot;var l=this._trigger2("beforeOpen",i,{openOptions:n});if(!l.proceed)return this._currentOpenOptions=r,void(this._disableAnimation=!1);this._closeMenuIfOpen(r,l,n);var u=n.launcher;if(!(u=this._IsCustomElement()?"string"===e.type(u)?e(document.getElementById(u)):e(u):"string"===e.type(u)?e(u):u)||!u.length)return c.warn("When calling Menu.open(), must specify openOptions.launcher via the component option, method param, or beforeOpen listener.  Ignoring the call."),this._currentOpenOptions=null,void(this._disableAnimation=!1);var h,m,p=this._isDropDown(n.display);if(this._toggleCancelDom(p),p){this.element.addClass("oj-menu-dropdown").removeClass("oj-menu-sheet"),m=g;var f=s.PositionUtils.normalizeHorizontalAlignment(n.position,this.isRtl);if(!f.of&&f.offset&&0===f.offset.x&&0===f.offset.y){const e=a.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||0;f.offset={x:0,y:e}}this._IsCustomElement()?(f=s.PositionUtils.coerceToJet(f,this.options.openOptions.position),this._referenceOpenPosition=f,h=s.PositionUtils.coerceToJqUi(f)):(this._referenceOpenPosition=f,h=f),h.of=s.PositionUtils.normalizePositionOf(h.of,u,i)}else this.element.addClass("oj-menu-sheet").removeClass("oj-menu-dropdown"),m=b,h={my:"bottom",at:O,of:window,collision:"flipfit"};var _=this.element[0],v=t.slice(0,t.length);e.each(v,function(e,t){t.element[0]!==_&&(t._collapse(i,"eventSubtree"),t.__dismiss(i))}),this._submenuPosition=s.PositionUtils.normalizeHorizontalAlignment(o.position,this.isRtl);var j=this._usingCallback;e.isFunction(h.using)&&(h.origUsing=h.using),h.using=j,this.element.data(d,h),this._setWhenReady("open");var S={};S[s.PopupService.OPTION.POPUP]=this.element,S[s.PopupService.OPTION.LAUNCHER]=u,S[s.PopupService.OPTION.POSITION]=h,S[s.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),S[s.PopupService.OPTION.LAYER_SELECTORS]="oj-menu-layer",S[s.PopupService.OPTION.MODALITY]=m,S[s.PopupService.OPTION.CONTEXT]={event:i,initialFocus:n.initialFocus,launcher:u,isDropDown:p},S[s.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement();var y=s.PopupService.getInstance(),E=y.open.bind(y,S),C=this.element[0].querySelector("oj-defer");C?s.Context.getContext(C).getBusyContext().whenReady().then(E):E();this._disableAnimation=!1}.bind(this,i,n);if(this._dismissEvent){var u=r.getContext(this.element[0]).getBusyContext();u.whenReady().then(l)}else l()}},_setPosition:function(e){var t=this.options;t.openOptions.position=s.PositionUtils.coerceToJet(e,t.openOptions.position)},_beforeOpenHandler:function(e){var t,i=e[s.PopupService.OPTION.POPUP],n=e[s.PopupService.OPTION.POSITION],o=e[s.PopupService.OPTION.CONTEXT],r=o.event,a=o.isDropDown,l=o.initialFocus;if(i[0].style.maxHeight="",i[0].style.overflowY="",i.show(),a&&(n=this._checkBrowserVerticalScollBar(o,n)),this.rootHeight=i[0].offsetHeight,"click"===n.of.type?this.launcherHeight=n.of.clientY:this.launcherHeight=o.launcher[0].getBoundingClientRect().bottom,this._updateMenuMaxHeight(),i.position(n),this._initVoiceOverAssist(l),"firstItem"===l){var c=this._getFirstItem();this._focus(r,c)}if(!this._isAnimationDisabled()){var h=this._getDefaultAnimation(a?"dropdown":"sheet","open");t=u.startAnimation(i[0],"open",s.PositionUtils.addTransformOriginAnimationEffectsOption(i,h),this)}return t},_checkBrowserVerticalScollBar:function(t,i){var n=t.launcher,o=e.position.scrollbarWidth(),r=window.innerWidth>document.documentElement.clientWidth,a=window.innerWidth-n[0].offsetLeft-this.element[0].offsetWidth<o;if(!r||!a)return i;if(this._referenceOpenPosition.offset.x=-1*o,this._IsCustomElement()){var l=s.PositionUtils.coerceToJqUi(this._referenceOpenPosition);return Object.assign(i,{my:l.my})}return Object.assign(i,{offset:{my:-1*o}})},_updateMenuMaxHeight:function(e){var t=e?e[0]:this.element[0],i=this._isDropDown(this.options.openOptions.display);if(!(t.querySelectorAll("oj-menu").length||!i||this.rootHeight<window.innerHeight)){var n=window.innerHeight-this.launcherHeight-25;n<25&&(n=25),t.style.maxHeight=n+"px",t.style.overflowY="auto"}},_afterOpenHandler:function(e){var i,n=e[s.PopupService.OPTION.CONTEXT],o=n.event,r=n.launcher,a=n.isDropDown,l=n.initialFocus;(this._launcher=r,this._sheetMenuIsOpen=!a,t.push(this),"firstItem"===l||"menu"===l)&&(i=this._focusSkipLink&&"menu"===l?this._focusSkipLink.getLink():this.element,this._IsCustomElement()?window.setImmediate(function(){i.focus()}):i.focus());this._trigger("open",o,{})},_initVoiceOverAssist:function(e){if("menu"===e&&(s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.IOS||s.AgentUtils.getAgentInfo().os===s.AgentUtils.OS.ANDROID)){var t=this._getFirstItem();if(!(t.length<1)){var n=this.element.attr("id");s.StringUtils.isEmptyOrUndefined(n)&&(n=this.uuid);var o=[n,"focusSkipLink"].join("_"),r=function(){window.setImmediate(function(e,t){t.find("a").first().focus(),e._focus(null,t)}.bind(this,this,t))}.bind(this),a=this.options.translations.ariaFocusSkipLink;this._focusSkipLink=new i.PopupSkipLink(t,a,r,o,{insertBefore:!0,preventKeyEvents:!1})}}},_destroyVoiceOverAssist:function(){this._focusSkipLink&&(this._focusSkipLink.destroy(),delete this._focusSkipLink)},_getFirstItem:function(){return this.element.find(".oj-menu-item").first()},_startOpening:function(e,t){this._clearTimer&&this._clearTimer(),this._IsCustomElement()&&t[0].refresh(),this._clearTimer=this._setTimer(function(){return delete this._clearTimer,this._close().then(function(){this._open(e,t)}.bind(this))},this._getSubmenuBusyStateDescription("closing and opening"),this.delay)},_open:function(t,i){if("true"===i.attr("aria-hidden")&&this.active){var n;if(this._IsCustomElement()){var o=this._getSubmenuWidget(i);if(!o._trigger2("beforeOpen",t).proceed)return;let e=Object.assign(o.options.openOptions.position,{offset:{x:0,y:S}});n=s.PositionUtils.coerceToJqUi(e),n=s.PositionUtils.normalizeHorizontalAlignment(n,this.isRtl)}else n=this._submenuPosition;if(n=e.extend({of:this.active},n),this._clearTimer&&this._clearTimer(),this.element.find(".oj-menu").not(i.parents(".oj-menu")).hide().attr("aria-hidden","true").removeData(d),i.show().removeAttr("aria-hidden").position(n).data(d,n),this._getSubmenuAnchor(i).attr("aria-expanded","true"),!this._isAnimationDisabled()){var a=r.getContext(this.element[0]).getBusyContext().addBusyState({description:this._getSubmenuBusyStateDescription("opening")}),l=this._getDefaultAnimation("submenu","open");!this.isRtl&&parseFloat(i[0].style.left)<0?n.my="right top":this.isRtl&&parseFloat(i[0].style.left)>0&&(n.my="left top"),l=this._replaceAnimationOptions(l,{"#myPosition":n.my}),u.startAnimation(i[0],"open",l,this).then(a)}this._updateMenuMaxHeight(i)}},__collapseAll:function(t,i,n){var s;this._clearTimer&&this._clearTimer();var o=this,a=function(){delete o._clearTimer;var n=i?o.element:e(t&&t.target).closest(o.element.find(".oj-menu"));n.length||(n=o.element);var s=o._close(n);return s=o._runOnPromise(s,function(){o._blur(t),o.activeMenu=n})};if(n?this._isAnimationDisabled()?o._clearTimer=o._setTimer(a,o._getSubmenuBusyStateDescription("closing"),n):s=new Promise(function(e){o._clearTimer=o._setTimer(a,o._getSubmenuBusyStateDescription("closing"),n,function(){e(!0)})}):s=a(),s){var l=r.getContext(this.element[0]).getBusyContext().addBusyState({description:"closing submenus"});s.then(l)}return s},_close:function(t){var i;t||(t=this.active?this.active.parents(".oj-menu").first():this.element);var n=this,s=n._getDefaultAnimation("submenu","close"),o=t.find(".oj-menu"),r=function(e){e.hide().attr("aria-hidden","true").removeData(d),n._getSubmenuAnchor(e).attr("aria-expanded","false")};if(this._isAnimationDisabled())r(o),t.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor"),i=Promise.resolve(!0);else{var a=function(t){var i=null;return e(y(t)).children(".oj-menu").each(function(t,o){var l=e(o);if(l.is(":visible")){var c=a(l);i=n._runOnPromise(c,function(){var e=l.data(d),t=n._replaceAnimationOptions(s,{"#myPosition":e.my});return u.startAnimation(o,"close",t,n).then(function(){r(l)})})}else r(l),i=Promise.resolve(!0)}),i};i=a(t),i=this._runOnPromise(i,function(){t.find(".oj-focus-ancestor").removeClass("oj-focus-ancestor")})}return i},_collapse:function(e,t){var i;if(null==t||"active"===t){var n=this.activeMenu&&this.activeMenu.closest(".oj-menu-item",this.element);if(n&&n.length){var s=this;i=this._close(),i=this._runOnPromise(i,function(){s._focus(e,n)})}}else"all"===t||"eventSubtree"===t?i=this.__collapseAll(e,"all"===t,this.delay):c.warn("Invalid param "+t+" passed to Menu._collapse().  Ignoring the call.");return i},_expand:function(t){var i,n;if(this.active){var s=y(n=this.active.children(".oj-menu ").first());s.length>0&&(i=e(s[0]))}i&&i.length&&(this._open(t,n),this._clearTimer&&this._clearTimer(),this._clearTimer=this._setTimer(function(){delete this._clearTimer,this._focus(t,i)},this._getBusyStateDescription("focusing an item")))},_next:function(e){this._move("next","first",e)},_previous:function(e){this._move("prev","last",e)},_move:function(t,i,n){var s,o=y(this.activeMenu),r=o.indexOf(this.active?this.active[0]:null);r>-1?"first"===t?s=o[0]:"last"===t?s=o[o.length-1]:"next"===t?s=r+1<o.length?o[r+1]:o[0]:"prev"===t&&(s=r-1>-1?o[r-1]:o[o.length-1]):s="first"===i?o[0]:o[o.length-1],this._focus(n,e(s))},_select:function(t){if(!this.active&&t&&t.target){var i=e(t.target).closest(".oj-menu-item");i.closest(this.element).length&&this._makeActive(i,t)}var n=this.active.is(this._cancelItem)?void 0:{item:this.active},s=this.__collapseAll(t,!0);this._runOnPromise(s,function(){this._focusLauncherAndDismiss(t,n)}.bind(this))},_surrogateRemoveHandler:function(){var e=this.element;s.ZOrderUtils.getStatus(e)===s.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};this._popupServiceEvents=e,e[s.PopupService.EVENT.POPUP_CLOSE]=this._closeAll.bind(this),e[s.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[s.PopupService.EVENT.POPUP_REFRESH]=this._reposition.bind(this),e[s.PopupService.EVENT.POPUP_AUTODISMISS]=this._clickAwayHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[s.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[s.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this)}return this._popupServiceEvents},_closeAll:function(){this._disableAnimation=!0,this._close(this.element),this.__dismiss(null),this._setWhenReady("none")},_usingHandler:function(e,t){var i=t.element.element;i.css(e),s.PositionUtils.captureTransformOriginAnimationEffectsOption(i,t);var n=i.data(d).origUsing;n&&n(e,t),s.PositionUtils.isAligningPositionClipped(t)&&(this._clearCloseDelayTimer=this._setTimer(this._closeAll,this._getSubmenuBusyStateDescription("closing"),1))},getNodeBySubId:function(e){return e&&"oj-menu-cancel-command"===e.subId?this._cancelDomAttached?this._cancelItem[0]:null:this._super(e)},getSubIdByNode:function(t){return this._cancelItem&&this._cancelItem.is(e(t).parents().addBack(t))?{subId:"oj-menu-cancel-command"}:this._super(t)},_isDropDown:function(e){if(this._hasSubmenus)return!0;switch(e){case"dropDown":return!0;case"sheet":return!1;default:return"phone"!==h.getDeviceRenderMode()}},_toggleCancelDom:function(t){function i(t,i){var n=y(t),s=n.indexOf(i[1]);return e(n[s-1])}if(_)if(t)this._cancelDomAttached&&(i(this.element,this._getCancelDom()).removeClass("oj-menu-item-before-divider"),this._getCancelDom().detach(),this._cancelDomAttached=!1);else{var n=this._getCancelDom();n.appendTo(this.element),i(this.element,n).addClass("oj-menu-item-before-divider"),this._cancelDomAttached=!0}},_getCancelDom:function(){if(!this._cancelDom){var t=e("<li></li>",this.document[0]),i=e("<a href='#'></a>",this.document[0]).text(this.options.translations.labelCancel);e("<span class='oj-menu-item-icon oj-component-icon oj-menu-cancel-icon'></span>",this.document[0]).prependTo(i);var n=e("<li></li>",this.document[0]).addClass("oj-menu-item-cancel oj-menu-item-after-divider").append(i);this._initDividers(t),this._initAnchors(i),this._initMenuItems(n),this._cancelAnchor=i,this._cancelItem=n,this._cancelDom=e([t[0],n[0]])}return this._cancelDom},_setupSwipeBehavior:function(){v&&(this.element.ojHammer(j),this._on({swipedown:function(e){this._sheetMenuIsOpen&&"touch"===e.gesture.pointerType&&(this.__collapseAll(e,!0),this._focusLauncherAndDismiss(e))}}))},_setWhenReady:function(e){var t=this._whenReadyMediator;t&&(t.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(e)<0||(this._whenReadyMediator=new i.PopupWhenReadyMediator(this.element,e,"ojMenu",this._IsCustomElement()))},_isOperationPending:function(e,t,i){var n=this._whenReadyMediator;return!!n&&n.isOperationPending(this,e,t,i)},_setTimer:function(e,t,i,n){var s=r.getContext(this.element[0]).getBusyContext().addBusyState({description:t}),o=function(){s&&(s(),s=null,n&&n())},a=this,l=setTimeout(function(){var t=e.bind(a)();t&&t instanceof Promise?t.then(o):o()},i||0);return function(){clearTimeout(l),o()}},_getBusyStateDescription:function(e){return"Menu with id '"+this.element.attr("id")+"' is busy "+e+"."},_getSubmenuBusyStateDescription:function(e){return this._getBusyStateDescription(e+" a submenu")},_NotifyDetached:function(){s.ZOrderUtils.getStatus(this.element)===s.ZOrderUtils.STATUS.OPEN&&this._closeAll(),this._super()}}),l.setDefaultOptions({ojMenu:{openOptions:l.createDynamicPropertyGetter(function(e){return{position:m.CustomElementUtils.isElementRegistered(e.element.tagName)?e.containers.indexOf("ojMenu")>=0?{my:{horizontal:"start",vertical:"top"},at:{horizontal:"end",vertical:"top"},offset:{x:0,y:0},collision:"flipfit"}:{my:{horizontal:"start",vertical:"top"},at:{horizontal:"start",vertical:"bottom"},offset:{x:0,y:0},collision:"flipfit"}:{my:"start top",at:"start bottom",collision:"flipfit"}}})}})}(),(d={properties:{disabled:{type:"boolean",value:!1},openOptions:{type:"object",properties:{display:{type:"string",enumValues:["auto","dropDown","sheet"],value:"auto"},initialFocus:{type:"string",enumValues:["firstItem","menu","none"],value:"menu"},launcher:{type:"string|Element"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},collision:{type:"string",enumValues:["fit","flip","flipcenter","flipfit","none"],value:"flipfit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"start"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"top"}}},of:{type:"string|object"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}}}},translations:{type:"object",value:{},properties:{ariaFocusSkipLink:{type:"string"},labelCancel:{type:"string"}}}},methods:{close:{},getProperty:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{},ojAnimateEnd:{},ojAnimateStart:{},ojBeforeOpen:{},ojClose:{},ojMenuAction:{},ojOpen:{}},extension:{}}).extension._WIDGET_NAME="ojMenu",s.CustomElementBridge.register("oj-menu",{metadata:d})});
//# sourceMappingURL=ojmenu.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvmenu',["exports","ojs/ojmenu","preact"],function(e,t,n){"use strict";class o extends n.Component{constructor(e){super(e),this._rootRef=null}render(e){return n.h("div",{style:{display:"none"},ref:e=>this._rootRef=e},e.children)}componentDidMount(){this._menuElement||(this._menuElement=this._getMenu(),null!==this._menuElement&&this._openMenu())}_getMenu(){return this._rootRef.childNodes[0]}_openMenu(){const e=this._getOpenOptions();this._menuElement.__openingContextMenu=!0;try{this._menuElement.open(this.props.eventObj.event,e),this._addCloseListener()}catch(e){throw e}finally{this._menuElement.__openingContextMenu=!1}}_addCloseListener(){this.props.onCloseCallback&&this._menuElement.addEventListener("ojClose",this.props.onCloseCallback)}_getOpenOptions(){const e=this.props.eventObj.eventType||"keyboard";return{launcher:this.props.launcherElement,position:Object.assign(Object.assign({},o._MENU_POSITION[e]),{of:"keyboard"===e?this.props.launcherElement:this.props.eventObj.event}),initialFocus:"menu"}}componentWillUnmount(){this._removeCloseListener()}_removeCloseListener(){this._menuElement&&this.props.onCloseCallback&&this._menuElement.removeEventListener("ojClose",this.props.onCloseCallback)}}o._MENU_POSITION={mouse:{my:"start top",at:"start bottom",collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",collision:"flipfit"}},e.VMenu=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojvmenu.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvcomponent-binding',["exports"],function(n){"use strict";n.consumedBindings=function(n){return function(n){}},n.providedBindings=function(n){return function(n){}},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=ojvcomponent-binding.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbutton2',["exports","ojs/ojdomutils","ojs/ojgestureutils","ojs/ojvcomponent","preact","ojs/ojvmenu","ojs/ojvcomponent-binding","ojs/ojthemeutils"],function(t,e,n,o,s,i,a,r){"use strict";var l,u=function(t,e,n,o){var s,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};t.Button2=l=class extends s.Component{constructor(t){super(t),this._rootRef=s.createRef(),this._handleContextMenuGesture=(t,e)=>{const n={event:t,eventType:e};t.preventDefault(),this.setState({contextMenuTriggerEvent:n})},this._handleTouchstart=t=>{this.setState({active:!0})},this._handleTouchend=t=>{this.setState({active:!1})},this._handleFocusIn=t=>{this.setState({focus:!0}),this._rootRef.current&&this.focusInHandler(this._rootRef.current)},this._handleFocusOut=t=>{this.setState({focus:!1}),this._rootRef.current&&this.focusOutHandler(this._rootRef.current)},this._handleMouseenter=t=>{e.recentTouchEnd()||(this===l._lastActive&&this.setState({active:!0}),this.setState({hover:!0}))},this._handleMouseleave=t=>{this.setState({hover:!1,active:!1})},this._handleMousedown=t=>{if(1===t.which&&!e.recentTouchEnd()){this.setState({active:!0}),l._lastActive=this;const t=()=>{l._lastActive=null,document.removeEventListener("mouseup",t,!0)};document.addEventListener("mouseup",t,!0)}},this._handleMouseup=t=>{this.setState({active:!1})},this._handleClick=t=>{var e,n;t.detail<=1&&(null===(n=(e=this.props).onOjAction)||void 0===n||n.call(e,{originalEvent:t}))},this._handleKeydown=t=>{32!==t.keyCode&&13!==t.keyCode||this.setState({active:!0})},this._handleKeyup=t=>{this.setState({active:!1})},this._handleFocus=t=>{var e,n;null===(n=null===(e=this._rootRef)||void 0===e?void 0:e.current)||void 0===n||n.dispatchEvent(new FocusEvent("focus",{relatedTarget:t.relatedTarget}))},this._handleBlur=t=>{var e;this.setState({active:!1}),null===(e=this._rootRef)||void 0===e||e.current.dispatchEvent(new FocusEvent("blur",{relatedTarget:t.relatedTarget}))},this._onCloseCallback=t=>{this.state.contextMenuTriggerEvent&&this.setState({contextMenuTriggerEvent:null})},this.state={},this.uniquePrefix=t.id?t.id+o.getUniqueId():o.getUniqueId()}render(t,e){const n=t.children,i=this._processIcon(t.startIcon,"oj-button-icon oj-start"),a=this._processIcon(t.endIcon,"oj-button-icon oj-end");let r=t["aria-label"],l=t["aria-labelledby"];const u=r||l;let h=null,c=null,d=null,_=t.title;const b=t.label||n;b&&(_=this.state.derivedTitle||_||t.label,"icons"===t.display&&(i||a)?t.label?u||(r=t.label):(u||(d=this.uniquePrefix+"|text",l=d),h=s.h("span",{class:"oj-button-text oj-helper-hidden-accessible",id:d},b)):(u||(d=this.uniquePrefix+"|text",l=d),h=s.h("span",{class:"oj-button-text",id:d},b))),h=s.h("span",{ref:t=>this._defaultSlotRef=t},h);const p=s.h("div",{class:"oj-button-label"},i,h,a);let v;t.disabled?v=s.h("button",{class:"oj-button-button","aria-labelledby":l,"aria-label":r,disabled:!0},p):(c=this._handleClick,v=s.h("button",{class:"oj-button-button",ref:t=>this._buttonRef=t,"aria-labelledby":l,"aria-label":r,onTouchStart:this._handleTouchstart,onTouchEnd:this._handleTouchend,onTouchCancel:this._handleTouchend,onMouseEnter:this._handleMouseenter,onMouseLeave:this._handleMouseleave,onMouseDown:this._handleMousedown,onMouseUp:this._handleMouseup,onfocusin:this._handleFocusIn,onfocusout:this._handleFocusOut,onKeyDown:this._handleKeydown,onKeyUp:this._handleKeyup,onFocus:this._handleFocus,onBlur:this._handleBlur},p));const f=this._getRootClasses(i,a);return s.h(o.Root,{class:f,id:t.id,title:_,onClick:c,ref:this._rootRef},v,this._renderContextMenu())}_renderContextMenu(){return this.state.contextMenuTriggerEvent&&this.props.contextMenu?s.h(i.VMenu,{eventObj:this.state.contextMenuTriggerEvent,launcherElement:this._buttonRef,onCloseCallback:this._onCloseCallback},[this.props.contextMenu]):null}_processIcon(t,e){let n;return Array.isArray(t)?n=t.map(t=>this._processIcon(t,e)):t&&(n=s.h("span",{class:e},t)),n}_getRootClasses(t,e){let n=!0,o="oj-button "+l._chromingMap[this.props.chroming];return o+=" "+this._getDisplayOptionClass(t,e),this.props.disabled?(n=!1,o+=" oj-disabled"):(o+=" oj-enabled",this.state.hover&&(n=!1,o+=" oj-hover"),this.state.active&&(n=!1,o+=" oj-active")),n&&(o+=" oj-default"),o}_getDisplayOptionClass(t,e){const n=t&&e,o=t||e,s="icons"===this.props.display;let i;return i=o?s?n?"oj-button-icons-only":"oj-button-icon-only":n?"oj-button-text-icons":t?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",i}_addMutationObserver(){if(this._mutationObserver)return;this._mutationObserver=new MutationObserver(()=>{const t=this._getTextContent();t!=this.state.derivedTitle&&this.setState({derivedTitle:t})}),this._mutationObserver.observe(this._defaultSlotRef,{subtree:!0,characterData:!0})}_needsContextMenuDetection(t){return t.contextMenu&&!t.disabled}componentDidMount(){this._updateDerivedTitle(),this._needsContextMenuDetection(this.props)&&n.startDetectContextMenuGesture(this._rootRef.current,this._handleContextMenuGesture),this._rootRef.current.addEventListener("touchstart",this._handleTouchstart,{passive:!0}),this._rootRef.current.addEventListener("touchend",this._handleTouchend,{passive:!1}),this._rootRef.current.addEventListener("touchcancel",this._handleTouchend,{passive:!0}),e.makeFocusable({applyHighlight:!0,setupHandlers:(t,n)=>{let o=e.getNoJQFocusHandlers(t,n);this.focusInHandler=o.focusIn,this.focusOutHandler=o.focusOut}})}componentDidUpdate(t){t.display!=this.props.display&&this._updateDerivedTitle(),this._updateContextMenuDetection(t)}_updateDerivedTitle(){const t=this.props;let e;"icons"!==t.display||!t.startIcon&&!t.endIcon||t.label||t.title||(e=this._getTextContent(),this._addMutationObserver()),e!=this.state.derivedTitle&&this.setState({derivedTitle:e})}_updateContextMenuDetection(t){const e=this._needsContextMenuDetection(t),o=this._needsContextMenuDetection(this.props);e!=o&&(o?n.startDetectContextMenuGesture(this._rootRef.current,this._handleContextMenuGesture):n.stopDetectContextMenuGesture(this._rootRef.current))}static getDerivedStateFromProps(t){return t.disabled?{contextMenuTriggerEvent:null}:null}_getTextContent(){let t=this._defaultSlotRef.textContent;return t=t.trim(),""!==t?t:null}componentWillUnmount(){this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null),n.stopDetectContextMenuGesture(this._rootRef.current)}refresh(){this.setState({active:!1})}focus(){var t;null===(t=this._buttonRef)||void 0===t||t.focus()}blur(){var t;null===(t=this._buttonRef)||void 0===t||t.blur()}},t.Button2._chromingMap={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome",danger:"oj-button-danger-chrome oj-button-full-chrome"},t.Button2.defaultProps={disabled:!1,display:"all",chroming:r.getCachedCSSVarValues(["--oj-private-button-global-chroming-default"])[0]},t.Button2.metadata={slots:{"":{},startIcon:{},endIcon:{},contextMenu:{}},properties:{disabled:{type:"boolean"},display:{type:"string",enumValues:["all","icons"]},label:{type:"string"},translations:{type:"object|null"},chroming:{type:"string",enumValues:["borderless","callToAction","danger","full","half","outlined","solid"],binding:{consume:{name:"containerChroming"}}}},events:{ojAction:{bubbles:!0}},extension:{_OBSERVED_GLOBAL_PROPS:["id","title","aria-label","aria-labelledby"]},methods:{refresh:{},focus:{},blur:{}}},t.Button2=l=u([o.customElement("oj-button")],t.Button2),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojbutton2.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbutton',["ojs/ojoption","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojchildmutationobserver","ojs/ojlabelledbyutils","ojs/ojcustomelement-utils","ojs/ojbutton2"],function(t,e,n,o,s,i,l,a,r,u){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;var c={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},label:{type:"string"},translations:{type:"object",value:{}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};c.extension._WIDGET_NAME="ojButton",c.extension._TRACK_CHILDREN="nearestCustomElement",c.extension._GLOBAL_TRANSFER_ATTRS=["href","aria-label","aria-labelledby"],e.CustomElementBridge.register("oj-menu-button",{metadata:c,innerDomFunction:function(t){return t.getAttribute("href")?"a":"button"}});var h={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"any",writeback:!0}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};h.extension._WIDGET_NAME="ojButtonset",h.extension._ALIASED_PROPS={value:"checked"},e.CustomElementBridge.register("oj-buttonset-one",{metadata:h});var d={properties:{chroming:{type:"string",enumValues:["borderless","full","half","outlined","solid"]},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},focusManagement:{type:"string",enumValues:["none","oneTabstop"],value:"oneTabstop"},labelledBy:{type:"string"},translations:{type:"object",value:{}},value:{type:"Array<any>",writeback:!0}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};if(d.extension._WIDGET_NAME="ojButtonset",d.extension._ALIASED_PROPS={value:"checked"},e.CustomElementBridge.register("oj-buttonset-many",{metadata:d}),e.ButtonLegacy){var m={properties:{chroming:{type:"string",enumValues:["borderless","callToAction","danger","full","half","outlined","solid"]},disabled:{type:"boolean",value:!1},display:{type:"string",enumValues:["all","icons"],value:"all"},translations:{type:"object",value:{}}},methods:{refresh:{},setProperty:{},getProperty:{},setProperties:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAction:{}},extension:{}};m.extension._WIDGET_NAME="ojButton",m.extension._TRACK_CHILDREN="nearestCustomElement",m.extension._GLOBAL_TRANSFER_ATTRS=["href","aria-label","aria-labelledby"],e.CustomElementBridge.register("oj-button",{metadata:m,innerDomFunction:function(t){return t.getAttribute("href")?"a":"button"}})}!function(){var t,u,c="oj-button oj-component oj-enabled oj-default",h="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",d="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome oj-button-cta-chrome oj-button-danger-chrome",m={solid:"oj-button-full-chrome",outlined:"oj-button-outlined-chrome",borderless:"oj-button-half-chrome",full:"oj-button-full-chrome",half:"oj-button-half-chrome",callToAction:"oj-button-cta-chrome",danger:"oj-button-danger-chrome oj-button-full-chrome"},b={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]};function p(t,e){y(t,d),t.classList.add(m[e])}function f(t,e){var o,s=t.name,i=t.form;if(s){var l=":radio[name='"+(s=s.replace(/'/g,"\\'"))+"']:oj-button";o=e?e.filter(l):i?n(i).find(l):n(l,t.ownerDocument).filter(function(){return!this.form})}else o=(e?e.filter(t):n(t)).filter(":oj-button");return o}function _(t,e,n){var o=function(t,e,n){for(var o=0;o<n.length;++o){var s=n[o];if(e.indexOf(s)>=0)for(;;t=t.parentNode){var l=i.__GetWidgetConstructor(t,s);if(l)return l}}return null}(e,n,b[t]);return o?o("option","chroming"):s.getCachedCSSVarValues(["--oj-private-"+t+"-global-chroming-default"])[0]}function v(t,e){var n=t.className;if(n){for(var o=n.split(" "),s=e.split(" "),i=s.length;i>=0;i--)o.indexOf(s[i])>=0&&s.splice(i,1);s.length>0&&(t.className=n+" "+s.join(" "))}else t.className=e}function y(t,e){var n=t.className;if(n){for(var o=n.split(" "),s=e.split(" "),i=!1,l=0;l<s.length;l++){var a=o.indexOf(s[l]);a>=0&&(o.splice(a,1),i=!0)}i&&(t.className=o.join(" "))}}e.__registerWidget("oj.ojButton",n.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"solid",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null,action:null},_InitOptions:function(t,e){this._super(t,e),this._IsCustomElement()&&this._processSlots(),this._initButtonTypes(),this._IsCustomElement()||"disabled"in e||this.option("disabled",!!this.element[0].disabled,{_context:{internalSet:!0}}),"label"in e||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement[0].innerHTML,{_context:{internalSet:!0}})),this._IsCustomElement()||!this.options.menu||e.icons&&void 0!==e.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.getAttribute("title");var e=this,s=this._isToggle;v(this.rootElement,c),p(this.rootElement,this.options.chroming);var i=function(){e.rootElement.classList.remove("oj-active"),e.rootElement.classList.remove("oj-hover"),e._toggleDefaultClasses()};if(this._touchStartHandler=function(){e._IsEffectivelyDisabled()||(e.rootElement.classList.add("oj-active"),e._toggleDefaultClasses(),e.document.one("touchend",i))},o.isTouchSupported()&&(this.buttonElement[0].addEventListener("touchstart",this._touchStartHandler,{passive:!0}),this.buttonElement.bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,i)),this.buttonElement.bind("mouseenter"+this.eventNamespace,function(){e._IsEffectivelyDisabled()||e._isSelectedInButtonsetOne()||(e.rootElement.classList.add("oj-hover"),o.recentTouchEnd()||this===t&&e.rootElement.classList.add("oj-active"),e.rootElement.classList.remove("oj-default"),e.rootElement.classList.remove("oj-focus-only"))}).bind("mouseleave"+this.eventNamespace,function(){e.rootElement.classList.remove("oj-hover"),e._IsEffectivelyDisabled()||(e.rootElement.classList.remove("oj-active"),e._toggleDefaultClasses())}),this._disabledClickHandler=function(t){e._IsEffectivelyDisabled()&&(t.preventDefault(),t.stopImmediatePropagation())},this._ojActionClickHandler=function(t){e._trigger("action",t,{})},this._IsCustomElement()?(this.rootElement.addEventListener("click",this._disabledClickHandler,!0),this.rootElement.addEventListener("click",this._ojActionClickHandler,!1)):this.buttonElement[0].addEventListener("click",this._disabledClickHandler,!0),this._focusable({element:n(this.rootElement),applyHighlight:!0,afterToggle:function(){e._toggleDefaultClasses()}}),s&&(this.element.bind("change"+this.eventNamespace,function(t){e._applyCheckedStateFromDom(!0);var n=e._getEnclosingContainerComponent("buttonset"),o=n&&n._getCheckedFromDom(n.$buttons);n&&void 0!==o&&n.option("checked",o,{_context:{writeback:!0,originalEvent:t,internalSet:!0}})}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(){e._IsEffectivelyDisabled()||(u=this,e._isSelectedInButtonsetOne()||e.rootElement.classList.add("oj-active"),e.document.one("mouseup",function(){u=null,e.rootElement.classList.remove("oj-active")}))}).bind("mouseup"+this.eventNamespace,function(){e._IsEffectivelyDisabled()||(e.rootElement.classList.remove("oj-active"),this===u&&e.element.focus())})),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(e._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(t){t.keyCode===n.ui.keyCode.ENTER&&(e._IsEffectivelyDisabled()||e.element.click())});else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){if(e._IsEffectivelyDisabled())return!1}),this.element.bind("keyup"+this.eventNamespace,function(t){t.keyCode===n.ui.keyCode.ENTER&&(e.element[0].checked||e._IsEffectivelyDisabled()||(e.element[0].checked=!0,e.element.change(),e.element.click()))});else if(this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){if(e._IsEffectivelyDisabled())return!1;1!==n.which||o.recentTouchEnd()||(e._isSelectedInButtonsetOne()||e.rootElement.classList.add("oj-active"),e.rootElement.classList.remove("oj-default"),e.rootElement.classList.remove("oj-focus-only"),t=this,e.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){if(e._IsEffectivelyDisabled())return!1;e.rootElement.classList.remove("oj-active"),e._toggleDefaultClasses()}).bind("keydown"+this.eventNamespace,function(t){if(e._IsEffectivelyDisabled())return t.keyCode===n.ui.keyCode.TAB||t.keyCode===n.ui.keyCode.LEFT||t.keyCode===n.ui.keyCode.RIGHT;var o=t.keyCode===n.ui.keyCode.SPACE,s="anchor"===e.type;s&&o&&t.preventDefault(),(o&&!s||t.keyCode===n.ui.keyCode.ENTER)&&(e._isSelectedInButtonsetOne()||e.rootElement.classList.add("oj-active"),e.rootElement.classList.remove("oj-default"),e.rootElement.classList.remove("oj-focus-only"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e.rootElement.classList.remove("oj-active"),e._toggleDefaultClasses()}),"anchor"===this.type){var l=this.buttonElement[0].getAttribute("tabindex");(null===l||isNaN(l))&&this.buttonElement[0].setAttribute("tabindex","0")}this.options.disabled&&this._manageAnchorTabIndex(!1,!0),this._updateEffectivelyDisabled();var a=e._getEnclosingContainerComponent("buttonset");this._IsCustomElement()||a&&a._IsCustomElement()?this._setDisplayOptionOnDom():this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(null),this._toggleDefaultClasses(),this._childMutationObserver&&this._childMutationObserver.observe()},_NotifyContextMenuGesture:function(t,e,o){this._OpenContextMenu(e,o,{position:{of:"keyboard"===o?n(this.rootElement):e}})},_addMutationObserver:function(){if(!this._childMutationObserver&&this._IsCustomElement()){var t=this;this._childMutationObserver=new l(this.rootElement,function(e){e.forEach(function(e){var n;if("childList"===e.type){var o=e.addedNodes&&e.addedNodes[0],s=e.target;if(o&&3===o.nodeType&&s&&1===s.nodeType&&s.classList.contains("oj-button-label")){t._childMutationObserver.disconnect(),n=!0;var i=t.buttonElement[0].querySelector(".oj-button-text");i&&(i.textContent=o.textContent),o.parentNode.removeChild(o)}}else"characterData"===e.type&&(t._childMutationObserver.disconnect(),n=!0);n&&(t._setDisplayOptionOnDom(),t._childMutationObserver.observe())})})}},_removeMutationObserver:function(){this._childMutationObserver&&(this._childMutationObserver.disconnect(),this._childMutationObserver=null)},_processSlots:function(){var t,e=this,o=this.element[0],s=o.parentNode,i="OJ-MENU-BUTTON"===s.tagName,l=r.CustomElementUtils.getSlotMap(s);t=i?["startIcon","","endIcon","menu"]:["startIcon","","endIcon"],n.each(t,function(t,e){l[e]&&""!==e&&n.each(l[e],function(t,e){o.appendChild(e)})});for(var a=s.children,u=a.length-1;u>=0;u--){var c=a[u];c!==o&&"contextMenu"!==c.getAttribute("slot")&&s.removeChild(c)}var h=r.CustomElementUtils.getSlotMap(o);n.each(t,function(t,s){h[s]&&n.each(h[s],function(t,i){if(o.appendChild(i),""===s){var l=i,a=l;3===l.nodeType&&(a=document.createElement("span"),l.parentNode.insertBefore(a,l),a.appendChild(l)),a.classList.add("oj-button-text"),e._setTextSpanIdAndLabelledBy(a)}else if("startIcon"===s)i.classList.add("oj-button-icon"),i.classList.add("oj-start");else if("endIcon"===s)i.classList.add("oj-button-icon"),i.classList.add("oj-end");else if("menu"===s&&(n(i).uniqueId(),e.menuSlot="#"+i.id,void 0===h.endIcon)){var r=document.createElement("span"),u="oj-button-menu-dropdown-icon";void 0===h.startIcon&&"icons"===e.options.display&&(u="oj-button-menu-icon-only-dropdown-icon"),r.className="oj-button-icon oj-end oj-component-icon "+u,r.setAttribute("slot","endIcon"),o.insertBefore(r,i)}})});var d=document.createElement("div");for(d.className="oj-button-label";o.hasChildNodes();)d.appendChild(o.firstChild);o.appendChild(d)},_getMenuNode:function(){return this._IsCustomElement()?this.menuSlot:this.options.menu},_initButtonTypes:function(){var t=this.element[0];if("INPUT"===t.tagName&&"checkbox"===t.type)this.type="checkbox",this._isToggle=!0;else if("INPUT"===t.tagName&&"radio"===t.type)this.type="radio",this._isToggle=!0;else if("INPUT"!==t.tagName||"button"!==t.type&&"submit"!==t.type&&"reset"!==t.type)if("BUTTON"===t.tagName)this.type="button";else{if("A"!==t.tagName)throw new Error("JET Button not supported on this element type");this.type="anchor"}else this.type="inputPush";if(this._isToggle){var e="label[for='"+this.element[0].getAttribute("id")+"']";this.buttonElement=this.element.siblings().filter(e)}else this.buttonElement=this.element},_initButtonTypes2:function(){var t=this.element[0];if(this._isToggle){this.buttonElement[0].classList.add("oj-button-label"),t.classList.add("oj-button-input"),t.classList.add("oj-helper-hidden-accessible"),t.setAttribute("data-oj-internal","");var e=document.createElement("span");this.element[0].parentNode.insertBefore(e,this.buttonElement[0]),e.appendChild(this.buttonElement[0]),e.appendChild(this.element[0]),this.rootElement=this.element[0].parentNode,this.rootElement.classList.add("oj-button-toggle"),t.checked&&(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only"))}else this._IsCustomElement()?(this.rootElement=this.element[0].parentNode,t.classList.add("oj-button-button")):(this.rootElement=this.element[0],this._IsCustomElement()||t.classList.add("oj-button-toggle"))},widget:function(){return n(this.rootElement)},_destroy:function(){this._removeMenuBehavior(this._getMenuNode()),this.buttonElement[0].removeEventListener("click",this._disabledClickHandler,!0),this.buttonElement[0].removeEventListener("click",this._ojActionClickHandler,!1),this.buttonElement[0].removeEventListener("touchstart",this._touchStartHandler,{passive:!0}),delete this._touchStartHandler;var t=this.element[0];t.classList.remove("oj-helper-hidden-accessible"),t.removeAttribute("aria-labelledby"),this.element.removeUniqueId(),this.options.disabled&&this._manageAnchorTabIndex(!0,!1);var e=this._isToggle;e||y(this.rootElement,c+" oj-button-toggle oj-hover oj-active oj-selected "+h+" "+d);var n=this.buttonElement[0].querySelector(".oj-button-text");n&&(this.buttonElement[0].innerHTML=n.innerHTML),e?(this.buttonElement[0].classList.remove("oj-button-label"),o.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttribute("title"),u===this.buttonElement[0]&&(u=null),this.buttonElement.off("blur"),this._removeMutationObserver()},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(t){this._super(t),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var e=this.element[0],n=this._IsEffectivelyDisabled();if(n?(this.rootElement.classList.add("oj-disabled"),this.rootElement.classList.remove("oj-enabled")):(this.rootElement.classList.remove("oj-disabled"),this.rootElement.classList.add("oj-enabled")),"anchor"!==this.type?(e.disabled=n,this.rootElement.removeAttribute("aria-disabled")):(e.setAttribute("aria-disabled",n),this._IsCustomElement()&&this.rootElement.removeAttribute("aria-disabled")),n){var o=this.widget()[0].classList;o.remove("oj-active"),o.remove("oj-default"),o.remove("oj-focus-only"),o.remove("oj-hover"),o.remove("oj-focus"),o.remove("oj-focus-highlight"),t=null,this._dismissMenu(this._getMenuNode())}else this._toggleDefaultClasses()},_setOption:function(t,e,n){var o=this.options[t];switch(this._super(t,e,n),t){case"chroming":p(this.rootElement,e);break;case"disabled":if(this._manageAnchorTabIndex(o,e),this._updateEffectivelyDisabled(),!this._IsCustomElement()){var s=this._getEnclosingContainerElement("toolbar");s.length&&s.ojToolbar("refresh")}break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton(o)}},refresh:function(){this._super(),this._ancestorDisabled&&!this._getEnclosingContainerElement("buttonset").length&&this.__setAncestorComponentDisabled(!1),p(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(t){"radio"===this.type?(t?f(this.element[0]):this.element).each(function(){var t=n(this).data("oj-ojButton");this.checked?(t.rootElement.classList.add("oj-selected"),t.rootElement.classList.remove("oj-default"),t.rootElement.classList.remove("oj-focus-only")):(t.rootElement.classList.remove("oj-selected"),t._toggleDefaultClasses())}):"checkbox"===this.type&&(this.element[0].checked?(this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")):(this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this._setLabelOnDomAtCreateTime(),e=this._setIconOnDom(!0),n=this._setIconOnDom(!1);this._setDisplayOptionOnDom(t,e,n)}},_setLabelOnDomAtCreateTime:function(){var t=this.buttonElement[0],e=document.createElement("span");if(e.className="oj-button-text",this.keepDomLabel)for(;t.hasChildNodes();)e.appendChild(t.firstChild);else t.innerHTML="",e.textContent=this.options.label;if("button"===this.type){var o=document.createElement("div");o.className="oj-button-label",o.appendChild(e),this.element[0].appendChild(o)}else t.appendChild(e);return"button"!==this.type&&"anchor"!==this.type||this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this._setTextSpanIdAndLabelledBy(e),n(e)},_setTextSpanIdAndLabelledBy:function(t){n(t).uniqueId(),this.element[0].hasAttribute("aria-label")||this.element[0].hasAttribute("aria-labelledby")||this.element[0].setAttribute("aria-labelledby",t.getAttribute("id"))},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this.buttonElement[0].querySelector(".oj-button-text");t.textContent=this.options.label,this._setDisplayOptionOnDom(n(t))}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var t=this._setIconOnDom(!0),e=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,t,e)}},_setIconOnDom:function(t){var e,n,o,s,i=this.buttonElement[0];"button"===this.type&&(i=this.element.children("div.oj-button-label")[0]),t?(e=".oj-button-icon.oj-start",n="oj-button-icon oj-start",o=this.options.icons.start,s="_lastStartIcon"):(e=".oj-button-icon.oj-end",n="oj-button-icon oj-end",o=this.options.icons.end,s="_lastEndIcon");var l,a,r=i.querySelectorAll(e);if(o)if(r.length){var u=this[s];for(l=0;l<r.length;l++)y(a=r[l],u),v(a,o)}else{var c=document.createElement("span");c.className=n+" "+o,t?i.insertBefore(c,i.firstChild):i.appendChild(c)}else for(l=0;l<r.length;l++)(a=r[l]).parentNode.removeChild(a);return this[s]=o,!!o},_setDisplayOptionOnDom:function(t,e,o){var s=this.buttonElement.children(".oj-button-label");if(!s.length){var i=this._getEnclosingContainerComponent("buttonset");s=this._IsCustomElement()||i&&i._IsCustomElement()?this.buttonElement.children("oj-option"):this.buttonElement}void 0===t&&(t=s.children(".oj-button-text")),void 0===e&&(e=!!this.options.icons.start||s.children("[slot='startIcon']").length),void 0===o&&(o=!!this.options.icons.end||s.children("[slot='endIcon']").length);var l,a=e&&o,r=e||o,u="icons"===this.options.display;if(r&&u){if(t[0]&&t[0].classList.add("oj-helper-hidden-accessible"),!this.hasTitle){var c=t[0]?t[0].textContent:"";this.rootElement.setAttribute("title",n.trim(c))}this._addMutationObserver()}else t[0]&&t[0].classList.remove("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttribute("title"),this._removeMutationObserver();l=r?u?a?"oj-button-icons-only":"oj-button-icon-only":a?"oj-button-text-icons":e?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only",y(this.rootElement,h),this.rootElement.classList.add(l)},_manageAnchorTabIndex:function(t,e){if(!t!=!e&&"anchor"===this.type&&!this._getEnclosingContainerElement("buttonset").length&&!this._getEnclosingContainerElement("toolbar").length){var n=this.element[0];if(e){var o=n.getAttribute("tabindex");this._oldAnchorTabIndex=this._isInteger(Number(o))?o:null,n.setAttribute("tabindex",-1)}else null==this._oldAnchorTabIndex?n.removeAttribute("tabindex"):n.setAttribute("tabindex",this._oldAnchorTabIndex)}},_isInteger:function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},_selectorMap:{buttonset:".oj-buttonset",toolbar:".oj-toolbar",buttonsetone:"oj-buttonset-one"},_constructorMap:{buttonset:"ojButtonset",toolbar:"ojToolbar"},_isSelectedInButtonsetOne:function(){return 1===this._getEnclosingContainerElement("buttonsetone").length&&this.rootElement.classList.contains("oj-selected")},_getEnclosingContainerElement:function(t){return n(this.rootElement).closest(this._selectorMap[t])},_getEnclosingContainerComponent:function(t){var e=this._getEnclosingContainerElement(t)[0],n=i.__GetWidgetConstructor(e,this._constructorMap[t]);return n&&n("instance")},_setupMenuButton:function(t){if(this._getMenuNode()&&"INPUT"===this.element[0].tagName)throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(t),this._getMenuNode()){var e=this;this.element.attr("aria-haspopup",!0).on("keydown"+this.menuEventNamespace,function(t){if(t.which===n.ui.keyCode.DOWN)return e._toggleMenu(t,"firstItem"),t.preventDefault(),!0;if(t.which===n.ui.keyCode.ESCAPE){var o=!e.rootElement.classList.contains("oj-selected");return e._dismissMenu(e._getMenuNode(),t),o}return!0}).on("click"+this.menuEventNamespace,function(t){var n=e._getMenu();return n.__spaceEnterDownInMenu||e._toggleMenu(t,"firstItem"),n.__spaceEnterDownInMenu=!1,t.preventDefault(),!0})}},_removeMenuBehavior:function(t){this.element.removeAttr("aria-haspopup").off(this.menuEventNamespace),this._dismissMenu(t),n(t).off(this.menuEventNamespace),this._menuListenerSet=!1},_getMenu:function(){var t=this._getMenuOnly(this._getMenuNode());if(!t)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');if(!this._menuListenerSet){var e,n=this;e=t._IsCustomElement()?"ojClose":"ojclose",t.widget().on(e+this.menuEventNamespace,function(t){n._menuDismissHandler(t)}),this._menuListenerSet=!0}return t},_getMenuOnly:function(t){var e=i.__GetWidgetConstructor(n(t)[0],"ojMenu");return e&&e("instance")},_toggleMenu:function(t,e){if(!this._IsEffectivelyDisabled()){var n=this._getMenu(),o=n.widget();this._menuVisible?this._dismissMenu(this._getMenuNode(),t):(n.open(t,{launcher:this.element,initialFocus:e}),o.is(":visible")&&(this._menuVisible=!0,o[0].getAttribute("aria-label")||o[0].getAttribute("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,o[0].setAttribute("aria-labelledby",this.element[0].getAttribute("id"))),this.rootElement.classList.add("oj-selected"),this.rootElement.classList.remove("oj-default"),this.rootElement.classList.remove("oj-focus-only")))}},_dismissMenu:function(t,e){if(this._menuVisible){var n=this._getMenuOnly(t);n&&(n.__collapseAll(e,!0),n.__dismiss(e))}},_menuDismissHandler:function(){this._setAriaLabelledBy&&(n(this._getMenuNode()).removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.classList.remove("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var t,e;if(n(this.rootElement).is(".oj-hover, .oj-active, .oj-selected, .oj-disabled"))t=!1,e=!1;else{var o=n(this.rootElement).is(".oj-focus");t=!o,e=o}t?this.rootElement.classList.add("oj-default"):this.rootElement.classList.remove("oj-default"),e?this.rootElement.classList.add("oj-focus-only"):this.rootElement.classList.remove("oj-focus-only")}}),e.__registerWidget("oj.ojButtonset",n.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"solid",display:"all",focusManagement:"oneTabstop",labelledBy:null,describedBy:null},_setCheckedOnDom:function(t,e){var o,s=n.type(t),i=this.element[0];if((o="OJ-BUTTONSET-MANY"===i.tagName||e.length>0&&e.filter("input[type=checkbox]").length===e.length)&&"array"!==s)throw new Error("Invalid 'checked' value set on JET Buttonset: "+t);if(!(this._setCheckedOnButtons(t,e,s,o)||null===t||this._IsCustomElement()&&e.length!==i.children.length))throw new Error("Invalid 'checked' value set on JET Buttonset: "+t)},_setCheckedOnButtons:function(t,e,n,o){var s=this._shallowCompare(t,e,o);return this._shouldDeepCompare(t,o,s)&&(s=this._deepCompare(t,e,o,s)),o?s===t.length:1===s},_shallowCompare:function(t,e,n){var o=this,s=0;return e.each(function(){var e=o._getInputValue(this);(n?t.indexOf(e)>-1:e===t)?(this.checked=!0,s+=1):this.checked=!1}),s},_shouldDeepCompare:function(t,e,n){return e?n!==t.length:!n},_deepCompare:function(t,e,n,o){var s=o,i=this;return e.each(function(){var e=i._getInputValue(this);if(n)for(var o=0;o<t.length;o++)i._deepCompareValues(e,t[o])&&(this.checked=!0,s+=1);else i._deepCompareValues(e,t)&&(this.checked=!0,s+=1)}),s},_deepCompareValues:function(t,o){return"object"===n.type(t)&&t.ojCompareValues?0===t.ojCompareValues(t,o):e.Object.compareValues(t,o)},_getInputValue:function(t){return this._IsCustomElement()?this._getOjOptionFromInput(t).value:t.value},_getOjOptionFromInput:function(t){return t.previousElementSibling.children[0]},_getCheckedFromDom:function(t){var e,n=null,o=null,s=this;return t.each(function(){if("input"!==this.tagName.toLowerCase())return e=void 0,!1;var t,i,l=this.type.toLowerCase();if("radio"===l)t=!0,i=this.name.toLowerCase();else{if("checkbox"!==l)return e=void 0,!1;t=!1,i=null}if(void 0!==e&&(t!==n||i!==o||n&&!o))return e=void 0,!1;var a=s._getInputValue(this);void 0===e?(e=t?this.checked?a:null:this.checked?[a]:[],n=t,o=i):this.checked&&(n?e=a:e.push(a))}),e},_CompareOptionValues:function(t,e,o){return"checked"===t?e===o||"array"===n.type(e)&&"array"===n.type(o)&&this._compareArraysAsSets(e,o):this._superApply(arguments)},_compareArraysAsSets:function(t,e){return!t.some(function(t){return e.indexOf(t)<0})&&!e.some(function(e){return t.indexOf(e)<0})},_removeNonOjOptions:function(){this.element.children(":not(oj-option)").remove()},_processOjOptions:function(){var t=this,e=this.element[0].querySelectorAll("oj-option");n.each(e,function(e,n){n.customOptionRenderer=t._customOptionRenderer.bind(t)})},_customOptionRenderer:function(t){this._removeOptionDecoration(t),this._addOptionDecoration(t)},_addOptionDecoration:function(t){this._addOptionClasses(t);var e="OJ-BUTTONSET-ONE"===this.element[0].tagName,o=e?"radio":"checkbox",s=t.value,i=t.disabled,l=document.createElement("input"),a=document.createElement("label");n(l).uniqueId(),l.value=s,l.type=o,l.disabled=i;var r=l.id;a.htmlFor=r,e&&(this._name||(this._name="_n_"+r),l.name=this._name),t.parentNode.insertBefore(a,t),a.appendChild(t),a.parentNode.insertBefore(l,a.nextElementSibling),this._setup(!1),this._setCheckedOnDom(this.options.checked,this.$buttons),this.$buttons.each(function(){n(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})},_removeOptionDecoration:function(t){var e=t.parentNode;if("LABEL"===e.tagName){this._removeOptionClasses(t);var o=n(e).siblings(".oj-button-input");o.ojButton("destroy"),o.removeUniqueId(),o.remove(),e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}},_addOptionClasses:function(t){var e=r.CustomElementUtils.getSlotMap(t),n=e[""]?e[""]:null,o=e.startIcon?e.startIcon[0]:null,s=e.endIcon?e.endIcon[0]:null;if(o&&(o.classList.add("oj-button-icon"),o.classList.add("oj-start")),n)for(var i=0;i<n.length;i++){var l=n[i],a=l;3===l.nodeType&&(a=document.createElement("span"),l.parentNode.insertBefore(a,l),a.appendChild(l)),a.classList.add("oj-button-text")}s&&(s.classList.add("oj-button-icon"),s.classList.add("oj-end"))},_removeOptionClasses:function(t){var e=r.CustomElementUtils.getSlotMap(t),n=e[""]?e[""]:null,o=e.startIcon?e.startIcon[0]:null,s=e.endIcon?e.endIcon[0]:null;if(o&&(o.classList.remove("oj-button-icon"),o.classList.remove("oj-start")),n)for(var i=0;i<n.length;i++)n[i].classList.remove("oj-button-text");s&&(s.classList.remove("oj-button-icon"),s.classList.remove("oj-end"))},_InitOptions:function(t,e){if(this._super(t,e),this.$buttons=this.element.find(this._items),!("checked"in e)){this.initCheckedFromDom=!0;var o=this._getCheckedFromDom(this.$buttons);"array"!==n.type(o)&&"OJ-BUTTONSET-MANY"!==this.element[0].tagName||(this.options.checked=[]),void 0!==o&&this.option("checked",o,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super();var t=this.element[0];t.setAttribute(i._OJ_CONTAINER_ATTR,this.widgetName),t.classList.add("oj-buttonset"),t.classList.add("oj-component"),this._setRole(this.options.focusManagement),this._IsCustomElement()&&(this._removeNonOjOptions(),this._processOjOptions()),this._setup(!0)},_NotifyContextMenuGesture:function(t,e,n){var o=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,n,{launcher:o,position:{of:"keyboard"===n?o.ojButton("widget"):e}})},_propagateDisabled:function(t){var e=!!t;this.$buttons.each(function(){n(this).data("oj-ojButton").__setAncestorComponentDisabled(e)})},_setRole:function(t){var e=this.element[0];"oneTabstop"===t?e.setAttribute("role","toolbar"):e.removeAttribute("role")},_setOption:function(t,e,o){var s=this.options[t];if(this._superApply(arguments),"disabled"===t){if(this._propagateDisabled(e),this._refreshTabStop(),!this._IsCustomElement()){var i=n(this.element).closest(".oj-toolbar");i.length&&i.ojToolbar("refresh")}}else if("checked"===t)this._setCheckedOnDom(e,this.$buttons),this.$buttons.each(function(){n(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)});else if("focusManagement"===t)this._setRole(e);else if("chroming"===t)p(this.element[0],e),this.$buttons.ojButton("refresh");else if("display"===t)this.$buttons.ojButton("option",t,e);else if("labelledBy"===t){var l=this.element;this._labelledByUpdatedForSet(l[0].id,s,e,l)}else"describedBy"===t&&this._describedByUpdated(s,e)},refresh:function(){this._super(),this._IsCustomElement()&&this._processOjOptions(),this._setup(!1)},_setup:function(t){var e=this,o=this.element[0];this.isRtl="rtl"===this._GetReadingDirection(),p(o,this.options.chroming),!t||this.initCheckedFromDom||this._IsCustomElement()||this._setCheckedOnDom(this.options.checked,this.$buttons),t||(this.$buttons=this.element.find(this._items)),this.$buttons.length>1?o.classList.add("oj-buttonset-multi"):o.classList.remove("oj-buttonset-multi"),this.$buttons.filter(":oj-button").ojButton("refresh").each(function(){n(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}).end().not(":oj-button").ojButton({display:this.options.display}).end();for(var s=0,i=this.$buttons.length;s<i;s++){var l=this.$buttons.eq(s).ojButton("widget")[0];l.classList.remove("oj-buttonset-first"),l.classList.remove("oj-buttonset-last"),0===s?l.classList.add("oj-buttonset-first"):s===i-1&&l.classList.add("oj-buttonset-last")}this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(t){e._handleKeyDown(t,n(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(){n(this).data("oj-ojButton")._IsEffectivelyDisabled()||e._setTabStop(n(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(){e._setTabStop(n(this))}),this.$enabledButtons=this.$buttons.filter(function(){return!n(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(t)),this.element.uniqueId(),this._labelledByUpdatedForSet(o.id,null,this.options.labelledBy,this.element);var a=this.options.describedBy;a&&this._describedByUpdated(a)},_labelledByUpdatedForSet:a._labelledByUpdatedForSet,_describedByUpdated:a._describedByUpdated,_GetContentElement:function(){return null!=this.$buttons||(this.$buttons=this.element.find(this._items)),this.$buttons},_refreshTabStop:function(){"oneTabstop"===this.options.focusManagement&&(this.$enabledButtons=this.$buttons.filter(function(){return!n(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(!1))},_initTabindexes:function(t){var e,o=n(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","-1"),e=t||!o.is(this.$enabledButtons)?this.$enabledButtons.first():o,this._setTabStop(e)},_mapToTabbable:function(t){var e=this.$enabledButtons;return t.map(function(t,n){if("radio"!==n.type||n.checked||""===n.name)return n;var o=f(n,e).filter(":checked");return o.length?o[0]:n})},_setTabStop:function(t){var e=(t=this._mapToTabbable(t))[0],n=this._lastTabStop;e!==n&&(n&&n.setAttribute("tabindex","-1"),t[0]&&t[0].setAttribute("tabindex","0"),this._lastTabStop=e)},_handleKeyDown:function(t,e){switch(t.which){case n.ui.keyCode.UP:case n.ui.keyCode.DOWN:if("radio"!==e[0].getAttribute("type"))break;case n.ui.keyCode.LEFT:case n.ui.keyCode.RIGHT:t.preventDefault();var o=this.$enabledButtons,s=o.length;if(s<2)break;var i=(o.index(e)+(t.which===n.ui.keyCode.DOWN||t.which===n.ui.keyCode.RIGHT!==this.isRtl?1:-1)+s)%s;o.eq(i).focus()}},_destroy:function(){var t=this.element[0];y(t,"oj-buttonset oj-component "+d),t.removeAttribute(i._OJ_CONTAINER_ATTR),t.removeAttribute("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map(function(){return n(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}}),i.setDefaultOptions({ojButton:{chroming:i.createDynamicPropertyGetter(function(t){return _("button",t.element,t.containers)})},ojButtonset:{chroming:i.createDynamicPropertyGetter(function(t){return _("buttonset",t.element,t.containers)})}})}()});
//# sourceMappingURL=ojbutton.js.map;
define('components/primary-message/alert/index',["require", "exports", "preact", "preact/hooks", "../../../store/screen-range-context", "../../../translations/primary-message/alert/translations-helper", "../../../utils/responsive-helper", "ojs/ojbutton"], function (require, exports, preact_1, hooks_1, screen_range_context_1, translations_helper_1, responsive_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Alert = void 0;
    class Alert extends preact_1.Component {
        constructor() {
            super();
            this.AlertText = ({ withIcon = true }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    withIcon && preact_1.h("div", { class: "oj-ux-ico-warning-s oj-sm-padding-3x-end warning-icon", role: "img", "aria-label": "warning" }),
                    preact_1.h("span", null, this.props.bannerInfo.bannerText)));
            };
            this.closeThisNoticeEventHandler = () => this.setState({ displayAlert: false });
            this.primaryActionEventHandler = () => {
                var _a, _b, _c;
                let redirectUrl = this.props.bannerInfo.redirectionTarget;
                if (this.props.bannerInfo.searchEnabled && this.props.bannerInfo.isVersionOf) {
                    const dcTermsTitle = (_a = document.querySelector('meta[name="dcterms.title"]')) === null || _a === void 0 ? void 0 : _a.getAttribute('content');
                    const titleText = (_b = document.querySelector('title')) === null || _b === void 0 ? void 0 : _b.innerText;
                    if ((/(preface|index|toc|title|lot|lof|loe|glossary)\.html?$/.test(window.location.pathname)) && dcTermsTitle) {
                        redirectUrl = `${redirectUrl}&q=${dcTermsTitle}`;
                    }
                    else if (titleText) {
                        redirectUrl = `${redirectUrl}&q=${titleText}`;
                    }
                    else {
                        const heading = (_c = document.querySelector('h1,h2')) === null || _c === void 0 ? void 0 : _c.textContent;
                        redirectUrl = heading ? `${redirectUrl}&q=${heading}` : redirectUrl;
                    }
                }
                window.open(redirectUrl, '_self');
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                displayAlert: true
            };
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            return (preact_1.h("div", { id: "alertContainer", class: `oj-flex oj-lg-justify-content-center oj-sm-width-full ${this.props.bannerInfo.isPromoReleases ? 'alert-promo-background' : 'alert-background'}` },
                (this.state.displayAlert && !this.props.bannerInfo.isPromoReleases) &&
                    preact_1.h("div", { class: 'oj-flex oj-flex-item oj-sm-align-items-center oj-md-flex-wrap-nowrap oj-md-justify-content-space-between ' +
                            'oj-sm-padding-4x-horizontal oj-lg-only-padding-3x-horizontal alert-content alert-padding' },
                        preact_1.h("div", { class: 'oj-flex oj-flex-item oj-sm-flex-wrap-nowrap oj-sm-justify-content-center oj-md-justify-content-flex-start ' +
                                'oj-sm-padding-4x-top oj-sm-padding-3x-bottom oj-md-padding-6x-vertical oj-md-padding-8x-end oj-md-only-padding-4x-horizontal oj-lg-only-padding-3x-horizontal ' +
                                'oj-typography-heading-xs alert-info' }, responsive_helper_1.isRangeSM(screenRange) ? preact_1.h("div", null,
                            preact_1.h(this.AlertText, null)) : preact_1.h(this.AlertText, null)),
                        preact_1.h("div", { class: 'oj-flex oj-flex-item oj-sm-flex-wrap-nowrap oj-sm-justify-content-center oj-md-justify-content-flex-end ' +
                                'oj-sm-padding-4x-bottom oj-md-padding-4x-vertical oj-md-only-padding-4x-horizontal oj-lg-only-padding-3x-horizontal oj-typography-body-xs alert-buttons' },
                            preact_1.h("oj-button", { id: "primaryAction", chroming: "callToAction", class: "oj-button-sm oj-sm-padding-2x-end", onojAction: this.primaryActionEventHandler },
                                preact_1.h("span", null, this.props.bannerInfo.buttonText)),
                            preact_1.h("oj-button", { id: "closeThisNotice", chroming: "outlined", class: "oj-button-sm", onojAction: this.closeThisNoticeEventHandler, "aria-label": this.state.translations.ariaLabels.closeThisNotice },
                                preact_1.h("span", null, this.state.translations.labels.closeThisNotice)))),
                (this.state.displayAlert && this.props.bannerInfo.isPromoReleases) &&
                    preact_1.h("div", { class: 'oj-flex oj-flex-item oj-sm-flex-wrap-nowrap oj-sm-justify-content-center  ' +
                            'oj-sm-padding-4x-top oj-sm-padding-3x-bottom ' +
                            'alert-info alert-promo-info ' }, responsive_helper_1.isRangeSM(screenRange) ? preact_1.h("div", null,
                        preact_1.h(this.AlertText, { withIcon: false })) : preact_1.h(this.AlertText, { withIcon: false }))));
        }
    }
    exports.Alert = Alert;
});

define('utils/search-service.helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentHost=e.getCurrentProtocol=void 0;e.getCurrentProtocol=(e,o)=>t(o)?"https:":e;e.getCurrentHost=e=>t(e)?"docs-uat-jet.doceng-dev.oraclecorp.com":e;const t=e=>"localhost"===e}));
var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}u((o=o.apply(t,e||[])).next())}))};define('services/release-notices-url.service',["require","exports","jquery","../utils/search-service.helper"],(function(require,t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=t=>__awaiter(void 0,void 0,void 0,(function*(){return e.get(`${n.getCurrentProtocol(window.location.protocol,window.location.hostname)}//${n.getCurrentHost(window.location.hostname)}${t}`).catch(()=>null)}))}));
var __awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((o=o.apply(e,t||[])).next())}))};define('utils/release-notices-helper',["require","exports","../services/release-notices-url.service"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBannerInfo=e.findProductGroup=void 0;e.findProductGroup=(e,t)=>{let o=n(e);const r=o.find(e=>{var n;return null===(n=e.previousReleases)||void 0===n?void 0:n.find(e=>t.includes(e)||e.includes(t))}),s=o.find(e=>{var n;return null===(n=e.promoReleases)||void 0===n?void 0:n.find(e=>t.includes(e)||e.includes(t))});return r||s};const n=e=>e["product-groups"].map(e=>({name:e.name,bannerText:e["banner-text"],buttonText:e["button-text"],searchEnabled:e["search-enabled"],latestDocs:e["latest-docs"],previousReleases:e["previous-releases"],promoReleases:e["promo-releases"]||[],isPromoReleases:!!e["promo-releases"]}));e.getBannerInfo=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){return Object.assign(Object.assign({bannerText:e.bannerText,buttonText:e.searchEnabled&&t?"View latest":e.buttonText,searchEnabled:e.searchEnabled,isVersionOf:t},!e.isPromoReleases&&{redirectionTarget:yield o(e,t)}),{isPromoReleases:e.isPromoReleases})}));const o=(e,n)=>__awaiter(void 0,void 0,void 0,(function*(){var o,r,s;const i=n&&e.latestDocs[n.toLowerCase()]||e.latestDocs["*"];if(e.searchEnabled&&n){const e=yield t.default(i);if(e){const t=(new DOMParser).parseFromString(e,"text/html");let n=null===(r=null===(o=t.querySelector('meta[name="dcterms.product"]'))||void 0===o?void 0:o.getAttribute("content"))||void 0===r?void 0:r.split(";")[0],i=null===(s=t.querySelector('meta[name="dcterms.isVersionOf"]'))||void 0===s?void 0:s.getAttribute("content");return n=n?n&&i?"library="+encodeURIComponent(n):"product="+encodeURIComponent(n):"",i=i?n?"&book="+encodeURIComponent(i):"book="+encodeURIComponent(i):"",`/apps/ohcsearchclient/api/v1/search/luckypages/?${n}${i}`}}return i}))}));
var __awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function c(e){try{s(o.next(e))}catch(e){r(e)}}function a(e){try{s(o.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((o=o.apply(e,t||[])).next())}))};define('services/release-notices.service',["require","exports","jquery","../utils/search-service.helper"],(function(require,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{getReleaseNotices(){return __awaiter(this,void 0,void 0,(function*(){return t.getJSON(`${window.location.protocol}//${n.getCurrentHost(window.location.hostname)}/notices/release-notices.json`).catch(()=>null)}))}}}));
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
define('components/primary-message/index',["require", "exports", "preact", "preact/hooks", "./alert/index", "../../store/publication-context", "../../utils/release-notices-helper", "../../services/release-notices.service"], function (require, exports, preact_1, hooks_1, index_1, publication_context_1, release_notices_helper_1, release_notices_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.PrimaryMessage = void 0;
    class PrimaryMessage extends preact_1.Component {
        constructor() {
            super();
            this.releaseNoticesService = new release_notices_service_1.default();
            this.updateState = (bannerInfo) => this.setState({ bannerInfo });
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            return (preact_1.h("div", { id: "primaryMessagesContainer", class: "oj-flex oj-sm-justify-content-center" }, this.state.bannerInfo && preact_1.h(index_1.Alert, { bannerInfo: this.state.bannerInfo })));
        }
        componentDidMount() {
            return __awaiter(this, void 0, void 0, function* () {
                const releaseNoticesData = yield this.releaseNoticesService.getReleaseNotices();
                if (releaseNoticesData) {
                    const productGroup = release_notices_helper_1.findProductGroup(releaseNoticesData, this.publication.basepath);
                    if (productGroup) {
                        this.updateState(yield release_notices_helper_1.getBannerInfo(productGroup, this.publication.metadata.isVersionOf));
                    }
                }
            });
        }
    }
    exports.PrimaryMessage = PrimaryMessage;
});

define('translations/auxiliary-tools/toggle-auxiliary-tools/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{ariaLabels:{toggleAuxiliaryTools:a.getTranslatedString("auxiliaryTools.toggleAuxiliaryTools.ariaLabels.toggleAuxiliaryTools")}}}}}));
define('components/auxiliary-tools/toggle-auxiliary-tools/index',["require", "exports", "preact", "../../../translations/auxiliary-tools/toggle-auxiliary-tools/translations-helper", "ojs/ojbutton"], function (require, exports, preact_1, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.ToggleAuxiliaryTools = void 0;
    class ToggleAuxiliaryTools extends preact_1.Component {
        constructor() {
            super();
            this.toggleDrawer = () => this.props.toggleDrawer();
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            return (preact_1.h("oj-button", { class: "oj-button-sm oj-lg-margin-3x-horizontal margin-top-30-px toggle-auxiliary-tools", display: "icons", onojAction: this.toggleDrawer, chroming: "borderless", "aria-controls": "auxiliaryToolsDrawer", "aria-label": this.state.translations.ariaLabels.toggleAuxiliaryTools, "aria-expanded": `${this.props.isExpanded}`, title: this.state.translations.ariaLabels.toggleAuxiliaryTools },
                preact_1.h("span", { slot: "startIcon", class: `${this.props.buttonClass}` })));
        }
    }
    exports.ToggleAuxiliaryTools = ToggleAuxiliaryTools;
});

define('translations/auxiliary-tools/cloud-free-tier-disclaimer/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{tryWithFreeTier:r.getTranslatedString("auxiliaryTools.cloudFreeTierDisclaimer.labels.tryWithFreeTier"),deployOnOCI:r.getTranslatedString("auxiliaryTools.cloudFreeTierDisclaimer.labels.deployOnOCI"),signUpForFree:r.getTranslatedString("auxiliaryTools.cloudFreeTierDisclaimer.labels.signUpForFree"),dontHaveAccount:r.getTranslatedString("auxiliaryTools.cloudFreeTierDisclaimer.labels.dontHaveAccount")}}}}}));
define('utils/html-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClasses=e.stripScriptAndLinkTagsFromHtml=void 0;e.stripScriptAndLinkTagsFromHtml=(e="")=>e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<link rel="stylesheet"[^>]*>/gi,"");e.getClasses=(e,t="")=>{let r=Object.entries(e).filter(([e,t])=>t).map(([e,t])=>e).join(" ");return t.trim()&&(r=r.concat(" ").concat(t)),r||null}}));
define('components/auxiliary-tools/cloud-free-tier-disclaimer/index',["require", "exports", "preact", "../../auxiliary-tools/index", "../../common/call-to-action-buttons/index", "../../../translations/auxiliary-tools/cloud-free-tier-disclaimer/translations-helper", "../../../utils/html-helper"], function (require, exports, preact_1, index_1, index_2, translations_helper_1, html_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.shouldRenderCloudFreeTierDisclaimer = exports.CloudFreeTierDisclaimer = void 0;
    class CloudFreeTierDisclaimer extends preact_1.Component {
        constructor() {
            super();
            this.CLOUD_FREE_TIER_URL = 'https://signup.cloud.oracle.com/?sourceType=:ow:o:p:feb:::RC_WWMK220311P00032:DocsRABanner&intcmp=:ow:o:p:feb:::RC_WWMK220311P00032:DocsRABanner';
            this.updateState = () => this.setState({ shouldRenderCallToActionButtons: index_1.isAuxiliaryToolsTopZero() });
            this.state = {
                shouldRenderCallToActionButtons: false,
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            return (preact_1.h("div", { class: "oj-lg-padding-6x-vertical oj-lg-padding-6x-start oj-lg-margin-6x-bottom cloud-free-tier-disclaimer" },
                preact_1.h("span", { class: "oj-badge cloud-free-tier-disclaimer-badge" }, this.state.translations.labels.tryWithFreeTier),
                preact_1.h("div", { class: html_helper_1.getClasses({
                        'oj-lg-padding-4x-bottom oj-lg-margin-3x-end': this.state.shouldRenderCallToActionButtons
                    }, 'oj-typography-body-xs oj-lg-padding-2x-start oj-lg-padding-1x-top cloud-free-tier-disclaimer-label') },
                    preact_1.h("span", null, this.state.translations.labels.deployOnOCI),
                    "\u00A0",
                    preact_1.h("a", { href: this.CLOUD_FREE_TIER_URL, target: "_blank" }, this.state.translations.labels.signUpForFree),
                    "\u00A0",
                    preact_1.h("span", null, this.state.translations.labels.dontHaveAccount)),
                this.state.shouldRenderCallToActionButtons && preact_1.h(index_2.CallToActionButtons, { isHero: false })));
        }
        componentDidMount() {
            window.addEventListener('scroll', this.updateState);
        }
        componentWillUnmount() {
            window.removeEventListener('scroll', this.updateState);
        }
    }
    exports.CloudFreeTierDisclaimer = CloudFreeTierDisclaimer;
    const shouldRenderCloudFreeTierDisclaimer = (publication) => publication.isSolution && index_2.hasCallToActionButtons(publication);
    exports.shouldRenderCloudFreeTierDisclaimer = shouldRenderCloudFreeTierDisclaimer;
});

define('translations/common/social-media-sharing/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=class{static getTranslations(){return{labels:{shareOnLinkedIn:e.getTranslatedString("common.socialMediaSharing.labels.shareOnLinkedIn"),shareOnTwitter:e.getTranslatedString("common.socialMediaSharing.labels.shareOnTwitter"),shareOnFacebook:e.getTranslatedString("common.socialMediaSharing.labels.shareOnFacebook"),shareOnEmail:e.getTranslatedString("common.socialMediaSharing.labels.shareOnEmail")},ariaLabels:{shareSection:e.getTranslatedString("common.socialMediaSharing.ariaLabels.shareSection"),shareMenu:e.getTranslatedString("common.socialMediaSharing.ariaLabels.shareMenu")}}}}}));
define('components/common/social-media-sharing/index',["require", "exports", "preact", "preact/hooks", "../../../store/screen-range-context", "../../../translations/common/social-media-sharing/translations-helper", "../../../utils/responsive-helper", "../../../utils/html-helper", "ojs/ojmenu", "ojs/ojoption", "ojs/ojbutton"], function (require, exports, preact_1, hooks_1, screen_range_context_1, translations_helper_1, responsive_helper_1, html_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.SocialMediaSharing = void 0;
    class SocialMediaSharing extends preact_1.Component {
        constructor() {
            super();
            this.share = (event) => {
                const id = event.type === 'ojAction' ? event.target.id : this.getOptionId(event.detail.selectedValue);
                if (id === 'email') {
                    window.location.href = `${this.shareUrls[id].url + encodeURIComponent(window.location.href)}&body=${encodeURIComponent(window.location.href)}`;
                }
                else {
                    window.open(this.shareUrls[id].url + encodeURIComponent(window.location.href), this.shareUrls[id].windowName, this.shareUrls[id].windowFeatures);
                }
            };
            this.getOptionId = (value) => {
                const SPLIT_CRITERIA = ' ';
                const MAX_SIZE = 2;
                return value.toLowerCase().split(SPLIT_CRITERIA)[MAX_SIZE];
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
            this.socialMedia = [
                {
                    id: 'linkedin',
                    label: this.state.translations.labels.shareOnLinkedIn,
                    icon: 'oj-ux-ico-linkedin'
                },
                {
                    id: 'twitter',
                    label: this.state.translations.labels.shareOnTwitter,
                    icon: 'oj-ux-ico-twitter'
                },
                {
                    id: 'facebook',
                    label: this.state.translations.labels.shareOnFacebook,
                    icon: 'oj-ux-ico-facebook'
                },
                {
                    id: 'email',
                    label: this.state.translations.labels.shareOnEmail,
                    icon: 'oj-ux-ico-email'
                }
            ];
            this.shareUrls = {
                linkedin: {
                    url: 'https://www.linkedin.com/shareArticle?url=',
                    windowName: 'linkedin-share',
                    windowFeatures: 'height=550,width=420'
                },
                twitter: {
                    url: 'https://twitter.com/share?url=',
                    windowName: 'twitter-share',
                    windowFeatures: 'height=550,width=420'
                },
                facebook: {
                    url: 'https://www.facebook.com/sharer.php?u=',
                    windowName: 'fb-share',
                    windowFeatures: 'height=300,width=400'
                },
                email: {
                    url: 'mailto:?subject='
                }
            };
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            return (preact_1.h(preact_1.Fragment, null, responsive_helper_1.isRangeMDOrLower(screenRange) ?
                preact_1.h("oj-menu-button", { class: "oj-button-sm", chroming: "outlined", display: "icons", "aria-label": this.state.translations.ariaLabels.shareMenu },
                    preact_1.h("span", { slot: "endIcon", class: "oj-ux-ico-share" }),
                    preact_1.h("oj-menu", { slot: "menu", onojMenuAction: this.share }, this.socialMedia.map(socialMediaItem => {
                        return (preact_1.h("oj-option", { id: socialMediaItem.id, key: socialMediaItem.id, value: socialMediaItem.label }, socialMediaItem.label));
                    }))) :
                preact_1.h("div", { class: "oj-flex oj-sm-flex-wrap-nowrap oj-lg-margin-6x-start oj-lg-padding-2x-start", role: "list", "aria-label": this.state.translations.ariaLabels.shareSection }, this.socialMedia.map(socialMediaItem => {
                    return (preact_1.h("div", { role: "listitem", key: socialMediaItem.id },
                        preact_1.h("oj-button", { id: socialMediaItem.id, class: html_helper_1.getClasses({ 'oj-lg-margin-3x-end': socialMediaItem.id !== 'email' }, 'oj-button-sm'), chroming: "borderless", display: "icons", title: socialMediaItem.label, onojAction: this.share, "aria-label": socialMediaItem.label },
                            preact_1.h("span", { slot: "startIcon", class: socialMediaItem.icon }))));
                }))));
        }
    }
    exports.SocialMediaSharing = SocialMediaSharing;
});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkeysetimpl',["ojs/ojcore-base"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;return function(e){this.NOT_A_KEY={},this.has=function(t){return this.get(t)!==this.NOT_A_KEY},this.get=function(e){var i,s,n=this.NOT_A_KEY,o=this;if(this._keys.has(e))return e;if(e!==Object(e))return this.NOT_A_KEY;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(s=(i=this._keys[Symbol.iterator]()).next();!s.done;){if(t.KeyUtils.equals(s.value,e))return s.value;s=i.next()}else this._keys.forEach(function(i){n===o.NOT_A_KEY&&t.KeyUtils.equals(i,e)&&(n=i)});return n},this.InitializeWithKeys=function(t){this._keys=new Set(t)},this.InitializeWithKeys(e)}});
//# sourceMappingURL=ojkeysetimpl.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmap',["ojs/ojkeysetimpl"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(t){t?(this._map=t,this._keyset=new e(Array.from(this._map.keys()))):(this._map=new Map,this._keyset=new e)},s=t.prototype;return Object.defineProperty(s,"size",{get:function(){return this._map.size}}),s.clear=function(){this._map.clear(),this._keyset._keys.clear()},s.delete=function(e){var t=this._keyset.get(e);return t!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(t),this._map.delete(t))},s.forEach=function(e){this._map.forEach(e)},s.entries=function(){return this._map.entries()},s.keys=function(){return this._map.keys()},s.values=function(){return this._map.values()},s.get=function(e){var t=this._keyset.get(e);return this._map.get(t)},s.has=function(e){return this._keyset.has(e)},s.set=function(e,t){var s=this._keyset.get(e);return s===this._keyset.NOT_A_KEY?(this._keyset._keys.add(e),this._map.set(e,t)):this._map.set(s,t),this},t});
//# sourceMappingURL=ojmap.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojset',["ojs/ojkeysetimpl"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;class e{constructor(e){this.initialKeys=e;const s=this;this._set=new Set,this._keyset=new t,e&&e.forEach(function(t){s.add(t)}),Object.defineProperty(this,"size",{get(){return this._set.size}}),this[Symbol.iterator]=function(){return this._set[Symbol.iterator]()}}clear(){this._set.clear(),this._keyset._keys.clear()}delete(t){const e=this._keyset.get(t);return e!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(e),this._set.delete(e))}forEach(t,e){this._set.forEach(t,e)}keys(){return this._set.keys()}values(){return this._set.values()}entries(){return this._set.entries()}has(t){return this._keyset.has(t)}add(t){return this._keyset.get(t)===this._keyset.NOT_A_KEY&&(this._keyset._keys.add(t),this._set.add(t)),this}get[Symbol.toStringTag](){return Set[Symbol.toStringTag]()}}return e});
//# sourceMappingURL=ojset.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojeventtarget',["exports","ojs/ojcore-base"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class s{constructor(e,t){this.type=e,this.options=t,null!=t&&(this.detail=t.detail)}}t._registerLegacyNamespaceProp("GenericEvent",s);class r{addEventListener(e,t){this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({type:e.toLowerCase(),listener:t})}removeEventListener(e,t){if(this._eventListeners){let s;for(s=this._eventListeners.length-1;s>=0;s--)this._eventListeners[s].type==e&&this._eventListeners[s].listener==t&&this._eventListeners.splice(s,1)}}dispatchEvent(e){if(this._eventListeners){var t,s=this._eventListeners.slice(0);for(t=0;t<s.length;t++){var r=s[t];if(e&&e.type&&r.type==e.type.toLowerCase()&&!1===r.listener.apply(this,[e]))return!1}}return!0}static applyMixin(e){[r].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(s=>{"constructor"!==s&&(e.prototype[s]=t.prototype[s])})})}}t._registerLegacyNamespaceProp("EventTargetMixin",r),e.EventTargetMixin=r,e.GenericEvent=s,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojeventtarget.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataprovider',["exports","ojs/ojcore-base","ojs/ojeventtarget"],function(t,e,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
oj.DataProvider=function(){},function(t){let e;!function(t){t.$co="$co",t.$eq="$eq",t.$ew="$ew",t.$pr="$pr",t.$gt="$gt",t.$ge="$ge",t.$lt="$lt",t.$le="$le",t.$ne="$ne",t.$regex="$regex",t.$sw="$sw"}(e=t.AttributeOperator||(t.AttributeOperator={}))}(t.AttributeFilterOperator||(t.AttributeFilterOperator={})),e._registerLegacyNamespaceProp("AttributeFilterOperator",t.AttributeFilterOperator),function(t){let e;!function(t){t.$and="$and",t.$or="$or"}(e=t.CompoundOperator||(t.CompoundOperator={}))}(t.CompoundFilterOperator||(t.CompoundFilterOperator={})),e._registerLegacyNamespaceProp("CompoundFilterOperator",t.CompoundFilterOperator);class i{constructor(){this._handleMutationAdd=function(t){var r;const s=t[i._BEFOREKEYS],n=t[i._KEYS],o=[];n.forEach(t=>{o.push(t)});const a=t[i._DATA],c=t[i._METADATA],l=t[i._INDEXES];if(o&&o.length>0)if(l)o.forEach((t,e)=>{this._items.splice(l[e],0,new this.Item(c[e],a[e]))});else if(s){const n=Object.assign([],s),l=Object.assign(new Set,t[i._KEYS]),f=Object.assign([],t[i._DATA]),u=Object.assign([],t[i._METADATA]),h=[];let p,_,y;for(const t of s){if(p=t,y=!0,null!=p){for(const t of o)if(e.Object.compareValues(t,p)){y=!1;break}if(y)for(const t of this._items)if(e.Object.compareValues(null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.key,p)){y=!1;break}}else y=!1;y&&h.push(p)}let m=s.length;for(;m>0;){for(const t of s)if(_=t,h.indexOf(_)>=0){h.push(_);break}m--}for(let t=n.length-1;t>=0;t--)h.indexOf(n[t])>=0&&(delete n[t],l.delete(n[t]),delete f[t],delete u[t]);n.forEach((t,r)=>{var i,s;if(null===t)this._items.push(new this.Item(c[r],a[r]));else for(let n=0;n<this._items.length;n++)if(e.Object.compareValues(null===(s=null===(i=this._items[n])||void 0===i?void 0:i.metadata)||void 0===s?void 0:s.key,t)){this._items.splice(n,0,new this.Item(c[r],a[r]));break}})}else if(this._fetchParams&&null!=this._fetchParams.sortCriteria){const t=this._fetchParams.sortCriteria;if(t){const e=this._getSortComparator(t);let r,i,s;const n=[];a.forEach((t,o)=>{for(r=0;r<this._items.length;r++)if(i=this._items[r].data,s=e(t,i),s<0){this._items.splice(r,0,new this.Item(c[o],a[o])),n.push(o);break}}),a.forEach((t,e)=>{n.indexOf(e)<0&&this._items.push(new this.Item(c[e],a[e]))})}}else a.forEach((t,e)=>{this._items.push(new this.Item(c[e],a[e]))})},this._handleMutationRemove=function(t){const r=t[i._KEYS];if(r&&r.size>0){let t;r.forEach(r=>{for(t=this._items.length-1;t>=0;t--)if(e.Object.compareValues(this._items[t].metadata.key,r)){this._items.splice(t,1);break}})}},this._handleMutationUpdate=function(t){const r=t[i._KEYS],s=t[i._DATA],n=t[i._METADATA];if(s&&s.length>0){let t,i=0;r.forEach(r=>{for(t=this._items.length-1;t>=0;t--)if(e.Object.compareValues(this._items[t].metadata.key,r)){this._items.splice(t,1,new this.Item(n[i],s[i]));break}i++})}},this.Item=class{constructor(t,e){this.metadata=t,this.data=e,this[i._METADATA]=t,this[i._DATA]=e}},this.FetchByKeysResults=class{constructor(t,e){this.fetchParameters=t,this.results=e,this[i._FETCHPARAMETERS]=t,this[i._RESULTS]=e}},this.FetchByOffsetResults=class{constructor(t,e,r){this.fetchParameters=t,this.results=e,this.done=r,this[i._FETCHPARAMETERS]=t,this[i._RESULTS]=e,this[i._DONE]=r}},this._items=[]}addListResult(t){const e=[];t.value.data.forEach((r,i)=>{e.push(new this.Item(t.value.metadata[i],r))}),this._items=this._items.concat(e),this._done=t.done}getDataList(t,e){this._fetchParams=t;let r=25;null!=t.size&&(r=-1===t.size?this.getSize():t.size);const i=this._items.slice(e,e+r),s=[],n=[];return i.forEach(t=>{s.push(t.data),n.push(t.metadata)}),{fetchParameters:t,data:s,metadata:n}}getDataByKeys(t){const e=new Map;return t&&t.keys&&t.keys.forEach(t=>{for(const r of this._items)if(r.metadata.key===t){e.set(t,r);break}}),new this.FetchByKeysResults(t,e)}getDataByOffset(t){let e=[];return t&&(e=this._items.slice(t.offset,t.offset+t.size)),new this.FetchByOffsetResults(t,e,!0)}processMutations(t){null!=t.remove&&this._handleMutationRemove(t.remove),null!=t.add&&this._handleMutationAdd(t.add),null!=t.update&&this._handleMutationUpdate(t.update)}reset(){this._items=[],this._done=!1}getSize(){return this._items.length}isDone(){return this._done}_getSortComparator(t){return(e,r)=>{let s,n,o,a;for(const c of t){s=c[i._DIRECTION],n=c[i._ATTRIBUTE],o=this._getVal(e,n),a=this._getVal(r,n);let t=0;const l="string"==typeof o?o:String(o).toString(),f="string"==typeof a?a:String(a).toString();if(t="ascending"===s?l.localeCompare(f,void 0,{numeric:!0,sensitivity:"base"}):f.localeCompare(l,void 0,{numeric:!0,sensitivity:"base"}),0!==t)return t}return 0}}_getVal(t,e){if("string"==typeof e){const r=e.indexOf(".");if(r>0){const i=e.substring(0,r),s=e.substring(r+1),n=t[i];if(n)return this._getVal(n,s)}}return"function"==typeof t[e]?t[e]():t[e]}}i._DATA="data",i._METADATA="metadata",i._ITEMS="items",i._BEFOREKEYS="addBeforeKeys",i._KEYS="keys",i._INDEXES="indexes",i._FROM="from",i._OFFSET="offset",i._REFRESH="refresh",i._MUTATE="mutate",i._SIZE="size",i._FETCHPARAMETERS="fetchParameters",i._SORTCRITERIA="sortCriteria",i._DIRECTION="direction",i._ATTRIBUTE="attribute",i._VALUE="value",i._DONE="done",i._RESULTS="results",i._CONTAINSPARAMETERS="containsParameters",i._DEFAULT_SIZE=25,i._CONTAINSKEYS="containsKeys",i._FETCHBYKEYS="fetchByKeys",i._FETCHBYOFFSET="fetchByOffset",i._FETCHFIRST="fetchFirst",i._FETCHATTRIBUTES="attributes",e._registerLegacyNamespaceProp("DataCache",i);class s extends r.GenericEvent{constructor(t){const e={};e[s._DETAIL]=t,super("mutate",e)}}s._DETAIL="detail",e._registerLegacyNamespaceProp("DataProviderMutationEvent",s);class n extends r.GenericEvent{constructor(t){const e={};e.detail=t,super("refresh",e)}}e._registerLegacyNamespaceProp("DataProviderRefreshEvent",n);class o{fetchByKeys(t){let e=0;const r=this.getIterationLimit?this.getIterationLimit():-1,i={size:25},s=new Map,n=this.fetchFirst(i)[Symbol.asyncIterator]();return function t(i,s,n){return s.next().then(function(o){const a=o.value,c=a.data,l=a.metadata,f=l.map(function(t){return t.key});let u=!0;return i.keys.forEach(function(t){n.has(t)||f.map(function(e,r){e===t&&n.set(e,{metadata:l[r],data:c[r]})}),n.has(t)||(u=!1)}),e+=c.length,u||o.done||-1!=r&&e>=r?n:t(i,s,n)})}(t,n,s).then(function(e){const r=new Map;return e.forEach(function(t,e){const i=[t];r.set(e,i[0])}),{fetchParameters:t,results:r}})}containsKeys(t){return this.fetchByKeys(t).then(function(e){const r=new Set;return t.keys.forEach(function(t){null!=e.results.get(t)&&r.add(t)}),Promise.resolve({containsParameters:t,results:r})})}getCapability(t){if("fetchByKeys"===t)return{implementation:"iteration"};let e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let r=1;for(;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&(e=this["_ojLastGetCapability"+r](t),!e);r--);delete this._ojSkipLastCapability}return e}static applyMixin(t){const e=t.prototype.getCapability;if([o].forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])})}),e){let r=1;for(;t.prototype["_ojLastGetCapability"+r];)++r;t.prototype["_ojLastGetCapability"+r]=e}}}e._registerLegacyNamespaceProp("FetchByKeysMixin",o);class a{fetchByOffset(t){const e=t&&t.size>0?t.size:25,r=t?t.sortCriteria:null,i=t&&t.offset>0?t.offset:0;let s=0;const n=this.getIterationLimit?this.getIterationLimit():-1;let o=!1;const a={};a.size=e,a.sortCriteria=r;const c=new Array,l=this.fetchFirst(a)[Symbol.asyncIterator]();return function t(r,a,c){return a.next().then(function(l){o=l.done;const f=l.value,u=f.data,h=f.metadata,p=u.length;if(i<s+p){for(let t=i<=s?0:i-s;t<p&&c.length!==e;t++)c.push({metadata:h[t],data:u[t]})}return s+=p,c.length<e&&!o?-1!==n&&s>=n?c:t(r,a,c):c})}(t,l,c).then(function(e){return{fetchParameters:t,results:e,done:o}})}getCapability(t){if("fetchByOffset"===t)return{implementation:"iteration"};let e=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let r=1;for(;this["_ojLastGetCapability"+r];)++r;for(--r;r>0&&(e=this["_ojLastGetCapability"+r](t),!e);r--);delete this._ojSkipLastCapability}return e}static applyMixin(t){const e=t.prototype.getCapability;if([a].forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{"constructor"!==r&&(t.prototype[r]=e.prototype[r])})}),e){let r=1;for(;t.prototype["_ojLastGetCapability"+r];)++r;t.prototype["_ojLastGetCapability"+r]=e}}}var c;e._registerLegacyNamespaceProp("FetchByOffsetMixin",a),function(t){function e(t,e){let r=!1;for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];if(r||!s(i))throw new Error("parsing error "+e);t.operator=i,t.right=n,r=!0}}function r(t,e,r){if("$lt"===t){const t=o(r,e);return(r=t[0])<(e=t[1])}if("$gt"===t){const t=o(r,e);return(r=t[0])>(e=t[1])}if("$lte"===t){const t=o(r,e);return(r=t[0])<=(e=t[1])}if("$gte"===t){const t=o(r,e);return(r=t[0])>=(e=t[1])}if("$eq"===t)return r===e;if("$ne"===t)return r!==e;if("$regex"===t){if(r){if("string"!=typeof r&&!(r instanceof String))if(r instanceof Object){if("[object Object]"==(r=r.toString()))return!1}else r=new String(r);return null!==r.match(e)}return!1}if("$exists"===t)return e?null!=r:null==r;throw new Error("not a valid operator! "+t)}function i(t){return"$and"===t||"$or"===t}function s(t){return"$lt"===t||"$gt"===t||"$lte"===t||"$gte"===t||"$eq"===t||"$ne"===t||"$regex"===t||"$exists"===t}function n(t){return null!=t&&(t instanceof String||"string"==typeof t)}function o(t,e){return n(t)&&null==e?e="":n(e)&&null==t&&(t=""),[t,e]}function a(t,e){const r=t.split(".");let i=e;for(const t of r)i=i[t];return i}t.satisfy=function(t,n){if(t){return function t(e,n){const o=e.operator;if(i(o)){if(!e.left&&e.array instanceof Array){let r;const i=e.array;for(const e of i){const i=t(e,n);if("$or"===o&&!0===i)return!0;if("$and"===o&&!1===i)return!1;r=i}return r}throw new Error("invalid expression tree!"+e)}if(s(o)){const t=e.right;let i;if("*"!=e.left)return i=a(e.left,n),r(o,t,i);{const e=Object.keys(n);for(const s of e)if(i=a(s,n),r(o,t,i))return!0;return!1}}throw new Error("not a valid expression!"+e)}(function t(r){let n;const o=[];for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];if(0===a.indexOf("$")){if(i(a)){if(!(c instanceof Array))throw new Error("not a valid expression: "+r);n={operator:a,array:[]};for(const e of c){const r=t(e);n.array.push(r)}}else if(s(a))throw new Error("not a valid expression: "+r)}else if("object"!=typeof c)o.push({left:a,right:c,operator:"$eq"});else{const t={left:a};e(t,c),o.push(t)}}o.length>1?n={operator:"$and",array:o}:1===o.length&&(n=o[0]);return n}(t),n)}return!0}}(c||(c={}));class l{constructor(t){t=t||{},this._textFilterAttributes=t.filterOptions?t.filterOptions.textFilterAttributes:null;const e=t.filterDef;e&&(e.op?(this.op=e.op,e.value?(this.value=e.value,e.attribute&&(this.attribute=e.attribute)):e.criteria&&(this.criteria=e.criteria)):e.text&&(this.text=e.text))}filter(t,e,r){return c.satisfy(l._transformFilter(this),t)}static _transformFilter(t){let e;if(t){let r,i=t.op;if(t.text?i="$regex":"$le"===i?i="$lte":"$ge"===i?i="$gte":"$pr"===i&&(i="$exists"),"$and"!==i&&"$or"!==i){r=t.text?new RegExp(t.text.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"i"):t.value,e={};const s=t.attribute;if(s){const t={};"$sw"!==i&&"$ew"!==i&&"$co"!==i||(i="$regex",r=l._fixStringExpr(i,r)),t[i]=r,e[s]=t}else if(t.text){const s={};if(s[i]=r,t._textFilterAttributes&&t._textFilterAttributes.length>0){const r=[];t._textFilterAttributes.forEach(function(t){const e={};e[t]=s,r.push(e)}),e.$or=r}else e["*"]=s}else{const t=[];l._transformObjectExpr(r,i,null,t),e.$and=t}}else{const r=[];t.criteria.forEach(function(e){e&&e.text&&t._textFilterAttributes&&(e._textFilterAttributes=t._textFilterAttributes),r.push(l._transformFilter(e))}),e={},e[i]=r}}return e}static _transformObjectExpr(t,e,r,i){if(Object.keys(t).length>0)Object.keys(t).forEach(function(s){let n=t[s];const o=r?r+"."+s:s;if(n instanceof Object)l._transformObjectExpr(n,e,o,i);else{const t={};"$sw"!==e&&"$ew"!==e&&"$co"!==e||(e="$regex",n=l._fixStringExpr(e,n)),t[e]=n;const r={};r[o]=t,i.push(r)}});else{const s={};s[e]=t;const n={};n[r]=s,i.push(n)}}static _fixStringExpr(t,e){return("string"==typeof e||e instanceof String)&&("$sw"===t?e="^"+e:"$ew"===t&&(e+="$")),e}}class f{static getFilter(t){return new l(t)}}e._registerLegacyNamespaceProp("FilterFactory",f),t.DataCache=i,t.DataProviderMutationEvent=s,t.DataProviderRefreshEvent=n,t.FetchByKeysMixin=o,t.FetchByOffsetMixin=a,t.FilterFactory=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdataprovider.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojarraydataprovider',["ojs/ojcore-base","ojs/ojmap","ojs/ojset","ojs/ojdataprovider","ojs/ojeventtarget","ojs/ojlogger"],function(t,e,s,i,n,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class r{constructor(t,e){this.data=t,this.options=e,this.Item=class{constructor(t,e){this.metadata=t,this.data=e,this[r._METADATA]=t,this[r._DATA]=e}},this.ItemMetadata=class{constructor(t){this.key=t,this[r._KEY]=t}},this.FetchByKeysResults=class{constructor(t,e){this.fetchParameters=t,this.results=e,this[r._FETCHPARAMETERS]=t,this[r._RESULTS]=e}},this.ContainsKeysResults=class{constructor(t,e){this.containsParameters=t,this.results=e,this[r._CONTAINSPARAMETERS]=t,this[r._RESULTS]=e}},this.FetchByOffsetResults=class{constructor(t,e,s){this.fetchParameters=t,this.results=e,this.done=s,this[r._FETCHPARAMETERS]=t,this[r._RESULTS]=e,this[r._DONE]=s}},this.FetchListParameters=class{constructor(t,e,s,i){this.size=t,this.sortCriteria=e,this.filterCriterion=s,this.attributes=i,this[r._SIZE]=t,this[r._SORTCRITERIA]=e,this[r._FILTERCRITERION]=s,this[r._ATTRIBUTES]=i}},this.FetchListResult=class{constructor(t,e,s){this.fetchParameters=t,this.data=e,this.metadata=s,this[r._FETCHPARAMETERS]=t,this[r._DATA]=e,this[r._METADATA]=s}},this.AsyncIterable=class{constructor(t){this._asyncIterator=t,this[Symbol.asyncIterator]=()=>this._asyncIterator}},this.AsyncIterator=class{constructor(t,e,s,i){this._parent=t,this._nextFunc=e,this._params=s,this._offset=i,this._clientId=s&&s.clientId||Symbol(),t._mapClientIdToOffset.set(this._clientId,i),this._cacheObj={},this._cacheObj[r._MUTATIONSEQUENCENUM]=t._mutationSequenceNum}next(){const t=this._parent._mapClientIdToOffset.get(this._clientId),e=this._nextFunc(this._params,t,!1,this._cacheObj);return this._parent._mapClientIdToOffset.set(this._clientId,e.offset),Promise.resolve(e.result)}},this.AsyncIteratorYieldResult=class{constructor(t){this.value=t,this[r._VALUE]=t,this[r._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t){this.value=t,this[r._VALUE]=t,this[r._DONE]=!0}},this.DataProviderMutationEventDetail=class{constructor(t,e,s,i){this._parent=t,this.add=e,this.remove=s,this.update=i,this[r._ADD]=e,this[r._REMOVE]=s,this[r._UPDATE]=i,Object.defineProperty(this,r._PARENT,{value:t,enumerable:!1})}},this.DataProviderOperationEventDetail=class{constructor(t,e,s,i,n){this._parent=t,this.keys=e,this.metadata=s,this.data=i,this.indexes=n,this[r._KEYS]=e,this[r._METADATA]=s,this[r._DATA]=i,this[r._INDEXES]=n,Object.defineProperty(this,r._PARENT,{value:t,enumerable:!1})}},this.DataProviderAddOperationEventDetail=class{constructor(t,e,s,i,n,a,l){this._parent=t,this.keys=e,this.afterKeys=s,this.addBeforeKeys=i,this.metadata=n,this.data=a,this.indexes=l,this[r._KEYS]=e,this[r._AFTERKEYS]=s,this[r._ADDBEFOREKEYS]=i,this[r._METADATA]=n,this[r._DATA]=a,this[r._INDEXES]=l,Object.defineProperty(this,r._PARENT,{value:t,enumerable:!1})}},this._sequenceNum=0,this._mutationSequenceNum=0,this._mapClientIdToOffset=new Map,this._subscribeObservableArray(t),null!=e&&null!=e[r._KEYS]&&(this._keysSpecified=!0,this._keys=e[r._KEYS])}containsKeys(t){return this.fetchByKeys(t).then(e=>{const i=new s;return t[r._KEYS].forEach(t=>{null!=e[r._RESULTS].get(t)&&i.add(t)}),Promise.resolve(new this.ContainsKeysResults(t,i))})}fetchByKeys(s){this._generateKeysIfNeeded();const i=new e,n=this._getKeys(),a=null!=s?s[r._ATTRIBUTES]:null;let l,o=0;if(s){const e=this._getRowData();return s[r._KEYS].forEach(s=>{for(l=null,o=0;o<n.length;o++)if(t.Object.compareValues(n[o],s)){l=o;break}if(null!=l&&l>=0){let t=e[l];if(a&&a.length>0){const e={};this._filterRowAttributes(a,t,e),t=e}i.set(s,new this.Item(new this.ItemMetadata(s),t))}}),Promise.resolve(new this.FetchByKeysResults(s,i))}return Promise.reject("Keys are a required parameter")}fetchByOffset(t){const e=null!=t?t[r._SIZE]:-1,s=null!=t?t[r._SORTCRITERIA]:null,i=null!=t&&t[r._OFFSET]>0?t[r._OFFSET]:0,n=null!=t?t[r._ATTRIBUTES]:null,a=null!=t?t[r._FILTERCRITERION]:null;this._generateKeysIfNeeded();let l=[],o=!0;if(t){const h=new this.FetchListParameters(e,s,a,n),u=this._fetchFrom(h,i,!0).result;h[r._SORTCRITERIA]&&(t[r._SORTCRITERIA]=h[r._SORTCRITERIA]);const _=u[r._VALUE];o=u[r._DONE];const c=_[r._DATA],d=_[r._METADATA].map(t=>t[r._KEY]);return l=c.map((t,e)=>new this.Item(new this.ItemMetadata(d[e]),t)),Promise.resolve(new this.FetchByOffsetResults(t,l,o))}return Promise.reject("Offset is a required parameter")}fetchFirst(t){return new this.AsyncIterable(new this.AsyncIterator(this,this._fetchFrom.bind(this),t,0))}getCapability(t){return r.getCapability(t)}static _getFetchCapability(){const t=new Set;return t.add("exclusion"),{caching:"all",attributeFilter:{expansion:{},ordering:{},defaultShape:{features:t}}}}static getCapability(t){return"sort"===t?{attributes:"multiple"}:"fetchByKeys"===t?Object.assign({implementation:"lookup"},r._getFetchCapability()):"fetchByOffset"===t?Object.assign({implementation:"randomAccess"},r._getFetchCapability()):"fetchFirst"===t?Object.assign({iterationSpeed:"immediate"},r._getFetchCapability()):"fetchCapability"===t?r._getFetchCapability():"filter"===t?{operators:["$co","$eq","$ew","$pr","$gt","$ge","$lt","$le","$ne","$regex","$sw"],attributeExpression:["*"],textFilter:{}}:null}getTotalSize(){return Promise.resolve(this._getRowData().length)}isEmpty(){return this._getRowData().length>0?"no":"yes"}createOptimizedKeySet(t){return new s(t)}createOptimizedKeyMap(t){if(t){const s=new e;return t.forEach((t,e)=>{s.set(e,t)}),s}return new e}_getRowData(){return this[r._DATA]instanceof Array?this[r._DATA]:this[r._DATA]()}_getKeys(){return null==this._keys||this._keys instanceof Array?this._keys:this._keys()}_indexOfKey(e){const s=this._getKeys();let i,n=-1;for(i=0;i<s.length;i++)if(t.Object.compareValues(s[i],e)){n=i;break}return n}_adjustIteratorOffset(t,e){this._mapClientIdToOffset.forEach((s,i)=>{let n=0;t&&t.forEach(t=>{t<s&&++n}),s-=n,e&&e.forEach(t=>{t<s&&++s}),this._mapClientIdToOffset.set(i,s)})}_subscribeObservableArray(e){if(!(e instanceof Array)){if(!this._isObservableArray(e))throw new Error("Invalid data type. ArrayDataProvider only supports Array or observableArray.");e.subscribe(e=>{let i,n,r,l,o,h=[],u=[],_=[],c=[];const d=[];this._mutationSequenceNum++;let f=!0,E=!0;e.forEach(t=>{"deleted"===t.status?(f=!1):"added"===t.status&&(E=!1)});const T=[],A=[];let p=null,m=null,y=null;const R=this._generateKeysIfNeeded();if(!f&&!E){for(i=0;i<e.length;i++){l=e[i].index,o=e[i].status;const s=this._getId(e[i].value);for(n=0;n<e.length;n++)n!==i&&l===e[n].index&&o!==e[n].status&&T.indexOf(i)<0&&A.indexOf(i)<0&&(null==s||t.Object.compareValues(s,this._getId(e[n].value)))&&("deleted"===o?(A.push(i),T.push(n)):(A.push(n),T.push(i)))}for(i=0;i<e.length;i++)if(T.indexOf(i)>=0){const t=this._getKeys()[e[i].index];u.push(t),h.push(e[i].value),_.push(e[i].index)}if(u.length>0){c=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)}),p=new this.DataProviderOperationEventDetail(this,t,c,h,_)}}if(h=[],u=[],_=[],!f){for(i=0;i<e.length;i++)"deleted"===e[i].status&&T.indexOf(i)<0&&A.indexOf(i)<0&&(r=this._getId(e[i].value),null==r&&(r=R?e[i].index:this._getKeys()[e[i].index]),u.push(r),h.push(e[i].value),_.push(e[i].index));if(u.length>0&&u.forEach(t=>{const e=this._indexOfKey(t);e>=0&&this._keys.splice(e,1)}),u.length>0){c=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)}),y=new this.DataProviderOperationEventDetail(this,t,c,h,_)}}if(h=[],u=[],_=[],!E){const t=null==this._getKeys()||!(this._getKeys().length>0);for(i=0;i<e.length;i++)"added"===e[i].status&&T.indexOf(i)<0&&A.indexOf(i)<0&&(r=this._getId(e[i].value),null==r&&(R||this._keysSpecified)&&(r=this._getKeys()[e[i].index]),null==r?(r=this._sequenceNum,this._sequenceNum++,this._keys.splice(e[i].index,0,r)):t||-1===this._indexOfKey(r)?this._keys.splice(e[i].index,0,r):R||this._keysSpecified||(a.warn("added row has duplicate key "+r),this._keys.splice(e[i].index,0,r)),u.push(r),h.push(e[i].value),_.push(e[i].index));for(i=0;i<e.length;i++)if("added"===e[i].status&&T.indexOf(i)<0&&A.indexOf(i)<0){let t=this._getKeys()[e[i].index+1];t=null==t?null:t,d.push(t)}if(u.length>0){c=u.map(t=>new this.ItemMetadata(t));const t=new s;u.forEach(e=>{t.add(e)});const e=new s;d.forEach(t=>{e.add(t)}),m=new this.DataProviderAddOperationEventDetail(this,t,e,d,c,h,_)}}this._fireMutationEvent(m,y,p)},null,"arrayChange"),e.subscribe(t=>{var e,s,n,a;if(this._mutationEvent){const t=this._mutationEvent.detail;this._adjustIteratorOffset(null===(e=t.remove)||void 0===e?void 0:e.indexes,null===(s=t.add)||void 0===s?void 0:s.indexes),this.dispatchEvent(this._mutationEvent)}else if(this._mutationRemoveEvent||this._mutationAddEvent||this._mutationUpdateEvent){if(this._mutationRemoveEvent){const t=this._mutationRemoveEvent.detail;this._adjustIteratorOffset(null===(n=t.remove)||void 0===n?void 0:n.indexes,null),this.dispatchEvent(this._mutationRemoveEvent)}if(this._mutationAddEvent){const t=this._mutationAddEvent.detail;this._adjustIteratorOffset(null,null===(a=t.add)||void 0===a?void 0:a.indexes),this.dispatchEvent(this._mutationAddEvent)}this._mutationUpdateEvent&&this.dispatchEvent(this._mutationUpdateEvent)}else this.dispatchEvent(new i.DataProviderRefreshEvent);this._mutationEvent=null,this._mutationRemoveEvent=null,this._mutationAddEvent=null,this._mutationUpdateEvent=null},null,"change")}}_fireMutationEvent(t,e,s){const n=new this.DataProviderMutationEventDetail(this,t,e,s);this._mutationEvent=new i.DataProviderMutationEvent(n)}_hasSamePropValue(e,s,i){const n="_hasSamePropValue is true";try{e&&e[i]&&e[i].forEach(e=>{s&&s[i]&&s[i].forEach(s=>{if(t.Object.compareValues(e,s))throw n})})}catch(t){if(t===n)return!0;throw t}return!1}_isObservableArray(t){return"function"==typeof t&&t.subscribe&&!(void 0===t.destroyAll)}_generateKeysIfNeeded(){if(null==this._keys){const t=null!=this.options?this.options[r._KEYATTRIBUTES]||this.options[r._IDATTRIBUTE]:null;this._keys=[];const e=this._getRowData();let s,i=0;for(i=0;i<e.length;i++)s=this._getId(e[i]),null!=s&&"@index"!==t||(s=this._sequenceNum,this._sequenceNum++),this._keys[i]=s;return!0}return!1}_getId(t){let e,s=null;if(null!=this.options&&(null!=this.options[r._KEYATTRIBUTES]?s=this.options[r._KEYATTRIBUTES]:null!=this.options[r._IDATTRIBUTE]&&(s=this.options[r._IDATTRIBUTE])),null!=s){if(Array.isArray(s)){let i;for(e=[],i=0;i<s.length;i++)e[i]=this._getVal(t,s[i])}else e="@value"===s?this._getAllVals(t):this._getVal(t,s);return e}return null}_getVal(t,e){if("string"==typeof e){const s=e.indexOf(".");if(s>0){const i=e.substring(0,s),n=e.substring(s+1),a=t[i];if(a)return this._getVal(a,n)}}return"function"==typeof t[e]?t[e]():t[e]}_getAllVals(t){return Object.keys(t).map(e=>this._getVal(t,e))}_fetchFrom(t,e,s,n){const a=null!=t?t[r._ATTRIBUTES]:null;this._generateKeysIfNeeded();const l=null!=t?t[r._SORTCRITERIA]:null,o=this._getCachedIndexMap(l,n),h=this._getRowData(),u=o.map(t=>h[t]),_=o.map(t=>this._getKeys()[t]),c=null!=t?t[r._SIZE]>0?t[r._SIZE]:t[r._SIZE]<0?this._getKeys().length:25:25;let d=e+c<u.length;const f=this._mergeSortCriteria(l);null!=f&&((t=t||{})[r._SORTCRITERIA]=f);let E,T=[],A=[],p=0;if(null!=t&&t[r._FILTERCRITERION]){let s=null;s=i.FilterFactory.getFilter({filterDef:t[r._FILTERCRITERION],filterOptions:this.options});let n=0;for(;T.length<c&&n<u.length;)s.filter(u[n])&&(p>=e&&(T.push(u[n]),A.push(_[n])),p++),n++;d=n<u.length}else T=u.slice(e,e+c),A=_.slice(e,e+c);p=e+T.length,E=T.map(t=>{if(a&&a.length>0){const e={};this._filterRowAttributes(a,t,e),t=e}return t});const m=A.map(t=>new this.ItemMetadata(t));let y=new this.FetchListResult(t,E,m);return(s?d:y.data.length>0)?{result:new this.AsyncIteratorYieldResult(y),offset:p}:{result:new this.AsyncIteratorReturnResult(y),offset:p}}_getCachedIndexMap(t,e){if(e&&e.indexMap&&e[r._MUTATIONSEQUENCENUM]===this._mutationSequenceNum)return e.indexMap;const s=this._getRowData().map((t,e)=>e),i=this._sortData(s,t);return e&&(e.indexMap=i,e[r._MUTATIONSEQUENCENUM]=this._mutationSequenceNum),i}_sortData(t,e){const s=this._getRowData(),i=t.map(t=>({index:t,value:s[t]}));return null!=e&&i.sort(this._getSortComparator(e)),i.map(t=>t.index)}_getSortComparator(t){return(e,s)=>{const i=null!=this.options?this.options[r._SORTCOMPARATORS]:null;let n,a,l,o,h,u;for(n=0;n<t.length;n++)if(a=t[n][r._DIRECTION],l=t[n][r._ATTRIBUTE],o=null,null!=i&&(o=i[r._COMPARATORS].get(l)),h=this._getVal(e.value,l),u=this._getVal(s.value,l),null!=o){const t="descending"===a?-1:1,e=o(h,u)*t;if(0!==e)return e}else{let t=0;const e="string"==typeof h?h:new String(h).toString(),s="string"==typeof u?u:new String(u).toString();if(t="ascending"===a?e.localeCompare(s,void 0,{numeric:!0,sensitivity:"base"}):s.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"}),0!==t)return t}return 0}}_mergeSortCriteria(t){const e=null!=this.options?this.options[r._IMPLICITSORT]:null;if(null!=e){if(null==t)return e;const s=t.slice(0);let i,n,a;for(i=0;i<e.length;i++){for(a=!1,n=0;n<s.length;n++)s[n][r._ATTRIBUTE]===e[i][r._ATTRIBUTE]&&(a=!0);a||s.push(e[i])}return s}return t}_filterRowAttributes(t,e,s){if(Array.isArray(t)){let i,n=!1;t.forEach(t=>{t!==r._ATDEFAULT&&t.name!==r._ATDEFAULT||(n=!0)}),Object.keys(e).forEach(a=>{if(n){let n,r=!1,l=a;for(i=0;i<t.length;i++)if(n=t[i]instanceof Object?t[i].name:t[i],n.startsWith("!")){if(n=n.substr(1,n.length-1),n===a){r=!0;break}}else if(n===a){l=t[i];break}r||this._filterRowAttributes(l,e,s)}else t.forEach(t=>{let i;i=t instanceof Object?t.name:t,i.startsWith("!")||i!==a||this._filterRowAttributes(t,e,s)})})}else if(t instanceof Object){const i=t.name,n=t.attributes;if(i&&!i.startsWith("!"))if(e[i]instanceof Object&&!Array.isArray(e[i])&&n){const t={};this._filterRowAttributes(n,e[i],t),s[i]=t}else if(Array.isArray(e[i])&&n){let t;s[i]=[],e[i].forEach((e,a)=>{t={},this._filterRowAttributes(n,e,t),s[i][a]=t})}else this._proxyAttribute(s,e,i)}else this._proxyAttribute(s,e,t)}_proxyAttribute(t,e,s){t&&e&&Object.defineProperty(t,s,{get:()=>e[s],set(t){e[s]=t},enumerable:!0})}}return r._KEY="key",r._KEYS="keys",r._AFTERKEYS="afterKeys",r._ADDBEFOREKEYS="addBeforeKeys",r._DIRECTION="direction",r._ATTRIBUTE="attribute",r._ATTRIBUTES="attributes",r._SORT="sort",r._SORTCRITERIA="sortCriteria",r._FILTERCRITERION="filterCriterion",r._DATA="data",r._METADATA="metadata",r._INDEXES="indexes",r._OFFSET="offset",r._SIZE="size",r._IDATTRIBUTE="idAttribute",r._IMPLICITSORT="implicitSort",r._KEYATTRIBUTES="keyAttributes",r._SORTCOMPARATORS="sortComparators",r._COMPARATORS="comparators",r._COMPARATOR="comparator",r._RESULTS="results",r._CONTAINS="contains",r._FETCHPARAMETERS="fetchParameters",r._CONTAINSPARAMETERS="containsParameters",r._VALUE="value",r._DONE="done",r._ADD="add",r._REMOVE="remove",r._UPDATE="update",r._DETAIL="detail",r._FETCHLISTRESULT="fetchListResult",r._ATDEFAULT="@default",r._MUTATIONSEQUENCENUM="mutationSequenceNum",r._PARENT="_parent",n.EventTargetMixin.applyMixin(r),t._registerLegacyNamespaceProp("ArrayDataProvider",r),r});
//# sourceMappingURL=ojarraydataprovider.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojarraytreedataprovider',["ojs/ojcore-base","jquery","ojs/ojarraydataprovider","ojs/ojeventtarget"],function(e,t,r,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class a{constructor(e,t,s){this.treeData=e,this.options=t,this._rootDataProvider=s,this.TreeAsyncIterator=class{constructor(e,t){this._parent=e,this._baseIterable=t}next(){return this._baseIterable[Symbol.asyncIterator]().next().then(e=>{const t=e.value.metadata;for(let r=0;r<t.length;r++)t[r]=this._parent._getTreeMetadata(t[r],e.value.data[r]);return e})}},this.TreeAsyncIterable=class{constructor(e,t){this._parent=e,this._asyncIterator=t,this[Symbol.asyncIterator]=()=>this._asyncIterator}},this._baseDataProvider=new r(e,t),this._mapKeyToNode=new Map,this._mapNodeToKey=new Map,this._mapArrayToSequenceNum=new Map,this._mapKoArrayToSubscriptions=new Map,this._mapKeyToParentNodePath=new Map,null==s&&(this._parentNodePath=[],this._processTreeArray(e,[]))}containsKeys(e){return this.fetchByKeys(e).then(t=>{const r=new Set;return e.keys.forEach(e=>{null!=t.results.get(e)&&r.add(e)}),Promise.resolve({containsParameters:e,results:r})})}getCapability(e){return this._baseDataProvider.getCapability(e)}getTotalSize(){return this._baseDataProvider.getTotalSize()}isEmpty(){return this._baseDataProvider.isEmpty()}createOptimizedKeySet(e){return this._baseDataProvider.createOptimizedKeySet(e)}createOptimizedKeyMap(e){return this._baseDataProvider.createOptimizedKeyMap(e)}getChildDataProvider(e,t){const r=this._getNodeForKey(e);if(r){const t=this._getChildren(r);if(t){const r=new a(t,this.options,this._getRootDataProvider());if(null!=r){const t=this._getRootDataProvider();r._parentNodePath=t._mapKeyToParentNodePath.get(JSON.stringify(e))}return r}}return null}fetchFirst(e){e=this._applyLeafNodeFilter(e);const t=this._baseDataProvider.fetchFirst(e);return new this.TreeAsyncIterable(this,new this.TreeAsyncIterator(this,t))}fetchByOffset(e){e=this._applyLeafNodeFilter(e);return this._baseDataProvider.fetchByOffset(e).then(e=>{const t=e.results,r=[];for(const e of t){let t=e.metadata;const s=e.data;t=this._getTreeMetadata(t,s),r.push({data:s,metadata:t})}return{done:e.done,fetchParameters:e.fetchParameters,results:r}})}fetchByKeys(e){const t=new Map;return e.keys.forEach(e=>{const r=this._getNodeForKey(e);r&&t.set(e,{metadata:{key:e},data:r})}),Promise.resolve({fetchParameters:e,results:t})}_getChildren(e){const t=this.options&&this.options.childrenAttribute?this.options.childrenAttribute:"children";return this._getVal(e,t,!0)}_getRootDataProvider(){return this._rootDataProvider?this._rootDataProvider:this}_subscribeObservableArray(t,r){if("function"!=typeof t||!t.subscribe||void 0===t.destroyAll)throw new Error("Invalid data type. ArrayTreeDataProvider only supports Array or observableArray.");let s=null;const a=new Array(2);a[0]=t.subscribe(a=>{let i,o,n,h=[],l=[],d=[],u=[];const c=[];let y=null,p=null,_=null;const f=[];for(i=0;i<a.length;i++){n=a[i].index,status=a[i].status;const t=this._getId(a[i].value);if(t)for(o=0;o<a.length;o++)if(o!==i&&n===a[o].index&&status!==a[o].status&&c.indexOf(i)<0&&f.indexOf(i)<0){const r=this._getId(a[o].value);e.Object.compareValues(t,r)&&("deleted"===status?(f.push(i),c.push(o),this._releaseNode(a[i].value)):(f.push(o),c.push(i)))}}for(i=0;i<a.length;i++)if("deleted"===a[i].status&&c.indexOf(i)<0&&f.indexOf(i)<0){const e=a[i].value,t=this._getKeyForNode(e);l.push(t),h.push(e),d.push(a[i].index),this._releaseNode(e)}if(l.length>0){u=l.map(e=>({key:e}));const e=new Set;l.forEach(t=>{e.add(t)}),_={data:h,indexes:d,keys:e,metadata:u}}h=[],l=[],d=[],u=[];const g=t(),b=[],v=[],m=[],A=[];for(i=0;i<a.length;i++)if("added"===a[i].status&&f.indexOf(i)<0){const e=a[i].value,s=this._processNode(e,r,t);c.indexOf(i)<0?(l.push(s.key),h.push(e),d.push(a[i].index),u.push({key:s.key})):(b.push(s.key),v.push(e),m.push(a[i].index),A.push({key:s.key}))}if(l.length>0){const e=new Set;l.forEach(t=>{e.add(t)});const t=new Set,s=[],a=[];let i;i=this.options&&this.options.keyAttributes&&"siblings"!==this.options.keyAttributesScope?r.length>0?r[r.length-1]:null:r.length>0?r:null,d.forEach(e=>{let r;r=e>=g.length-1?null:this._getKeyForNode(g[e+1]),t.add(r),s.push(r),a.push(i)}),p={afterKeys:t,addBeforeKeys:s,parentKeys:a,data:h,indexes:d,keys:e,metadata:u}}if(b.length>0){const e=new Set;b.forEach(t=>{e.add(t)}),y={data:v,indexes:m,keys:e,metadata:A}}s=new e.DataProviderMutationEvent({add:p,remove:_,update:y})},null,"arrayChange"),a[1]=t.subscribe(t=>{s?this.dispatchEvent(s):(this._flushMaps(),this._processTreeArray(this.treeData,[]),this.dispatchEvent(new e.DataProviderRefreshEvent)),s=null},null,"change"),this._mapKoArrayToSubscriptions.set(t,a)}_flushMaps(){const e=this._getRootDataProvider();e._mapKeyToNode.clear(),e._mapNodeToKey.clear(),e._mapArrayToSequenceNum.clear(),e._mapKoArrayToSubscriptions.forEach((e,t)=>{this._unsubscribeObservableArray(t)})}_unsubscribeObservableArray(e){if("function"==typeof e&&e.subscribe&&void 0!==e.destroyAll){const t=this._mapKoArrayToSubscriptions.get(e);t&&(t[0].dispose(),t[1].dispose(),this._mapKoArrayToSubscriptions.delete(e))}}_processTreeArray(e,t){let r;e instanceof Array?r=e:(this._subscribeObservableArray(e,t),r=e()),r.forEach((r,s)=>{this._processNode(r,t,e)})}_releaseTreeArray(e){let t;e instanceof Array?t=e:(this._unsubscribeObservableArray(e),t=e()),t.forEach((e,t)=>{this._releaseNode(e)})}_processNode(e,t,r){const s=this._createKeyObj(e,t,r);this._setMapEntry(s.key,e);this._getRootDataProvider()._mapKeyToParentNodePath.set(JSON.stringify(s.key),s.keyPath);const a=this._getChildren(e);return a&&this._processTreeArray(a,s.keyPath),s}_releaseNode(e){const t=this._getKeyForNode(e);this._deleteMapEntry(t,e);const r=this._getChildren(e);r&&this._releaseTreeArray(r)}_createKeyObj(e,t,r){let s=this._getId(e);const a=t?t.slice():[];return null==s?(this._setUseIndexAsKey(!0),a.push(this._incrementSequenceNum(r)),s=a):(a.push(s),this.options&&"siblings"===this.options.keyAttributesScope&&(s=a)),{key:s,keyPath:a}}_getId(e){let t;const r=null!=this.options?this.options.keyAttributes:null;if(null!=r){if(Array.isArray(r)){t=[];for(let s=0;s<r.length;s++)t[s]=this._getVal(e,r[s])}else t="@value"==r?this._getAllVals(e):this._getVal(e,r);return t}return null}_getVal(e,t,r){if("string"==typeof t){const r=t.indexOf(".");if(r>0){const s=t.substring(0,r),a=t.substring(r+1),i=e[s];if(i)return this._getVal(i,a)}}return!0!==r&&"function"==typeof e[t]?e[t]():e[t]}_getAllVals(e){return Object.keys(e).map(t=>this._getVal(e,t))}_getNodeMetadata(e){return{key:this._getKeyForNode(e)}}_getNodeForKey(e){return this._getRootDataProvider()._mapKeyToNode.get(JSON.stringify(e))}_getKeyForNode(e){return this._getRootDataProvider()._mapNodeToKey.get(e)}_setMapEntry(e,t){const r=this._getRootDataProvider();r._mapKeyToNode.set(JSON.stringify(e),t),r._mapNodeToKey.set(t,e)}_deleteMapEntry(e,t){const r=this._getRootDataProvider();r._mapKeyToNode.delete(JSON.stringify(e)),r._mapNodeToKey.delete(t)}_incrementSequenceNum(e){const t=this._getRootDataProvider(),r=t._mapArrayToSequenceNum.get(e)||0;return t._mapArrayToSequenceNum.set(e,r+1),r}_getUseIndexAsKey(){return this._getRootDataProvider()._useIndexAsKey}_setUseIndexAsKey(e){return this._getRootDataProvider()._useIndexAsKey=e}_getLeafNodeFilter(e){const t=e,r=this.options&&this.options.childrenAttribute?this.options.childrenAttribute:"children";return{op:"$or",criteria:[t,{op:"$and",criteria:[{op:"$ne",attribute:r,value:null},{op:"$ne",attribute:r,value:void 0}]}]}}_applyLeafNodeFilter(e){if(e&&e.filterCriterion){const r=t.extend({},e);r.filterCriterion=this._getLeafNodeFilter(r.filterCriterion),r.filterCriterion.filter=e.filterCriterion.filter,e=r}return e}_getTreeMetadata(e,t){let r=!1,s=e.key;return(null==this.options||null==this.options.keyAttributes||"siblings"==this.options.keyAttributesScope||"@index"==this.options.keyAttributes||this._getUseIndexAsKey())&&(r=!0),r&&(s=this._parentNodePath?this._parentNodePath.slice():[],s.push(e.key)),e=this._getNodeMetadata(this._getNodeForKey(s))}}return s.EventTargetMixin.applyMixin(a),e._registerLegacyNamespaceProp("ArrayTreeDataProvider",a),a});
//# sourceMappingURL=ojarraytreedataprovider.js.map;
define('models/components/common/table-of-contents/toc-heading-origin.enum',["require","exports"],(function(require,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e[e.OnThisPage=0]="OnThisPage",e[e.SimplePagination=1]="SimplePagination",e[e.InternalUrl=2]="InternalUrl"}(n||(n={})),e.default=n}));
define('utils/dom-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeSpaces=e.removeBreakLine=e.createElement=e.whenDOMReady=void 0;e.whenDOMReady=e=>{"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)};e.createElement=(e,t)=>{const n=document.createElement(e);return n.setAttribute("class",t),n};e.removeBreakLine=e=>{"BR"===e.tagName&&e.remove()};e.normalizeSpaces=e=>null==e?void 0:e.replace(/\n/gm,"").replace(/\s{2,}|\u00a0/gm," ").trim()}));
define('enums/common/category.enum',["require","exports"],(function(require,e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.ArchitectureCenter="solutions",e.Learn="learn",e.Cloud="cloud",e.OracleJava="java",e.OracleDatabase="database",e.OperatingSystems="operating-systems",e.Virtualization="virtualization",e.EngineeredSystems="engineered-systems",e.Servers="servers",e.Storage="storage",e.Networking="networking",e.Industries="industries",e.Default="default"}(t||(t={})),e.default=t}));
define('enums/common/publication-classes.enum',["require","exports"],(function(require,e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.ReferenceArchitecture="reference-architectures",e.BuiltAndDeployed="built-deployed",e.SolutionPlaybook="solution-playbook",e.Solution="solution",e.Learn="learn",e.LetterStyle="letter-style",e.Article="article",e.MachineTranslation="mt",e.Markdown="md"}(t||(t={})),e.default=t}));
define('enums/common/template-mode.enum',["require","exports"],(function(require,e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e[e.Default=0]="Default",e[e.Embed=1]="Embed",e[e.EmbedWithNav=2]="EmbedWithNav"}(t||(t={})),e.default=t}));
define('enums/components/auxiliary-tools/badge-info/badge-type.enum',["require","exports"],(function(require,e){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.ModernAppDevelopment="modern-app-development",e.CustomerInspired="inspired",e.AutomationAvailable="automation"}(t||(t={})),e.default=t}));
define('utils/on-this-page-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLegalNoticeHeading=e.parseHeadingId=e.isBiggerHeading=e.isSubheading=e.getHeadingItems=e.addHeadingIdIfMissing=e.getHeadingItem=void 0;const i=e=>({href:"#"+e.id,heading:e.textContent,id:"nav_"+e.id,tagName:e.tagName});e.getHeadingItem=i;e.addHeadingIdIfMissing=(e,i)=>{if(!e.id&&e.textContent){const a=""+encodeURIComponent(e.textContent.trim().replace(/\s+/g,"-"));e.id=i.includes(a)?`${a}${t(a,i)}`:a,i.push(e.id)}};const t=(e,i)=>{let t=0;if(i.forEach(i=>{i===e&&t++}),t>0)return t};e.getHeadingItems=e=>e.map(e=>i(e));e.isSubheading=e=>"H4"===e.tagName||"H5"===e.tagName||"H6"===e.tagName;e.isBiggerHeading=(e,i)=>Number.parseInt(e.charAt(1))<Number.parseInt(i.charAt(1));e.parseHeadingId=e=>null==e?void 0:e.replace(/^(?!GUID)[A-Z]+-/g,"");e.isLegalNoticeHeading=e=>"Oracle Legal Notices"===e||"Oracle Documentation License"===e}));
define('utils/type-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformObjectKeysToCamelCase=void 0;const r=e=>{if(t(e)){const t={};return Object.entries(e).forEach(([e,s])=>{t[a(e)]=r(s)}),t}return Array.isArray(e)?e.map(e=>r(e)):e};e.transformObjectKeysToCamelCase=r;const t=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e,a=e=>e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace("-","").replace("_",""))}));
define('translations/common/table-of-contents/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{expand:t.getTranslatedString("common.tableOfContents.labels.expand"),collapse:t.getTranslatedString("common.tableOfContents.labels.collapse"),deploy:t.getTranslatedString("common.tableOfContents.labels.deploy")},ariaLabels:{treeViewTableOfContents:t.getTranslatedString("common.tableOfContents.ariaLabels.treeViewTableOfContents")}}}}}));
var __awaiter=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(c,i){function r(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?c(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}a((n=n.apply(t,e||[])).next())}))};define('services/search.service',["require","exports","jquery","../utils/search-service.helper"],(function(require,t,e,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapProductsResponse=t.getProducts=void 0;t.getProducts=t=>__awaiter(void 0,void 0,void 0,(function*(){return e.getJSON(`${o.getCurrentProtocol(window.location.protocol,window.location.hostname)}//${o.getCurrentHost(window.location.hostname)}/apps/ohcsearchclient/api/v1/search/products`,t).catch(()=>null)}));t.mapProductsResponse=t=>Object.assign(Object.assign({},t),{hits:t.hits?n(t.hits):null});const n=t=>t.map(t=>({source:t._source}))}));
var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function c(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}u((o=o.apply(t,e||[])).next())}))};define('services/robots.service',["require","exports","jquery","../utils/search-service.helper"],(function(require,t,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=()=>__awaiter(void 0,void 0,void 0,(function*(){return e.get(`${n.getCurrentProtocol(window.location.protocol,window.location.hostname)}//${n.getCurrentHost(window.location.hostname)}/apps/ohcsearchclient/api/v1/search/robots`,{url:window.location.href}).catch(()=>null)}))}));
var __awaiter=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(o,i){function s(e){try{l(a.next(e))}catch(e){i(e)}}function r(e){try{l(a.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}l((a=a.apply(e,t||[])).next())}))};define('utils/publication-context-helper',["require","exports","ojs/ojconfig","../enums/common/category.enum","../enums/common/publication-classes.enum","../enums/common/template-mode.enum","../enums/components/auxiliary-tools/badge-info/badge-type.enum","./link-helper","./on-this-page-helper","./type-helper","../translations/common/table-of-contents/translations-helper","../services/search.service","../services/robots.service"],(function(require,e,t,n,a,o,i,s,r,l,c,u,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasOnlyOnePublicationClass=e.hasOnlyJetClasses=e.hasJetClasses=e.hasDeploySection=e.isFA=e.isMachineTranslated=e.isAutomationAvailable=e.isCustomerInspired=e.isModernAppDevelopment=e.isSolutionPlaybook=e.isBuiltAndDeployed=e.isReferenceArchitecture=e.isAcmsMultipage=e.isSolutionMultipage=e.isLearnMultipage=e.isMultipage=e.isAcmsSinglePage=e.isSolutionSinglePage=e.isLearnSinglePage=e.isSinglePage=e.isArticle=e.isSolution=e.hasLearnMetadata=e.isLearn=e.getRobotsMeta=e.getDeployGuid=e.getRelatedContent=e.getHTMLClasses=e.getPDFLink=e.getPaginationLinks=e.getSsotMetadata=e.parseMetadataDate=e.parseMetadataTechnologies=e.parseMetadataAudience=e.parseDurationMinutes=e.parseDurationItems=e.parseMetadataDuration=e.getMetadata=e.getTemplateMode=e.getSearchSourceParam=void 0;const g=c.default.getTranslations().labels.deploy,p=new RegExp(`("${g}","href":")(.*?)(?=")`);e.getSearchSourceParam=e=>{var t;return null!==(t=new URLSearchParams(e).get(s.SOURCE_PARAM))&&void 0!==t?t:""};e.getTemplateMode=()=>{const e=parseInt(new URLSearchParams(location.search).get("embed")),t=window.location===window.parent.location?o.default.Default:o.default.Embed;return Object.values(o.default).includes(e)?e:t};e.getMetadata=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){const a=P(t)||M(e.duration,e.level,t);return{title:e.title?e.title.content:"",category:e.category?e.category.content:n.default.Default,duration:e.duration&&a?f(e.duration.content):null,level:e.level?e.level.content:"",audience:e.audience&&a?y(e.audience.content):"",products:e.products?e.products.content:"",productsParsed:e.products&&a?yield v(e.products.content):"",technologies:e.technologies&&a?A(e.technologies.content):"",released:e.released&&a?S(e.released.content):"",isVersionOf:e.isVersionOf?e.isVersionOf.content:"",labUrl:e.labUrl?e.labUrl.content:""}}));e.getRobotsMeta=e=>__awaiter(void 0,void 0,void 0,(function*(){var t=e?e.getAttribute("content").toLowerCase():"";return!e||"all"===t||t.includes("index")&&t.includes("follow")?yield d.default():""}));const f=e=>{const t=h(e),n=[0,0];return t.forEach((e,t)=>{if(0===t)n[0]+=e;else if(1===t&&(n[1]+=e,e>=60)){const t=m(e);n[0]+=t[0],n[1]=t[1]}}),n};e.parseMetadataDuration=f;const h=e=>{const t=e.slice(2),n=[];let a;for(let e=0;e<t.length;e++){const o=Number(t[e]);let i=1;if(!isNaN(o)){for(a=o.toString();!isNaN(Number(t[e+i]));)a+=t[e+i],i++;e+=i,a+=t[e],n.push(Number(a.slice(0,-1)))}}return n};e.parseDurationItems=h;const m=e=>{const t=[0,0];return t[0]=Math.floor(e/60),e%60!=0&&(t[1]=e%60),t};e.parseDurationMinutes=m;const y=e=>e.split(";").join(", ");e.parseMetadataAudience=y;const v=e=>__awaiter(void 0,void 0,void 0,(function*(){const t={size:e.split(";").length,id:e.split(";").join(",")},n=yield u.getProducts(t);let a="";if(n){const e=u.mapProductsResponse(n);new Set(e.hits.map(e=>{var t,n;return(null===(t=e.source.breadcrumbs)||void 0===t?void 0:t.product)?null===(n=e.source.breadcrumbs)||void 0===n?void 0:n.product.name:""})).forEach(e=>{e.length&&(a+=e+", ")}),a=a.slice(0,-2)}return a})),A=e=>e.split(",").join(", ");e.parseMetadataTechnologies=A;const S=e=>{let n="";return e.length&&(n=new Date(e).toLocaleDateString(t.getLocale(),{month:"short",day:"numeric",year:"numeric"})),n.includes("Invalid Date")&&(n=""),n};e.parseMetadataDate=S;e.getSsotMetadata=e=>{if(e){const t=JSON.parse(e.innerHTML);return l.transformObjectKeysToCamelCase(t.primary)}return{}};e.getPaginationLinks=(e,t,n)=>({contents:e?e.getAttribute("href"):"",previousLink:t?t.getAttribute("href"):"",nextLink:n?n.getAttribute("href"):""});e.getPDFLink=e=>e?e.getAttribute("href"):"";e.getHTMLClasses=(e,t)=>(e.suite&&P(t)&&(e.suite.shortName===a.default.ReferenceArchitecture?t.add(a.default.ReferenceArchitecture):e.suite.shortName===a.default.BuiltAndDeployed?t.add(a.default.BuiltAndDeployed):t.add(a.default.SolutionPlaybook)),t);e.getRelatedContent=(e,t)=>{const n=[];return e&&e.length&&t.length&&s.addSearchSourceParamToAnchors(e,t),null==e||e.forEach((e,t)=>{t<4&&n.push({label:e.textContent,href:e.getAttribute("href")})}),n};e.getDeployGuid=e=>{let t="";if(e&&O(e)){const n=e.match(p);t=n?n[n.length-1].split("#")[1]:""}return t};const M=(e,t,n)=>b(e,t)||C(n)||D(n);e.isLearn=M;const b=(e,t)=>null!==e&&null!==t;e.hasLearnMetadata=b;const P=e=>e.contains(a.default.Solution);e.isSolution=P;e.isArticle=e=>e.contains(a.default.Article)&&e.contains(a.default.LetterStyle);e.isSinglePage=(e,t,n)=>D(e)||L(e,t,n)||w(e);const D=e=>e.contains(a.default.Markdown)&&e.contains(a.default.LetterStyle);e.isLearnSinglePage=D;const L=(e,t,n)=>P(e)&&!(""!==t||""!==n);e.isSolutionSinglePage=L;const w=e=>j(e,a.default.LetterStyle);e.isAcmsSinglePage=w;e.isMultipage=(e,t,n)=>C(e)||R(e,t,n)||k(e);const C=e=>e.contains(a.default.Markdown)&&(e.contains(a.default.Learn)&&!e.contains(a.default.LetterStyle)||j(e,a.default.Markdown));e.isLearnMultipage=C;const R=(e,t,n)=>P(e)&&(""!==t||""!==n);e.isSolutionMultipage=R;const k=e=>0===e.length||_(e);e.isAcmsMultipage=k;e.isReferenceArchitecture=e=>e.contains(a.default.ReferenceArchitecture);e.isBuiltAndDeployed=e=>e.contains(a.default.BuiltAndDeployed);e.isSolutionPlaybook=e=>e.contains(a.default.SolutionPlaybook);e.isModernAppDevelopment=e=>e.contains(i.default.ModernAppDevelopment);e.isCustomerInspired=e=>e.contains(i.default.CustomerInspired);e.isAutomationAvailable=e=>e.contains(i.default.AutomationAvailable);e.isMachineTranslated=e=>e.contains(a.default.MachineTranslation);e.isFA=()=>!!document.querySelector('meta[name="generator"][content="Fusion Publishing Server, UAE Ditamap Publisher"]');const O=e=>{var t;const n=Array.from(document.getElementById("contentContainer").querySelectorAll("h1,h2,h3")).filter(e=>!T(e.classList)),a=r.getHeadingItems(n),o=e.match(p),i=o?document.querySelector(`#publicationContent [id='${null===(t=o[2])||void 0===t?void 0:t.split("#")[1]}']`):null;return e.includes(g)&&(a.some(e=>e.heading===g)||null!==i)};e.hasDeploySection=O;const T=e=>Array.from(e).some(e=>e.startsWith("oj"));e.hasJetClasses=T;const _=e=>Array.from(e).every(e=>e.startsWith("oj"));e.hasOnlyJetClasses=_;const j=(e,t)=>{const n=Array.from(e).filter(e=>!e.startsWith("oj"));return 1===n.length&&n.shift()===t};e.hasOnlyOnePublicationClass=j}));
define('utils/tabbed-interface-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTabbedInterfaceData=e.getTabbedInterfaceId=e.TABBED_INTERFACE_SELECTOR=void 0;e.TABBED_INTERFACE_SELECTOR="div.tabbed-interface";e.getTabbedInterfaceId=e=>"tabbedInterface"+e;e.getTabbedInterfaceData=e=>{const r={};return e.forEach((e,n)=>{r["tabbedInterface"+n]={data:t(e),tabs:a(e)}}),r};const t=e=>{var t;const a=[];return null===(t=e.querySelectorAll("div.tab-content>div.tab-pane"))||void 0===t||t.forEach(e=>a.push(e.innerHTML)),a},a=e=>{var t;const a=[];return null===(t=e.querySelectorAll("ul.nav-tabs>li>a"))||void 0===t||t.forEach(e=>{var t;a.push({id:e.getAttribute("id"),target:null===(t=e.getAttribute("data-target"))||void 0===t?void 0:t.replace("#",""),text:e.getAttribute("data-tab")})}),a}}));
define('utils/content-notices-helper',["require","exports","./dom-helper"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContentNotices=e.ACCESSIBILITY_NOTICE_ANCHORS_SELECTOR=e.TITLE_AND_COPYRIGHT_ANCHORS_SELECTOR=void 0;e.TITLE_AND_COPYRIGHT_ANCHORS_SELECTOR="#titleAndCopyrightInformationNotice a[href]:not([data-toggle])";e.ACCESSIBILITY_NOTICE_ANCHORS_SELECTOR="#documentationAccessibilityNotice a[href]:not([data-toggle])";e.getContentNotices=e=>{const t=null==e?void 0:e.querySelector("div#copyright-information"),n=null==e?void 0:e.querySelector("div#oracle-accessibility");let a,c,u,d;return t&&(a=r(e),c=o(t)),n&&(u=l(e),d=i(n)),{titleAndCopyrightInformationHeader:a,titleAndCopyrightInformationContent:c,documentationAccessibilityHeader:u,documentationAccessibilityContent:d}};const o=e=>{const o=e.querySelectorAll("p");return{paragraphs:Array.from(o).map(e=>e.innerText.includes("Copyright")&&e.querySelector("a")?n(e):t.normalizeSpaces(e.textContent)).filter(e=>e)}},r=e=>{var o;return t.normalizeSpaces(null===(o=null==e?void 0:e.querySelector("a#copyright-information-btn"))||void 0===o?void 0:o.textContent)},n=e=>e.innerHTML.split("<br>").map(e=>{const o=document.createElement("p");o.innerHTML=e;const r=o.removeChild(o.querySelector("a"));return{link:t.normalizeSpaces(r.textContent),path:r.pathname+r.search,detail:t.normalizeSpaces(o.textContent)}}),i=e=>({accessibility:a(e),support:c(e)}),l=e=>{var o;return t.normalizeSpaces(null===(o=null==e?void 0:e.querySelector("a#oracle-accessibility-btn"))||void 0===o?void 0:o.textContent)},a=e=>{const o=Array.from(e.querySelectorAll("div > p")).find(e=>e.textContent&&e.querySelector("a"));return{detail:t.normalizeSpaces(o.textContent),url:null==o?void 0:o.querySelector("a").href}},c=e=>{var o;const r=e.querySelector("div.section"),n=r.querySelectorAll("p")[1];return{heading:t.normalizeSpaces(null===(o=null==r?void 0:r.querySelector("p.subhead1"))||void 0===o?void 0:o.textContent),detail:t.normalizeSpaces(null==n?void 0:n.textContent),urls:Array.from(null==n?void 0:n.querySelectorAll("a")).map(e=>e.href)}}}));
var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function c(e){try{a(n.next(e))}catch(e){i(e)}}function l(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,l)}a((n=n.apply(e,t||[])).next())}))};define('utils/publication-content-fetcher',["require","exports","./publication-context-helper","./tabbed-interface-helper","./content-notices-helper"],(function(require,e,t,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reloadContent=void 0;const o="link[rel=next]";e.reloadContent=e=>__awaiter(void 0,void 0,void 0,(function*(){return i(e)}));const i=e=>__awaiter(void 0,void 0,void 0,(function*(){var i,l,a;const d=yield fetch(e,{method:"GET"}),u=yield d.text(),y=document.createElement("div");y.innerHTML=u;const s=y.querySelector("article"),v=null==s?void 0:s.querySelector(":scope>header>.breadcrumb"),m=y.querySelector("#disclaimers")||(s?c(s):null);v&&s.querySelector(":scope>header").removeChild(v),document.getElementsByTagName("title")[0].innerHTML=null===(i=y.querySelector("title"))||void 0===i?void 0:i.textContent,null===(l=document.querySelector("link[rel=prev]"))||void 0===l||l.remove(),null===(a=document.querySelector(o))||void 0===a||a.remove(),y.querySelector("link[rel=prev]")&&document.getElementsByTagName("head")[0].insertAdjacentElement("beforeend",y.querySelector("link[rel=prev]")),y.querySelector(o)&&document.getElementsByTagName("head")[0].insertAdjacentElement("beforeend",y.querySelector(o));const p=Array.from(y.querySelectorAll(r.TABBED_INTERFACE_SELECTOR)).map(e=>e.cloneNode(!0));return{data:s?s.innerHTML:"<article><div><p>The page failed to load</p></div></article>",paginationLinks:t.getPaginationLinks(document.querySelector("link[rel=contents]"),document.querySelector("link[rel=prev]"),document.querySelector(o)),tabbedInterfaces:r.getTabbedInterfaceData(p),contentNotices:n.getContentNotices(m)}})),c=e=>{const t=e.querySelector("div.notices");return l(e),t?(t.parentElement.removeChild(t),t):a(e)},l=e=>{var t;null===(t=e.querySelector("article>hr:last-of-type"))||void 0===t||t.remove()},a=e=>{const t=document.createElement("div");return e.querySelector("a#copyright-information-btn")&&e.querySelector("div#copyright-information")&&(t.appendChild(e.querySelector("a#copyright-information-btn")),t.appendChild(e.querySelector("div#copyright-information"))),e.querySelector("a#oracle-accessibility-btn")&&e.querySelector("div#oracle-accessibility")&&(t.appendChild(e.querySelector("a#oracle-accessibility-btn")),t.appendChild(e.querySelector("div#oracle-accessibility"))),t}}));
var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function c(e){try{s(r.next(e))}catch(e){a(e)}}function i(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))};define('utils/link-helper',["require","exports","../models/components/common/table-of-contents/toc-heading-origin.enum","./publication-content-fetcher"],(function(require,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateHistory=e.openUrlNewPage=e.isExternalLink=e.isInternalLink=e.getUrlWithSearchSourceParam=e.setAnchorsToOpenInNewWindow=e.addSearchSourceParamToAnchors=e.removeAnchorsHandler=e.updateAnchors=e.addAnchorsHandler=e.setInternalUrls=e.SOURCE_PARAM=e.ANCHORS_SELECTOR=void 0;const r="#u02mainmenu a[href], div.u02user a[href], #u02countrymenu a[href], #mainContainer a[href]:not([data-toggle]), #u10 a[href], #publicationContent ul a[href]";e.ANCHORS_SELECTOR=r;const o="#mainContainer a[href]:not([data-toggle]), #publicationContent ul a[href]";e.SOURCE_PARAM="source";const a=["click","keyup"],c=e=>{let t=[];return e.forEach(e=>{t.push(e.href.split("#")[0]),e.children&&e.children.length&&(t=[...t,...c(e.children)])}),t};e.setInternalUrls=c;e.updateAnchors=(e,t=!1)=>{const n=document.querySelectorAll(t?o:r);l(n),e.length&&s(n,e)};e.addAnchorsHandler=(e,t,n,c,s=!1)=>{const l=document.querySelectorAll(s?o:r);a.forEach(r=>{l.forEach(o=>o.addEventListener(r,r=>__awaiter(void 0,void 0,void 0,(function*(){i(r,o,e,t,n,c)}))))})};e.removeAnchorsHandler=(e,t,n,o)=>{const c=document.querySelectorAll(r);a.forEach(r=>c.forEach(a=>a.removeEventListener(r,r=>{i(r,a,e,t,n,o)})))};const i=(e,r,o,a,c,i)=>__awaiter(void 0,void 0,void 0,(function*(){const s=r.getAttribute("href"),l=p(o,s);if(e.key&&"Enter"!==e.key||e.ctrlKey||!l||l&&m(s))return;e.preventDefault(),v(a,s);const h=yield n.reloadContent(s);yield c(h),i({heading:s,parentHeading:"",origin:t.default.InternalUrl})})),s=(e,t)=>{Array.from(e).filter(e=>{const{url:t,searchParams:n}=h(e);return t.hostname.includes("oracle")&&!n.has("source")}).forEach(e=>{const{url:n,searchParams:r}=h(e);r.append("source",t),n.search=r.toString(),e.setAttribute("href",n.toString())})};e.addSearchSourceParamToAnchors=s;const l=e=>{Array.from(e).filter(e=>{const t=e.getAttribute("href");return d(e.classList)||w(t)&&A(t)||f(t)}).forEach(e=>e.setAttribute("target","_blank"))};e.setAnchorsToOpenInNewWindow=l;const h=e=>{const t=new URL(e.getAttribute("href"),e.hostname===location.hostname?location.href:void 0);return{url:t,searchParams:t.searchParams}},u=(e,t)=>{const n=new URL(e,location.href);return n.searchParams.append("source",t),n.toString()};e.getUrlWithSearchSourceParam=u;const d=e=>e.contains("newwindow"),f=e=>e.toLowerCase().endsWith(".pdf"),p=(e,t)=>e.has(t.split("#")[0]);e.isInternalLink=p;const m=e=>window.location.pathname.split("/").pop()===e.split("#").shift(),w=e=>{try{const t=new URL(window.location.href),n=new URL(e);return!y(t,n)}catch(e){return!1}};e.isExternalLink=w;const A=e=>{try{const t=new URL(e);return!S(t)&&!g(t)}catch(e){return!1}};e.openUrlNewPage=A;const y=(e,t)=>e.hostname===t.hostname&&e.port===t.port&&e.protocol===t.protocol,g=e=>"/pls/topic/lookup"===e.pathname,S=e=>"docs.cloud.oracle.com"===e.hostname,v=(e,t)=>{const n=new URL(t,location.href),r={baseUrl:n.origin+n.pathname},o=e.length?u(t,e):t;"file:"!==window.location.protocol&&(null===history.state?window.history.replaceState(r,"",o):r.baseUrl!==history.state.baseUrl?window.history.pushState(r,"",o):window.history.replaceState(r,"",o))};e.updateHistory=v}));
/**
 * Copyright (c) 2015, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
!function(){function a(){"use strict";function a(a,b,e){f[a]={deps:b.map(c),module:e,resolve:d}}function b(a,b){var c=e(a);b.apply(null,c)}function c(a){return 0===a.indexOf("./")?a.substr(2):a}function d(){if(!this._resolvedModule){var a=e(this.deps),b=this.module;this._resolvedModule="function"==typeof b?b.apply(null,a):b}return this._resolvedModule}function e(a){return a.map(function(a){return f[a].resolve()})}var f={};return{define:a,require:b}}var b=a(),c=b.define,d=b.require;c("dataTransfer",[],function(){"use strict";function a(a,b){function c(a){if("protected"!==p()){var b=f(a);return b&&m.hasOwnProperty(b)?m[b]:null}return""}function d(a,b){if("readwrite"===p()){var c=f(a);c&&(m[c]=b.toString())}}function e(a){if("readwrite"===p()){var b=f(a);b?m.hasOwnProperty(b)&&delete m[b]:m={}}}function f(a){return a?a.toString().toLowerCase():null}function g(b,c,d){a&&a(b,c,d)}function h(){var a=Object.keys(m);return a.item=function(b){return b>=0&&b<a.length?a[b]:null},a.contains=function(b){return a.indexOf(b)>=0},a}function i(){return n}function j(a){a=a.toLowerCase(),q.indexOf(a)>=0&&(n=a)}function k(){return o}function l(a){a=a.toLowerCase(),r.indexOf(a)>=0&&(o=a)}var m={},n="none",o="uninitialized",p=b||function(){return"readwrite"},q=["none","copy","link","move"],r=["uninitialized","none","copy","copylink","copymove","link","linkmove","move","all"];this.files={},this.items={},this.getData=c,this.setData=d,this.clearData=e,this.setDragImage=g,Object.defineProperty(this,"types",{get:h}),Object.defineProperty(this,"dropEffect",{get:i,set:j}),Object.defineProperty(this,"effectAllowed",{get:k,set:l})}return a}),c("dragImage",[],function(){"use strict";function a(a,b,c){function d(a){var b=0;if(a.children)for(var c=0;c<a.children.length;c++){var e=a.children[c],f=window.getComputedStyle(e);b="static"===f.position||"auto"===f.zIndex||isNaN(f.zIndex)?Math.max(b,d(e)):Math.max(b,f.zIndex)}return b}function e(a){var b=null!=a.parentNode,c=a.style.position,e=a.style.top;b||(a.style.position="fixed",a.style.top="10000px",document.body.appendChild(a));var f=a.cloneNode(!0);return f.id=a.id+"_dragimage",f.style.opacity=.7,f.style.position="fixed",f.style.width=a.offsetWidth+"px",f.style.height=a.offsetHeight+"px",f.style.zIndex=d(document.body)+1,f.style.visibility="hidden",b||(document.body.removeChild(a),a.style.position=c,a.style.top=e),f}function f(){document.body.appendChild(j),j.scrollLeft=m,j.scrollTop=n}function g(){document.body.removeChild(j),j=null}function h(a,b){j.style.left=a-k+m+"px",j.style.top=b-l+n+"px"}function i(a){j.style.visibility=a?"visible":"hidden"}var j=e(a),k=b,l=c,m=a.scrollLeft,n=a.scrollTop;this.start=f,this.end=g,this.move=h,this.show=i}return a}),c("eventDispatcher",[],function(){"use strict";function a(a,c,d){var e=b(a,c,d);return!c.target.dispatchEvent(e)}function b(a,b,d){var e;if(window.Event&&"function"==typeof window.Event){var g={bubbles:h[a].bubbles,cancelable:h[a].cancelable};e=new window.Event(a,g)}else e=document.createEvent("Event"),e.initEvent(a,h[a].bubbles,h[a].cancelable);return e.view=document.defaultView,e.detail=0,f(e,b),e.getModifierState=function(a){return c(a,b)},e.dataTransfer=d,e.__isPseudo=!0,e}function c(a,b){return"Alt"===a?b.altKey:"Control"===a?b.ctrlKey:"Meta"===a?b.metaKey:"Shift"===a&&b.shiftKey}function d(a){return a||0}function e(a){return a||!1}function f(a,b){var c=b.target.getBoundingClientRect();a.screenX=d(b.screenX),a.screenY=d(b.screenY),a.clientX=d(b.clientX),a.clientY=d(b.clientY),a.offsetX=b.clientX-c.left,a.offsetY=b.clientY-c.top,a.pageX=d(b.pageX),a.pageY=d(b.pageY),a.altKey=e(b.altKey),a.ctrlKey=e(b.ctrlKey),a.metaKey=e(b.metaKey),a.shiftKey=e(b.shiftKey),a.button=d(b.button),a.buttons=d(b.buttons),a.relatedTarget=b.relatedTarget?b.relatedTarget:null}function g(a){return{screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey,button:a.button,buttons:a.buttons}}var h={dragstart:{bubbles:!0,cancelable:!0},drag:{bubbles:!0,cancelable:!0},dragend:{bubbles:!0,cancelable:!1},dragenter:{bubbles:!0,cancelable:!0},dragover:{bubbles:!0,cancelable:!0},dragleave:{bubbles:!0,cancelable:!1},drop:{bubbles:!0,cancelable:!0}};return{dispatch:a,getMouseEventProps:g}}),c("autoScroller",[],function(){"use strict";function a(a,c,d){for(var e=a;null!=e&&!b(e,c,d);)e=e.parentNode;return e}function b(a,b,f){if(!c(a))return!1;var g,h,i=a.scrollLeft,j=a.scrollTop;if(a===document.documentElement)i=i||document.body.scrollLeft,j=j||document.body.scrollTop;else{var k=a.getBoundingClientRect();b-=Math.round(k.left),f-=Math.round(k.top)}return g=d(a.clientWidth,a.scrollWidth,b,i),h=d(a.clientHeight,a.scrollHeight,f,j),!(!g&&!h)&&(e(a,i+g,j+h),!0)}function c(a){if(a===document.body)return!1;if(a===document.documentElement)return!0;if(1===a.nodeType){var b=window.getComputedStyle(a,null);return("auto"===b.overflow||"scroll"===b.overflow)&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight)}return!1}function d(a,b,c,d){var e=12,f=15;if(c>a-e&&c<a){if(d+a<b)return f}else if(c>=0&&c<e&&d>0)return-Math.min(d,f);return 0}function e(a,b,c){a.scrollLeft=b,a.scrollTop=c,a===document.documentElement&&(document.body.scrollLeft=b,document.body.scrollTop=c)}return{checkAutoScroll:a}}),c("dragController",["./dataTransfer","./dragImage","./eventDispatcher","./autoScroller"],function(a,b,c,d){"use strict";function e(){function e(b,c,d){var e=new a(m,f);return g("dragstart",b,d,e)?{dragState:"canceled"}:j(e,c)?k(e,b,d):{dataTransfer:e}}function f(){return Q}function g(a,b,d,e,f){return Q=h(a),"dragstart"!==a&&(e.dropEffect=i(a,e.effectAllowed)),d||(d={}),d.target=b,d.relatedTarget=f,c.dispatch(a,d,e)}function h(a){return"dragstart"===a?"readwrite":"drop"===a?"readonly":"protected"}function i(a,b){return"drag"===a||"dragleave"===a?"none":"dragenter"===a||"dragover"===a?"none"===b?"none":"move"===b?"move":0===b.indexOf("link")?"link":"copy":U}function j(a,b){return 0!==a.types.length&&(!b||b(a,M))}function k(a,b,c){return L=a,N=b,P=document.body.style.cursor,l(b,c),{dragState:"started",dataTransfer:a}}function l(a,b){if(null==M){var c=a.getBoundingClientRect(),d=b?b.clientX:c.left,e=b?b.clientY:c.top;m(a,d-c.left,e-c.top)}}function m(a,c,d){M&&(M.end(),M=null),a&&a.cloneNode&&(R={x:c,y:d},M=new b(a,c,d),M.start())}function n(a){if(a&&o()){if(M.show(!1),p(a))return D(a),!0;try{var b=q(a);r(b,a),s(b,a),v(b,a),B(b,a)}finally{M.show(!0)}}return!1}function o(){return null!=L}function p(a){return g("drag",N,a,L)}function q(a){var b=a.clientX,c=a.clientY;return b===S&&c===T?O:document.elementFromPoint(b,c)}function r(a,b){a!==O&&(a&&g("dragenter",a,b,L,O),O&&(z(O),g("dragleave",O,b,L,a)))}function s(a,b){if(a){t(g("dragover",a,b,L))}}function t(a){if(a){var b=L.effectAllowed;U="uninitialized"===b||"all"===b||b.indexOf(L.dropEffect)>=0?L.dropEffect:"none"}else U=u(O)?"copy":"none"}function u(a){return a&&("TEXTAREA"===a.nodeName||"INPUT"===a.nodeName&&"text"===a.type)}function v(a,b){w(b),x(a),A(a,b)}function w(a){M.move(a.clientX,a.clientY)}function x(a){var b;b="none"===U?"not-allowed":"copy"===U?"copy":"link"===U?"alias":"default",b!==document.body.style.cursor&&(document.body.style.cursor=b),y(a,b)}function y(a,b){a.style.cursor!==b&&(void 0===a._dndSavedCursor&&(a._dndSavedCursor=a.style.cursor),a.style.cursor=b)}function z(a){void 0!==a._dndSavedCursor&&(a.style.cursor=a._dndSavedCursor,delete a._dndSavedCursor)}function A(a,b){d.checkAutoScroll(a,b.clientX,b.clientY)&&(S=-1,T=-1)}function B(a,b){O=a,S=b.clientX,T=b.clientY}function C(a){E(a,!1)}function D(a){E(a,!0)}function E(a,b){if(o()){M.show(!1);var c=q(a);c&&(z(c),F(c,a,b),G(c,a,b)),g("dragend",N,a,L),J()}}function F(a,b,c){H(c)||g("dragleave",a,b,L)}function G(a,b,c){if(H(c)){var d=g("drop",a,b,L);return d?U=L.dropEffect:u(a)?I(a):U="none",d}return!0}function H(a){return!a&&"none"!==U}function I(a){var b=L.getData("text");if(b&&""!==b){var c=a.value,d=a.selectionEnd;a.value=c.substring(0,d)+b+c.substring(d)}}function J(){m(null,0,0),L=null,N=null,O=null,U="none",document.body.style.cursor=P,P=null}function K(a){var b=a.target,d=a.relatedTarget,e=c.getMouseEventProps(a);switch(a.type){case"drag":M&&M.show(!0),g("drag",b,e,L);break;case"dragenter":g("dragenter",b,e,L,d);break;case"dragleave":g("dragleave",b,e,L,d);break;case"dragover":var f=R.x>0?e.clientX-V:e.clientX+W,h=e.clientY;M.move(f,h);var i=g("dragover",b,e,L);t(i),i&&a.preventDefault();break;case"dragend":M&&M.show(!1),g("dragend",b,e,L,d),J(),a.dataTransfer.clearData();break;case"drop":M&&M.show(!1),i=G(b,e,!1),i&&a.preventDefault()}}var L,M,N,O,P,Q,R,S=-1,T=-1,U="none",V=50,W=10;this.start=e,this.drag=n,this.end=C,this.cancel=D,this.handleDndEvent=K}return e}),c("args",[],function(){"use strict";function a(a,c){if(b(a,c),"string"!=typeof c)throw new Error("argument '"+a+"' must be a string")}function b(a,b){if(!b)throw new Error("required argument '"+a+"' not specified")}return{requiredString:a,required:b}}),c("glassPane",["./eventDispatcher"],function(a){"use strict";function b(b,c){function d(a){l=a,document.body.addEventListener("mouseenter",h,!0),document.body.addEventListener("mousemove",i,!0),document.body.addEventListener("mouseup",j,!0),k=window.setInterval(g,200)}function e(){k&&(window.clearInterval(k),k=null),document.body.removeEventListener("mouseenter",h,!0),document.body.removeEventListener("mousemove",i,!0),document.body.removeEventListener("mouseup",j,!0)}function f(){return l}function g(){try{b(l)}finally{}}function h(b){b.target===document.body&&b.buttons!==m&&(l=a.getMouseEventProps(b),c(l,!0))}function i(b){void 0===m&&(m=b.buttons),b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),g()}function j(b){b.stopPropagation(),b.preventDefault(),l=a.getMouseEventProps(b),c(l,!1)}var k,l,m;this.start=d,this.end=e,this.getLastInputProps=f}return b}),c("desktopDragDriver",["./args","./glassPane","./eventDispatcher"],function(a,b,c){"use strict";function d(d,e){function f(){var a=navigator.userAgent.toLowerCase();(a.indexOf("trident")>0||a.indexOf("edge")>0||a.indexOf("phantomjs")>0)&&(e.addEventListener("dragstart",i,!0),e.addEventListener("drag",v,!0),e.addEventListener("dragover",v,!0),e.addEventListener("dragend",v,!0),e.addEventListener("dragenter",v,!0),e.addEventListener("dragleave",v,!0),e.addEventListener("drop",v,!0),e.addEventListener("pointerdown",h,!0))}function g(){e.removeEventListener("dragstart",i,!0),e.removeEventListener("drag",v,!0),e.removeEventListener("dragover",v,!0),e.removeEventListener("dragend",v,!0),e.removeEventListener("dragenter",v,!0),e.removeEventListener("dragleave",v,!0),e.removeEventListener("drop",v,!0),e.removeEventListener("pointerdown",h,!0)}function h(a){x=a.pointerType}function i(a){if("touch"===x){var b=a.target;b.style.visibility="hidden",u(a),setTimeout(function(){b.style.visibility="visible"},0)}else j(a)}function j(a){var b,e=c.getMouseEventProps(a);a.stopPropagation(),g();try{b=d.start(a.target,k,e)}finally{f()}"canceled"===b.dragState?a.preventDefault():"started"===b.dragState?o(a,b,e):m(b.dataTransfer,a)}function k(a,b){return null!=b||l(a)}function l(a){var b=a.types;if(0===b.length)return!1;for(var c=0;c<b.length;c++){var d=b[c].toLowerCase();if("text"!==d&&"url"!==d)return!0}return!1}function m(a,b){n(a,b,"text"),n(a,b,"url")}function n(a,b,c){var d=a.getData(c);d&&b.dataTransfer.setData(c,d)}function o(a,b,c){a.preventDefault(),p(c)}function p(a){w=new b(r,s),w.start(a),document.body.addEventListener("keydown",t,!0)}function q(){w&&(w.end(),w=null),document.body.removeEventListener("keydown",t,!0)}function r(a){var b=d.drag(a);return b&&q(),b}function s(a,b){q(),b?d.cancel(a):d.end(a)}function t(a){if(a.stopPropagation(),a.preventDefault(),"Esc"===a.key||27===a.keyCode){var b=w.getLastInputProps();q(),d.cancel(b)}}function u(a){if(!a.__isPseudo){a.stopPropagation();for(var b=a.target;b&&!b.draggable;)b=b.parentNode;if(b){y=b;var e=c.getMouseEventProps(a);"started"!==d.start(y,null,e).dragState&&(a.preventDefault(),y=null)}}}function v(a){a.__isPseudo||y&&(a.stopPropagation(),d.handleDndEvent(a),"dragend"===a.type&&(y=null))}a.required("controller",d);var w,x,y;this.install=f,this.remove=g}return d}),c("touchDragDriver",["./args"],function(a){"use strict";function b(b,c){function d(){c.addEventListener("touchstart",g,{passive:!0,capture:!0}),c.addEventListener("touchmove",h,{passive:!1,capture:!0})}function e(){c.removeEventListener("touchstart",g,{passive:!0,capture:!0}),c.removeEventListener("touchmove",h,{passive:!1,capture:!0})}function f(a){return a.hasAttribute&&a.hasAttribute("draggable")&&a.draggable}function g(a){for(var b=a.target;b&&!f(b);)b=b.parentNode;b&&i(b)}function h(){}function i(a){a.addEventListener("touchstart",k,{passive:!0}),a.addEventListener("touchmove",l,{passive:!1}),a.addEventListener("touchend",m,{passive:!0}),a.addEventListener("touchcancel",n,{passive:!0})}function j(a){a.removeEventListener("touchstart",k,{passive:!0}),a.removeEventListener("touchmove",l,{passive:!1}),a.removeEventListener("touchend",m,{passive:!0}),a.removeEventListener("touchcancel",n,{passive:!0})}function k(a){q=a.currentTarget,r=!1}function l(a){if(a.preventDefault(),a.stopPropagation(),!r){if("started"!==b.start(q,null,p(a)).dragState)return void j(a.currentTarget);r=!0}b.drag(p(a))&&j(a.currentTarget)}function m(a){o(a,!1)}function n(a){o(a,!0)}function o(a,c){var d=a.currentTarget;c?b.cancel(p(a)):b.end(p(a)),q=null,r=!1,j(d)}function p(a){return{screenX:Math.round(a.changedTouches[0].screenX),screenY:Math.round(a.changedTouches[0].screenY),clientX:Math.round(a.changedTouches[0].clientX),clientY:Math.round(a.changedTouches[0].clientY),pageX:Math.round(a.changedTouches[0].pageX),pageY:Math.round(a.changedTouches[0].pageY),altKey:a.altKey,ctrlKey:a.ctrlKey,metaKey:a.metaKey,shiftKey:a.shiftKey}}a.required("controller",b);var q=null,r=!1;this.install=d,this.remove=e}return b}),c("bootstrap",["./dragController","./desktopDragDriver","./touchDragDriver"],function(a,b,c){"use strict";function d(){if(!g()){e(new a,-1!==navigator.userAgent.toLowerCase().indexOf("edge")?[b]:[b,c])}}function e(a,b){for(var c=document.documentElement,d=0;d<b.length;d++){var e=b[d],f=new e(a,c);f.install(),h.push(f)}}function f(){h.forEach(function(a){a.remove()}),h=[]}function g(){return h.length>0}var h=[];return{init:d,destroy:f}}),d(["bootstrap"],function(a){a.init()})}();
define("ojdnd", function(){});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdatacollection-common',["exports","jquery","ojs/ojcore-base","ojs/ojdomutils"],function(e,t,n,l){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r=function(){};r._TAB_INDEX="tabIndex",r._DATA_OJ_TABMOD="data-oj-tabmod",r._FOCUSABLE_ELEMENTS_QUERY="input, select, button, a[href], textarea, object, [tabIndex]:not([tabIndex='-1'])",r._FOCUSABLE_ELEMENTS_TAG=["input","select","button","a","textarea","object"],r.CHECKVIEWPORT_THRESHOLD=3,r.getFocusableElementsInNode=function(e,t){var l=[],i=n.AgentUtils.getAgentInfo(),E=!0;if(n.AgentUtils.BROWSER.IE===i.browser&&null==e.parentNode&&(E=!1),E)for(var s=e.querySelectorAll(r._FOCUSABLE_ELEMENTS_QUERY),o=s.length,a=0;a<o;a++){var u=s[a];if(!u.disabled&&(t||r.checkVisibility(u))){var _=parseInt(u.getAttribute(r._TAB_INDEX),10);(isNaN(_)||_>=0)&&l.push(u)}}return l},r.checkVisibility=function(e){return!(0===e.offsetHeight||0===e.offsetWidth)},r.disableElement=function(e){var t=parseInt(e.getAttribute(r._TAB_INDEX),10);e.setAttribute(r._DATA_OJ_TABMOD,t),e.setAttribute(r._TAB_INDEX,-1)},r.disableAllFocusableElements=function(e,t,n){for(var l=[],i=r.getFocusableElementsInNode(e,t),E=0;E<i.length;E++)n&&i[E]===document.activeElement||(r.disableElement(i[E]),l.push(i[E]));return l},r.enableAllFocusableElements=function(e){for(var t=e.querySelectorAll("["+r._DATA_OJ_TABMOD+"]"),n=0;n<t.length;n++){var l=parseInt(t[n].getAttribute(r._DATA_OJ_TABMOD),10);t[n].removeAttribute(r._DATA_OJ_TABMOD),isNaN(l)?t[n].removeAttribute(r._TAB_INDEX):t[n].setAttribute(r._TAB_INDEX,l)}return t},r.isFromDefaultSelector=function(e){return e.target.classList.contains("oj-selectorbox")},r.getFocusableElementsIncludingDisabled=function(e){var t=[];let n=e.querySelectorAll(r._FOCUSABLE_ELEMENTS_QUERY+",["+r._DATA_OJ_TABMOD+"]");for(var l=0;l<n.length;l++){var i=n[l];i.disabled||"none"===i.style.display||t.push(i)}return t},r.isElementOrAncestorFocusable=function(e,t){return!(null==e||t&&t(e))&&(!!e.hasAttribute(r._DATA_OJ_TABMOD)||(parseInt(e.getAttribute(r._TAB_INDEX),10)>=0||(r._FOCUSABLE_ELEMENTS_TAG.indexOf(e.tagName.toLowerCase())>-1||r.isElementOrAncestorFocusable(e.parentElement,t))))},r.handleActionableTab=function(e,t){var n=r.getFocusableElementsInNode(t);return n.length>0&&e.target===n[n.length-1]&&(n[0].focus(),!0)},r.handleActionablePrevTab=function(e,t){var n=r.getFocusableElementsInNode(t);return n.length>0&&e.target===n[0]&&(n[n.length-1].focus(),!0)},r.isEventClickthroughDisabled=function(e,t){for(var n=e.target;null!=n&&n!==t;){if(r.isClickthroughDisabled(n))return!0;n=n.parentNode}return!1},r.isClickthroughDisabled=function(e){return"disabled"===e.dataset.ojClickthrough},r.getDefaultScrollBarWidth=function(e){var t;if(e&&e.style){var n=e.style.visibility,l=e.style.position,r=e.style.overflowY,i=e.style.height,E=e.style.width;e.style.visibility="hidden",e.style.position="absolute",e.style.overflowY="hidden",e.style.height="50px",e.style.width="50px";var s=e.offsetWidth-e.clientWidth;e.style.overflowY="scroll",t=e.offsetWidth-e.clientWidth-s,e.style.width=E,e.style.height=i,e.style.overflowY=r,e.style.position=l,e.style.visibility=n}return t},r.disableDefaultBrowserStyling=function(e){e.setAttribute("x-ms-format-detection","none")},r.applyMergedInlineStyles=function(e,t,n){var l=r.convertStringToStyleObj(n),i=r.convertStringToStyleObj(t),E=Object.assign({},l,i);r.applyStyleObj(e,E)},r.convertStringToStyleObj=function(e){var t={};if(e.split)for(var n=e.split(";"),l=0;l<n.length;l++){var r=n[l];if(""!==r){var i=r.split(":");2===i.length&&(t[i[0].trim()]=i[1].trim())}}return t},r.applyStyleObj=function(e,t){for(var n=Object.keys(t),l=Object.values(t),r=0;r<n.length;r++)e.style[n[r]]=l[r]},r.isMobileTouchDevice=function(){var e=n.AgentUtils.getAgentInfo();return e.os===n.AgentUtils.OS.IOS||e.os===n.AgentUtils.OS.ANDROID||e.os===n.AgentUtils.OS.WINDOWSPHONE},r.getNoJQFocusHandlers=function(e,t){return l.getNoJQFocusHandlers(e,t)},r.areKeySetsEqual=function(e,t){if(e===t)return!0;var l,r,i=e.isAddAll();if(i!==t.isAddAll())return!1;if(i?(l=e.deletedValues(),r=t.deletedValues()):(l=e.values(),r=t.values()),l.size!==r.size)return!1;for(var E=l.values(),s=r.values(),o=E.next(),a=s.next();!o.done;){if(!n.KeyUtils.equals(o.value,a.value))return!1;o=E.next(),a=s.next()}return!0},r.KEYBOARD_KEYS={_SPACEBAR:" ",_SPACEBAR_IE:"SpaceBar",_SPACEBAR_CODE:32,_ENTER:"Enter",_ENTER_CODE:13,_UP:"ArrowUp",_UP_IE:"Up",_UP_CODE:38,_DOWN:"ArrowDown",_DOWN_IE:"Down",_DOWN_CODE:40,_LEFT:"ArrowLeft",_LEFT_IE:"Left",_LEFT_CODE:37,_RIGHT:"ArrowRight",_RIGHT_IE:"Right",_RIGHT_CODE:39,_HOME:"Home",_HOME_CODE:36,_END:"End",_END_CODE:35,_TAB:"Tab",_TAB_CODE:9,_ESCAPE:"Escape",_ESCAPE_IE:"Esc",_ESCAPE_CODE:27,_F2:"F2",_F2_CODE:113,_NUM5_KEY:"5",_NUM5_KEY_CODE:53,_LETTER_A:"a",_LETTER_A_UPPERCASE:"A",_LETTER_A_CODE:65},r.isEnterKeyEvent=function(e){return e===r.KEYBOARD_KEYS._ENTER||e===r.KEYBOARD_KEYS._ENTER_CODE},r.isSpaceBarKeyEvent=function(e){return e===r.KEYBOARD_KEYS._SPACEBAR||e===r.KEYBOARD_KEYS._SPACEBAR_IE||e===r.KEYBOARD_KEYS._SPACEBAR_CODE},r.isEscapeKeyEvent=function(e){return e===r.KEYBOARD_KEYS._ESCAPE||e===r.KEYBOARD_KEYS._ESCAPE_IE||e===r.KEYBOARD_KEYS._ESCAPE_CODE},r.isTabKeyEvent=function(e){return e===r.KEYBOARD_KEYS._TAB||e===r.KEYBOARD_KEYS._TAB_CODE},r.isF2KeyEvent=function(e){return e===r.KEYBOARD_KEYS._F2||e===r.KEYBOARD_KEYS._F2_CODE},r.isHomeKeyEvent=function(e){return e===r.KEYBOARD_KEYS._HOME||e===r.KEYBOARD_KEYS._HOME_CODE},r.isEndKeyEvent=function(e){return e===r.KEYBOARD_KEYS._END||e===r.KEYBOARD_KEYS._END_CODE},r.isArrowUpKeyEvent=function(e){return e===r.KEYBOARD_KEYS._UP||e===r.KEYBOARD_KEYS._UP_IE||e===r.KEYBOARD_KEYS._UP_CODE},r.isArrowDownKeyEvent=function(e){return e===r.KEYBOARD_KEYS._DOWN||e===r.KEYBOARD_KEYS._DOWN_IE||e===r.KEYBOARD_KEYS._DOWN_CODE},r.isArrowLeftKeyEvent=function(e){return e===r.KEYBOARD_KEYS._LEFT||e===r.KEYBOARD_KEYS._LEFT_IE||e===r.KEYBOARD_KEYS._LEFT_CODE},r.isArrowRightKeyEvent=function(e){return e===r.KEYBOARD_KEYS._RIGHT||e===r.KEYBOARD_KEYS._RIGHT_IE||e===r.KEYBOARD_KEYS._RIGHT_CODE},r.isNumberFiveKeyEvent=function(e){return e===r.KEYBOARD_KEYS._NUM5_KEY||e===r.KEYBOARD_KEYS._NUM5_KEY_CODE},r.isLetterAKeyEvent=function(e){return e===r.KEYBOARD_KEYS._LETTER_A||e===r.KEYBOARD_KEYS._LETTER_A_UPPERCASE||e===r.KEYBOARD_KEYS._LETTER_A_CODE},r.getAddEventKeysResult=function(e,t,n){var l,i,E,s,o;function a(e,t){return{key:e,index:t}}var u=[...e],_=[];t.keys.forEach(function(e){_.push(e)});var c=[],A=t.addBeforeKeys?t.addBeforeKeys:t.afterKeys;null!=A&&A.forEach(function(e){c.push(e)});var f=t.indexes;if(c.length===_.length)for(var K=0;_.length!==K;)for(K=_.length,l=_.length-1;l>=0;l--)E=_[l],r.containsKey(u,E)||(null!=(i=c[l])?-1!==(o=r._indexOfKey(u,i))&&(u.splice(o,0,E),c.splice(l,1),_.splice(l,1)):n&&(u.push(E),c.splice(l,1),_.splice(l,1)));else if(null!=f&&f.length===_.length){var O=[];for(l=0;l<_.length;l++)if(E=_[l],!r.containsKey(u,E))if(null!=(s=f[l])){for(var d=!1,D=0;D<O.length;D++)if(O[D].index>s){O.splice(D,0,a(E,s)),d=!0;break}d||O.push(a(E,s))}else n&&u.push(E);for(l=0;l<O.length;l++){var v=O[l];v.index<u.length?u.splice(v.index,0,v.key):v.index===u.length&&n&&u.push(v.key)}}else n&&_.forEach(function(e){u.push(e)});return u},r.containsKey=function(e,t){for(var l=0;l<e.length;l++)if(n.KeyUtils.equals(e[l],t))return!0;return!1},r._indexOfKey=function(e,t){for(var l=0;l<e.length;l++)if(n.KeyUtils.equals(e[l],t))return l;return-1},r.calculateOffsetTop=function(e,t){for(var n=0,l=t;l&&l!==e&&e.contains(l);)n+=l.offsetTop,l=l.offsetParent;return n};const i=r.applyMergedInlineStyles,E=r.applyStyleObj,s=r.areKeySetsEqual,o=r.containsKey,a=r.convertStringToStyleObj,u=r.disableElement,_=r.disableAllFocusableElements,c=r.disableDefaultBrowserStyling,A=r.enableAllFocusableElements,f=r.getAddEventKeysResult,K=r.getDefaultScrollBarWidth,O=r.getFocusableElementsIncludingDisabled,d=r.isElementOrAncestorFocusable,D=r.getFocusableElementsInNode,v=r.getLogicalChildPopup=function(e){for(var r=n.ZOrderUtils.findOpenPopups(),i=0;i<r.length;i++){var E=r[i].firstElementChild,s=l.getLogicalParent(t(E));if(null!=s&&t(e).has(s.get(0)).length>0&&n.ZOrderUtils.getStatus(E)===n.ZOrderUtils.STATUS.OPEN)return E}return null},y=r.getNoJQFocusHandlers,b=r.handleActionablePrevTab,g=r.handleActionableTab,S=r.isArrowDownKeyEvent,h=r.isArrowLeftKeyEvent,T=r.isArrowRightKeyEvent,p=r.isArrowUpKeyEvent,Y=r.isClickthroughDisabled,B=r.isEndKeyEvent,R=r.isEnterKeyEvent,C=r.isEscapeKeyEvent,m=r.isEventClickthroughDisabled,I=r.isFromDefaultSelector,N=r.isF2KeyEvent,F=r.isHomeKeyEvent,L=r.isMobileTouchDevice,P=r.isSpaceBarKeyEvent,U=r.isTabKeyEvent,w=r.isNumberFiveKeyEvent,H=r.isLetterAKeyEvent,M=r.KEYBOARD_KEYS,j=r.CHECKVIEWPORT_THRESHOLD,x=r.calculateOffsetTop,W=r.isElementInScrollerBounds=function(e,t){var n,l;if(t===document.documentElement)n=0,l=document.documentElement.clientHeight;else{var r=t.getBoundingClientRect();n=r.top,l=r.bottom}var i=e.getBoundingClientRect();return i.top>=n&&i.bottom<=l};e.CHECKVIEWPORT_THRESHOLD=j,e.KEYBOARD_KEYS=M,e.applyMergedInlineStyles=i,e.applyStyleObj=E,e.areKeySetsEqual=s,e.calculateOffsetTop=x,e.containsKey=o,e.convertStringToStyleObj=a,e.disableAllFocusableElements=_,e.disableDefaultBrowserStyling=c,e.disableElement=u,e.enableAllFocusableElements=A,e.getAddEventKeysResult=f,e.getDefaultScrollBarWidth=K,e.getFocusableElementsInNode=D,e.getFocusableElementsIncludingDisabled=O,e.getLogicalChildPopup=v,e.getNoJQFocusHandlers=y,e.handleActionablePrevTab=b,e.handleActionableTab=g,e.isArrowDownKeyEvent=S,e.isArrowLeftKeyEvent=h,e.isArrowRightKeyEvent=T,e.isArrowUpKeyEvent=p,e.isClickthroughDisabled=Y,e.isElementInScrollerBounds=W,e.isElementOrAncestorFocusable=d,e.isEndKeyEvent=B,e.isEnterKeyEvent=R,e.isEscapeKeyEvent=C,e.isEventClickthroughDisabled=m,e.isF2KeyEvent=N,e.isFromDefaultSelector=I,e.isHomeKeyEvent=F,e.isLetterAKeyEvent=H,e.isMobileTouchDevice=L,e.isNumberFiveKeyEvent=w,e.isSpaceBarKeyEvent=P,e.isTabKeyEvent=U,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdatacollection-common.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdomscroller',["ojs/ojcore-base","jquery","ojs/ojdatacollection-common","ojs/ojlogger"],function(e,t,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const s=function(e,r,i){i=i||{},this._data=r,this._asyncIterator=i.asyncIterator,this._element=t(e)[0],this._contentElement=i.contentElement,this._fetchSize=i.fetchSize,this._fetchSize=this._fetchSize>0?this._fetchSize:25,this._maxCount=i.maxCount,this._maxCount=this._maxCount>0?this._maxCount:500,this._rowCount=i.initialRowCount>0?i.initialRowCount:0,this._successCallback=i.success,this._requestCallback=i.request,this._errorCallback=i.error,this._isOverflowCallback=i.isOverflow,this._beforeFetchCallback=i.beforeFetch,this._beforeScrollCallback=i.beforeScroll,this._localKeyValidator=i.localKeyValidator,this._registerDataSourceEventListeners(),this._fetchTrigger=i.fetchTrigger,(null==this._fetchTrigger||isNaN(this._fetchTrigger))&&(this._fetchTrigger=0),this._initialScrollTop=this._element.scrollTop,this._lastFetchTrigger=0,this._isScrollTriggeredByMouseWheel=!1,this._checkViewportCount=0,this._fetchThreshold=.25;var s=this._getScrollEventElement();this._scrollEventListener=function(){this._beforeScrollCallback&&this._beforeScrollCallback();var e=this._element.scrollTop,t=this._element.clientHeight,r=this._element.scrollHeight-t;r>0&&(this._contentElement?this._handleExternalScrollerScrollTop(e,t):this._handleScrollerScrollTop(e,r))}.bind(this),s.addEventListener("scroll",this._scrollEventListener),this._wheelEventListener=function(){this._isScrollTriggeredByMouseWheel=!0}.bind(this),s.addEventListener("wheel",this._wheelEventListener,{passive:!0}),this._mouseDownEventListener=function(){this._isScrollTriggeredByMouseWheel=!1}.bind(this),s.addEventListener("mousedown",this._mouseDownEventListener)};return s.prototype.setAsyncIterator=function(e){this._asyncIterator=e},s.prototype.setFetchTrigger=function(e){null!=e&&!isNaN(e)&&e>=0&&(this._fetchTrigger=e)},s.prototype._getScrollEventElement=function(){return this._element===document.body||this._element===document.documentElement?window:this._element},s.prototype.destroy=function(){this._unregisterDataSourceEventListeners();var e=this._getScrollEventElement();e&&(e.removeEventListener("scroll",this._scrollEventListener),e.removeEventListener("wheel",this._wheelEventListener,{passive:!0}),e.removeEventListener("mousedown",this._mouseDownEventListener))},s.prototype.checkViewport=function(e){return this._asyncIterator&&this._element.clientHeight>0&&(e||!this.isOverflow()||this._isEndReached())&&(this._checkViewportCount+=1,this._checkViewportCount===r.CHECKVIEWPORT_THRESHOLD&&i.warn("Viewport not satisfied after multiple fetch, make sure the component is height constrained or specify a scroller."),this._beforeFetchCallback(this._element.scrollTop,!0))?this._fetchMoreRows():(this._checkViewportCount=0,Promise.resolve(null))},s.prototype._doFetch=function(e){var t=this;if(this._beforeFetchCallback(e-this._fetchTrigger,!1)){this._lastFetchTrigger=e;var r=t._isScrollTriggeredByMouseWheel;this._fetchPromise=this._fetchMoreRows().then(function(e){t._successCallback&&(e.isMouseWheel=r,t._successCallback(e),t._fetchPromise=null,t._nextFetchTrigger=void 0)},function(e){t._errorCallback&&(t._errorCallback(e),t._fetchPromise=null,t._nextFetchTrigger=void 0)})}else this._nextFetchTrigger=void 0},s.prototype._handleExternalScrollerScrollTop=function(e,t){if(!this._fetchPromise&&this._asyncIterator){var r=this._contentElement.getBoundingClientRect();r.bottom-this._fetchTrigger-r.height*this._fetchThreshold<=t&&this._doFetch(e)}},s.prototype._handleScrollerScrollTop=function(e,t){!this._fetchPromise&&this._asyncIterator&&(t!==this._lastMaxScrollTop&&(this._nextFetchTrigger=Math.max(0,(t-this._fetchTrigger-e)/2),this._lastMaxScrollTop=t),null!=this._nextFetchTrigger&&e-this._lastFetchTrigger>this._nextFetchTrigger)?this._doFetch(e):t-e<1&&e>this._fetchTrigger&&(this._fetchPromise?this._asyncIterator?null!=this._requestCallback&&this._requestCallback():null!=this._errorCallback&&this._errorCallback():this._asyncIterator&&this._doFetch(e))},s.prototype.isOverflow=function(){if(this._isOverflowCallback)return this._isOverflowCallback();var t=(this._contentElement?this._contentElement.scrollHeight:this._element.scrollHeight)-(this._element.clientHeight+this._fetchTrigger);return 1===t&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.EDGE&&(t=0),t>0},s.prototype._isEndReached=function(){return this._element.scrollHeight-this._element.clientHeight-this._element.scrollTop<Math.max(1,this._fetchTrigger)},s.prototype._fetchMoreRows=function(){if(!this._fetchPromise){var e=this._maxCount-this._rowCount;if(e>0){var t=this;if(this._asyncIterator)return this._fetchPromise=this._asyncIterator.next().then(function(r){var i=r;return t._fetchPromise=null,null!=i&&null!=i.value&&(i.value.data.length>0&&(t._rowCount+=i.value.data.length,e<t._fetchSize&&(i.maxCount=t._maxCount,i.maxCountLimit=!0,i.value.data.length>e&&(i.value.data=i.value.data.slice(0,e),i.value.metadata=i.value.metadata.slice(0,e),null!=i.value.fetchParameters&&(i.value.fetchParameters.size=e)))),(i.done||i.maxCountLimit)&&(t._asyncIterator=null)),Promise.resolve(i)}),this._fetchPromise}return this._asyncIterator=null,Promise.resolve({maxCount:this._maxCount,maxCountLimit:!0})}return this._fetchPromise},s.prototype._handleDataRowMutateEvent=function(e){if(null!=this._asyncIterator){var t,r,i,s=this;null!=e.detail.add&&(null!=(t=e.detail.add).indexes?r=t.indexes:null!=t.addBeforeKeys?i=t.addBeforeKeys:null!=t.afterKeys&&(i=t.afterKeys),this._handleDataRowAddedOrRemoved(i,r,function(){s._rowCount+=1})),null!=e.detail.remove&&(null!=(t=e.detail.remove).indexes?r=t.indexes:null!=t.keys&&(i=t.keys),this._handleDataRowAddedOrRemoved(i,r,function(){s._rowCount-=1}))}},s.prototype._handleDataRowAddedOrRemoved=function(e,t,r){if(t)for(var i=0;i<t.length;i++){var s=t[i];void 0!==s&&this._rowCount>0&&s<=this._rowCount&&r()}else if(e){var n=this._localKeyValidator;null!=n&&e.forEach(function(e){n(e)&&r()})}},s.prototype._registerDataSourceEventListeners=function(){var e,t,r=this._data;if(null!=r)for(this._unregisterDataSourceEventListeners(),this._dataProviderEventHandlers=[],this._dataProviderEventHandlers.push({eventType:"mutate",eventHandler:this._handleDataRowMutateEvent.bind(this)}),e=0;e<this._dataProviderEventHandlers.length;e++)(t=r.addEventListener(this._dataProviderEventHandlers[e].eventType,this._dataProviderEventHandlers[e].eventHandler))&&(this._dataProviderEventHandlers[e].eventHandler=t)},s.prototype._unregisterDataSourceEventListeners=function(){var e,t=this._data;if(null!=this._dataProviderEventHandlers&&null!=t)for(e=0;e<this._dataProviderEventHandlers.length;e++)t.removeEventListener(this._dataProviderEventHandlers[e].eventType,this._dataProviderEventHandlers[e].eventHandler)},s});
//# sourceMappingURL=ojdomscroller.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataproviderscroller',["exports","ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojconfig","ojs/ojanimation","ojs/ojlogger","ojs/ojdatacollection-common","ojs/ojdomscroller","ojs/ojset","ojs/ojmap"],function(t,e,i,n,o,r,s,l,a,d,h){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h;var m=function(t,e,i){this.m_root=e,this.m_widget=t,this.m_fetching=!1,this.setDataProvider(i),this.Init()};e.Object.createSubclass(m,e.Object,"DataProviderContentHandler"),m.prototype.Init=function(){m.superclass.Init.call(this)},m.prototype.notifyShown=function(){},m.prototype.notifyAttached=function(){},m.prototype.cleanItems=function(t,e){if(void 0===t&&(t=this.getTemplateEngine()),void 0===e&&(e=this.m_root),t&&e)for(var i=e.childNodes,n=0;n<i.length;n++)t.clean(i[n])},m.prototype.Destroy=function(t){null!=this.m_superRoot&&(this.m_root=this.m_superRoot),this.cleanItems(),t&&i(this.m_root).empty(),this.m_widget=null,this.m_root=null,this.m_superRoot=null},m.prototype.IsReady=function(){return!this.m_fetching},m.prototype.setRootAriaProperties=function(){this.shouldUseGridRole()?this.m_root.setAttribute("role","grid"):this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},m.prototype.RenderContent=function(){this.signalTaskStart("rendering content"),this.setRootAriaProperties(),this.fetchRows(!1),this.signalTaskEnd()},m.prototype.GetKey=function(t){return t.key},m.prototype.FindElementByKey=function(t){for(var n=i(this.m_root).find("."+this.m_widget.getItemElementStyleClass()),o=0;o<n.length;o++){var r=n[o];if((t==this.GetKey(r)||e.Object.compareValues(t,this.GetKey(r)))&&!r.classList.contains("oj-listview-item-remove")&&!r.classList.contains("oj-drop"))return r}return null},m.prototype.getDataProvider=function(){return this.m_dataProvider},m.prototype.setDataProvider=function(t){this._removeDataSourceEventListeners(),null!=t&&(this.m_handleModelMutateEventListener=this.handleModelMutateEvent.bind(this),this.m_handleModelRefreshEventListener=this.handleModelRefreshEvent.bind(this),t.addEventListener("mutate",this.m_handleModelMutateEventListener),t.addEventListener("refresh",this.m_handleModelRefreshEventListener)),this.m_dataProvider=t},m.prototype._removeDataSourceEventListeners=function(){var t=this.getDataProvider();null!=t&&(t.removeEventListener("mutate",this.m_handleModelMutateEventListener),t.removeEventListener("refresh",this.m_handleModelRefreshEventListener),e.TableDataSourceAdapter&&t instanceof e.TableDataSourceAdapter&&t.destroy())},m.prototype.loadTemplateEngine=function(){var t=this;return null!=this.m_widget.getItemTemplate()&&null==this.m_widget._getItemRenderer()?new Promise(function(e){o.__getTemplateEngine().then(function(i){t.m_engine=i,e(i)},function(t){throw new Error("Error loading template engine: "+t)})}):Promise.resolve(null)},m.prototype.getTemplateEngine=function(){return this.m_engine},m.prototype.fetchRows=function(t){this.m_widget.showStatusText()},m.prototype.GetChildElementTagName=function(){return"LI"},m.prototype.GetReferenceNode=function(t,e){if(-1===e)return null;var n=i(t).children("."+this.m_widget.getItemElementStyleClass()+", ."+this.m_widget.getEmptyTextStyleClass()+", .oj-listview-temp-item");return e===n.length?null:n[e]},m.prototype.addItem=function(t,e,n,o,r,s,l){var a=document.createElement(this.GetChildElementTagName());i(a).uniqueId();var d=this.GetReferenceNode(t,e);this.m_widget.BeforeInsertItem&&this.m_widget.BeforeInsertItem(),t.insertBefore(a,d);var h=i(t).children().index(a);return this._addOrReplaceItem(a,h,t,e,n,o,r,s,!1,l)},m.prototype.replaceItem=function(t,e,n,o,r,s,l){this.signalTaskStart("replace item");var a=t.parentNode,d=i(a).children().index(t),h=document.createElement(this.GetChildElementTagName());return r&&r.clean(t),i(t).replaceWith(h),this._addOrReplaceItem(h,d,a,e,n,o,r,s,l)},m.prototype._addOrReplaceItem=function(t,e,n,o,r,s,l,a,d,h){null==a&&(a=this.afterRenderItem.bind(this));var m,c=this.createContext(e,r,s,t,h),u=this.m_widget._getItemRenderer(),p=this.m_widget.getItemTemplate(),g=!1;if(null!=u){var _=u.call(this,c);null!=_&&(null===_.parentNode||_.parentNode instanceof DocumentFragment?t.appendChild(_):null!=_.parentNode||_.toString&&((m=document.createElement("span")).appendChild(document.createTextNode(_.toString())),t.appendChild(m)))}else if(null!=p&&null!=l)for(var f=this.m_widget.GetRootElement()[0],v=this.GetBindingContext(c),y=this.m_widget.getAs?this.m_widget.getAs():null,w=l.execute(f,p,v,y),S=this.GetChildElementTagName(),E=0;E<w.length;E++){if(w[E].tagName===S){n.replaceChild(w[E],t),g=!0;break}t.appendChild(w[E])}else(m=document.createElement("span")).appendChild(document.createTextNode(null==r?"":r.toString())),t.appendChild(m);var I=n.children?n.children[e]:this._getItemFromDocumentFragment(n,e);return c.parentElement=I,i.data(I,"data",r),i.data(I,"metadata",h),a(I,c,g,d)},m.prototype._getItemFromDocumentFragment=function(t,e){for(var i=0,n=t.childNodes,o=0;o<n.length;o++){var r=n[o];if(!r)break;if(1===r.nodeType){if(i===e)return r;i+=1}}return null},m.prototype.GetBindingContext=function(t){var e={};return e.data=t.data,e.index=t.index,e.key=t.key,e.componentElement=t.componentElement,e.item={data:t.data,metadata:t.metadata},e},m.prototype.afterRenderItem=function(t,e){t.key=e.key;var n=i(t);n.uniqueId();var o=this.m_widget.getSingleFocusableElement(n);if(this.shouldUseGridRole())if(null==e.leaf||e.leaf)if(this.isCardLayout())o.attr("role","gridcell");else if(n.attr("role","row"),o!==n)o.attr("role","gridcell");else{if(0===o.children().length)o.get(0).innerHTML="<div role='gridcell' class='oj-listview-cell-element'></div>";else{var r=document.createElement("div");for(r.setAttribute("role","gridcell"),r.className="oj-listview-cell-element";o[0].firstChild;)r.appendChild(o[0].firstChild);o[0].appendChild(r)}}else n.attr("role","presentation");else o.attr("role",this.IsHierarchical()?"treeitem":"option"),o!==n&&n.attr("role","presentation");return o.addClass(this.m_widget.getFocusedElementStyleClass()),this.isFocusable(e)||n.addClass("oj-skipfocus"),n.addClass(this.m_widget.getItemElementStyleClass()),Promise.resolve(!0)},m.prototype.getMetadata=function(t,e,i,n){var o=i.context;return null==o&&(o={}),null==o.index&&(o.index=t),null==o.key&&(o.key=e),o},m.prototype.handleModelMutateEvent=function(t){null!=this.m_root&&this.m_widget.isAvailable()&&(null!=t.detail.remove&&this.handleModelRemoveEvent(t),null!=t.detail.add&&this.handleModelAddEvent(t),null!=t.detail.update&&this.handleModelChangeEvent(t))},m.prototype.handleModelRefreshEvent=function(t){},m.prototype._pushToEventQueue=function(t){null==this.m_eventQueue&&(this.m_eventQueue=[]),this.m_eventQueue.push(t)},m.prototype._processEventQueue=function(){var t;if(null!=this.m_eventQueue&&this.m_eventQueue.length>0){for(var e=0;e<this.m_eventQueue.length;e++)if("refresh"===(t=this.m_eventQueue[e]).type)return void this.handleModelRefreshEvent(t.event);"mutate"===(t=this.m_eventQueue.shift()).type&&this.handleModelMutateEvent(t.event)}},m.prototype._clearEventQueue=function(){null!=this.m_eventQueue&&(this.m_eventQueue.length=0)},m.prototype.addItemsForModelInsert=function(t,e,i,n,o){},m.prototype.getIndex=function(t,e){if(null==t||0===t.length||e>=t.length)return-1;var n=t[e],o=this.FindElementByKey(n);return null!=o?i(o.parentNode).children().index(o):-1},m.prototype.handleModelAddEvent=function(t){if(this.IsReady()){this.signalTaskStart("handling model add event"),this.m_superRoot&&0===this.m_root.childNodes.length&&this.m_superRoot.appendChild(this.m_root.parentNode);var e,i,n=t.detail.add,o=n.data,r=[];n.keys.forEach(function(t){r.push(t)});var s=!0;void 0!==n.addBeforeKeys?i=n.addBeforeKeys:void 0!==n.afterKeys&&(i=n.afterKeys,s=!1),i&&(e=[],i.forEach(function(t){e.push(t)}));var l=n.parentKeys,a=n.indexes,d=n.metadata;null!=o&&null!=r&&r.length>0&&o.length>0&&r.length===o.length&&(null==a||a.length===o.length)&&this.addItemsForModelInsert(o,a,r,l,s,e,d),this.signalTaskEnd()}else this._pushToEventQueue({type:t.type,event:t})},m.prototype.afterRenderItemForInsertEvent=function(t,e,o){this.signalTaskStart("after render item from model insert event"),t.setAttribute("data-oj-context",""),this.afterRenderItem(t,e,o);var r=i(t),s=t.className;t._className=s,t.className="oj-listview-temp-item oj-listview-item-add-remove-transition";var l=this.isCardLayout();l&&(t.className=t.className+" oj-listview-card-animated "+this.m_widget.getItemStyleClass()),this.shouldUseGridRole()||r.children().wrapAll("<div></div>");var a=r.children().first();if(l||(a[0].className=s),a[0].key=t.key,this.shouldUseGridRole()){if(!l){var d=a[0].firstElementChild;d&&d.classList.add("oj-listview-cell-element")}}else a.attr("role",t.getAttribute("role")),r[0].hasAttribute("aria-selected")&&a.attr("aria-selected",t.getAttribute("aria-selected"));var h=this;return t.style.opacity=0,new Promise(function(i){n.getContext(t).getBusyContext().whenReady().then(function(){if(null!=h.m_widget){h.signalTaskStart("kick off animation for insert item");var n=t.className;t.style.opacity="",h.m_widget.StartAnimation(t,"add").then(function(){t.removeAttribute("data-oj-context"),h._handleAddTransitionEnd(e,t,n),i(!0)}),h.signalTaskEnd()}else i(!0)})})},m.prototype._handleAddTransitionEnd=function(t,e,n){if(null!=this.m_widget&&null!=e.parentNode){var o=n.split(" "),r=e.className.split(" "),s=e.classList.contains("oj-focus")&&e.classList.contains("oj-focus-highlight"),l=e.classList.contains("oj-listview-card-animated");if(e.className=e._className,s&&(e.classList.add("oj-focus"),e.classList.add("oj-focus-highlight")),l&&e.classList.add("oj-listview-card-animated"),r.forEach(function(t){-1===o.indexOf(t)&&e.classList.add(t)}),this.shouldUseGridRole()){if(!this.isCardLayout()){var a=e.firstElementChild;if(a){e._className.split(" ").forEach(function(t){a.classList.remove(t)}),a.classList.add("oj-listview-cell-element");var d=a.firstElementChild;d&&d.classList.remove("oj-listview-cell-element")}}}else i(e).children().children().unwrap();this.m_widget.itemInsertComplete(e,t),this.signalTaskEnd()}else this.signalTaskEnd()},m.prototype.handleModelRemoveEvent=function(t){var e=this,i=t.detail.remove.keys;if(null==i||0===i.size)return!1;if(!this.IsReady())return this._pushToEventQueue({type:t.type,event:t}),!1;this.signalTaskStart("handling model remove event");var n=null!=t.detail.add?t.detail.add.keys:new Set,o=[],r=[];if(i.forEach(function(t){n.has(t)||o.push(t);var i=e.FindElementByKey(t);null!=i?(e.signalTaskStart("handling model remove event for item: "+t),i.classList.add("oj-listview-item-remove"),i.parentNode.classList.contains("oj-listview-temp-item")&&(i=i.parentNode),r.push(e.removeItem(i)),e.signalTaskEnd()):s.log("handleModelRemoveEvent: cannot find item with key "+t)}),this.isSelectionEnabled()){if(o.length>0){var l=this.m_widget.options.selected,a=l.delete(o);if(l!==a){var d=[];a.values&&a.values().forEach(function(t){d.push(e.FindElementByKey(t))}),this.m_widget._setSelectionOption(a,null,d)}}n.size>0&&this.m_widget.resetInitialSelectionStateValidated()}return this.m_widget.ClearCache(),this.handleRemoveItemsPromises(r),this.signalTaskEnd(),!0},m.prototype.handleRemoveItemsPromises=function(t){},m.prototype.removeItem=function(t){var e=this;this.signalTaskStart("removing an item");var n=document.activeElement,o=t.contains(n),r=i(t).get(0),s=r.className;i(r).children().wrapAll("<div class='"+s+"'></div>"),r.className="oj-listview-item-add-remove-transition oj-listview-item-remove",r.children[0].key=t.key,this.signalTaskStart("kick off animation to remove an item"),this.m_widget.disableResizeListener();var l=this.m_widget.StartAnimation(r,"remove");return l.then(function(){e.handleRemoveTransitionEnd(t,o),e.m_widget&&e.m_widget.enableResizeListener()},function(){e.m_widget&&e.m_widget.enableResizeListener()}),this.signalTaskEnd(),l},m.prototype.handleRemoveTransitionEnd=function(t,e){if(null!=this.m_widget){var n=i(t),o=n.parent();if(0!==o.length){var r=this.m_widget.itemRemoveComplete(n.get(0),e),s=this.getTemplateEngine();s&&s.clean(n.get(0)),n.remove(),0===o.get(0).childElementCount&&this.m_widget.renderComplete(!0),this.isSelectionEnabled()&&this.m_widget.enforceSelectionRequired(),r&&e&&!this.m_root.contains(document.activeElement)&&this.m_root.focus(),this.signalTaskEnd()}else this.signalTaskEnd()}else this.signalTaskEnd()},m.prototype.handleModelChangeEvent=function(t){this.signalTaskStart("handling model update event");var e=t.detail.update,i=e.data,n=[];e.keys.forEach(function(t){n.push(t)});for(var o,r=this.getTemplateEngine(),s=e.indexes,l=0;l<n.length;l++){this.m_widget.updateSelectedKeyData(n[l],i[l]);var a=this.FindElementByKey(n[l]);if(null!=a){void 0===o&&a.contains(document.activeElement)&&(o=a),this.signalTaskStart("handling model update event for item: "+n[l]);var d=null==s?-1:s[l];this.replaceItem(a,d,i[l],this.getMetadata(d,n[l],i[l],a.parentNode),r,this.afterRenderItemForChangeEvent.bind(this),null!=o),this.signalTaskEnd(),null!=o&&(o=null)}}this.m_widget.ClearCache(),this.signalTaskEnd()},m.prototype.afterRenderItemForChangeEvent=function(t,e,i,n){var o=this;this.signalTaskStart("after render item for model change event"),this.afterRenderItem(t,e,i),this.m_widget.StartAnimation(t,"update").then(function(){o._handleReplaceTransitionEnd(t,n)}),this.signalTaskEnd()},m.prototype._handleReplaceTransitionEnd=function(t,e){null!=this.m_widget?(i(t).removeClass("oj-listview-item-add-remove-transition"),e&&this.m_widget.restoreCurrentItemFocus(t),this.signalTaskEnd()):this.signalTaskEnd()},m.prototype.createContext=function(t,e,i,n,o){var r={};r.parentElement=n,r.index=t,r.data=e,r.component=this.m_widget.getWidgetConstructor(),r.datasource=this.getDataProvider(),(r=this.m_widget._FixRendererContext(r)).metadata=o;for(var s=Object.keys(i),l=0;l<s.length;l++){var a=s[l];r[a]=i[a]}return r},m.prototype.isSelectionEnabled=function(){return this.m_widget._isSelectionEnabled()},m.prototype.isFocusable=function(t){return this.m_widget.getItemFocusable(t)},m.prototype.isSelectable=function(t){return this.m_widget.getItemSelectable(t)},m.prototype.isCardLayout=function(){return this.m_widget.isCardLayout()},m.prototype.shouldUseGridRole=function(){return this.m_widget.ShouldUseGridRole()},m.prototype.isAsyncRendering=function(){return!1},m.prototype.signalTaskStart=function(t){this.m_widget&&this.m_widget.signalTaskStart("DataSource ContentHandler "+t)},m.prototype.signalTaskEnd=function(){this.m_widget&&this.m_widget.signalTaskEnd()},m.prototype.isSkeletonSupport=function(){return this.m_widget.isSkeletonSupport()},m.prototype.getRootElementHeight=function(){return isNaN(this.m_height)&&(this.m_height=this.m_widget.GetRootElement()[0].offsetHeight),this.m_height},m.prototype.getDefaultSkeletonDimension=function(){if(null==this.m_defaultSkeletonDim){var t=this.m_widget.GetRootElement()[0],e=this.createSkeleton(!0);e.style.display="block",e.style.visibility="hidden",t.appendChild(e);var i={width:e.offsetWidth,height:e.offsetHeight};return t.removeChild(e),i.height>0&&i.width>0&&(this.m_defaultSkeletonDim=i),i}return this.m_defaultSkeletonDim},m.prototype.createSkeleton=function(t){return this.createSkeletonItem()},m.prototype.createSkeletonItem=function(){var t=document.createElement("li");t.setAttribute("role","presentation");var e=document.createElement("div");return t.className="oj-listview-item oj-listview-item-layout",this.m_widget._isGridlinesVisible()||t.classList.add("gridline-hidden"),e.className="oj-listview-cell-element oj-listview-skeleton oj-listview-skeleton-line-height oj-animation-skeleton",t.appendChild(e),t},m.prototype.animateShowContent=function(t,e,o){return new Promise(function(s,l){var a=null!=this.m_superRoot?this.m_superRoot:this.m_root,d=a.querySelector(".oj-listview-skeleton-container");if(null!=d){t.appendChild(e);var h=Array.from(t.children),m=[];h.forEach(function(t){if(t!==d.parentNode){t.style.opacity=0,t.setAttribute("data-oj-context","");var e=n.getContext(t).getBusyContext().whenReady();m.push(e)}}),Promise.all(m).then(function(){null!=this.m_widget?r.fadeOut(d,{duration:"100ms"}).then(function(){if(null!=this.m_widget){var e=d.parentNode;e.classList.contains("oj-listview-initial-skeletons")?a.removeChild(e):d.querySelectorAll(".oj-listview-skeleton").forEach(function(t){var e=t.parentNode;e&&d===e.parentNode&&d.removeChild(e)}),t.style.opacity=0,h.forEach(function(t){t!==d.parentNode&&(t.style.opacity=1,t.removeAttribute("data-oj-context"))}),window.requestAnimationFrame(function(){r.fadeIn(t,{duration:"150ms",persist:"all"})}),s(!1)}else s(!1)}.bind(this)):s(!1)}.bind(this))}else o&&i(t).empty(),t.appendChild(e),s(!1)}.bind(this))};var c=function(t,e,i){c.superclass.constructor.call(this,t,e,i)};e.Object.createSubclass(c,m,"IteratingDataProviderContentHandler"),c.prototype.Init=function(){c.superclass.Init.call(this),this.m_currentEvents=[]},c.prototype.IsHierarchical=function(){return!1},c.prototype.IsReady=function(){return!this.m_fetching&&null==this.m_idleCallback},c.prototype._hasPendingInsertKeys=function(){return null!=this.m_insertOutOfRangeKeys&&this.m_insertOutOfRangeKeys.size>0},c.prototype._destroyDomScroller=function(){null!=this.m_domScroller&&(this.m_domScroller.destroy(),this.m_domScroller=null),this._removeLoadingIndicator(),this.m_widget&&this.m_widget.unmergeScrollListener()},c.prototype.Destroy=function(t){c.superclass.Destroy.call(this,t),this._removeDataSourceEventListeners(),this._destroyDomScroller(),this._cancelIdleCallback(),this.m_loadingIndicator=null,this.m_viewportCheckPromise=null,this.m_checkViewportPromise=null},c.prototype._cancelIdleCallback=function(){null!=this.m_idleCallback&&(window.requestIdleCallback&&window.cancelIdleCallback?(window.cancelIdleCallback(this.m_idleCallback),window.cancelAnimationFrame(this.m_idleCallback)):window.cancelAnimationFrame(this.m_idleCallback),this.m_idleCallback=null)},c.prototype.shouldHandleResize=function(){return this._isLoadMoreOnScroll()},c.prototype.HandleResize=function(t,e){if(this._isLoadMoreOnScroll()&&null==this.m_animationPromise){var i=this.m_width,n=this.m_height;this.m_height=e,this.m_width=t,this.m_colCount=void 0;var o=this.isCardLayout();if(o&&this.isSkeletonSupport()&&i!==t)if(null!=this.m_loadingIndicator)this._adjustLoadMoreSkeletons(this._getRootElementWidth(!0));else null!=this.m_root.querySelector(".oj-listview-skeleton-container")&&this.renderInitialSkeletons();(e>n||o&&t>i)&&this.checkViewport()}},c.prototype.notifyShown=function(){this._isLoadMoreOnScroll()&&this.checkViewport()},c.prototype.notifyAttached=function(){if(null!=this.m_domScroller){var t=this._getFetchTrigger();if(null!=t){var e=this._getFetchTrigger();t!==e&&this.m_domScroller.setFetchTrigger(e),this.checkViewport()}}},c.prototype.setRootAriaProperties=function(){c.superclass.setRootAriaProperties.call(this);var t=this;this.shouldUseGridRole()&&this._isLoadMoreOnScroll()&&this.getDataProvider().getTotalSize().then(function(e){t.m_root&&t.m_root.setAttribute("aria-rowcount",-1===e?t._getMaxCount():e)})},c.prototype.unsetRootAriaProperties=function(){c.superclass.unsetRootAriaProperties.call(this),this.m_root.removeAttribute("aria-rowcount")},c.prototype._isLoadMoreOnScroll=function(){return this.m_widget.isLoadMoreOnScroll()},c.prototype._getFetchSize=function(){return Math.max(0,this.m_widget.options.scrollPolicyOptions.fetchSize)},c.prototype._getScroller=function(){return this.m_widget._getScroller()},c.prototype._getScrollerOffsetTop=function(){if(void 0===this._scrollerOffsetTop){var t=this._getScroller();t===this.m_widget.GetRootElement()[0]?this._scrollerOffsetTop=0:this._scrollerOffsetTop=l.calculateOffsetTop(t,this.m_root)}return this._scrollerOffsetTop},c.prototype._getFetchTrigger=function(){return void 0===this._fetchTrigger&&(this._fetchTrigger=this._getLoadingIndicatorHeight()),this._fetchTrigger},c.prototype._getLoadingIndicatorHeight=function(){var t;if(this.isSkeletonSupport()){var e=this.getDefaultSkeletonDimension().height;if(this.isCardLayout()){var n=this._getCardDimension();t=null!=n?n.height:e}else t=c.LOAD_MORE_SKELETONS_ROW_COUNT*e}else{var o=i(document.createElement("div"));o.addClass(this.m_widget.getItemStyleClass()).css({visibility:"hidden",overflow:"hidden",position:"absolute"});var r=i(document.createElement("div"));r.addClass("oj-icon oj-listview-loading-icon"),o.append(r),i(this.m_widget.GetRootElement()).append(o),t=o.get(0).offsetHeight,o.remove()}return t},c.prototype._getMaxCount=function(){return this.m_widget.options.scrollPolicyOptions.maxCount},c.prototype._adjustSkeletonCardContent=function(t,e,i){t.style.width=e+"px",t.style.height=i+"px"},c.prototype._createSkeletonCard=function(){var t=document.createElement("li");t.setAttribute("role","presentation");var e=document.createElement("div");return t.className="oj-listview-skeleton-card",e.className="oj-listview-skeleton oj-listview-skeleton-card-content oj-animation-skeleton",t.appendChild(e),t},c.prototype.createSkeleton=function(t){var e;if(this.isCardLayout())if(t)void 0===this.m_defaultItemSkeleton&&(this.m_defaultItemSkeleton=this._createSkeletonCard()),e=this.m_defaultItemSkeleton;else{if(void 0===this.m_defaultLoadMoreSkeleton){var i=this._createSkeletonCard(),n=this._getCardDimension();n&&this._adjustSkeletonCardContent(i,n.width,n.height),this.m_defaultLoadMoreSkeleton=i}e=this.m_defaultLoadMoreSkeleton}else void 0===this.m_defaultItemSkeleton&&(this.m_defaultItemSkeleton=this.createSkeletonItem()),e=this.m_defaultItemSkeleton;return e.cloneNode(!0)},c.prototype._getScrollbarWidth=function(){if(isNaN(this.m_scrollbarWidth)){var t=this.m_widget.GetRootElement()[0],e=document.createElement("div");t.appendChild(e),this.m_scrollbarWidth=Math.max(0,l.getDefaultScrollBarWidth(e)),t.removeChild(e)}return this.m_scrollbarWidth},c.prototype._getRootElementWidth=function(t){return isNaN(this.m_width)&&(this.m_width=this.m_widget.GetRootElement()[0].offsetWidth),t?this.m_width-this._getScrollbarWidth():this.m_width},c.prototype.renderInitialSkeletons=function(){this.m_superRoot&&(this.m_root=this.m_superRoot,this.m_superRoot=null),i(this.m_root).empty();var t=this.getRootElementHeight(),e=0,n=this.getDefaultSkeletonDimension();if(n.width>0&&n.height>0)if(this.isCardLayout()){var o=this.getMargin(),r=this._getRootElementWidth(),s=Math.max(1,Math.floor(r/(n.width+o)));e=Math.max(1,Math.floor(t/(n.height+o)))*s}else e=Math.max(1,Math.floor(t/n.height));var l=document.createElement("li");l.setAttribute("role","presentation"),l.classList.add("oj-listview-initial-skeletons");var a=document.createElement("ul");a.setAttribute("role","presentation"),a.className=this.m_widget.getGroupStyleClass()+" oj-listview-skeleton-container";for(var d=0;d<e;d++)a.appendChild(this.createSkeleton(!0));l.appendChild(a),this.m_root.appendChild(l)},c.LOAD_MORE_SKELETONS_ROW_COUNT=3,c.prototype._adjustLoadMoreSkeletons=function(t,e){var i=this._getCardDimension();if(null!=i&&0!==i.width){if(!e){var n=this.getMargin();if(0===Math.floor(t/(i.width+n))-this.m_loadingIndicator.get(0).firstElementChild.childElementCount)return}this.m_loadingIndicator.get(0).parentNode.removeChild(this.m_loadingIndicator.get(0)),null!=this.m_fillerSkeletons&&this.m_fillerSkeletons.parentNode.removeChild(this.m_fillerSkeletons),this.m_loadingIndicator=null,this.m_fillerSkeletons=null,this.m_defaultLoadMoreSkeleton=void 0,this._appendLoadingIndicator()}},c.prototype.getMargin=function(){if(void 0===this.m_margin){var t=document.createElement("li");t.className=this.m_widget.getItemStyleClass(),this.m_root.appendChild(t);var e=window.getComputedStyle(t);this.m_margin=parseInt(e.marginRight,10),this.m_root.removeChild(t)}return this.m_margin},c.prototype._getCardDimension=function(){if(void 0===this.m_cardDim){var t=this.m_root.querySelector("."+this.m_widget.getItemElementStyleClass());if(t){var e={width:t.offsetWidth,height:t.offsetHeight};return e.width>0&&e.height>0&&(this.m_cardDim=e),e}}return this.m_cardDim},c.prototype._renderSkeletons=function(t){var e=this.createLoadingIndicator();e.setAttribute("role","presentation"),e.classList.add("oj-listview-skeleton-container");var i=document.createElement("ul");i.setAttribute("role","presentation"),i.className=this.isCardLayout()?"oj-listview-skeleton-card-group":"oj-listview-group",e.appendChild(i);for(var n=0;n<t;n++)i.appendChild(this.createSkeleton(!1));return e},c.prototype._fillEmptySpaceWithSkeletons=function(){var t=this._getCardDimension();if(null!=t&&0!==t.width){var e=this.m_root.lastElementChild,i=t.width+this.getMargin(),n=this._getRootElementWidth(!0),o=Math.floor((n-e.offsetLeft-i)/i);if(o>0){var r=this._renderSkeletons(o);r.style.visibility="hidden",this.m_root.appendChild(r),this.m_fillerSkeletons=r}}},c.prototype._createLoadMoreSkeletons=function(){var t;if(this.isCardLayout()){var e=this._getRootElementWidth(!0),i=this._getCardDimension(),n=void 0===i?this.getDefaultSkeletonDimension().width:i.width;t=0===n?0:Math.floor(e/(n+this.getMargin()))}else t=c.LOAD_MORE_SKELETONS_ROW_COUNT;return this._renderSkeletons(t)},c.prototype._createLoadMoreIcon=function(){var t=i(this.createLoadingIndicator());t.uniqueId().attr("role","presentation").addClass(this.m_widget.getItemStyleClass()).addClass("oj-listview-loading-icon-container");var e=i(document.createElement("div"));return e.addClass("oj-icon oj-listview-loading-icon"),t.append(e),t.get(0)},c.prototype.createLoadingIndicator=function(){return document.createElement("li")},c.prototype._appendLoadingIndicator=function(){if(null==this.m_loadingIndicator)if(this.m_appendLoadingindicator=!0,this.isSkeletonSupport()&&this.isCardLayout()&&null!=this._getCardDimension()&&0===this._getCardDimension().width){var t=this;n.getContext(this.m_root).getBusyContext().whenReady().then(function(){t.m_appendLoadingindicator&&t._doAppendLoadingIndicator()})}else this._doAppendLoadingIndicator()},c.prototype._doAppendLoadingIndicator=function(){this.isSkeletonSupport()&&this.isCardLayout()&&this._fillEmptySpaceWithSkeletons();var t=this.isSkeletonSupport()?this._createLoadMoreSkeletons():this._createLoadMoreIcon();t.style.visibility="hidden",this.m_root.appendChild(t),this.m_loadingIndicator=i(t),this.m_appendLoadingindicator=!1},c.prototype._removeLoadingIndicator=function(){null!=this.m_loadingIndicator&&this.m_loadingIndicator.remove(),this.m_loadingIndicator=null,null!=this.m_fillerSkeletons&&this.m_fillerSkeletons.remove(),this.m_fillerSkeletons=null,this.m_appendLoadingindicator=!1},c.prototype.hasMoreToFetch=function(){return null!=this.m_loadingIndicator},c.prototype.getLoadingIndicator=function(){return null!=this.m_loadingIndicator?this.m_loadingIndicator.get(0):null},c.prototype.afterRenderItem=function(t,e,n){c.superclass.afterRenderItem.call(this,t,e,n),i(t).addClass(this.m_widget.getItemStyleClass()),!n&&this.m_widget.getItemLayoutStyleClass&&t.classList.add(this.m_widget.getItemLayoutStyleClass()),this.isSelectionEnabled()&&this.isSelectable(e)&&this.m_widget.getFocusItem(i(t)).attr("aria-selected",!1),this._isLoadMoreOnScroll()&&!this.isCardLayout()&&i(t).attr("aria-rowindex",e.index+1),this.m_widget.itemRenderComplete(t,e)},c.prototype._handleScrollerMaxRowCount=function(){s.error("max count reached")},c.prototype._prepareRootElement=function(){this.m_superRoot?(i(this.m_superRoot).empty(),this.m_root=this.m_superRoot,this.m_superRoot=null):null==this.m_root.querySelector(".oj-listview-skeleton-container")&&i(this.m_root).empty();if(this.shouldUseGridRole()&&this.isCardLayout()){var t=document.createElement("li");t.classList.add("oj-listview-group-container");var e=document.createElement("ul");t.appendChild(e),i(t).attr("role","presentation").css("width","100%"),i(e).attr("role","row").addClass(this.m_widget.getGroupStyleClass()),this.m_root.appendChild(t),this.m_superRoot=this.m_root,this.m_root=e}},c.prototype._setFetching=function(t){(null==this.m_superRoot?this.m_root:this.m_superRoot).setAttribute("aria-busy",t),this.m_fetching=t},c.prototype._containsKey=function(t,i){for(var n=0;n<i.length;n++)if(e.KeyUtils.equals(i[n].key,t))return!0;return!1},c.prototype.fetchRows=function(t){var i=0;if(this.signalTaskStart("fetching rows"),this.IsReady()){var n=this;this._setFetching(!0),c.superclass.fetchRows.call(this,t);var o=this.m_widget.getScrollToKey(),r=this.loadTemplateEngine();this.signalTaskStart("first fetch"),this._clientId=this._clientId||Symbol();var s={clientId:this._clientId};s.size=this._isLoadMoreOnScroll()?this._getFetchSize():-1,this.m_dataProviderAsyncIterator=this.getDataProvider().fetchFirst(s)[Symbol.asyncIterator]();var l=this.m_dataProviderAsyncIterator.next();n.fetchSize=s.size;var a=function(t,e,i){var o=i;return(null==i||n._containsKey(i,e))&&(o=null),t[0].done||null==o&&(-1!==n.fetchSize||"function"==typeof n.getDataProvider().getPageCount)?t:n.m_dataProviderAsyncIterator.next().then(function(e){return t[0].done=e.done,t[0].value.data=t[0].value.data.concat(e.value.data),t[0].value.metadata=t[0].value.metadata.concat(e.value.metadata),a(t,e.value.metadata,o)},function(t){n._handleFetchError(t),n.signalTaskEnd()})};return Promise.all([l,r,o]).then(function(t){return a(t,t[0].value.metadata,t[2])},function(t){return n._handleFetchError(t),n.signalTaskEnd(),Promise.reject(t)}).then(function(t){if(t){if(null==n.m_widget)return;var o=t[0],r=t[1],s=n.getDataProvider();e.TableDataSourceAdapter&&s instanceof e.TableDataSourceAdapter&&(i=s.offset),0===i&&(r&&n.cleanItems(r),n.isSkeletonSupport()&&n.m_widget.hideStatusText(),n._prepareRootElement()),n._handleFetchedData(o,r,0===i)}},function(){}),void this.signalTaskEnd()}this.signalTaskEnd()},c.prototype._handleFetchError=function(t){if(s.error(t),this._setFetching(!1),null!=this.m_widget){var e=this.m_root.querySelector(".oj-listview-initial-skeletons");null!=e&&e.parentNode.removeChild(e),this._isLoadMoreOnScroll()&&this._removeLoadingIndicator(),this.m_widget.renderComplete(!0)}else s.info("handleFetchError: widget has already been destroyed")},c.prototype._renderItemsWhenIdle=function(t,i,n,o,r,s){var l,a=this;0!==t.length&&0!==i.length?window.requestIdleCallback&&window.cancelIdleCallback?(r&&e.AgentUtils.getAgentInfo().engine===e.AgentUtils.ENGINE.BLINK&&(l={timeout:100}),this.m_idleCallback=window.requestIdleCallback(function(e){for(var r=e.timeRemaining(),l=0,h=document.createDocumentFragment();(r>l||e.didTimeout)&&0!==t.length&&0!==i.length;){var m=t.shift(),c=null!=s?s.shift():null,u=i.shift();a.addItem(h,-1,m,a.getMetadata(n,u,m),o,null,c),n+=1,l=r-e.timeRemaining(),r=e.timeRemaining()}d(h)},l)):this.m_idleCallback=window.requestAnimationFrame(function(){var e=document.createDocumentFragment(),r=t.shift(),l=null!=s?s.shift():null,h=i.shift();a.addItem(e,-1,r,a.getMetadata(n,h,r),o,null,l),n+=1,d(e)}):window.requestAnimationFrame(function(){a.m_idleCallback&&(a._appendLoadingIndicator(),a.afterItemsInserted(!1,!0),a.signalTaskEnd()),a.m_idleCallback=null});function d(e){window.requestAnimationFrame(function(){null!=a.m_widget&&(a.m_root.appendChild(e),a._renderItemsWhenIdle(t,i,n,o,r,s))})}},c.prototype._isOverflow=function(){return this._getScroller()!==this.m_widget.getListContainer()[0]?this._isOverflowCheckForCustomScroller():this._isOverflowCheckForDefaultScroller()},c.prototype._isOverflowCheckForDefaultScroller=function(){if(this._isLoadMoreOnScroll()){var t=this._getScroller(),i=null==this.m_loadingIndicator?0:this._getLoadingIndicatorHeight(),n=t.scrollHeight-(t.clientHeight+i);return 1===n&&e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.EDGE&&(n=0),n>0}return!1},c.prototype._isOverflowCheckForCustomScroller=function(){var t=this._getScroller();if(t!==document.documentElement){var e=null==this.m_loadingIndicator?0:this._getLoadingIndicatorHeight();return this.m_root.clientHeight+this._getScrollerOffsetTop()-e>t.clientHeight}return this._isLastItemNotInViewport()},c.prototype._isLastItemNotInViewport=function(){for(var t,e=this.m_root.children,i=this.m_widget.getItemElementStyleClass(),n=e.length-1;n>=0;n--)if(e[n].classList.contains(i)){t=e[n];break}return!!t&&!l.isElementInScrollerBounds(t,this._getScroller())},c.prototype._removeDuplicateItems=function(t){if(this._hasPendingInsertKeys()){var e=this,i=new Map;this.m_root.querySelectorAll("."+this.m_widget.getItemElementStyleClass()).forEach(function(t){"LI"!==t.tagName&&(t=t.parentNode);var n=e.GetKey(t);null!=n&&i.set(n,t)});var n=new h(i);t.forEach(function(t){var e=n.get(t);e&&e.parentNode&&e.parentNode.removeChild(e)})}},c.prototype._handleFetchSuccess=function(t,e,i,n,o,r,s){if(null==this.m_widget)return Promise.resolve(!0);this._removeDuplicateItems(e);var l=this.m_root.querySelectorAll("."+this.m_widget.getItemElementStyleClass()).length;if(l>0&&!i&&this._isLastItemNotInViewport()&&null==this.m_widget.m_scrollPosition){this.signalTaskStart("render items during idle time");var a=null!=r?r.slice(0):null;return this._renderItemsWhenIdle(t.slice(0),e.slice(0),l,n,o,a),Promise.resolve(!0)}for(var d=document.createDocumentFragment(),h=0;h<t.length;h++){var m=t[h],c=e[h],u=this._isFetchFromInsert(c)?this.afterRenderItemForInsertEvent.bind(this):null;this.addItem(d,-1,m,this.getMetadata(l,c,m),n,u,null!=r?r[h]:null),l+=1}return this.animateShowContent(this.m_root,d,s)},c.prototype.handleDomScrollerFetchedData=function(t){null!=t?(this.signalTaskStart("handle results from DomScroller"),this._removeLoadingIndicator(),this.IsReady()&&this.signalTaskStart("dummy task"),this.isCardLayout()&&this.m_superRoot&&0===this.m_root.childNodes.length&&this.m_root.parentNode&&this.m_superRoot.appendChild(this.m_root.parentNode),this._handleFetchedData(t,this.getTemplateEngine(),!1),t.value&&t.value.data?this.m_widget.updateStatusFetchEnd(t.value.data.length):t.maxCountLimit&&(this._handleScrollerMaxRowCount(),this.signalTaskEnd()),this.m_widget.m_scrollHeight=null,this.signalTaskEnd()):this._removeLoadingIndicator()},c.prototype._registerDomScroller=function(){var t=this,e={fetchSize:this._getFetchSize(),fetchTrigger:this._getFetchTrigger(),maxCount:this._getMaxCount(),asyncIterator:this.m_dataProviderAsyncIterator,initialRowCount:this.m_root.childElementCount,success:function(e){t.signalTaskEnd(),t.handleDomScrollerFetchedData(e),null!=t.m_root&&null!=e.value||(t.signalTaskEnd(),null!=t.m_root&&t.m_widget.renderComplete(!0))},error:function(){t.signalTaskEnd(),t.signalTaskEnd()},localKeyValidator:function(e){return!!t.m_widget&&null!=t.m_widget.FindElementByKey(e)},beforeFetch:function(e,i){return t.handleBeforeFetch(),t.m_viewportCheckPromise=null,null==t.m_idleCallback&&(t.m_widget.updateStatusFetchStart(),i||t.signalTaskStart("starts high-water mark scrolling"),!0)},beforeScroll:this.m_widget.mergeScrollListener()},i=this._getScroller();i!==this.m_widget.getListContainer()[0]&&(e.contentElement=this.m_root,i===document.documentElement&&(e.isOverflow=this._isLastItemNotInViewport.bind(this))),this.m_domScroller=new a(i,this.getDataProvider(),e)},c.prototype.handleBeforeFetch=function(){this.m_loadingIndicator&&(this.m_loadingIndicator.get(0).style.visibility="visible"),this.m_fillerSkeletons&&(this.m_fillerSkeletons.style.visibility="visible")},c.prototype._clearEventQueue=function(){null!=this.m_eventQueue&&(this.m_eventQueue.length=0)},c.prototype.handleModelMutateEvent=function(t){void 0!==this.m_dataProviderAsyncIterator&&c.superclass.handleModelMutateEvent.call(this,t)},c.prototype.handleModelAddEvent=function(t){this.m_currentEvents.push(t);var e=c.superclass.handleModelAddEvent.call(this,t);return e||this.m_currentEvents.pop(),e},c.prototype.GetReferenceNode=function(t,e){var i=c.superclass.GetReferenceNode.call(this,t,e);return null==i&&null!=this.m_loadingIndicator?this.m_loadingIndicator.get(0):i},c.prototype._isIterateAfterDoneNotAllowed=function(){var t=this.getDataProvider();if(t&&t.getCapability){var e=t.getCapability("fetchFirst");if(e&&"notAllowed"===e.iterateAfterDone)return!0}return!1},c.prototype._getMaxIndexForInsert=function(){var t=Number.MAX_VALUE;if(this._isIterateAfterDoneNotAllowed()&&!this.hasMoreToFetch())return t;if(this._isLoadMoreOnScroll()){t=i(this.m_root).children("li."+this.m_widget.getItemElementStyleClass()).length;var e=this.m_root.querySelectorAll(".oj-listview-temp-item"),n=this.m_root.querySelectorAll(".oj-listview-temp-item.oj-listview-item-remove");t=Math.max(0,t+e.length-n.length)}return t},c.prototype.addItemsForModelInsert=function(t,e,i,n,o,r,s){for(var l=this._getMaxIndexForInsert(),a=this.getTemplateEngine(),h=[],m=0;m<t.length;m++)if(null==this.FindElementByKey(i[m])){var c;if(this.signalTaskStart("handling model add event for item: "+i[m]),null!=e?c=e[m]:(c=this.getIndex(r,m))>-1?c=o?c:c+1:this._isLoadMoreOnScroll()&&(this._isIterateAfterDoneNotAllowed()&&!this.hasMoreToFetch()||(c=l)),c<l){var u=this.addItem(this.m_root,c,t[m],this.getMetadata(c,i[m],t[m]),a,this.afterRenderItemForInsertEvent.bind(this),null!=s?s[m]:null);u&&h.push(u),l+=1}else null==this.m_insertOutOfRangeKeys&&(this.m_dataProvider.createOptimizedKeySet?this.m_insertOutOfRangeKeys=this.m_dataProvider.createOptimizedKeySet():this.m_insertOutOfRangeKeys=new d),this.m_insertOutOfRangeKeys.add(i[m]);this.signalTaskEnd()}if(h.length<t.length&&(null==this.m_domScroller?this._registerDomScroller():this.m_domScroller.setAsyncIterator(this.m_dataProviderAsyncIterator)),0===h.length)this.m_currentEvents.pop(),0===this.m_currentEvents.length&&this.afterItemsInserted(!0,!0);else{var p=this;Promise.all(h).then(function(){p.m_widget&&(p.m_currentEvents.pop(),0===p.m_currentEvents.length&&p.afterItemsInserted(!0,!0))})}},c.prototype._isFetchFromInsert=function(t){return null!=this.m_insertOutOfRangeKeys&&this.m_insertOutOfRangeKeys.has(t)},c.prototype.handleModelRemoveEvent=function(t){this.m_currentEvents.push(t);var e=c.superclass.handleModelRemoveEvent.call(this,t);e?null==this.m_root.querySelector("li."+this.m_widget.getItemElementStyleClass())&&this.m_loadingIndicator&&(this.m_loadingIndicator.get(0).style.display="none"):this.m_currentEvents.pop();return e},c.prototype.handleRemoveItemsPromises=function(t){if(0===t.length)this.m_currentEvents.pop();else{var e=this;Promise.all(t).then(function(){e.m_widget&&(e.m_currentEvents.pop(),0===e.m_currentEvents.length&&e.checkViewport())})}},c.prototype.handleModelRefreshEvent=function(t){null!=this.m_root&&(this._cancelIdleCallback(),this.IsReady()?(this.signalTaskStart("handling model reset event"),this._clearEventQueue(),this.m_widget.ClearCache(!0),this._destroyDomScroller(),this.m_widget.adjustScrollPositionValueOnFetch(),this.m_widget.resetFocusBeforeRefresh(),this.fetchRows(!0),this.signalTaskEnd()):this._pushToEventQueue({type:t.type,event:t}))},c.prototype._handleFetchedData=function(t,e,i){if(null!=this.m_root&&null!=t.value){var n=t.value.data,o=t.value.metadata.map(function(t){return t.key}),r=t.value.metadata;n.length===o.length&&this._handleFetchSuccess(n,o,t.done||t.maxCountLimit,e,t.isMouseWheel,r,i).then(function(e){if(null!=this.m_widget){var n=null!=o&&0===o.length;this._isLoadMoreOnScroll()&&(t.done?this.m_domScroller&&this._destroyDomScroller():(n&&s.info("handleFetchedData: zero data returned while done flag is false"),e||t.maxCountLimit||(null==this.m_domScroller&&(this._registerDomScroller(),this.getRootElementHeight()),n&&!this.m_domScroller.isOverflow()||this._appendLoadingIndicator()))),t.maxCountLimit&&this._handleScrollerMaxRowCount(),this.fetchEnd(e,!n||!t.done,i),n||this.disableAllTabbableElements()}}.bind(this))}},c.prototype.disableAllTabbableElements=function(){var t=this.m_root.childElementCount;this.m_root.lastElementChild&&"presentation"===this.m_root.lastElementChild.getAttribute("role")&&(t-=1);var e=this;n.getContext(this.m_root).getBusyContext().whenReady().then(function(){if(null!=e.m_root)for(var i=e.m_root.children,n=0;n<t;n++)i[n]&&e.m_widget.disableAllTabbableElements(i[n])})},c.prototype.afterItemsInserted=function(t,e){if(this.m_widget){var i=this,o=this.m_widget.renderComplete(e);if(o&&o.then(function(){i.m_animationPromise=null}),this.m_animationPromise=o,this._processEventQueue(),t)if(this.m_widget.ojContext._IsCustomElement()){var r=n.getContext(i.m_root).getBusyContext().whenReady();r.then(function(){null!=i.m_widget&&(i.isCardLayout()&&void 0===i.m_cardDim&&null!=i.m_loadingIndicator&&i._adjustLoadMoreSkeletons(i._getRootElementWidth(!0),!0),null!=i.m_viewportCheckPromise&&null==i.checkViewport(o)&&i._clearInsertOutOfRangeKeys())}),i.m_viewportCheckPromise=r}else null==this.checkViewport()&&this._clearInsertOutOfRangeKeys()}},c.prototype.fetchEnd=function(t,e,i){this._setFetching(!1),t||this.afterItemsInserted(e,!i),this.signalTaskEnd()},c.prototype._checkHorizontalViewport=function(){if(this.isCardLayout()){for(var t,e=this.m_root.children,i=this.m_widget.getItemElementStyleClass(),n=e.length-1;n>=0;n--)if(e[n].classList.contains(i)){t=e[n];break}if(t){var o=this._getScroller(),r=o===this.m_root?this.getRootElementHeight():o.clientHeight;if(o===document.documentElement){var s=t.getBoundingClientRect();if(s.top<=r&&s.top+s.height>=0)return this.handleBeforeFetch(),this.m_domScroller._fetchMoreRows()}else{var l=o.scrollTop,a=t.offsetTop,d=o===this.m_root?0:this._getScrollerOffsetTop();if(a>l&&a<l+r-d)return this.handleBeforeFetch(),this.m_domScroller._fetchMoreRows()}}}return null},c.prototype._clearInsertOutOfRangeKeys=function(){null!=this.m_insertOutOfRangeKeys&&this.m_insertOutOfRangeKeys.clear()},c.prototype.checkViewport=function(t){var e,i=this;return this.m_checkViewportPromise?null:(this.signalTaskStart("checking viewport"),null!=this.m_domScroller&&this.IsReady()&&(null!=(e=this.m_domScroller.checkViewport())?(this.signalTaskStart("got promise from checking viewport"),e.then(function(n){if(null!=i.m_widget){if(null!=n)i.m_checkViewportPromise=null,i.handleDomScrollerFetchedData(n);else{var o=function(){null!=(e=i._checkHorizontalViewport())?(i.signalTaskStart("got promise from checking horizontal viewport"),e.then(function(t){i.m_checkViewportPromise=null,null!=i.m_widget&&null!=t&&i.handleDomScrollerFetchedData(t),i.signalTaskEnd()},null)):i.m_checkViewportPromise=null};t?(i.signalTaskStart("wait for animation to complete"),t.then(function(){i.signalTaskEnd(),null!=i.m_widget&&null!=i.m_domScroller&&o()})):o()}i.signalTaskEnd()}i._clearInsertOutOfRangeKeys()},null)):this._clearInsertOutOfRangeKeys(),this.m_checkViewportPromise=e),this.signalTaskEnd(),e)},t.DataProviderContentHandler=m,t.IteratingDataProviderContentHandler=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdataproviderscroller.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkeyset',["exports","ojs/ojcore-base","ojs/ojkeysetimpl"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r=function(){};t._registerLegacyNamespaceProp("KeySet",r),t.Object.createSubclass(r,t.Object,"KeySet"),r.prototype.SetInternal=function(e){this._keys=e},r.prototype.AddOrDeleteInternal=function(e,t){var n,r;return null==(n=e?this._add(t):this._remove(t))?this:((r=Object.create(Object.getPrototypeOf(this))).SetInternal(n),r)},r.prototype._add=function(e){var t=this,n=null;return e.forEach(function(e){e!==t.NOT_A_KEY&&t.get(e)===t.NOT_A_KEY&&(null==n&&(n=t.Clone()),n.add(e))}),n},r.prototype._remove=function(e){var t,n=this,r=null;return 0===this._keys.size?null:(e.forEach(function(e){(t=n.get(e))!==n.NOT_A_KEY&&(null==r&&(r=n.Clone()),r.delete(t))}),r)},r.prototype.GetInternalSize=function(){return this._keys.size},r.prototype.Clone=function(){return new Set(this._keys)},n.call(r.prototype);var o=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("ExpandedKeySet",o),t.Object.createSubclass(o,r,"ExpandedKeySet"),o.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},o.prototype.addAll=function(){return new i},o.prototype.isAddAll=function(){return!1},o.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},o.prototype.clear=function(){return 0===this.GetInternalSize()?this:new o},o.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},o.prototype.values=function(){return this.Clone()};var i=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("ExpandAllKeySet",i),t.Object.createSubclass(i,r,"ExpandAllKeySet"),i.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},i.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new i},i.prototype.isAddAll=function(){return!0},i.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},i.prototype.clear=function(){return new o},i.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},i.prototype.deletedValues=function(){return this.Clone()};var l=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("KeySetImpl",l),t.Object.createSubclass(l,r,"KeySetImpl"),l.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},l.prototype.addAll=function(){return new u},l.prototype.isAddAll=function(){return!1},l.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},l.prototype.clear=function(){return 0===this.GetInternalSize()?this:new l},l.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},l.prototype.values=function(){return this.Clone()};var u=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("AllKeySetImpl",u),t.Object.createSubclass(u,r,"AllKeySetImpl"),u.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},u.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new u},u.prototype.isAddAll=function(){return!0},u.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},u.prototype.clear=function(){return new l},u.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},u.prototype.deletedValues=function(){return this.Clone()};var a={toArray:function(e){var t,n=e.isAddAll()?e.deletedValues():e.values();return Array.from?t=Array.from(n):(t=[],n.forEach(function(e){t.push(e)})),t.inverted=e.isAddAll(),t},toKeySet:function(e){return e.inverted?(new u).delete(e):(new l).add(e)}};e.AllKeySetImpl=u,e.ExpandAllKeySet=i,e.ExpandedKeySet=o,e.KeySet=r,e.KeySetImpl=l,e.KeySetUtils=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojkeyset.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmodel',["exports","ojs/ojcore-base","ojs/ojlogger","jquery","ojs/ojconfig"],function(t,e,r,n,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const i={on:function(t,e,r){return this.OnInternal(t,e,r,!1,!1)},off:function(t,e,r){return this._offInternal(t,e,r,!1)},trigger:function(t){var e=Array.prototype.slice.call(arguments);return e.unshift(!1),i.TriggerInternal.apply(this,e)},once:function(t,e,r){return this._onceInternal(t,e,r,!1,null)},listenTo:function(t,e,r){var n,o,s,a,l,u,c,h={};for(c in e.constructor===String?h[e]=r:h=e,h)if(h.hasOwnProperty(c))for(n=i._getEvents(c),o=0;o<n.length;o+=1)u={event:s=n[o].event,attribute:a=n[o].attribute,object:t,callback:h[c]},l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),t.OnInternal(l,h[c],null,!0,!1);return this},listenToOnce:function(t,e,r){var n,o,s,a,l,u,c,h={};for(c in e.constructor===String?h[e]=r:h=e,h)if(h.hasOwnProperty(c))for(n=i._getEvents(c),o=0;o<n.length;o+=1)u={event:s=n[o].event,attribute:a=n[o].attribute,object:t,callback:h[c]},l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),t._onceInternal(l,h[c],null,!0,this);return this},stopListening:function(t,e,r){var n,o,s,a,l,u,c,h,p,f,d,_,g,y={};if(null==arguments||arguments.length<=1){for(_=this._listeningTo?this._listeningTo.length:0,d=0;d<_;d++)u=this._listeningTo[d],(c=!t||t===u.object)&&u.object._offInternal.apply(u.object,[u.event,u.callback,u.context,!0]);return this._listeningTo=[],this}for(g in o=e,t&&t.constructor===String&&(o=t),o.constructor===String?y[o]=r:y=o,y)if(y.hasOwnProperty(g))for(n=i._getEvents(g),s=0;s<n.length;s+=1)for(a=n[s].event,l=n[s].attribute,d=(_=this._listeningTo?this._listeningTo.length:0)-1;d>=0;d-=1)u=this._listeningTo[d],c=!t||t===u.object,h=!a||a===u.event,p=!r||y[g]===u.callback,f=!l||l===u.attribute,c&&h&&p&&f&&(this._listeningTo[d].object._offInternal.apply(this._listeningTo[d].object,[this._listeningTo[d].event,this._listeningTo[d].callback,this._listeningTo[d].context,!0]),this._listeningTo.splice(d,1));return this},EventType:{ADD:"add",ALLADDED:"alladded",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",READY:"ready",ALL:"all"}};i.bind=i.on,i.unbind=i.off,i.Mixin=function(t,e){var r,n=e||this;for(r in n)"function"==typeof n[r]&&(t[r]=n[r]);t.eventHandlers={},t._listeningTo=[]},i._onceInternal=function(t,e,r,n,o){var i,s,a,l,u,c,h;c=this._getEventMap(t,e,r),u=c.map,h=c.context;var p=this;return Object.keys(u||{}).forEach(function(t){if(Object.prototype.hasOwnProperty.call(u,t))for(i=p._getEvents(t),s=0;s<i.length;s+=1)a=i[s].event,l=i[s].attribute,void 0===p.eventHandlers&&(p.eventHandlers=[]),void 0===p.eventHandlers[a]&&(p.eventHandlers[a]=[]),p.eventHandlers[a].push({callback:u[t],context:h,attribute:l,once:!0,fired:!1,listen:n,otherObj:o})}),this},i._shouldFire=function(t){return!t.once||!t.fired&&(t.fired=!0,!0)},i._getContext=function(t,e){return e.context||e.otherObj||t},i.TriggerInternal=function(t,e){var r,n,o,s,a,l,u,c,h,p=this._getEvents(e);for(s=[],r=0;r<p.length;r+=1)n=p[r].event,o=p[r].attribute,s.push({event:n,attribute:o});for(r=0;r<s.length;r+=1){for(c=this._getHandlers(this.eventHandlers,i.EventType.ALL),a=i._getHandlers(this.eventHandlers,s[r].event,!1),l=0;l<(a?a.length:0);l+=1)a[l].attribute===s[r].attribute&&a[l].callback&&(u=Array.prototype.slice.call(arguments),a&&a[l]&&a[l].once&&(this._removeHandler(i._getHandlers(this.eventHandlers,s[r].event,!0),a[l]),a[l].otherObj&&a[l].otherObj.stopListening(this,e,a[l].callback)),a&&a[l]&&this._shouldFire(a[l])&&(h=a[l].callback,t&&!a[l].ignoreSilent||h.apply(i._getContext(this,a[l]),u.slice(2))));for(l=0;l<(c?c.length:0);l+=1)(u=Array.prototype.slice.call(arguments)).length>0&&(s[r].attribute?u[1]=s[r].event+":"+s[r].attribute:u[1]=s[r].event),c&&c[l]&&c[l].callback&&this._shouldFire(c[l])&&(h=c[l].callback,t&&!c[l].ignoreSilent||h.apply(i._getContext(this,c[l]),u.slice(1))),c&&c[l]&&c[l].once&&(this._removeHandler(this._getHandlers(this.eventHandlers,i.EventType.ALL,!0),c[l]),c[l].otherObj&&c[l].otherObj.stopListening(this,i.EventType.ALL,c[l].callback))}return this},i.OnInternal=function(t,e,r,n,o){var s,a,l,u,c,h,p,f,d=this._getEventMap(t,e,r);for(f in s=d.map,p=d.context,s)if(s.hasOwnProperty(f))for(a=this._getEvents(f),l=0;l<a.length;l+=1)u=a[l].event,c=a[l].attribute,void 0===this.eventHandlers&&(this.eventHandlers=[]),void 0===this.eventHandlers[u]&&(this.eventHandlers[u]=[]),h={callback:s[f],context:p,attribute:c,listen:n,ignoreSilent:o},-1===this._checkForHandler(this.eventHandlers[u],h,i._handlersIdentical)&&this.eventHandlers[u].push(h);return this},i._offInternal=function(t,e,r,n){var o,i,s,a;if(null==arguments||0===arguments.length)return this.eventHandlers={},this;if(null==t)return this._removeEvent(t,e,r,n),this;for(a in o=(i=this._getEventMap(t,e,r)).map,s=i.context,o)o.hasOwnProperty(a)&&this._removeEvent(a,o[a],s,n);return this},i._getEventMap=function(t,e,r){var n={};return t.constructor!==String?{map:n=t,context:e}:(n[t]=e,{map:n,context:r})},i._removeEvent=function(t,e,r,n){var o,s,a,l,u,c,h,p,f,d=[];if(t)d=i._getEvents(t);else if(void 0!==this.eventHandlers){var _=this;Object.keys(this.eventHandlers||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(_.eventHandlers,t)&&d.push({event:t})})}for(o=0;o<d.length;o+=1)if(s=d[o].event,l=d[o].attribute,void 0!==this.eventHandlers&&this.eventHandlers[s]instanceof Array){for(a=(u=this.eventHandlers[s]).length-1;a>=0;a-=1)c=null==e||u[a].callback===e,h=null==r||u[a].context===r,p=null==l||u[a].attribute===l,f=null==n||u[a].listen===n,c&&h&&p&&f&&u.splice(a,1);0===u.length&&delete this.eventHandlers[s]}},i._removeHandler=function(t,e){var r,n,o,i,s,a;if(t)for(r=t.length-1;r>=0;r-=1)n=void 0===e.callback||null===e.callback||t[r].callback===e.callback,o=void 0===e.context||null===e.context||t[r].context===e.context,i=void 0===e.attribute||null===e.attribute||t[r].attribute===e.attribute,s=void 0===e.listen||null===e.listen||t[r].listen===e.listen,a=void 0===e.once||null===e.once||t[r].once===e.once,n&&o&&i&&s&&a&&t.splice(r,1)},i._getEvents=function(t){var e,r,n,o,i=t?t.split(" "):[],s=[];for(e=0;e<i.length;e+=1)n=(r=i[e].split(":"))[0],o=r.length>1?r[1]:null,s.push({event:n,attribute:o});return s},i._handlersIdentical=function(t,e){return t.callback===e.callback&&t.attribute===e.attribute&&t.context===e.context&&t.listen===e.listen&&t.once===e.once},i._listenersIdentical=function(t,e){return t.event===e.event&&t.attribute===e.attribute&&t.context===e.context&&t.object===e.object},i._checkForHandler=function(t,e,r){var n;if(void 0===t)return-1;for(n=0;n<t.length;n+=1)if(r(t[n],e))return n;return-1},i._getHandlers=function(t,e,r){if(t&&t[e]instanceof Array){if(r)return t[e];var n,o=[];for(n=0;n<t[e].length;n++)o.push(t[e][n]);return o}return null},e._registerLegacyNamespaceProp("Events",i);const s=function(){this.name="URLError",this.message="No URL defined"};e._registerLegacyNamespaceProp("URLError",s),s.prototype=new Error,s.constructor=s;const a=function(t,e){this.rootURL=t,this.model=e,this.customURL=e.customURL,n.support.cors=!0};e._registerLegacyNamespaceProp("RestImpl",a),a._HEADER_PROP="headers",a.addOptions=function(t,e,r){var o=n.extend(!0,t,r),i=e||{};return Object.keys(i).forEach(function(t){Object.prototype.hasOwnProperty.call(i,t)&&"oauthHeader"!==t&&(Object.prototype.hasOwnProperty.call(o,t)||(o[t]=i[t]),t===a._HEADER_PROP&&(o[t]=n.extend(!0,o[t],i[t])))}),e&&e.oauthHeader&&(o[a._HEADER_PROP]||(o[a._HEADER_PROP]={}),Object.keys(e.oauthHeader||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(e.oauthHeader,t)&&(Object.prototype.hasOwnProperty.call(o[a._HEADER_PROP],t)||(o[a._HEADER_PROP][t]=e.oauthHeader[t]))})),o},a.prototype.getRecords=function(t,e,r,n){var o=r||{},i="jsonp"===o.dataType,s=this._getURL("read",this.rootURL,this.customURL,null,n,o),l={crossDomain:o.crossDomain||!i,dataType:this._getDataType(o),jsonpCallback:o.jsonpCallback,context:null!==n?n:this,success:t,error:e};return l=this._addHeaderProp(l),l=a.addOptions(l,o,s),o.xhr=this.ajax(l,n),o.xhr},a.prototype._addHeaderProp=function(t){var e=t||{};return this.model&&this.model.omitLanguageHeader||(e[a._HEADER_PROP]={"Accept-Language":this.getLocale()}),e},a.prototype.getRecord=function(t,e,r,n,o){var i=n||{},s="jsonp"===i.dataType,l=this._getURL("read",this.rootURL,this.customURL,r,o,i),u={crossDomain:i.crossDomain||!s,dataType:this._getDataType(i),jsonpCallback:i.jsonpCallback,context:null!==o?o:this,success:t,error:e};return u=this._addHeaderProp(u),u=a.addOptions(u,i,l),i.xhr=this.ajax(u,o),i.xhr},a.prototype.updateRecord=function(t,e,r,n,o,i,s){var l=o||{},u="jsonp"===l.dataType,c=this._getURL(s?"patch":"update",this.rootURL,this.customURL,e,i,l),h=a._emulateHTTP(l),p={crossDomain:l.crossDomain||!u,contentType:this._getContentType(l),dataType:this._getDataType(l),jsonpCallback:l.jsonpCallback,data:this._getData(JSON.stringify(r),l,c),emulateHTTP:h,emulateJSON:a._emulateJSON(l),success:t,error:n,context:null!==i?i:this};return p=this._addHeaderProp(p),p=a.addOptions(p,l,c),p=a._beforeSendMod(h,p),l.xhr=this.ajax(p,i),l.xhr},a._beforeSendMod=function(t,e){var r=e||{};if(t){var n=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r._method),n?n.apply(this,arguments):null}}return r},a.prototype._getData=function(t,e,r){if(a._emulateJSON(e)){var n={_method:r._method?r._method:r.type};return t&&(n.model=t),n}return t},a.prototype._getHTTPMethod=function(t,e){if(e.type)return{method:e.type};var r=null;return"create"===t&&(r="POST"),"delete"===t&&(r="DELETE"),"patch"===t&&(r="PATCH"),"update"===t&&(r="PUT"),a._emulateHTTP(e)?{method:"POST",_method:r}:(null===r&&(r="GET"),{method:r})},a._emulateHTTP=function(t){return t.emulateHTTP||e.emulateHTTP},a._emulateJSON=function(t){return t.emulateJSON||e.emulateJSON},a.prototype._getURL=function(t,r,o,i,s,l){var u=this._getHTTPMethod(t,l);if(n.isFunction(o)){var c=o.call(this,t,s,a.SetCustomURLOptions(i,s,l));if(e.StringUtils.isString(c)){var h={url:c,type:u.method};return u._method&&(h._method=u._method),h}if(c)return c.url=Object.prototype.hasOwnProperty.call(c,"url")?c.url:r,Object.prototype.hasOwnProperty.call(c,"type")||(c.type=u.method),Object.prototype.hasOwnProperty.call(c,"data")||u._method&&(c._method=u._method),c}var p={url:a.GetPropValue(null,r),type:u.method};return u._method&&(p._method=u._method),p},a.prototype.deleteRecord=function(t,e,r,n){var o=r||{},i="jsonp"===o.dataType,s=this._getURL("delete",this.rootURL,this.customURL,t,n,o),l=a._emulateHTTP(o),u=a._emulateJSON(o),c={crossDomain:o.crossDomain||!i,success:o.success,error:e,context:null!==n?n:this,emulateHTTP:l,emulateJSON:u},h=this._getData(null,o,s);return h&&(c.data=h),c=a.addOptions(c,o,s),c=a._beforeSendMod(l,c),o.xhr=this.ajax(c,n),o.xhr},a.prototype.addRecord=function(t,e,r,n){var o=r||{},i=JSON.stringify(t),s="jsonp"===o.dataType,l=this._getURL("create",this.rootURL,this.customURL,null,n,o),u=a._emulateHTTP(o),c={crossDomain:o.crossDomain||!s,contentType:o.contentType||"application/json",dataType:this._getDataType(o),jsonpCallback:o.jsonpCallback,data:this._getData(i,o,l),success:o.success,error:e,emulateHTTP:u,emulateJSON:a._emulateJSON(o),context:null!==n?n:this};return c=this._addHeaderProp(c),c=a.addOptions(c,o,l),o.xhr=this.ajax(c,n),o.xhr},a.prototype._getDataType=function(t){return a._emulateJSON(t)&&!a._emulateHTTP(t)?"application/x-www-form-urlencoded":t.dataType||"json"},a.prototype._getContentType=function(t){return a._emulateJSON(t)&&!a._emulateHTTP(t)?"application/x-www-form-urlencoded":t.contentType||"application/json"},a.prototype.getLocale=function(){return o.getLocale()},a.prototype.ajax=function(t,r){if(null===t.url||void 0===t.url)throw new s;var n=e.ajax(t);return r._addxhr&&r._addxhr(n),n},a.SetCustomURLOptions=function(t,r,n){var o=r instanceof e.Collection?r.ModifyOptionsForCustomURL(n):{};return t&&(o.recordID=t),o},a.GetPropValue=function(t,e){return t?n.isFunction(t[e])?t[e]():t[e]:n.isFunction(e)?e():e};const l=function(t,e){l._init(this,t,e,null)};e._registerLegacyNamespaceProp("Model",l),e.Object.createSubclass(l,e.Object,"oj.Model"),l.prototype.Init=function(){l.superclass.Init.call(this)},l.prototype.attributes={},l.prototype.defaults={},l.prototype.id=null,l.prototype.idAttribute="id",l.prototype.urlRoot=null,l.prototype.customURL=null,l.prototype.validate=null,l.prototype.validationError=null,l.prototype.omitLanguageHeader=!1,l._idCount=0,l._init=function(t,e,r,o){var s,a,u;if(!l._justExtending){t.Init(),i.Mixin(t),t._clearChanged(),t.previousAttrs={},t.nestedSet=!1,t.index=-1;var c=r||{};for(u in t.attributes={},t.defaults&&!c.ignoreDefaults&&(t.attributes=l._cloneAttributes(n.isFunction(t.defaults)?t.defaults():t.defaults,null)),o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u]);if(e)if(s=c.parse,n.isFunction(s)&&(t.parse=s),a=l._cloneAttributes(e,t.attributes),t.attributes=a,null==(a=s?t.parse(a):a)||void 0===a)t.attributes={};else for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&t._setProp(u,a[u],!1,!1,c,!0);t.SetCid(),t.SetCollection(c.collection),c.customURL&&(t.customURL=c.customURL),c.url&&(t.url=c.url),c.urlRoot&&(t.urlRoot=c.urlRoot),t.initialize&&t.initialize(e,c),t.SetupId()}},l.extend=function(t,e){var r;l._justExtending=!0,r=new l,l._justExtending=!1,n.extend(r,this.prototype);var o,s=t||{};return Object.keys(s).forEach(function(t){Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}),o=s&&s.constructor&&Object.prototype.hasOwnProperty.call(s,"constructor")?s.constructor:function(t,e){l._init(this,t,e,s)},n.extend(o,this),o.prototype=r,o.extend=l.extend,o.prototype.constructor=o,i.Mixin(o,this),e&&Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}),o},l.prototype.TriggerInternal=function(t,e,r,n,o){},l.prototype.SetCid=function(){this.GetCid()||(this.cid="id"+l._idCount,l._idCount+=1)},l.prototype.GetCid=function(){return this.cid},l.prototype.SetIndex=function(t){this.index=t},l.prototype.GetIndex=function(){return this.index},l.prototype.SetNext=function(t){var e=this.nextModel;return this.nextModel=t,e},l.prototype.GetNext=function(){return this.nextModel},l.prototype.SetPrevious=function(t){var e=this.previousModel;return this.previousModel=t,e},l.prototype.GetPrevious=function(){return this.previousModel},l.prototype.Merge=function(t,r,n){var o,i=!1,s=e.StringUtils.isString(r),a=!1,l=this;return Object.keys(t.attributes||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(t.attributes,e)&&(o=l.attributes[e]!==t.attributes[e],s?e===r&&o&&(i=!0):o&&(i=!0),o&&(a=!0,l.attributes[e]=t.attributes[e],l._addChange(e,t.attributes[e]),l._fireAttrChange(e,l.attributes[e],null,n)))}),this.SetupId(),a&&this._fireChange(null,n),i},l._hasProperties=function(t){var e;if(t&&t instanceof Object)for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1},l.prototype.SetCollection=function(t){null!=t?(this.collection=t,this.SetupId()):delete this.collection},l.prototype.GetCollection=function(){return this.collection},l.prototype._fireAttrChange=function(t,e,r,n){null!=t&&this.TriggerInternal(n,i.EventType.CHANGE+":"+t,this,e,r)},l.prototype._fireChange=function(t,e){this.TriggerInternal(e,i.EventType.CHANGE,this,t,null)},l.prototype.SetupId=function(){var t=null;if(this.collection&&this.collection.modelId){var e=this.collection.modelId;t=n.isFunction(e)?e.call(this.collection,this.attributes):e}if(!t){var r=this._getIdAttr();t=null!=this.attributes?this.attributes[r]:null}this.id=t},l.prototype._setPropInternal=function(t,r,n){var o=e.Object.__innerEquals(this.attributes[t],r);return!(!n&&o)&&(this.attributes[t]=r,this.SetupId(),!o)},l.prototype._clearChanged=function(){this.changed={}},l.prototype._addChange=function(t,e){this.changed[t]=e},l.prototype._setProp=function(t,e,r,n,o,i){if(null==t)return!0;var s,a={},u=this.nestedSet;if(n?Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e])}):a[t]=e,s=o||{},!this._checkValid(a,{validate:s.validate},!1))return!1;u||(this._clearChanged(),this.changes=[]),this.nestedSet||i||(this.previousAttrs=l._cloneAttributes(this.attributes,null)),this.nestedSet=!0;var c=this;Object.keys(a).forEach(function(t){Object.prototype.hasOwnProperty.call(a,t)&&(c._setPropInternal(t,a[t],r)?(c._addChange(t,a[t]),c.changes.push(t)):delete a[t])});var h=s.silent;if(Object.keys(a).forEach(function(t){Object.prototype.hasOwnProperty.call(a,t)&&(!h&&(c.changes.length>0||u&&-1===c.changes.indexOf(t))&&(c.pendingChanges=!0,c.pendingOpts=s),c._fireAttrChange(t,a[t],s,h))}),u)return!0;if(!h&&!u)for(;this.pendingChanges;)this.pendingChanges=!1,this._fireChange(this.pendingOpts,h);return this.nestedSet=!1,!0},l.prototype.clear=function(t){var e,r,n={silent:!0},o=t||{};e=o.silent,n.validate=o.validate,this._clearChanged();for(r in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,r)){if(!this._unsetInternal(r,n,!0))return!1;this.TriggerInternal(e,i.EventType.CHANGE+":"+r,this,void 0,null)}return this.attributes={},this.SetupId(),this._fireAttrChange(null,null,null,e),this._fireChange(null,e),this},l._cloneAttributes=function(t,r){var o,i,s=r||{},a=!0;if(("object"==typeof s?Object.keys(s):[]).length>0){for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&Object.prototype.hasOwnProperty.call(t,o)&&void 0===t[o]&&delete t[o];return e.CollectionUtils.copyInto(s,t,void 0,!0,1e4),s}for(o in t)if("function"===(i=n.type(t[o]))||"undefined"===i||"date"===i||"array"===i||"object"===i){a=!1;break}return a?s=JSON.parse(JSON.stringify(t)):"object"==typeof t&&e.CollectionUtils.copyInto(s,t,void 0,!0,1e4),s},l.prototype.clone=function(){var t,e=new this.constructor;for(t in this)Object.prototype.hasOwnProperty.call(this,t)&&this[t]!==this.attributes&&(e[t]=this[t]);return e.attributes=l._cloneAttributes(this.attributes,null),delete e.cid,e.SetCid(),e.SetupId(),e},l.prototype.Match=function(t,e){var r,n=this.GetId();return void 0!==n&&n==t||void 0!==(r=this.cid)&&r==e},l.prototype.set=function(t,r,n){var o,i=n||{},s=!0;if(arguments&&arguments.length>0)if(e.StringUtils.isString(t))i.unset?this._unsetInternal(t,null,!1):this._setProp(t,r,!1,!1,i,!1)||(s=!1);else if((i=r||{}).unset)for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&this._unsetInternal(o,null,!1);else this._setProp(t,null,!0,!0,i,!1)||(s=!1);return!!s&&this},l.prototype.unset=function(t,e){return this._unsetInternal(t,e,!1)},l.prototype._unsetInternal=function(t,e,r){var n=e||{},o=n.silent;if(this.has(t)){if(!this._checkValid({},n,!1))return!1;r||this._clearChanged(),delete this.attributes[t],this._addChange(t,void 0),this._fireAttrChange(t,null,null,o),this._fireChange(null,o)}return this.SetupId(),!0},l.prototype.get=function(t){return this.attributes[t]},l.prototype.has=function(t){return e.Collection._defined(this.attributes[t])},l.prototype.fetch=function(t){var e,r=t||{},o=r.success,i=r.error,s=this;return(e=l._copyOptions(r)).error=function(e,n,o){l._triggerError(s,!1,r,n,o,e),i&&i.apply(s,[s,o,t,e,n])},e.success=function(t){e.xhr&&(r.xhr=e.xhr),l._fireSyncEvent(s,t,e,!1),n.isFunction(s.parse)&&s.set(s.parse(t),e),o&&o.call(l.GetContext(e,s),s,t,r)},l._internalSync("read",this,e)},l.prototype._parseImpl=function(t){return t},l.prototype.parse=l.prototype._parseImpl,l.prototype.url=function(){var t,e,r=this._getUrlRoot(),n=this.GetId();if(r)return n?r+"/"+encodeURIComponent(n):r;if(t=this.collection)return e=a.GetPropValue(t,"url"),n&&e?e+("/"===l._getLastChar(e)?"":"/")+encodeURIComponent(this.GetId()):e;throw new s},l.prototype.keys=function(){var t=[],e=this;return Object.keys(e.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(e.attributes,r)&&t.push(r)}),t},l.prototype.values=function(){var t=[],e=this;return Object.keys(e.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(e.attributes,r)&&t.push(e.get(r))}),t},l.prototype.pairs=function(){var t,e=[],r=this;return Object.keys(r.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(r.attributes,n)&&((t=[]).push(n),t.push(r.get(n)),e.push(t))}),e},l.prototype.omit=function(t){var e,r=[],n={};if(t instanceof Array)r=t;else for(e=0;e<arguments.length;e++)r.push(arguments[e]);var o=this;return Object.keys(o.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(o.attributes,t)&&-1===r.indexOf(t)&&(n[t]=o.get(t))}),n},l.prototype.pick=function(t){var e,r=[],n={};if(t instanceof Array)r=t;else for(e=0;e<arguments.length;e++)r.push(arguments[e]);for(e=0;e<r.length;e++)Object.prototype.hasOwnProperty.call(this.attributes,r[e])&&(n[r[e]]=this.get(r[e]));return n},l.prototype.invert=function(){var t,e={},r=this;return Object.keys(r.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(r.attributes,n)&&(t=r.get(n),e[t]=n)}),e},l._getLastChar=function(t){return t.charAt(t.length-1)},l.prototype._saveUrl=function(){var t=this._getUrlRoot();return t||(this.GetCollection()?this.GetCollection().url:null)},l.prototype._getUrlRoot=function(){return a.GetPropValue(this,"urlRoot")},l.prototype._parseSaveImpl=function(t){return t},l.prototype.parseSave=l.prototype._parseSaveImpl,l.prototype.isValid=function(){var t={validate:this.validate};return this._checkValid(this.attributes,t,!1)},l._isValidateSet=function(t,e){var r=t||{};return void 0!==r.validate&&null!==r.validate?r.validate:e},l.prototype._checkValid=function(t,e,r){var n=e||{},o=this.validate;return!(o&&l._isValidateSet(n,r)&&(this.validationError=o.call(this,t,n),this.validationError))||(this.TriggerInternal(!1,i.EventType.INVALID,this,this.validationError,n),!1)},l._processArgs=function(t){var r,n=!1,o={},i={};if(t&&t.length>0){if(t.length>1&&t[t.length-1]&&l._hasProperties(t[t.length-1])&&(n=!0,o=t[t.length-1]||{}),null==t[0])return{attributes:null,options:o};if(l._hasProperties(t[0])||e.Object.isEmpty(t[0]))Object.keys(t[0]).forEach(function(e){Object.prototype.hasOwnProperty.call(t[0],e)&&(i[e]=t[0][e])});else for(r=0;r<t.length;r+=2)(void 0!==t[r]||r<t.length-1||!n&&r===t.length-1)&&(i[t[r]]=t[r+1])}return{attributes:i,options:o}},l._copyOptions=function(t){var e={},r=t||{};return Object.keys(r).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}),e},l._triggerError=function(t,e,r,n,o,s){var a=r||{};a.textStatus=n,a.errorThrown=o,t.TriggerInternal(e,i.EventType.ERROR,t,s,a)},l.prototype.save=function(t,r){var o,i,s,a,u,c,h,p,f,d=l._processArgs(arguments);f=void 0===t?void 0:d.attributes;var _=r||{};h=l._copyOptions(d.options);var g=n.extend(!0,{},this.attributes,f);return!!this._checkValid(g,h,!0)&&(h.wait||this.set(f),o=void 0!==h.forceNew&&h.forceNew,a=this,u=h.error,c=h.patch,h.error=function(t,e,n){l._triggerError(a,!1,_,e,n,t),u&&u.apply(a,[a,n,r,t,e])},h.saveAttrs=h.wait?this._attrUnion(f):this.attributes,p=this.attributes,this.attributes=h.saveAttrs,h.saveAttrs=this.toJSON(),this.attributes=p,o||this.isNew()?(s=l._getSuccess(h),h.success=function(t){var r;if(h.xhr&&(_.xhr=h.xhr),t&&!e.Object.isEmpty(t)){if(r=n.isFunction(a.parse)?a.parse(t):t,!a._checkValid(r,h,!0))return;a.attributes=n.extend(!0,a.attributes,r),h.wait&&Object.keys(f||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(f[t]=r[t])}),a.SetupId()}l._fireSyncEvent(a,t,h,!1),h.wait&&a.set(f),s&&s.call(l.GetContext(h,a),a,t,_),a._clearChanged()},h.attrs||(h.attrs=h.saveAttrs),h.parse=!0,c&&(h.saveAttrs=h.attrs),l._internalSync("create",this,h)):(i=h.success,h.success=function(t){var r;h.xhr&&(_.xhr=h.xhr),t&&!e.Object.isEmpty(t)&&(r=n.isFunction(a.parse)?a.parse(t):t,a.attributes=n.extend(!0,a.attributes,r),h.wait&&Object.keys(f||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(f[t]=r[t])}),a.SetupId()),l._fireSyncEvent(a,t,h,!1),h.wait&&a.set(f),i&&i.call(l.GetContext(h,a),a,t,_),a._clearChanged()},h.attrs||(h.attrs=void 0===f?void 0:c?f:h.saveAttrs),l._internalSync(c?"patch":"update",this,h)))},l.prototype._attrUnion=function(t){var e={},r=this;return Object.keys(r.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(r.attributes,t)&&(e[t]=r.attributes[t])}),Object.keys(t||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}),e},l.IsComplexValue=function(t){return t&&Object.prototype.hasOwnProperty.call(t,"value")&&Object.prototype.hasOwnProperty.call(t,"comparator")},l.prototype._hasAttrs=function(t){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(!Object.prototype.hasOwnProperty.call(this.attributes,r))return!1;for(var n=Array.isArray(t[r])?t[r]:[t[r]],o=0;o<n.length;o++)if(l.IsComplexValue(n[o])){var i=n[o].comparator,s=n[o].value;if(e.StringUtils.isString(i))throw new Error("String comparator invalid for local where/findWhere");if(!i(this,r,s))return!1}else if(t[r]!==this.attributes[r])return!1}return!0},l.prototype.matches=function(t){return function(e){for(var r in t)if(e.get(r)!==t[r])return!1;return!0}(this)},l.prototype.Contains=function(t){var e,r=t.constructor===Array?t:[t];for(e=0;e<r.length;e++)if(this._hasAttrs(r[e]))return!0;return!1},l._getSuccess=function(t){return null!=t&&t.success?t.success:null},l.GetContext=function(t,e){return void 0!==t&&void 0!==t.context?t.context:e},l.prototype.isNew=function(){return void 0===this.GetId()},l.prototype._getIdAttr=function(){return this.idAttribute||"id"},l.prototype.GetId=function(){return this.id},l.prototype.changedAttributes=function(t){if(t){var r={},n=this;return Object.keys(t).forEach(function(o){Object.prototype.hasOwnProperty.call(t,o)&&(e.Object.__innerEquals(t[o],n.attributes[o])||(r[o]=t[o]))}),!e.Object.isEmpty(r)&&r}return!e.Object.isEmpty(this.changed)&&this.changed},l.prototype.hasChanged=function(t){return void 0!==t?l._hasProperties(this.changed)&&Object.prototype.hasOwnProperty.call(this.changed,t):l._hasProperties(this.changed)},l.prototype.destroy=function(t){var r,n,o,s=t||{},a=s.wait,u=s.error,c=this;o=l._copyOptions(s),r=l._getSuccess(o);var h=this.GetCollection();return o.success=function(t){if(o.xhr&&(s.xhr=o.xhr),h){var n=e.StringUtils.isString(t)&&!e.StringUtils.isEmpty(t)?JSON.parse(t):t;h._setPagingReturnValues(n,null,t,!0)}a&&c._fireDestroy(!1),l._fireSyncEvent(c,t,o,!1),r&&r.call(l.GetContext(o,c),c,t,s)},o.error=function(e,r,n){c.TriggerInternal(!1,i.EventType.ERROR,c,e,s),u&&u.apply(c,[c,n,t,e,r])},this.isNew()?(a||this._fireDestroy(!1),r&&r.call(l.GetContext(o,c),c,null,s),!1):(n=l._internalSync("delete",this,o),a||this._fireDestroy(!1),n)},l.prototype._fireRequest=function(t,e,r,n){this.TriggerInternal(n,i.EventType.REQUEST,t,e,r)},l.prototype._fireDestroy=function(t){this.TriggerInternal(t,i.EventType.DESTROY,this,this.collection,null)},l._fireSyncEvent=function(t,e,r,n){t.TriggerInternal(n,i.EventType.SYNC,t,e,r)},l.prototype.toJSON=function(){var t={},e=this;return Object.keys(e.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(e.attributes,r)&&(Array.isArray(e.attributes[r])?t[r]=e.attributes[r].slice(0):t[r]=e.attributes[r])}),t},l.prototype.previous=function(t){return this.previousAttrs[t]},l.prototype.previousAttributes=function(){return this.previousAttrs},l.prototype.sync=function(t,r,n){return e.sync(t,r,n)},l._internalSync=function(t,e,r){var n=r||{};e.oauth&&(n.oauthHeader=e.oauth.getHeader()),!n.dataType&&e.dataType&&(n.dataType=e.dataType),!n.jsonpCallback&&e.jsonpCallback&&(n.jsonpCallback=e.jsonpCallback),"create"!==t&&"patch"!==t&&"update"!==t||(n.parsedData=e.parseSave.call(e,"patch"===t?n.attrs:n.saveAttrs));var o=null;e instanceof l&&(o=e.GetId());var i={};Object.keys(n).forEach(function(t){i[t]=n[t]});var s=a.SetCustomURLOptions(o,e,n);return Object.keys(s||{}).forEach(function(t){i[t]=s[t]}),n.xhr=e.sync(t,e,i),i.xhr&&(n.xhr=i.xhr),n.xhr};const u=function(t,e,r){var n,o=r||{};function i(t){return e._fireRequest(e,t,o,o.silent),t}var s,u=o.success,c=o.error;if("create"===t.valueOf())return s=(s=e._saveUrl())||a.GetPropValue(e,"url"),i((n=new a(s,e)).addRecord(o.parsedData,c,o,e));if("read"===t.valueOf())return e instanceof l?(s=o.url?o.url:a.GetPropValue(e,"url"),i((n=new a(s,e)).getRecord(u,c,e.GetId(),o,l.GetContext(o,e)))):(s=e.GetCollectionFetchUrl(o),i((n=new a(s,e)).getRecords(u,c,o,e)));n=new a(a.GetPropValue(e,"url"),e);var h=null;return e instanceof l&&(h=e.GetId()),"update"===t.valueOf()?i(n.updateRecord(u,h,o.parsedData,c,o,e,!1)):"patch"===t.valueOf()?i(n.updateRecord(u,h,o.parsedData,c,o,e,!0)):"delete"===t.valueOf()?i(n.deleteRecord(h,c,o,e)):null};e._registerLegacyNamespaceProp("sync",u),l._urlError=function(t){if(!t.url)throw new Error("The url property or function must be specified")};const c=function(t){return arguments&&arguments.length>0&&l._urlError(arguments[0]),n.ajax.apply(e,arguments)};e._registerLegacyNamespaceProp("ajax",c);const h=function(t,e){h._justExtending||h._init(this,t,e,null)};e._registerLegacyNamespaceProp("Collection",h),e.Object.createSubclass(h,e.Object,"oj.Collection"),h.prototype.model=null,h.prototype.modelId=function(t){var e=this.model;return e&&t?t[e.idAttribute||e.prototype.idAttribute||"id"]:null},h.prototype.length=null,h.prototype.models=null,h.prototype._modelIndices=[],h.prototype.url=null,h.prototype.changes=[],h.prototype.customURL=null,h.prototype.customPagingOptions=null,h.prototype.lastFetchSize=null,h.prototype.hasMore=!1,h.prototype.totalResults=null,h.prototype.lastFetchCount=null,h.prototype.modelLimit=-1,h.prototype.offset=null,h.prototype.fetchSize=-1,h.prototype.sortDirection=1,h.prototype.comparator=null,h.prototype.omitLanguageHeader=!1,h.prototype.Init=function(){h.superclass.Init.call(this)},h.extend=function(t,e){var r,o=null;return h._justExtending=!0,o=new h,h._justExtending=!1,n.extend(o,this.prototype),r=t&&t.constructor&&Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(e,r){h._init(this,e,r,t)},e&&Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}),t&&Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}),n.extend(r,this),r.prototype=o,r.extend=h.extend,r.prototype.constructor=r,r},h._init=function(t,e,r,n){var o,s,a,l;if(t.Init(),i.Mixin(t),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l]);var u=r||{};for(s=["comparator","customPagingOptions","customURL",h._FETCH_SIZE_PROP,"model","modelLimit","sortDirection","url"],o=0;o<s.length;o++)Object.prototype.hasOwnProperty.call(u,s[o])&&void 0!==u[s[o]]&&(t[s[o]]=u[s[o]]);void 0===t._getFetchSize(null)&&t.setFetchSize(-1),void 0===t.modelLimit&&t.setModelLimit(-1),t.hasMore=!1,t.lruCount=0,t._setModels([],!0);var c=e;u.parse&&(c=t.parse(e)),null!=c&&(u.noparse=!0,a=c instanceof Array?c:[c],t._addInternal(a,u,!0,!1)),t._setLength(),c||(t.totalResults=void 0),n&&n.initialize&&n.initialize.call(t,c,u)},h.prototype.on=function(t,e){},h.prototype.OnInternal=function(t,e,r,n,o){},h.prototype.TriggerInternal=function(t,e,r,n,o){},h.prototype._fireRequest=function(t,e,r,n){this.TriggerInternal(n,i.EventType.REQUEST,t,e,r)},h.prototype._resetChanges=function(){this.changes=[]},h.prototype._setChangeAt=function(t,e){for(var r=t;r<t+e;r++)-1===this.changes.indexOf(r)&&this.changes.push(r)},h.prototype._setModels=function(t,e){if(this.models=t,e)this._modelIndices=[],this._resetChanges();else for(var r=0;r<t.length;r++)t[r]&&this._modelIndices.push(r)},h.prototype._getModels=function(){return this.models},h.prototype._getModelsLength=function(){return this._getModels().length},h.prototype._overUpperLimit=function(t){return!(t<this._getModelsLength())&&!(this.IsVirtual()&&(!this._hasTotalResults()||0===this._getModelsLength()))},h.prototype._hasTotalResults=function(){return h._defined(this.totalResults)},h._defined=function(t){return null!=t},h.prototype._pushModel=function(t){this._getModels().push(t),this._modelIndices.push(this._getModelsLength()-1),this._setChangeAt(this._getModelsLength()-1,1)},h.prototype._pushModels=function(t){this._makeModelHead(t),this._pushModel(t),this.lruCount+=1,t.SetIndex(this._getModelsLength()-1)},h.prototype._reduceLRU=function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&(this.lruCount-=1)},h.prototype._spliceModels=function(t,e,r){for(var n=t;n<t+e;n++)this._removePrevNext(this._getModel(n));void 0===r?(this._reduceLRU(this._getModels().splice(t,e)),this._spliceModelIndices(t,t+e-1)):(this._reduceLRU(this._getModels().splice(t,e,r)),this._spliceModelIndices(t,t+e-1),this._insertModelIndex(t),this._makeModelHead(r)),this._setChangeAt(t,e),this.lruCount<0&&(this.lruCount=0),this._realignModelIndices(t)},h.prototype._getModel=function(t){return this._getModels()[t]},h.prototype._realignModelIndices=function(t){for(var e,r=0;r<this._modelIndices.length;r++)(e=this._modelIndices[r])>=t&&this._getModel(e)&&this._getModel(e).SetIndex(e)},h.prototype._removePrevNext=function(t){if(t){var e=t.GetPrevious(),r=t.GetNext();e?e.SetNext(r):this.head=r,r?r.SetPrevious(e):this.tail=e}},h.prototype._makeModelHead=function(t){t.SetNext(this.head),this.head?this.head.SetPrevious(t):this.tail=t,t.SetPrevious(null),this.head=t},h.prototype._setModelIndex=function(t){-1===this._modelIndices.indexOf(t)&&this._modelIndices.push(t)},h.prototype._insertModelIndex=function(t){for(var e=0;e<this._modelIndices.length;e++)this._modelIndices[e]>=t&&(this._modelIndices[e]+=1);this._modelIndices.push(t)},h.prototype._spliceModelIndices=function(t,e){var r=void 0===e?t:e;this._clearModelIndices(t,r);for(var n=r-t+1,o=0;o<this._modelIndices.length;o++)this._modelIndices[o]>r&&(this._modelIndices[o]-=n)},h.prototype._clearModelIndices=function(t,e){for(var r=void 0===e?t:e,n=t;n<=r;n++){var o=this._modelIndices.indexOf(t);o>-1&&this._modelIndices.splice(o,1)}},h.prototype._setModel=function(t,e){var r=this._getModel(t);this._removePrevNext(r),r||(this.lruCount+=1),this._setChangeAt(t,1),this._getModels()[t]=e,e&&(this._setModelIndex(t),e.SetIndex(t),this._makeModelHead(e))},h.prototype._clearOutModels=function(t){var e,r,n=this.tail,o=0;for(this.tail=null;n&&o<t;)e=n.GetIndex(),(r=this._getModel(e))&&r.hasChanged()?(this.tail||(this.tail=n),n=n.GetPrevious()):(this.lruCount-=1,e>-1&&(this._setModel(e,void 0),this._clearModelIndices(e,e)),n.SetNext(null),n=n.SetPrevious(null),o+=1);this.tail||(this.tail=n),this.lruCount<0&&(this.lruCount=0),0===this.lruCount&&(this.head=null,this.tail=null)},h.prototype._resetLRU=function(){this.lruCount=0,this.head=null,this.tail=null},h.prototype._manageLRU=function(t){if(this.IsVirtual()){var e=this._getModelLimit();e>-1&&this.lruCount+t>e&&this._clearOutModels(this.lruCount+t-e)}},h.prototype.clone=function(){return this._cloneInternal(!0)},h.prototype._cloneInternal=function(t){var e,r,n=new this.constructor;if(this.IsVirtual()&&(n=this._copyFetchProperties(n))._resetModelsToFullLength(this.totalResults),n=this._copyProperties(n),t){var o,i=[];for(e=0;e<this._modelIndices.length;e++)i.push(this._modelIndices[e]);for(i.sort(function(t,e){return t-e}),e=0;e<i.length;e++)o=i[e],(r=this._atInternal(o,null,!0,!1))&&n._addInternal(r.clone(),{at:o},!0,!1)}return n},h.prototype._copyProperties=function(t){var e,r,n=["comparator","model","modelId"];for(r=0;r<n.length;r++)t[e=n[r]]=this[e];return t},h.prototype._copyFetchProperties=function(t){var e,r,n=["totalResults","hasMore",h._FETCH_SIZE_PROP];for(r=0;r<n.length;r++)t[e=n[r]]=this[e];return t},h.prototype._getLength=function(){return this.length},h.prototype._setLength=function(){var t=this._getModelsLength();this.length=t,this.IsVirtual()||(this.totalResults=t)},h._createModel=function(t,e,r){return t.model?n.isFunction(t.model)?new t.model(e,r):new t.model.constructor(e,r):null},h.prototype._newModel=function(t,e,r,n){var o,s=null,a=r||{};return a.ignoreDefaults=n,t instanceof l?s=t:this.model?s=h._createModel(this,t,a):(a.collection=this,s=new l(t,a)),a.validate&&s.validate&&(o=s.validate(s.attributes))?(a.validationError=o,this.TriggerInternal(!1,i.EventType.INVALID,s,o,a),null):s},h.prototype.add=function(t,e){this._manageLRU(1);var r=e||{};return this._handlePromise(this._addInternal(t,e,!1,r.deferred))},h.prototype._addInternal=function(t,n,o,s){var a,u,c,p=n||{},f=[],d=p.at,_=p.silent,g=p.force,y=p.merge||!1,v=p.sort,m=!0,I=!1,O=[],b=[];function E(t,n,s,a,l){var h,f=null;return!g&&y&&s?(m=s.Merge(n,t.comparator,_),f=s):(g||(h=o&&a.isNew()?void 0:t._getLocal(a))&&o&&d!==h.index&&r.warn("Duplicate ID fetched or added without merging, the id = "+h.GetId()),void 0===h?(!function(t,e){void 0===d?(t._pushModels(e),u=t._getModelsLength()-1,t._getModel(u).SetCid()):(u=d,t.IsVirtual()&&o?t._setModel(u,e):t._spliceModels(u,0,e),t._getModel(u).SetCid(),d+=1),void 0===e.GetCollection()&&e.SetCollection(t),t._setLength(),t._listenToModel(e),I=!0}(t,a),f=a):f=h),function(t,r,n,s,a){var l=p||{};o&&(l.fillIn=!0);var h=l.comparator||t._hasComparator();if((!o||o&&h)&&m&&void 0===r&&!v&&void 0===d&&t._getLength()>1){u>-1&&(c=t._getModel(u).cid);var f={};e.CollectionUtils.copyInto(f,l),f.add=!0,t.sort(f),u>-1&&(u=t.IsVirtual()?-1:t.indexOf(t.getByCid(c),a))}I&&(l.at&&(l.index=u),s?(s.TriggerInternal(_,i.EventType.ADD,s,t,l),O.push(s)):(n.TriggerInternal(_,i.EventType.ADD,n,t,l),O.push(n)))}(t,h,s,a,l),f}function P(t,e,r){I=!1;var n=t._newModel(e,!0,p,!1),i=null,s=null;if(null!=n){if(u=-1,n.SetupId(),i=e instanceof l?e:n,r)return g?new Promise(function(e){var o=E(t,i,void 0,n,r);b.push(o),e(o)}):t._getInternal(i,{silent:!0},r,!0).then(function(e){s=e.m;var o=E(t,i,s,n,r);b.push(o)});!g&&y&&(s=o?t._getLocal(i):t.get(i));var a=E(t,i,s,n,r);a&&b.push(a)}else b.push(!1);return Promise.resolve()}function T(t,e){return t.parse&&p.parse&&!p.noparse?t.parse(e):e}if(void 0!==d&&d<0&&(d+=this._getLength()+1),t instanceof Array?f=t:f.push(t),!o&&(this.IsVirtual()||s)){var R=this;return new Promise(function(t,e){var r=function(t){return new Promise(function(e,r){P(R,f[t],!0).then(function(){e(t+1)},r)})},n=Promise.resolve(0);for(f=T(R,f),a=0;a<f.length;a++)n=n.then(r);n.then(function(){O.length>0&&R.TriggerInternal(p.silent,i.EventType.ALLADDED,R,O,p),t(h._returnModels(b))},e)})}for(f=T(this,f),a=0;a<f.length;a++)P(this,f[a],!1);return O.length>0&&this.TriggerInternal(p.silent,i.EventType.ALLADDED,this,O,p),h._returnModels(b)},h._returnModels=function(t){return 1===t.length?t[0]:t},h.prototype._hasComparator=function(){return h._defined(this.comparator)},h.prototype.sort=function(t){var e,r,n=t||{},o=n.silent,s=this.comparator;if(!this._hasComparator())return null;if(this.IsVirtual()){var a=this.totalResults;this._hasTotalResults()?this._setModels(new Array(a),!0):(this._setModels([],!0),this._resetLRU(),this._setLength()),r=n.add?{add:!0}:null,this.TriggerInternal(o,i.EventType.SORT,this,r,null);var l=n.startIndex;return null!=l?this.setRangeLocal(l,this._getFetchSize(n)):null}return e=this,this._getModels().sort(function(t,r){return h.SortFunc(t,r,s,e,e)}),this._realignModelIndices(0),r=n.add?{add:!0}:null,this.TriggerInternal(o,i.EventType.SORT,this,r,null),null},h._getKey=function(t,e){return t instanceof l?t.get(e):a.GetPropValue(t,e)},h.SortFunc=function(t,r,o,i,s){var a,l,u,c;if(n.isFunction(o)){if(1===o.length){a=o.call(s,t),l=o.call(s,r);var p=e.StringUtils.isString(a)?a.split(","):[a],f=e.StringUtils.isString(l)?l.split(","):[l];for(u=0;u<p.length;u++)if(0!==(c=h._compareKeys(p[u],f[u],i.sortDirection)))return c}return o.call(s,t,r)}if(e.StringUtils.isString(o)){var d=o.split(",");for(u=0;u<d.length;u++)if(a=h._getKey(t,d[u]),l=h._getKey(r,d[u]),0!==(c=h._compareKeys(a,l,i.sortDirection)))return c}return 0},h.prototype.sortedIndex=function(t,r){var o,i,s=r||this.comparator;return s?(this._throwErrIfVirtual("sortedIndex"),o=this,i=function(t,r){var i,a;if(n.isFunction(s)){if(1===s.length){i=s.call(o,t),a=s.call(o,r);var l,u,c=e.StringUtils.isString(i)?i.split(","):[i],p=e.StringUtils.isString(a)?a.split(","):[a];for(u=0;u<c.length;u++)if(0!==(l=h._compareKeys(c[u],p[u],o.sortDirection)))return l}return s.call(o,t,r)}return e.StringUtils.isString(s)?(i=t.get(s),a=r.get(s),h._compareKeys(i,a,o.sortDirection)):0},h._find(this._getModels(),t,i)):-1},h._find=function(t,e,r){return function n(o,i){var s,a,l;return o>i?-1:(s=e.GetCid(),a=e.GetId(),t[o].Match(a,s)?o:t[i].Match(a,s)?i:(l=Math.floor((i+o)/2),-1===r(t[l],e)?n(o+1,l):1===r(t[l],e)?n(l,i-1):l))}(0,t.length-1)},h._compareKeys=function(t,e,r){if(-1===r){if(t<e)return 1;if(e<t)return-1}else{if(t>e)return 1;if(e>t)return-1}return 0},h.prototype.unshift=function(t,r){var n={};return e.CollectionUtils.copyInto(n,r||{}),n.at||(n.at=0),this._manageLRU(1),this._handlePromise(this._addInternal(t,n,!1,n.deferred))},h.prototype._handlePromise=function(t){return n.isFunction(t.then)?this._addPromise(function(){return t}):t},h.prototype.shift=function(t){var e,r=t||{},n=this._getDeferred(r);if(this.IsVirtual()||n){var o=this;return this._atInternal(0,r,!1,!0).then(function(t){return e=o._removeInternal(t,0,r),o.TriggerInternal(r.silent,i.EventType.ALLREMOVED,o,[e],r),e})}return e=this._removeInternal(this.at(0),0,r),this.TriggerInternal(r.silent,i.EventType.ALLREMOVED,this,[e],r),e},h.prototype.initial=function(t){var e=void 0===t?1:t;this._throwErrIfVirtual("initial");var r,n=[];for(r=0;r<this._getLength()-e;r+=1)n.push(this.at(r));return n},h.prototype._getDeferred=function(t){return(t||{}).deferred},h.prototype.last=function(t,e){var r,n=this._getDeferred(e),o=void 0===t?1:t;if(1===o)return 0===(r=this._getModelsLength())&&(r=o),r>0?this._atInternal(r-1,e,!1,n):null;var i,s=[];if(r=this._getLength(),n||this.IsVirtual()){var a=r-t;a<0&&(a=0),0===r&&(r=t);var l=this;return this._addPromise(function(){return l.IterativeAt(a,r)})}for(i=r-t;i<r;i+=1)s.push(this.at(i));return s},h.prototype.IterativeAt=function(t,e){var r,n=[],o=this;return new Promise(function(i,s){var a=function(t){return o.IsVirtual()&&o._hasTotalResults()&&t>=o.totalResults?Promise.resolve(t+1):new Promise(function(e,r){o._deferredAt(t,null).then(function(r){n.push(r),e(t+1)},r)})},l=Promise.resolve(t);for(r=t;r<e;r++)l=l.then(a);l.then(function(){i(n)},s)})},h.prototype._getDefaultFetchSize=function(t){return null==t?this[h._FETCH_SIZE_PROP]:t},h.prototype._calculateNextStart=function(){var t=this.lastFetchCount;return null==t&&(t=this[h._FETCH_SIZE_PROP]),void 0===this.offset||null===this.offset?t:this.offset+t},h.prototype.next=function(t,e){var r=e||{};r[h._FETCH_SIZE_PROP]=this._getDefaultFetchSize(t);var n=this._calculateNextStart(),o=this._getLength();if(0===o&&r[h._FETCH_SIZE_PROP]>0)n=0;else if(n>=o){return r.success&&r.success.call(l.GetContext(r,this),this,null,r),null}return r.startIndex=n,this.fetch(r)},h.prototype._calculatePrevStart=function(t){return void 0===this.offset||null===this.offset?0:this.offset-t},h.prototype.previous=function(t,e){var r=e||{};if(0===this.offset){return r.success&&this.lastFetchCount&&r.success.call(l.GetContext(r,this),this,null,r),null}r[h._FETCH_SIZE_PROP]=this._getDefaultFetchSize(t);var n=this._calculatePrevStart(r[h._FETCH_SIZE_PROP]);return n<0&&(r[h._FETCH_SIZE_PROP]=this.offset,n=0),r.startIndex=n,this.fetch(r)},h.prototype.setModelLimit=function(t){this.modelLimit=t,this._manageLRU(0)},h.prototype._getModelLimit=function(){return this.modelLimit},h.prototype.setFetchSize=function(t){this[h._FETCH_SIZE_PROP]=t},h.prototype.rest=function(t,e){var r,n=this._getDeferred(e),o=void 0===t?1:t,i=[];if(this.IsVirtual()||n){var s=this;return this._addPromise(function(){return s.IterativeAt(o,s._getLength())})}for(r=o;r<this._getLength();r+=1)i.push(this.at(r));return i},h.prototype.remove=function(t,e){var r,n=e||{},o=[];t instanceof Array?o=t:o.push(t);var s=[];for(r=o.length-1;r>=0;r-=1)s.unshift(this._removeInternal(o[r],-1,n));return this.TriggerInternal(n.silent,i.EventType.ALLREMOVED,this,o,n),h._returnModels(s)},h.prototype._removeInternal=function(t,r,n){var o=n||{},s=-1===r?this._getInternal(t):h._getModinfo(r,t),a=o.silent,l=s.index;if(l>-1){var u=s.m;void 0!==u&&u.GetCollection()===this&&u.SetCollection(null),this._spliceModels(l,1),this._setLength();var c={};e.CollectionUtils.copyInto(c,o),c.index=l,void 0!==u&&u.TriggerInternal(a,i.EventType.REMOVE,u,this,c),this._unlistenToModel(u)}return s.m},h.prototype._unlistenToModel=function(t){void 0!==t&&t.off(null,null,this)},h.prototype._listenToModel=function(t){t.OnInternal(i.EventType.ALL,this._modelEvent,this,!1,!0)},h.prototype._modelEvent=function(t,e,r,n){if(t===i.EventType.DESTROY&&this.remove(e),!(void 0!==r&&r instanceof h&&r!==this)){var o=n&&n.silent;this.TriggerInternal(o,t,e,r,n)}},h.prototype.refresh=function(t){var e,r=t||{},n=this;return this._addPromise(function(){return new Promise(function(t,o){if(!n.IsVirtual()){e=void 0!==r.silent&&r.silent;try{n.reset(null,{silent:!0});var a={};return Object.keys(r).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(a[t]=r[t])}),a.success=function(r,o,s){n.TriggerInternal(e,i.EventType.REFRESH,n,s,null),t({collection:r,response:o,options:s})},a.error=function(t,e,i,s,a){o(h._createRejectionError(i,a,e,n,r,!1))},void n._fetchInternal(a,-1,!1)}catch(o){if(o instanceof s)return n.TriggerInternal(e,i.EventType.REFRESH,n,r,null),void t({collection:n,options:r});throw o}}var l=r.startIndex;n._setModels([],!0),n._resetLRU(),n.totalResults=void 0,n._setLength(),e=void 0!==r.silent&&r.silent,n.TriggerInternal(e,i.EventType.REFRESH,n,r,null),null==l&&(l=0),null!=l?n._setRangeLocalInternal(l,n._getFetchSize(r)).then(function(e){t(e)},function(t){o(t)}):t(void 0)})})},h.prototype.reset=function(t,r){var n,o,s={};e.CollectionUtils.copyInto(s,r||{}),s.previousModels=this._getModels();for(var a=0;a<this._modelIndices.length;a++)n=this._modelIndices[a],(o=this._getModel(n))&&(this._unlistenToModel(o),o.SetCollection(null));this._setModels([],!0),this._resetLRU();var l=void 0!==s.silent&&s.silent;if(!t)return this._setLength(),this.totalResults=void 0,this.TriggerInternal(l,i.EventType.RESET,this,s,null),null;var u,c=t;return s.parse&&(c=this.parse(t)),this._manageLRU(c instanceof Array?c.length:1),s.noparse=!0,u=this._addInternal(c,s,!0,!1),this._setLength(),this.TriggerInternal(l,i.EventType.RESET,this,s,null),this._handlePromise(u)},h.prototype.at=function(t,e){var r=this._getDeferred(e);return this._atInternal(t,e,!1,r)},h.prototype._atInternal=function(t,e,r,n){var o=t;if(o<0&&(o+=this._getLength()),o<0||this._overUpperLimit(o))return r||!this.IsVirtual()&&!n?null:this._addPromise(function(){return Promise.resolve(null)});var i=this;return r||!this.IsVirtual()&&!n?this._getModel(o):this._addPromise(function(){return i._deferredAt(o,e)})},h.prototype.whenReady=function(){return this._promises?this._promises:Promise.resolve()},h.prototype._addPromise=function(t){var e=this;return void 0===this._promises&&(this._promiseCount=0,this._promises=Promise.resolve()),this._promiseCount+=1,this._promises=this._promises.then(t.bind(e)).then(function(t){return e._promiseCount-=1,0===e._promiseCount&&(e._promises=void 0,e.TriggerInternal(!1,i.EventType.READY,e,null,null)),t},function(t){return e._promiseCount-=1,0===e._promiseCount&&(e._promises=void 0),Promise.reject(t)}),this._promises},h.prototype._addxhr=function(t){if(t&&t.abort){void 0===this._xhrs&&(this._xhrs=[]);var e=this;this._xhrs.push(t),t.done(function(){var r=e._xhrs?e._xhrs.indexOf(t):-1;r>-1&&e._xhrs.splice(r,1)})}},h.prototype.abort=function(){var t=this;function e(e,r){t._xhrs[e].then(function(n,o){"abort"===o&&(t._xhrs.splice(e,1),0===t._xhrs.length&&t.whenReady().then(function(){r(null)},function(){r(null)}))},function(){t._xhrs.splice(e,1),0===t._xhrs.length&&t.whenReady().then(function(){r(null)},function(){r(null)})})}return this._xhrs&&this._xhrs.length>0?new Promise(function(r){for(var n=t._xhrs.length-1;n>=0;n--)e(n,r),t._xhrs[n].abort()}):Promise.resolve()},h.prototype._deferredAt=function(t,r){var n=this,o=n._getModel(t);return new Promise(void 0===o?function(o,i){var s={};e.CollectionUtils.copyInto(s,r||{}),s.context=n,s.startIndex=t,s.error=function(t,e,o,s,a){i(h._createRejectionError(s,a,e,n,r,!1))},s.success=function(){o(n._getModel(t))},n._fetchInternal(s,-1,!1)}:function(t){t(o)})},h.prototype.getByCid=function(t){for(var e,r=this._getModels(),n=null,o=0;o<this._modelIndices.length;o++)if(r[e=this._modelIndices[o]]&&t===r[e].cid){n=r[e];break}if(n)return n;if(this.IsVirtual())throw new Error("Not found locally and not supported by server for virtual collections");return null},h.prototype.get=function(t,e){var r=this._getDeferred(e),o=this._getInternal(t,e,r);if(o){if(n.isFunction(o.then))return this._addPromise(function(){return new Promise(function(t,e){o.then(function(e){t(e.m)},function(t){e(t)})})});if(this.IsVirtual())return this._addPromise(function(){return new Promise(function(t){t(o.m)})});if(Object.prototype.hasOwnProperty.call(o,"m"))return o.m}return null},h.prototype._getLocal=function(t){var e=this._getLocalInternal(t);return e?e.m:null},h.prototype._getLocalInternal=function(t){var e=t,r=t;t instanceof l?(e=t.GetCid(),r=t.GetId()):h._defined(t)&&void 0!==t.id&&(r=t.id);for(var n,o,i=null,s=this._modelIndices.length,a=this._getModels(),u=0;u<s;u++)if(void 0!==(n=a[o=this._modelIndices[u]])&&n.Match(r,e)){i=h._getModinfo(o,n);break}return i||h._getModinfo(-1,void 0)},h.prototype._getInternal=function(t,r,n,o){var i=t,s=t,a=void 0!==o&&o;t instanceof l?(i=t.GetCid(),s=t.GetId()):h._defined(t)&&void 0!==t.id&&(s=t.id);for(var u,c=null,p=this._getModels(),f=0;f<this._modelIndices.length;f++)if(p[u=this._modelIndices[f]]&&p[u].Match(s,i)){var d=h._getModinfo(u,p[u]);c=d;break}if(c)return n?new Promise(function(t){t(c)}):c;if(this.IsVirtual()){if(void 0===s&&void 0!==i)return new Promise(function(t){t(h._getModinfo(-1,void 0))});var _=this;return new Promise(function(t,n){var o={};e.CollectionUtils.copyInto(o,r||{}),o.context=_,o.startID=s,o.error=function(t,e,o,i,s){n(h._createRejectionError(i,s,e,_,r,!1))},o.success=function(e,r){!function(e){if(null!=e){var r=_._getOffset(),n=_._getModel(r);void 0!==n&&n.Match(s,i)?t(h._getModinfo(r,n)):t(h._getModinfo(-1,void 0))}else t(h._getModinfo(-1,void 0))}(r)},_._fetchInternal(o,-1,a)})}var g=h._getModinfo(-1,void 0);return n?new Promise(function(t){t(g)}):g},h._getModinfo=function(t,e){return{index:t,m:e}},h.prototype._parseImpl=function(t){if(t instanceof Array)return t;if(!t)return t;var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]instanceof Array)return t[e];return t},h.prototype.parse=h.prototype._parseImpl,h.prototype._checkActual=function(t,e,r){return!!(this._hasTotalResults()&&r.start+r.count>=this.totalResults)||r.start===t&&r.count===e},h.prototype.setRangeLocal=function(t,e,r){var n=this;return this._addPromise(function(){return n._setRangeLocalInternal(t,e,r)})},h.prototype._setRangeLocalInternal=function(t,e,r){this.IsVirtual()&&this._resetModelsToFullLength(this.totalResults);var n=this._getLocalRange(t,e),o=this;if(this._checkActual(t,e,n))return new Promise(function(t){t(n)});var i=this._getModelLimit();return i>-1&&i<e&&(this.modelLimit=e),new Promise(function(n,i){o._setRangeLocalFetch(t,e,-1,{start:t,count:e},n,i,!0,r)})},h.prototype._setRangeLocalFetch=function(t,e,r,n,o,i,a,l){var u=this,c=t,p=c+e;this[h._FETCH_SIZE_PROP]&&this[h._FETCH_SIZE_PROP]>e&&(p=this[h._FETCH_SIZE_PROP]+c);var f=null;if(this.IsVirtual()){var d=this._getFirstMissingModel(c,p);d>c&&(p=(c=d)+e,this[h._FETCH_SIZE_PROP]&&this[h._FETCH_SIZE_PROP]>e&&(p=this[h._FETCH_SIZE_PROP]+c)),f={context:this,startIndex:c,fetchSize:p-c}}else f={context:this};f.error=function(t,e,r,n,o){i(h._createRejectionError(n,o,e,u,null,!1))},f.success=function(){!function(){var t=u._getLocalRange(n.start,n.count);if(a&&u._hasTotalResults()&&t.count<n.count){var r=t.start+t.count,s=c+(u.lastFetchCount?u.lastFetchCount:e);s<u.totalResults?u._setRangeLocalFetch(s,e,r,n,o,i,a,l):o(t)}else o(t)}()},l&&l.silent&&(f.silent=l.silent);try{this._fetchInternal(f,r,r>-1)}catch(t){if(t instanceof s){var _=u._getLocalRange(c,e);o(_)}}},h._createRejectionError=function(t,e,r,n,o,i){var s=!1;o&&o.silent&&(s=o.silent),i&&l._triggerError(n,s,o,e,r,t);var a=new Error(e);return a.xhr=t,a.error=r,a.collection=n,a.status=e,a},h.prototype._getMaxLength=function(t,e){var r=this._getModelsLength();return 0===r?t+e:t+e>r?r:t+e},h.prototype.isRangeLocal=function(t,e){var r=this._getLocalRange(t,e);return 0===this._getModelsLength()?0===e:t===r.start&&(e===r.count||t+e>this._getModelsLength())},h.prototype._getModelArray=function(t,e){for(var r=[],n=this._getModels(),o=t+e,i=t;i<o;i++)r.push(n[i]);return r},h.prototype._getLocalRange=function(t,e){if(!this.IsVirtual()){if(this._getModelsLength()>0){if(t+e>this._getModelsLength()){var r=this._getModelsLength()-t;return{start:t,count:r,models:this._getModelArray(t,r)}}return{start:t,count:e,models:this._getModelArray(t,e)}}return{start:t,count:0,models:[]}}var n=this._getMaxLength(t,e);if(!this._hasTotalResults()&&n<t+e)return{start:t,count:n-t,models:this._getModelArray(t,n-t)};if(0===n)return{start:t,count:0,models:[]};var o=this._getFirstMissingModel(t,n);if(o>-1)return{start:t,count:o-t,models:this._getModelArray(t,o-t)};var i=e;return t>n?i=0:t+i>n&&(i=n-t),{start:t,count:i,models:this._getModelArray(t,i)}},h.prototype._getFirstMissingModel=function(t,e){for(var r=t;r<e;r++)if(void 0===this._getModel(r))return r;return-1},h.prototype.fetch=function(t){var e=this._fetchInternal(t,-1,!1);return this._addPromise(function(){return Promise.resolve(e)}),e},h.prototype._fetchInternal=function(t,e,r){function n(t,e,r,n){t.IsVirtual()?r||t._resetModelsToFullLength(n):e.add||e.useset||t.reset(null,{silent:!0})}var o,s=t||{},a=s.success,u=s.error;return s.set&&(s.useset=!!s.set),void 0===s.parse&&(s.parse=!0),o=this,s.error=function(e,r,n){l._triggerError(o,!1,t,r,n,e),u&&u.call(l.GetContext(t,o),o,n,t,e,r)},s.success=function(u){var c,p;try{c=o.parse(u,t)}catch(e){return void h._reportError(o,e,s.error,t)}o._setPagingReturnValues(u,t,c,r)||(p=o.totalResults);var f=null,d=!1,_=e;if(s.add||o.model){n(o,s,r,p);try{-1===e&&(d=!0,_=o._getOffset()),f=o._fillInCollectionWithParsedData(c,_,d,s)}catch(e){return void h._reportError(o,e,s.error,t)}}else r||(o.IsVirtual()?(n(o,s,r,p),-1===e&&(d=!0,_=o._getOffset()),f=o._putDataIntoCollection(c,_,d)):s.useset?o._setInternal(c,!1,s,!1):o.reset(c,{silent:!0}));o.IsVirtual()&&f&&(o.lastFetchCount=f.length);var g=!!s.silent;o.TriggerInternal(g,i.EventType.SYNC,o,u,s),a&&a.call(l.GetContext(t,o),o,u,s)},this._fetchCall(s)},h.prototype._putDataIntoCollection=function(t,e,r){var n;if(t){n=t instanceof Array?t:[t];var o={};r&&this._manageLRU(n.length);for(var i=e,s=this.IsVirtual(),a=null,l=0;l<n.length;l+=1)s&&(o={at:i},a=this._atInternal(i,null,!0,!1)),o.silent=!0,this._addInternal(n[l],o,!0,!1),this._atInternal(i,null,!0,!1)!==a&&(i+=1)}return n},h.prototype._fillInCollectionWithParsedData=function(t,e,r,n){var o=n||{},i=o.parse,s=h._createModel(this),a=null;if(t){a=t instanceof Array?t:[t];var l,u={};r&&this._manageLRU(a.length);var c,p=this.IsVirtual();if(o.useset&&!p){for(c=0;c<a.length;c+=1)l=s&&i?s.parse(a[c]):a[c],a[c]=l;this._setInternal(a,!1,o,!1)}else{var f=null,d=e;for(c=0;c<a.length;c+=1)l=s&&i?s.parse(a[c]):a[c],p&&(u={at:d},f=this._atInternal(d,u,!0,!1)),u.silent=!0,this._addInternal(l,u,!0,!1),this._atInternal(d,null,!0,!1)!==f&&(d+=1)}}return a},h._reportError=function(t,e,n,o){r.error(e.toString()),n&&n.call(l.GetContext(o,t),t,e,o)},h.prototype._fetchOnly=function(t){var e,r,n=t||{},o=n.success;return void 0===n.parse&&(n.parse=!0),r=this,n.success=function(s){var a,u,c,p=null,f=[];try{c=r.parse(s,t)}catch(e){return void h._reportError(r,e,n.error,t)}if(n.add||r.model){if(u=h._createModel(r),c)for(p=c instanceof Array?c:[c],a=0;a<p.length;a+=1){if(u&&n.parse)try{e=u.parse(p[a])}catch(e){return void h._reportError(r,e,n.error,t)}else e=p[a];f.push(r._newModel(e))}}else p=c instanceof Array?c:[c];r.TriggerInternal(!1,i.EventType.SYNC,r,s,n),o&&o.call(l.GetContext(t,r),r,f,n)},this._fetchCall(n)},h.prototype._fetchCall=function(t){try{return l._internalSync("read",this,t)}catch(e){throw l._triggerError(this,!1,t,null,e,null),e}},h.prototype._resetModelsToFullLength=function(t){return void 0!==t&&this._getModelsLength()!==t&&(this._setModels(new Array(t),!0),this._resetLRU(),this._setLength(),!0)},h.prototype._getFetchSize=function(t){return(t||{})[h._FETCH_SIZE_PROP]||this[h._FETCH_SIZE_PROP]},h.prototype.IsVirtual=function(){return this._getFetchSize(null)>-1},h.prototype._getReturnProperty=function(t,e,r,n,o){var i=parseInt(h._getProp(t,e,r),10);return null==i||isNaN(i)?n||o:i},h.prototype._cleanTotalResults=function(t){if(-1!==t)return t},h.prototype._setPagingReturnValues=function(t,e,r,n){var o={};this.customPagingOptions&&((o=this.customPagingOptions.call(this,t))||(o={}));var i=e||{};this.lastFetchSize=this._getReturnProperty(o,t,"limit",i.fetchSize,this.fetchSize),this.offset=this._getReturnProperty(o,t,"offset",i.startIndex,0),this.lastFetchCount=this._getReturnProperty(o,t,"count",this.lastFetchCount,this.lastFetchCount),this.totalResults=this._cleanTotalResults(this._getReturnProperty(o,t,"totalResults",this.totalResults,this.totalResults)),this.hasMore=this._getHasMore(h._getProp(o,t,"hasMore"),this.offset,this.lastFetchSize,this.totalResults);var s=!1;if(!n){var a=this._cleanTotalResults(parseInt(h._getProp(o,t,"totalResults"),10)),l=parseInt(h._getProp(o,t,"count"),10);this.totalResults=this._adjustTotalResults(a,this.hasMore,this.offset,l,r&&Array.isArray(r)?r.length:0),s=void 0===a||isNaN(a)||null===a}return!this.IsVirtual()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.setFetchSize(this.lastFetchSize),s},h.prototype._adjustTotalResults=function(t,e,r,n,o){if(!e&&isNaN(t))return(isNaN(n)?o:n)+r;return this.totalResults},h.prototype._getHasMore=function(t,e,r,n){return h._defined(t)?t:null==n||!(e+r>n)},h._getProp=function(t,e,r){return Object.prototype.hasOwnProperty.call(t,r)?t[r]:e?e[r]:void 0},h.prototype._getOffset=function(){return h._defined(this.offset)?this.offset:0},h.prototype.create=function(t,e){var r=this,n=e||{},o=this._getDeferred(n);function i(e,r,n,o){return r.save(t instanceof l?null:t,o),r}function s(t,e){return n.wait?r.IsVirtual()||o?r._addPromise(function(){return Promise.resolve(void 0)}):null:r.add(t,e)}var a=this._newModel(t,!0,n,!1),u=n.success,c=n.context;n.validate;if(n.context=this,n.success=function(t,e,o){o.xhr&&(n.xhr=o.xhr),n.wait&&r.add(a,n),u&&u.call(null!=c?c:r,t,e,n)},null==a)return!1;n.forceNew=null!=a.GetId();var h=l._copyOptions(n);return a.SetCollection(this),o||this.IsVirtual()?new Promise(function(t){h.merge=!0,h.deferred=!0,s(a,h).then(function(){n.success=function(e,o,i){i.xhr&&(n.xhr=i.xhr),n.wait?(r.IsVirtual()&&(h.force=!0),r.add(a,h).then(function(){u&&u.call(null!=c?c:r,e,o,n),t(e)})):(u&&u.call(null!=c?c:r,e,o,n),t(e))};var e=i(0,a,0,n);e||t(e)})}):(h.merge=!0,s(a,h),i(0,a,0,n))},h.prototype.pluck=function(t){var e,r=[];for(this._throwErrIfVirtual("pluck"),e=0;e<this._getLength();e+=1)r.push(this.at(e).get(t));return r},h.prototype.where=function(t,e){return this._handlePromise(this._whereInternal(t,e))},h.prototype._whereInternal=function(t,e){var r=e||{},n=this._getDeferred(r),o=this;if(this.IsVirtual())return new Promise(function(e,n){var i={query:t,all:!0,success:function(t,r){e(r)},error:function(t,e,i){n(h._createRejectionError(t,e,i,o,r,!0))}};o._fetchOnly(i)});var i,s,a=[];for(i=0;i<this._getLength();i+=1)(s=this.at(i)).Contains(t)&&a.push(s);return n?new Promise(function(t){t(a)}):a},h.prototype.whereToCollection=function(t,e){var r=e||{},n=this._getDeferred(r),o=this;if(this.IsVirtual()||n)return o._addPromise(function(){return new Promise(function(e,n){return o._whereInternal(t,r).then(function(t){var r=o._makeNewCollection(t);e(r)},function(t){n(t)})})});var i=this._whereInternal(t,r),s=this._makeNewCollection(i);return s[h._FETCH_SIZE_PROP]=-1,s._setLength(),s},h.prototype._makeNewCollection=function(t){var e=this._cloneInternal(!1);return e._setModels(t,!1),e._resetLRU(),e._setLength(),e},h.prototype._throwErrIfVirtual=function(t){if(this.IsVirtual())throw new Error(t+" not valid on a virtual Collection")},h.prototype.map=function(t,e){var r,n=[];return this._throwErrIfVirtual("map"),this._getModels().forEach(function(o){r=t.call(e||this,o),n.push(r)}),n},h.prototype.each=function(t,e){this._throwErrIfVirtual("each"),this._getModels().forEach(t,e)},h.prototype.size=function(){return this._getLength()},h.prototype.sortBy=function(t,e){var r,o=[];return this._throwErrIfVirtual("sortBy"),this._getModels().forEach(function(t){o.push(t)}),r=this,o.sort(function(o,i){var s,a;return n.isFunction(t)?(s=t.call(e||r,o),a=t.call(e||r,i),h._compareKeys(s,a,r.sortDirection)):(s=o.get(t),a=i.get(t),h._compareKeys(s,a,r.sortDirection))}),o},h.prototype.groupBy=function(t,e){var r,o={};return this._throwErrIfVirtual("groupBy"),this._getModels().forEach(function(i){r=n.isFunction(t)?t.call(e||this,i):i.get(t),void 0===o[r]&&(o[r]=[]),o[r].push(i)},this),o},h.prototype.indexBy=function(t,e){var r,o={};return this._throwErrIfVirtual("indexBy"),this._getModels().forEach(function(i){r=n.isFunction(t)?t.call(e||this,i):i.get(t),o[r]=i},this),o},h.prototype.min=function(t,e){var r,n,o={};return this._throwErrIfVirtual("min"),0===this._getModelsLength()?null:(o=this._getModel(0),r=t.call(e||this,this._getModel(0)),this._getModels().forEach(function(i,s){s>=1&&(n=t.call(e||this,i))<r&&(o=i,r=n)},this),o)},h.prototype.max=function(t,e){var r,n,o={};return this._throwErrIfVirtual("max"),0===this._getModelsLength()?null:(o=this._getModel(0),r=t.call(e,this._getModel(0)),this._getModels().forEach(function(i,s){s>=1&&(n=t.call(e||this,i))>r&&(o=i,r=n)},this),o)},h.prototype.filter=function(t,e){var r=[];return this._throwErrIfVirtual("filter"),this._getModels().forEach(function(n){t.call(e||this,n)&&r.push(n)}),r},h.prototype.without=function(t){var e,r,n,o,i,s=[];this._throwErrIfVirtual("without");for(var a=0;a<this._getModels().length;a++){for(o=!0,i=this._getModel(a),e=0;e<arguments.length;e+=1)if(n=arguments[e].GetCid(),r=arguments[e].GetId(),i.Match(r,n)){o=!1;break}o&&s.push(i)}return s},h.prototype.difference=function(t){var e,r,n,o,i,s,a=[];this._throwErrIfVirtual("difference");for(var l=0;l<this._getModels().length;l++){for(i=!0,s=this._getModel(l),e=0;e<arguments.length;e+=1){for(r=0;r<arguments[e].length;r++)if(o=arguments[e][r].GetCid(),n=arguments[e][r].GetId(),s.Match(n,o)){i=!1;break}if(!i)break}i&&a.push(s)}return a},h.prototype.isEmpty=function(){return 0===this._getLength()},h.prototype.any=function(t,e){var r;this._throwErrIfVirtual("any");for(var n=0;n<this._getModelsLength();n+=1)if(r=this._getModel(n),t.call(e||this,r))return!0;return!1},h.prototype.findWhere=function(t,e){var r=this._getDeferred(e),n=this;if(this.IsVirtual()||r)return this._addPromise(function(){return new Promise(function(r){n._whereInternal(t,e).then(function(t){t&&t.length>0&&r(t[0]),r(null)})})});var o=this._whereInternal(t,e);return o.length>0?o[0]:null},h.prototype.slice=function(t,e,r){var n,o=this._getDeferred(r),i=[],s=e;if(void 0===s){if(this.IsVirtual()&&!this._hasTotalResults())throw new Error("End must be set for virtual collections with no totalResults");s=this._getModelsLength()}if(o||this.IsVirtual()){var a=this;return this._addPromise(function(){return a.IterativeAt(t,s)})}for(n=t;n<s;n+=1)i.push(this._getModel(n));return i},h.prototype.set=function(t,e){var r=this._getDeferred(e);return this._setInternal(t,!0,e,r||this.IsVirtual())},h._removeAfterSet=function(t,e,r,n,o){if(r)for(var i=e.length-1;i>=0;i-=1)-1===n.indexOf(i)&&t._removeInternal(e[i],i,o)},h.prototype._swapModels=function(t,e,r,n){if(this._hasComparator()||!r||!n)return{index:t,swapped:!1};var o=this._getModelsLength();if(t>=o||e>=o)return{index:t,swapped:!1};var i=this._getModel(t),s=this._getModel(e);return this._setModel(t,s),s.SetIndex(t),this._setModel(e,i),i.SetIndex(e),{index:e,swapped:e!==t}},h.prototype._setInternal=function(t,e,r,n){var o,s,a=r||{},l=void 0===a.add||a.add,u=void 0===a.remove||a.remove,c=void 0===a.merge||a.merge,p=[],f=null,d=e?this.parse(t):t;if(s=Array.isArray(d)?d:[d],n){var _=this;return this._addPromise(function(){return _._deferredSet(s,_._getModels(),a,u,l,c,e)})}var g=!1;for(o=0;o<s.length;o+=1)if(-1!==(f=this._updateModel(this._newModel(s[o],e,a,!0),l,c,n))){var y=this._swapModels(f,o,u,l),v=y.index;y.swapped&&(g=!0),-1===p.indexOf(v)&&p.push(v)}if(g){var m=a.add?{add:!0}:null;this.TriggerInternal(a.silent,i.EventType.SORT,this,m,null)}return h._removeAfterSet(this,this._getModels(),u,p,a),null},h.prototype._deferredSet=function(t,e,r,n,o,i,s){var a,l=[],u=this;return new Promise(function(c,p){var f=function(e){return new Promise(function(n,a){u._updateModel(u._newModel(t[e],s,r,!0),o,i,!0).then(function(t){-1!==t&&l.push(t),n(e+1)},a)})},d=Promise.resolve(0);for(a=0;a<t.length;a+=1)d=d.then(f);d.then(function(){h._removeAfterSet(u,e,n,l,r),c(void 0)},p)})},h.prototype._updateModel=function(t,e,r,n){function o(n,o,i){var s=o?o.index:-1,a=o?o.m:null,l={};if(a){if(r){if(l={merge:r},i)return new Promise(function(e){n._addInternal(t,l,!1,!0).then(function(){e(s)})});n.add(t,l)}}else if(e){if(i)return new Promise(function(e){n._addInternal(t,l,!1,!0).then(function(){e(n._getLength()-1)})});n.add(t),s=n._getLength()-1}return s}if(n||this.IsVirtual()){var i=this;return new Promise(function(e){i._getInternal(t,{silent:!0},n).then(function(t){o(i,t,!0).then(function(t){e(t)})})})}return o(this,this._getInternal(t),!1)},h.prototype.toJSON=function(){var t=[];return this._throwErrIfVirtual("toJSON"),this._getModels().forEach(function(e){t.push(e.toJSON())}),t},h.prototype.first=function(t,e){var r,n=this._getDeferred(e),o=this._getLength(),i=[],s=this,a=t;a?o=a:a=1;var l=this.IsVirtual()||n;if(1===a)return l?this._addPromise(function(){return s._deferredAt(0,null)}):this._getModelsLength()>0?this._getModel(0):null;if(o>this._getModelsLength()&&(this.IsVirtual()&&!this._hasTotalResults()||(o=this._getModelsLength())),l)return this._addPromise(function(){return s.IterativeAt(0,o)});for(r=0;r<o;r+=1)i.push(this._getModel(r));return i},h.prototype.indexOf=function(t,e){var r=this._getDeferred(e);if(this.IsVirtual()||r){var n=this;return this._addPromise(function(){return n._getInternal(t,null,!0).then(function(t){return t.index})})}return this._getInternal(t).index},h.prototype.contains=function(t,e){var r=this._getDeferred(e);if(this.IsVirtual()||r){var n=this;return this._addPromise(function(){return n._getInternal(t,null,!0).then(function(t){return t.index>-1})})}return this._getInternal(t).index>-1},h.prototype.include=h.prototype.contains,h.prototype._localIndexOf=function(t){var e=this._getLocalInternal(t);return void 0!==e?e.index:-1},h.prototype.pop=function(t){var e=this._getDeferred(t);if(this.IsVirtual()||e){var r=this;return this._atInternal(this._getLength()-1,t,!1,!0).then(function(e){return r.remove(e,t),e})}var n=this.at(this._getLength()-1);return this.remove(n,t),n},h.prototype.push=function(t,e){var r=this._getDeferred(e);return this._manageLRU(1),this._handlePromise(this._addInternal(t,e,!1,r))},h.prototype.lastIndexOf=function(t,r){var n,o=r;for(this._throwErrIfVirtual("lastIndexOf"),void 0===o&&(o=0),n=this._getLength()-1;n>=o;n-=1)if(e.Object.__innerEquals(t,this.at(n)))return n;return-1},h.prototype._getSortAttrs=function(t){return void 0===t?[]:t.split(",")},h._getQueryString=function(t){function e(t,e,r){return t+r+e}function r(t,r){var o,i=r;return Object.keys(t||{}).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r))for(var s=Array.isArray(t[r])?t[r]:[t[r]],a=0;a<s.length;a++){if(l.IsComplexValue(s[a])){var u=s[a].value,c=null,h=s[a].comparator;c=n.isFunction(h)?h(null,r,u):h,o=e(r,u,c)}else o=e(r,t[r],"=");i+=o+"+"}}),i=i.substring(0,i.length-1)+","}var o,i=Array.isArray(t)?t:[t],s="";for(o=0;o<i.length;o++)s=r(i[o],s);return","===s.substring(s.length-1)?s.substring(0,s.length-1):s},h.prototype.ModifyOptionsForCustomURL=function(t){var r={};Object.keys(t||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])});var n=this.comparator;if(n&&e.StringUtils.isString(n)){for(var o=this._getSortAttrs(n),i=0;i<o.length;i++)0===i?r.sort=o[i]:r.sort+=","+o[i];r.sortDir=this._getSortDirStr()}return this.IsVirtual()&&(r[h._FETCH_SIZE_PROP]=this._getFetchSize(r)),r},h.prototype.IsUrlBased=function(t){var e=this.customURL;if(n.isFunction(e))return!0;var r=this.GetCollectionFetchUrl(t);return h._defined(r)},h.prototype.GetCollectionFetchUrl=function(t){var r=a.GetPropValue(this,"url");if(this.IsVirtual()){var n=t||{},o=n.all,i=null;if(o)i=this.totalResults||this._getFetchSize(n);else i=this._getFetchSize(n);if(r&&r.indexOf("?")>-1?r+="&":r+="?",r+="limit="+i,o||(h._defined(n.startIndex)&&(r+="&offset="+n.startIndex),n.startID&&(r+="&fromID="+n.startID),n.since&&(r+="&since="+n.since),n.until&&(r+="&until="+n.until)),n.query){var s=h._getQueryString(n.query);s&&s.length>0&&(r+="&q="+s)}var l=this.comparator;if(l&&e.StringUtils.isString(l)){var u,c=this._getSortAttrs(l),p=this._getSortDirStr();for(u=0;u<c.length;u++)r+=0===u?"&orderBy="+c[u]+":"+p:","+c[u]+":"+p}r+="&totalResults=true"}return r},h.prototype._getSortDirStr=function(){return-1===this.sortDirection?"desc":"asc"},h.prototype.sync=function(t,r,n){return e.sync(t,r,n)},h._FETCH_SIZE_PROP="fetchSize";const p=function(t,e){p._init(this,e||{},t||"Authorization")};e._registerLegacyNamespaceProp("OAuth",p),e.Object.createSubclass(p,e.Object,"oj.OAuth"),p.prototype.Init=function(){p.superclass.Init.call(this)},p.prototype.getHeader=function(){var t={};return this.accessTokenResponse.access_token||this.clientCredentialGrant(),t[this.accessTokenRequest.auth_header]="Bearer "+this.accessTokenResponse.access_token,t},p.prototype.isInitialized=function(){return!(!this.accessTokenResponse||!this.accessTokenResponse.access_token)},p.prototype.clientCredentialGrant=function(){var t={},e=this;t[e.accessTokenRequest.auth_header]="Basic "+p._base64_encode(e.accessTokenRequest.client_id+":"+e.accessTokenRequest.client_secret),n.ajax({type:"POST",async:!1,url:this.accessTokenRequest.bearer_url,data:"grant_type=client_credentials",headers:t,success:function(t){e.accessTokenResponse=p._initAccessToken(e.accessTokenResponse,t)},error:function(t){throw new Error(t.responseText)}})},p.prototype.setAccessTokenResponse=function(t){this.accessTokenResopnse=p._initAccessToken(this.accessTokenResponse,t)},p.prototype.getAccessTokenResponse=function(){return this.accessTokenResponse},p.prototype.cleanAccessTokenResponse=function(){p._cleanAccessToken(this.accessTokenResponse)},p.prototype.setAccessTokenRequest=function(t){this.accessTokenRequest=p._initAccessToken(this.accessTokenRequest,t)},p.prototype.getAccessTokenRequest=function(){return this.accessTokenRequest},p.prototype.cleanAccessTokenRequest=function(){p._cleanAccessToken(this.accessTokenRequest)},p._init=function(t,e,r){var n=t;n.Init(),n.accessTokenRequest={},n.accessTokenResponse={},e.access_token?n.accessTokenResponse=p._initAccessToken(n.accessTokenResponse,e):e.client_id&&e.client_secret&&e.bearer_url&&(n.accessTokenResponse=p._initAccessToken(n.accessTokenRequest,e)),n.accessTokenRequest.auth_header=r},p._initAccessToken=function(t,e){var r=e||{},n=t||{};return Object.keys(r).forEach(function(t){Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}),n},p._cleanAccessToken=function(t){var e=t||{};Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&"auth_header"!==t&&(e[t]=null,delete e[t])})},p._base64_encode=function(t){var e,r,n,o,i=0,s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[];do{e=t.charCodeAt(i),i+=1,r=t.charCodeAt(i),i+=1,n=t.charCodeAt(i),i+=1,e=(o=e<<16|r<<8|n)>>18&63,r=o>>12&63,n=o>>6&63,o&=63,l[s]=a.charAt(e)+a.charAt(r)+a.charAt(n)+a.charAt(o),s+=1}while(i<t.length);return l=l.join(""),((e=t.length%3)?l.slice(0,e-3):l)+"===".slice(e||3)},t.Collection=h,t.Events=i,t.Model=l,t.OAuth=p,t.URLError=s,t.ajax=c,t.sync=u,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojmodel.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataprovideradapter-base',["ojs/ojcore-base","ojs/ojeventtarget"],function(t,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;class e{constructor(t){this.dataSource=t,this.AsyncIterable=class{constructor(t){this._asyncIterator=t,this[Symbol.asyncIterator]=function(){return this._asyncIterator}}},this.AsyncIterator=class{constructor(t,s){this._nextFunc=t,this._params=s,this._fetchFirst=!0}next(){const t=this._fetchFirst;return this._fetchFirst=!1,this._nextFunc(this._params,t)}},this.AsyncIteratorYieldResult=class{constructor(t,s){this._parent=t,this.value=s,this[e._VALUE]=s,this[e._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t,s){this._parent=t,this.value=s,this[e._VALUE]=s,this[e._DONE]=!0}},this.FetchListResult=class{constructor(t,s,i,a){this._parent=t,this.fetchParameters=s,this.data=i,this.metadata=a,this[e._FETCHPARAMETERS]=s,this[e._DATA]=i,this[e._METADATA]=a}},this.ItemMetadata=class{constructor(t,s){this._parent=t,this.key=s,this[e._KEY]=s}},this.SortCriterion=class{constructor(t,s,i){this._parent=t,this.attribute=s,this.direction=i,this[e._ATTRIBUTE]=s,this[e._DIRECTION]=i}},this.DataProviderMutationEventDetail=class{constructor(t,s,i,a){this._parent=t,this.add=s,this.remove=i,this.update=a,this[e._ADD]=s,this[e._REMOVE]=i,this[e._UPDATE]=a}},this.DataProviderOperationEventDetail=class{constructor(t,s,i,a,r){this._parent=t,this.keys=s,this.metadata=i,this.data=a,this.indexes=r,this[e._KEYS]=s,this[e._METADATA]=i,this[e._DATA]=a,this[e._INDEXES]=r}},this.DataProviderAddOperationEventDetail=class{constructor(t,s,i,a,r,h,n,c){this._parent=t,this.keys=s,this.afterKeys=i,this.addBeforeKeys=a,this.parentKeys=r,this.metadata=h,this.data=n,this.indexes=c,this[e._KEYS]=s,this[e._AFTERKEYS]=i,this[e._ADDBEFOREKEYS]=a,this[e._METADATA]=h,this[e._DATA]=n,this[e._INDEXES]=c}}}getCapability(t){return t===e._SORT&&"full"===this.dataSource.getCapability(t)?{attributes:"multiple"}:"fetchByKeys"===t||"fetchByOffset"===t?{implementation:"lookup"}:null}addListener(t,s){this._eventHandlerFuncs[t]=s.bind(this),this.dataSource.on(t,this._eventHandlerFuncs[t])}removeListener(t){this.dataSource.off(t,this._eventHandlerFuncs[t])}removeAllListeners(){this._eventHandlerFuncs={}}}return e._SORT="sort",e._DATA="data",e._KEY="key",e._ATTRIBUTE="attribute",e._DIRECTION="direction",e._VALUE="value",e._DONE="done",e._FETCHPARAMETERS="fetchParameters",e._METADATA="metadata",e._KEYS="keys",e._INDEXES="indexes",e._ADD="add",e._REMOVE="remove",e._UPDATE="update",e._AFTERKEYS="afterKeys",e._ADDBEFOREKEYS="addBeforeKeys",s.EventTargetMixin.applyMixin(e),t._registerLegacyNamespaceProp("DataSourceAdapter",e),e});
//# sourceMappingURL=ojdataprovideradapter-base.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdataprovideradapter',["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojmodel","ojs/ojdataprovideradapter-base","ojs/ojeventtarget"],function(e,t,a,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;class s extends n{constructor(e){super(e),this.tableDataSource=e,this.FetchByKeysResults=class{constructor(e,t,a){this._parent=e,this.fetchParameters=t,this.results=a,this[s._FETCHPARAMETERS]=t,this[s._RESULTS]=a}},this.ContainsKeysResults=class{constructor(e,t,a){this._parent=e,this.containsParameters=t,this.results=a,this[s._CONTAINSPARAMETERS]=t,this[s._RESULTS]=a}},this.Item=class{constructor(e,t,a){this._parent=e,this.metadata=t,this.data=a,this[s._METADATA]=t,this[s._DATA]=a}},this.FetchByOffsetResults=class{constructor(e,t,a,n){this._parent=e,this.fetchParameters=t,this.results=a,this.done=n,this[s._FETCHPARAMETERS]=t,this[s._RESULTS]=a,this[s._DONE]=n}},this.FetchListParameters=class{constructor(e,t,a){this._parent=e,this.size=t,this.sortCriteria=a,this[s._SIZE]=t,this[s._SORTCRITERIA]=a}},this._addTableDataSourceEventListeners(),this[s._OFFSET]=0,this._ignoreDataSourceEvents=new Array}destroy(){this._removeTableDataSourceEventListeners()}containsKeys(e){const t=this,a=[];return e[s._KEYS].forEach(function(e){a.push(t.tableDataSource.get(e))}),Promise.all(a).then(function(a){const n=new Set;return a.forEach(e=>{null!=e&&n.add(e[s._KEY])}),Promise.resolve(new t.ContainsKeysResults(t,e,n))})}fetchByKeys(e){const t=this,a=[];return e[s._KEYS].forEach(function(e){a.push(t.tableDataSource.get(e))}),Promise.all(a).then(function(a){const n=new Map;for(let e=0;e<a.length;e++){const r=a[e];if(null!=r){const e=r[s._KEY],a=r[s._DATA],i=new t.ItemMetadata(t,e),o=r[s._INDEX];t._extractMetaData(t.dataSource,o,i),n.set(e,new t.Item(t,i,a))}}return Promise.resolve(new t.FetchByKeysResults(t,e,n))})}fetchByOffset(e){const t=this,a=null!=e?e[s._SIZE]:-1,n=null!=e?e[s._SORTCRITERIA]:null,r=null!=e&&e[s._OFFSET]>0?e[s._OFFSET]:0,i=new this.FetchListParameters(this,a,n);return this._startIndex=0,this._getFetchFunc(i,r)(i,!0).then(function(a){const n=a[s._VALUE],i=a[s._DONE],o=n[s._DATA],l=n[s._METADATA].map(function(e){return e[s._KEY]}),c=new Array;o.map(function(e,a){c.push(new t.Item(t,new t.ItemMetadata(t,l[a]),o[a]))});for(let e=0;e<c.length;e++)t._extractMetaData(t.dataSource,e+r,c[e][s._METADATA]);return new t.FetchByOffsetResults(t,e,c,i)})}fetchFirst(e){return this._isPagingModelTableDataSource()||(this._startIndex=0),new this.AsyncIterable(new this.AsyncIterator(this._getFetchFunc(e),e))}getCapability(e){return e==s._SORT&&"full"==this.tableDataSource.getCapability(e)?{attributes:"multiple"}:"fetchByKeys"==e||"fetchByOffset"==e?{implementation:"lookup"}:null}getTotalSize(){return Promise.resolve(this.tableDataSource.totalSize())}isEmpty(){return this.tableDataSource.totalSize()>0?"no":"yes"}getPage(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPage():-1}setPage(e,t){return this._isPagingModelTableDataSource()?this.tableDataSource.setPage(e,t):Promise.reject(null)}getStartItemIndex(){return this._isPagingModelTableDataSource()?this.tableDataSource.getStartItemIndex():-1}getEndItemIndex(){return this._isPagingModelTableDataSource()?this.tableDataSource.getEndItemIndex():-1}getPageCount(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPageCount():-1}totalSize(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSize():-1}totalSizeConfidence(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSizeConfidence():null}_getFetchFunc(e,t){const a=this;if(null!=e&&null!=e[s._SORTCRITERIA]){const n=e[s._SORTCRITERIA][0][s._ATTRIBUTE],r=e[s._SORTCRITERIA][0][s._DIRECTION];return this._ignoreSortEvent=!0,this._isPagingModelTableDataSource()||(this._startIndex=0),function(e,n){return function(r,i){if(i){const i={};return i[s._KEY]=e,i[s._DIRECTION]=n,a[s._OFFSET]=0,a.tableDataSource.sort(i).then(function(){return a._ignoreSortEvent=!1,a._getTableDataSourceFetch(r,t)(r)})}return a._getTableDataSourceFetch(r,t)(r)}}(n,r)}return this._getTableDataSourceFetch(e,t)}_extractMetaData(e,t,a){let n=e;if(this._isPagingModelTableDataSource()&&(n=n.getWrappedDataSource()),n._getMetadata){const e=n._getMetadata(t);e&&Object.keys(e).forEach(function(t){a[t]=e[t]})}}_getTableDataSourceFetch(e,t){const a=this;return function(e,n){const r={};if(t=t>0?t:0,null!=a._startIndex&&(r[s._STARTINDEX]=a._startIndex+t),r[s._PAGESIZE]=null!=e&&e[s._SIZE]>0?e[s._SIZE]:null,!a._isPagingModelTableDataSource()&&e[s._SILENT]&&(r[s._SILENT]=e[s._SILENT]),null!=a.tableDataSource[s._SORTCRITERIA]&&null==e[s._SORTCRITERIA]){e[s._SORTCRITERIA]=[];const t=new a.SortCriterion(a,a.tableDataSource[s._SORTCRITERIA][s._KEY],a.tableDataSource[s._SORTCRITERIA][s._DIRECTION]);e[s._SORTCRITERIA].push(t)}return r[s._FETCHTYPE]=e[s._FETCHTYPE],a._isFetching=!0,new Promise(function(t,n){a._fetchResolveFunc=t,a._fetchRejectFunc=n,a._fetchParams=e,a._requestEventTriggered||(a._isPagingModelTableDataSource()||r[s._SILENT]||a._ignoreDataSourceEvents.push(!0),a.tableDataSource.fetch(r).then(function(n){if(a._isPagingModelTableDataSource()||r[s._SILENT]||a._ignoreDataSourceEvents.pop(),null!==n){a._isFetching=!1,void 0===n&&((n={})[s._KEYS]=[],n[s._DATA]=[]);let i=[];null!=n[s._KEYS]&&(i=n[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)})),null==a._startIndex&&(a._startIndex=0);for(let e=0;e<i.length;e++)a._extractMetaData(a.dataSource,a._startIndex+e,i[e]);let o=!1;a._startIndex=a._startIndex+n[s._DATA].length,("actual"==a.tableDataSource.totalSizeConfidence()&&a.tableDataSource.totalSize()>0&&n.startIndex+n[s._DATA].length>=a.tableDataSource.totalSize()||r[s._PAGESIZE]>0&&n[s._DATA].length<r[s._PAGESIZE]||0===n[s._DATA].length)&&(o=!0),a._fetchResolveFunc=null,a._fetchParams=null,t(o?new a.AsyncIteratorReturnResult(a,new a.FetchListResult(a,e,n[s._DATA],i)):new a.AsyncIteratorYieldResult(a,new a.FetchListResult(a,e,n[s._DATA],i)))}},function(e){a._isPagingModelTableDataSource()||r[s._SILENT]||a._ignoreDataSourceEvents.pop(),n(e)}))})}}_adjustIteratorOffset(e,t){let a=this._startIndex,n=0;e&&e.forEach(function(e){e<a&&++n}),a-=n,t&&t.forEach(function(e){e<a&&++a}),this._startIndex=a}_handleSync(e){const a=this;if(!(a._ignoreDataSourceEvents.length>0)){if(a._startIndex=null,e[s._STARTINDEX]>0&&(a._startIndex=e[s._STARTINDEX],a[s._OFFSET]=a._startIndex),a._fetchResolveFunc&&null!=e[s._KEYS]){a._isFetching=!1;const t=e[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)});for(let e=0;e<t.length;e++){let n=null!=a._startIndex?a._startIndex+e:e;a._extractMetaData(a.dataSource,n,t[e])}let n=!1;"actual"==a.tableDataSource.totalSizeConfidence()&&a.tableDataSource.totalSize()>0&&a._startIndex+e[s._DATA].length>=a.tableDataSource.totalSize()&&(n=!0),n?a._fetchResolveFunc(new a.AsyncIteratorReturnResult(a,new a.FetchListResult(a,a._fetchParams,e[s._DATA],t))):a._fetchResolveFunc(new a.AsyncIteratorYieldResult(a,new a.FetchListResult(a,a._fetchParams,e[s._DATA],t))),a._fetchResolveFunc=null,a._fetchParams=null}else a._requestEventTriggered||a.dispatchEvent(new t.DataProviderRefreshEvent);a._requestEventTriggered=!1}}_handleAdd(e){var a;const n=this,r=e[s._KEYS].map(function(e){return new n.ItemMetadata(n,e)}),i=new Set;e[s._KEYS].map(function(e){i.add(e)});const o=new n.DataProviderAddOperationEventDetail(n,i,null,null,null,r,e[s._DATA],e[s._INDEXES]),l=new n.DataProviderMutationEventDetail(n,o,null,null);n.dispatchEvent(new t.DataProviderMutationEvent(l)),this._adjustIteratorOffset(null,null===(a=l.add)||void 0===a?void 0:a.indexes)}_handleRemove(e){var a;const n=this,r=e[s._KEYS].map(function(e){return new n.ItemMetadata(n,e)}),i=new Set;e[s._KEYS].map(function(e){i.add(e)});const o=new n.DataProviderOperationEventDetail(n,i,r,e[s._DATA],e[s._INDEXES]),l=new n.DataProviderMutationEventDetail(n,null,o,null);n.dispatchEvent(new t.DataProviderMutationEvent(l)),this._adjustIteratorOffset(null===(a=l.remove)||void 0===a?void 0:a.indexes,null)}_handleReset(e){const a=this;a._requestEventTriggered||a._isPagingModelTableDataSource()||(a._startIndex=0,a.dispatchEvent(new t.DataProviderRefreshEvent))}_handleSort(e){const a=this;a._ignoreSortEvent||(a._startIndex=null,a.dispatchEvent(new t.DataProviderRefreshEvent))}_handleChange(e){const a=this,n=e[s._KEYS].map(function(e){return new a.ItemMetadata(a,e)}),r=new Set;e[s._KEYS].map(function(e){r.add(e)});const i=new a.DataProviderOperationEventDetail(a,r,n,e[s._DATA],e[s._INDEXES]),o=new a.DataProviderMutationEventDetail(a,null,null,i);a.dispatchEvent(new t.DataProviderMutationEvent(o))}_handleRefresh(e){const a=this;a._isFetching||a._requestEventTriggered||(null!=e[s._OFFSET]?a._startIndex=e[s._OFFSET]:a._startIndex=null,a.dispatchEvent(new t.DataProviderRefreshEvent)),a._requestEventTriggered=!1}_handleRequest(e){const n=this;n._ignoreDataSourceEvents.length>0||void 0!==a.Model&&e instanceof a.Model||n._isFetching||(e[s._STARTINDEX]>0&&0===n.getStartItemIndex()&&(n._startIndex=e[s._STARTINDEX]),n._requestEventTriggered=!0,n.dispatchEvent(new t.DataProviderRefreshEvent))}_handleError(e){const t=this;t._fetchRejectFunc&&t._fetchRejectFunc(e),t._isFetching=!1,t._requestEventTriggered=!1}_handlePage(t){this._isFetching=!1,this._requestEventTriggered=!1;const a={};a.detail=t,this.dispatchEvent(new r.GenericEvent(e.PagingModel.EventType.PAGE,a))}_addTableDataSourceEventListeners(){this.removeAllListeners(),this.addListener("sync",this._handleSync),this.addListener("add",this._handleAdd),this.addListener("remove",this._handleRemove),this.addListener("reset",this._handleReset),this.addListener("sort",this._handleSort),this.addListener("change",this._handleChange),this.addListener("refresh",this._handleRefresh),this.addListener("request",this._handleRequest),this.addListener("error",this._handleError),this.addListener("page",this._handlePage)}_removeTableDataSourceEventListeners(){this.removeListener("sync"),this.removeListener("add"),this.removeListener("remove"),this.removeListener("reset"),this.removeListener("sort"),this.removeListener("change"),this.removeListener("refresh"),this.removeListener("request"),this.removeListener("error"),this.removeListener("page")}_isPagingModelTableDataSource(){return null!=this.tableDataSource.getStartItemIndex}}return s._STARTINDEX="startIndex",s._SILENT="silent",s._SORTCRITERIA="sortCriteria",s._PAGESIZE="pageSize",s._OFFSET="offset",s._SIZE="size",s._CONTAINSPARAMETERS="containsParameters",s._RESULTS="results",s._FETCHTYPE="fetchType",s._INDEX="index",r.EventTargetMixin.applyMixin(s),e._registerLegacyNamespaceProp("TableDataSourceAdapter",s),s});
//# sourceMappingURL=ojdataprovideradapter.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojindexer',["exports","ojs/ojcore-base","ojs/ojtranslation","jquery","hammerjs","ojs/ojcontext","ojs/ojjquery-hammer","ojs/ojcomponentcore","ojs/ojdomutils"],function(e,t,n,r,i,s,a,o,l){"use strict";var u;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,(u={properties:{data:{type:"object"},translations:{type:"object",value:{},properties:{ariaDisabledLabel:{type:"string"},ariaInBetweenText:{type:"string"},ariaKeyboardInstructionText:{type:"string"},ariaOthersLabel:{type:"string"},ariaTouchInstructionText:{type:"string"},indexerCharacters:{type:"string"},indexerOthers:{type:"string"}}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._WIDGET_NAME="ojIndexer",u.extension._INNER_ELEM="ul",u.extension._GLOBAL_TRANSFER_ATTRS=["aria-label","aria-labelledby"],t.CustomElementBridge.register("oj-indexer",{metadata:u});const d=function(){};t._registerLegacyNamespaceProp("IndexerModel",d),d.SECTION_OTHERS={id:"__others__",label:n.getTranslatedString("oj-ojIndexer.indexerOthers")},t.__registerWidget("oj.ojIndexer",r.oj.baseComponent,{defaultElement:"<ul>",version:"1.2",widgetEventPrefix:"oj",options:{data:null},_ComponentCreate:function(){this._super(),this._setup()},_AfterCreate:function(){this._super(),this._createIndexerContent(),this._setAriaProperties(),this._createInstructionText()},_destroy:function(){this._super();var e=this._getIndexerContainer();this._unregisterResizeListener(e),this._unregisterTouchHandler(e),this._unsetAriaProperties(),this.element.removeClass("oj-component-initnode"),l.unwrap(this.element,e)},_setOption:function(e,t){this._superApply(arguments),"data"===e&&this.refresh()},_SetupResources:function(){this._super();var e=this._getIndexerContainer()[0];this._registerResizeListener(e),this._registerTouchHandler(e)},_ReleaseResources:function(){this._super();var e=this._getIndexerContainer()[0];this._unregisterResizeListener(e),this._unregisterTouchHandler(e),this._resolveBusyState()},_resolveBusyState:function(){this.busyStateResolve&&(this.busyStateResolve(null),this.busyStateResolve=null)},widget:function(){return this._getIndexerContainer()},refresh:function(){this._super(),this.element.empty(),this._createIndexerContent(),this._setAriaProperties(),this.m_current=null},getNodeBySubId:function(e){if(null==e)return this.element?this.element[0]:null;if("oj-indexer-section"===e.subId)for(var t=e.section,n=this.element.children("li"),i=0;i<n.length;i++){var s=n.get(i);if(r(s).data("data-range")===t)return s;var a=r(s).data("data-includes");if(null!=a)for(var o=0;o<a.length;o++)if(a[o]===t)return s}return null},getSubIdByNode:function(e){if(null!=e){var t=r(e).data("data-range");if(null!=t)return{subId:"oj-indexer-section",section:t}}return null},_setAriaProperties:function(){this.element.attr("role","slider").attr("aria-orientation","vertical").attr("aria-describedby",this.element.prop("id")+":desc").attr("aria-valuemin",0).attr("aria-valuemax",Math.max(0,this.element.children().length-1))},_unsetAriaProperties:function(){this.element.removeAttr("role").removeAttr("aria-orientation").removeAttr("aria-describedby").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuetext")},_createInstructionText:function(){var e;e=l.isTouchSupported()?"ariaTouchInstructionText":"ariaKeyboardInstructionText";var t=r(document.createElement("div"));t.prop("id",this.element.prop("id")+":desc"),t.addClass("oj-helper-hidden-accessible").text(this.getTranslatedString(e)),this._getIndexerContainer().append(t)},_getIndexerContainer:function(){return null==this.m_container&&(this.m_container=this._createIndexerContainer()),this.m_container},_createIndexerContainer:function(){var e;return this.OuterWrapper?e=r(this.OuterWrapper):(e=r(document.createElement("div")),this.element.parent()[0].replaceChild(e[0],this.element[0])),e.addClass("oj-indexer oj-component"),e.prepend(this.element),e},_createIndexerContent:function(){var e=this._getIndexerModel();if(null!=e){var t,n=this.element,r=e.getIndexableSections();e.getMissingSections&&(t=e.getMissingSections());var i=this.getTranslatedString("indexerOthers"),s=this.widget().outerHeight(),a=this._createItem(r[0],t);n.append(a),this._getIndexerContainer().removeClass("oj-indexer-abbr"),null==this.m_itemHeight&&(this.m_itemHeight=a.outerHeight());var o=Math.max(1,this.m_itemHeight),l=Math.floor(s/o),u=Math.floor((r.length+1)/l)+1;u>1&&this._getIndexerContainer().addClass("oj-indexer-abbr");for(var d=1+u;d<r.length;d=d+u+1){if(u>1){var h=this._createSeparator(r,d-u,d-1);n.append(h)}else d-=1;var c=r[d],_=this._createItem(c,t);n.append(_)}var g=this._createItem(r[r.length-1],t);n.append(g);var p=this._createItem(i);p.attr("data-others","true"),n.append(p),null==this.m_height&&(this.m_height=s)}},_createItem:function(e,t){var n=e.label?e.label:e,i=r(document.createElement("li"));return i.data("data-range",e).text(n),null!=t&&t.indexOf(e)>-1&&i.addClass("oj-disabled"),i},_createSeparator:function(e,t,n){var i=[],s=r(document.createElement("li"));s.addClass("oj-indexer-ellipsis").data("data-range",e[t+Math.round((n-t)/2)]);for(var a=t;a<=n;a++)i.push(e[a]);return s.data("data-includes",i),s},_setup:function(){var e=this;this.element.uniqueId().addClass("oj-component-initnode").attr("tabIndex",0),this._on(this.element,{click:function(t){e._handleClick(t)},keydown:function(t){e._handleKeyDown(t)},focus:function(t){e._handleFocus(t)},blur:function(t){e._handleBlur(t)}}),this._focusable({applyHighlight:!0,setupHandlers:function(t,n){e._focusInHandler=t,e._focusOutHandler=n}})},_handleClick:function(e){var t;0===e.button&&(t=r(e.target),this._setCurrent(t))},_handleFocus:function(e){this._getIndexerContainer().addClass("oj-focus-ancestor"),null==this.m_current?this._setFocus(this.element.children("li").first()):this._setFocus(this.m_current)},_handleBlur:function(e){this._getIndexerContainer().removeClass("oj-focus-ancestor")},_handleKeyDown:function(e){var t,n=!1;switch(e.keyCode){case 38:t=this.m_current.prev();break;case 40:t=this.m_current.next();break;case 13:this._setCurrent(this.m_current),n=!0}null!=t&&t.length>0&&(n=!0,this._setFocus(t)),n&&e.preventDefault()},_setFocus:function(e){null!=this.m_current&&this._focusOutHandler(this.m_current),this._focusInHandler(e),this._updateAriaProperties(e),this.m_current=e},_getIndexerModel:function(){var e=this.option("data");if(null!=e&&(void 0===e.setSection||void 0===e.getIndexableSections))throw new Error("Invalid IndexerModel");return e},_setCurrent:function(e){var t=e.data("data-range");e.attr("data-others")&&(t=d.SECTION_OTHERS),this._setCurrentSection(t)},_setCurrentSection:function(e){var t=this,n=s.getContext(this.element[0]).getBusyContext();this.busyStateResolve=n.addBusyState({description:"setCurrentSection"}),this._getIndexerModel().setSection(e).then(function(e){if(null!=e){var n=t._findItem(e);null!=n&&t._setFocus(n)}t._resolveBusyState()},function(){t._resolveBusyState()})},_updateAriaProperties:function(e){var t=e.data("data-includes"),n="";if(null!=t){if(t.length>0){var r=t[0].label?t[0].label:t[0],i=t[t.length-1].label?t[t.length-1].label:t[t.length-1];n=this.getTranslatedString("ariaInBetweenText",{first:r,second:i})}}else{var s=e.data("data-range");n=s===d.SECTION_OTHERS?this.getTranslatedString("ariaOthersLabel"):s}e.hasClass("oj-disabled")&&(n=n+". "+this.getTranslatedString("ariaDisabledLabel")),this.element.attr("aria-valuetext",n),this.element.attr("aria-valuenow",e.index())},_findItem:function(e){for(var t=this.element.children(),n=0;n<t.length;n++){var i=t.get(n),s=r(i).data("data-range"),a=r(i).data("data-includes");if(null!=s&&s===e||null!=a&&a.indexOf(e)>-1)return r(i)}return null},_unregisterResizeListener:function(e){e&&this._resizeHandler&&l.removeResizeListener(e,this._resizeHandler)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),l.addResizeListener(e,this._resizeHandler))},_unregisterTouchHandler:function(e){this.hammer&&(this.hammer.off("panstart panmove panend"),r(e).ojHammer("destroy")),this.hammer=null},_registerTouchHandler:function(e){var t,n,s,a,o,l=this,u={recognizers:[[i.Pan,{direction:i.DIRECTION_VERTICAL}]]};this.hammer=r(e).ojHammer(u).on("panstart",function(e){var i=e.gesture.target;t=l.element[0].getBoundingClientRect().left+5,n=i.getBoundingClientRect().top,l._setCurrent(r(i)),s=i,a=r(i).data("data-range"),o=n}).on("panmove",function(e){var i=o;o=n+e.gesture.deltaY;var u=document.elementFromPoint(t,o);if(null!=u){var d,h,c=o-i;if(s===u){if(null!=(d=r(u).data("data-includes"))){var _=d.indexOf(a);h=null,c>0&&_<d.length-1?h=d[_+1]:c<0&&_>0&&(h=d[_-1]),null!=h&&(a=h,l._setCurrentSection(h))}}else r(u).data("data-range")&&(h=null,null!=(d=r(u).data("data-includes"))&&(c>0&&u===s.nextElementSibling?h=d[0]:c<0&&u===s.previousElementSibling&&(h=d[d.length-1])),null==h&&(h=r(u).data("data-range")),s=u,a=h,l._setCurrentSection(a))}}).on("panend",function(){s=null,a=null,o=null})},_handleResize:function(e,t){t>0&&t!==this.m_height&&(this.refresh(),this.m_height=t)}});const h=function(e){this.listview=e,this.Init()};t._registerLegacyNamespaceProp("ListViewIndexerModel",h),t.Object.createSubclass(h,t.EventSource,"oj.ListViewIndexerModel"),h.prototype.getIndexableSections=function(){return this.listview.ojContext.getTranslatedString("indexerCharacters").split("|")},h.prototype.getMissingSections=function(){return null==this.missingSections&&(this.missingSections=this._getMissingSections()),this.missingSections},h.prototype._getMissingSections=function(){var e,t=[],n=this.listview._getGroupItemsCache(),i=this.getIndexableSections();for(e=0;e<i.length;e++){var s=i[e],a=!1;n.each(function(){var e=r(this).text();return!(e.length>0&&e.charAt(0)===s)||(a=!0,!1)}),a||t.push(s)}return t},h.prototype.setSection=function(e){return e===d.SECTION_OTHERS?this._setOtherSection():this._setSection(e)},h.prototype._setOtherSection=function(){var e=this.getIndexableSections(),t=this;return new Promise(function(n){var i=null;t.listview._getGroupItemsCache().each(function(){for(var t=r(this).text(),n=0;n<e.length;n++){var s=e[n];if(0===t.indexOf(s))return!0}return i=this,!1}),i?(t.listview._scrollToGroupHeader(i),n(d.SECTION_OTHERS)):n(null)})},h.prototype._setSection=function(e){var t=this.getIndexableSections(),n=t.indexOf(e),r=this;return new Promise(function(e){if(-1===n)e(null);else{for(var i=null;n<t.length;n++){var s=t[n],a=r._findGroupHeader(s);if(null!=a){r.listview._scrollToGroupHeader(a),i=s;break}}e(i)}})},h.prototype._findGroupHeader=function(e){var t;return this.listview._getGroupItemsCache().each(function(){return 0!==r(this).text().indexOf(e)||(t=this,!1)}),t},e.ListViewIndexerModel=h,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojindexer.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlistview',["require","ojs/ojcore-base","jquery","ojs/ojcustomelement","ojs/ojdataproviderscroller","ojs/ojcontext","ojs/ojconfig","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojdatacollection-common","ojs/ojanimation","ojs/ojlogger","ojs/ojkeyset","ojs/ojmap","ojs/ojdomutils","ojs/ojdataprovideradapter","ojs/ojcustomelement-utils","ojs/ojindexer"],function(t,e,i,s,n,l,o,r,a,h,c,u,d,m,p,g,_,f){"use strict";var v;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m,(v={properties:{as:{type:"string",value:""},currentItem:{type:"any",writeback:!0},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"11.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},display:{type:"string",enumValues:["card","list"],value:"list"},dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}},reorder:{type:"object",properties:{items:{type:"string",enumValues:["disabled","enabled"],value:"disabled"}}}}},drillMode:{type:"string",enumValues:["collapsible","none"],value:"collapsible"},expanded:{type:"KeySet",writeback:!0},firstSelectedItem:{type:"object",writeback:!0,readOnly:!0,value:{key:null,data:null}},gridlines:{type:"object",properties:{item:{type:"string",enumValues:["hidden","visible","visibleExceptLast"],value:"visible"}}},groupHeaderPosition:{type:"string",enumValues:["static","sticky"],value:"sticky"},item:{type:"object",properties:{focusable:{type:"boolean|function",value:!0},renderer:{type:"function"},selectable:{type:"boolean|function",value:!0}}},scrollPolicy:{type:"string",enumValues:["auto","loadAll","loadMoreOnScroll"],value:"auto"},scrollPolicyOptions:{type:"Object<string, number>",properties:{fetchSize:{type:"number",value:25},maxCount:{type:"number",value:500},scroller:{type:"Element|string"}}},scrollPosition:{type:"object",writeback:!0,value:{x:0,y:0},properties:{index:{type:"number"},key:{type:"any"},offsetX:{type:"number"},offsetY:{type:"number"},parent:{type:"any"},x:{type:"number"},y:{type:"number"}}},scrollToKey:{type:"string",enumValues:["always","auto","capability","never"],value:"auto"},selected:{type:"KeySet",writeback:!0},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["multiple","none","single"],value:"none"},selectionRequired:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleNavigateSkipItems:{type:"string"},accessibleReorderAfterItem:{type:"string"},accessibleReorderBeforeItem:{type:"string"},accessibleReorderInsideItem:{type:"string"},accessibleReorderTouchInstructionText:{type:"string"},indexerCharacters:{type:"string"},labelCopy:{type:"string"},labelCut:{type:"string"},labelPaste:{type:"string"},labelPasteAfter:{type:"string"},labelPasteBefore:{type:"string"},msgFetchingData:{type:"string"},msgItemsAppended:{type:"string"},msgNoData:{type:"string"}}}},methods:{getContextByNode:{},getDataForVisibleItem:{},getIndexerModel:{},getProperty:{},refresh:{},scrollToItem:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeCollapse:{},ojBeforeCurrentItem:{},ojBeforeExpand:{},ojCollapse:{},ojCopy:{},ojCut:{},ojExpand:{},ojItemAction:{},ojPaste:{},ojReorder:{}},extension:{}}).extension._WIDGET_NAME="ojListView",v.extension._INNER_ELEM="ul",v.extension._GLOBAL_TRANSFER_ATTRS=["aria-label","aria-labelledby"],e.CustomElementBridge.register("oj-list-view",{metadata:v});const y=function(t,e){this.m_widget=t,this.m_root=e};e._registerLegacyNamespaceProp("StaticContentHandler",y),e.Object.createSubclass(y,e.Object,"oj.StaticContentHandler"),y.prototype.Init=function(){y.superclass.Init.call(this)},y.prototype.Destroy=function(){this.m_root.hasAttribute("role")&&(this.restoreContent(this.m_root,0),this.unsetRootAriaProperties())},y.prototype.IsReady=function(){return!0},y.prototype.notifyShown=function(){},y.prototype.notifyAttached=function(){},y.prototype.RenderContent=function(){var t=this.m_root;if(this.shouldUseGridRole()&&this.isCardLayout()&&!this.IsHierarchical()&&i(t).children("li").length>0){i(this.m_root).children().wrapAll("<li role='presentation'><ul role='row' class='"+this.m_widget.getGroupStyleClass()+"'></ul></li>");var e=i(this.m_root).children("li").first().get(0);e.style.width="100%",e.classList.add("oj-listview-group-container"),t=e.firstElementChild}this.modifyContent(t,0),this.setRootAriaProperties(),this.m_widget.renderComplete(!1);var s=this;l.getContext(t).getBusyContext().whenReady().then(function(){if(null!=t)for(var e=i(t).find("li."+s.m_widget.getItemElementStyleClass()),n=0;n<e.length;n++)s.m_widget.disableAllTabbableElements(e[n])})},y.prototype.Expand=function(t,e){var s="."+this.m_widget.getGroupStyleClass(),n=i(t).children(s)[0];i(n).css("display",""),e.call(null,n)},y.prototype.Collapse=function(t){},y.prototype.IsHierarchical=function(){return null==this.m_hier&&(this.m_hier=i(this.m_root).children("li").children("ul").length>0),this.m_hier},y.prototype.restoreContent=function(t,e){var s=this.m_widget.getGroupStyleClass(),n=this.m_widget.getGroupCollapseStyleClass(),l=this.m_widget.getGroupExpandStyleClass(),o=this.m_widget.getGroupItemStyleClass(),r=this.m_widget.getItemStyleClass(),a=this.m_widget.getItemElementStyleClass(),h=null;this.m_widget.getItemLayoutStyleClass&&(h=this.m_widget.getItemLayoutStyleClass());var c=t.firstElementChild;c&&c.classList.contains("oj-listview-group-container")&&i(c).children().unwrap().children().unwrap();for(var u=t.children,d=0;d<u.length;d++){var m=i(u[d]);if(m.hasClass(a)){this.unsetAriaProperties(m.get(0)),m.hasClass("oj-listview-card")&&(m.removeClass("oj-listview-card").removeClass("oj-listview-card-animated"),m[0].style.opacity="unset",m[0].style.transform="unset"),m.removeClass(a).removeClass(r).removeClass(h).removeClass(this.m_widget.getDepthStyleClass(e)).removeClass("gridline-hidden").removeClass("oj-listview-item").removeClass("oj-listview-item-element").removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected");var p=m.children("ul");if(p.length>0){m.children("."+o).children().unwrap(),this.shouldUseGridRole()&&this.unsetGroupAriaProperties(m),m.children(".oj-component-icon").remove();var g=i(p[0]);g.removeClass(s).removeClass(l).removeClass(n).removeAttr("role"),this.restoreContent(g[0],e+1)}}}},y.prototype.modifyContent=function(t,e){for(var s=this.m_widget.getItemStyleClass(),n=this.m_widget.getItemElementStyleClass(),l=this.m_widget.getGroupStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),r=this.m_widget.getGroupCollapseStyleClass(),a=this.m_widget.getCollapseIconStyleClass(),h=this.m_widget.getFocusedElementStyleClass(),c=t.children,u=this.m_widget.isExpandable(),d=0;d<c.length;d++){var m=i(c[d]),p=this.createContext(m);this.setAriaProperties(m,p),m.uniqueId().addClass(n),e>0&&m.addClass(this.m_widget.getDepthStyleClass(e)),this.isFocusable(p)||m.addClass("oj-skipfocus");var g=m.children("ul");if(g.length>0){this.m_hier=!0,m.children(":not(ul)").wrapAll("<div></div>");var _=m.children().first();_.addClass(o);var f=this.getItemsCount(g[0]);if(f>0){if(m.hasClass(h)?(m.removeClass(h),_.addClass(h).attr("aria-expanded","false")):(_.attr("role","presentation"),_.find("."+h).attr("aria-expanded","false")),u){m.addClass("oj-collapsed"),_.uniqueId();var v=document.createElement("a");i(v).attr("href","#").attr("role","button").attr("aria-labelledby",_.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(a),_.prepend(v)}}else _.addClass("oj-empty");this.shouldUseGridRole()&&this.setGroupAriaProperties(_,f);var y,S=i(g[0]);y=this.shouldUseGridRole()?this.isCardLayout()?"row":"presentation":"group",S.addClass(l).addClass(r).attr("role",y).css("display","none"),this.modifyContent(S[0],e+1)}else m.addClass(s);this.m_widget._isSelectionEnabled()&&this.isSelectable(p)&&this.m_widget.getFocusItem(m).attr("aria-selected",!1),this.m_widget.itemRenderComplete(m[0],p)}},y.prototype.setRootAriaProperties=function(){this.shouldUseGridRole()?this.m_root.setAttribute("role","grid"):this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},y.prototype.unsetRootAriaProperties=function(){this.m_root.removeAttribute("role")},y.prototype.getItemsCount=function(t){return i(t).children("li").length},y.prototype.createContext=function(t){var e={};if(e.key=t.attr("id"),e.parentElement=t.children().first()[0],e.index=t.index(),e.data=t[0],e.component=this.m_widget.getWidgetConstructor(),e=this.m_widget._FixRendererContext(e),this.IsHierarchical()){e.leaf=0===t.children("ul").length;var i=t.parents("li."+this.m_widget.getItemElementStyleClass());e.depth=i.length,0===i.length?e.parentKey=null:e.parentKey=i.first().attr("id")}return e},y.prototype.setAriaProperties=function(t,e){var i=this.m_widget.getSingleFocusableElement(t);this.shouldUseGridRole()?null==e.leaf||e.leaf?this.isCardLayout()?i.attr("role","gridcell"):(t.attr("role","row"),i!==t?i.attr("role","gridcell"):i.children().wrapAll("<div role='gridcell' class='oj-listview-cell-element'></div>")):(t.attr("role","presentation"),i!==t&&i.attr("role","gridcell")):(i.attr("role",this.IsHierarchical()?"treeitem":"option"),i!==t&&t.attr("role","presentation")),i.addClass(this.m_widget.getFocusedElementStyleClass())},y.prototype.setGroupAriaProperties=function(t,e){var i=this.m_widget.getFocusedElementStyleClass();t.get(0).removeAttribute("aria-expanded"),t.removeClass(i),t.attr("role","row"),t.children().wrapAll("<div role='gridcell' aria-expanded='false' class='oj-listview-cell-element "+i+"'></div>"),this.isCardLayout()&&e>1&&t.children().first().attr("aria-colspan",e)},y.prototype.unsetGroupAriaProperties=function(t){t.children("div").first().children().unwrap()},y.prototype.unsetAriaProperties=function(t){h.enableAllFocusableElements(t);var e,s=this.m_widget.getGroupItemStyleClass(!0),n=this.m_widget.getFocusedElementStyleClass(),l=t.firstElementChild;if(l&&i(l).hasClass(s)){if(0===(e=i(l).children("."+n).first()).length)return}else e=this.m_widget.getSingleFocusableElement(i(t));e.removeAttr("role"),e.removeAttr("aria-selected"),e.removeAttr("aria-expanded"),e.removeClass(this.m_widget.getFocusedElementStyleClass()),this.shouldUseGridRole()&&!this.isCardLayout()&&(e!==t?(i(t).removeAttr("role"),e.children().first().children().unwrap()):e.children().first().children().unwrap().children().unwrap())},y.prototype.GetKey=function(t){return i(t).attr("id")},y.prototype.FindElementByKey=function(t){return document.getElementById(t)},y.prototype.isFocusable=function(t){return this.m_widget.getItemFocusable(t)},y.prototype.isSelectable=function(t){return this.m_widget.getItemSelectable(t)},y.prototype.isCardLayout=function(){return this.m_widget.isCardLayout()},y.prototype.shouldUseGridRole=function(){return this.m_widget.ShouldUseGridRole()},y.prototype.createKeyMap=function(t){var e=new m;return t?(t.forEach(function(t,i){e.set(i,t)}),e):e},y.prototype.createKeySet=function(t){return new d.KeySet(t)};const S=function(t,e,i){S.superclass.constructor.call(this,t,e,i)};e._registerLegacyNamespaceProp("TreeDataProviderContentHandler",S),e.Object.createSubclass(S,n.DataProviderContentHandler,"oj.TreeDataProviderContentHandler"),S.NUM_CHILD_SKELETONS=3,S.prototype.Init=function(){S.superclass.Init.call(this),this.m_childDataProviders=new m,this.m_fetchCalls=new Set},S.prototype.IsHierarchical=function(){return!0},S.prototype._getChildDataProvider=function(t){if(null===t)return this.getDataProvider();var e=this.m_childDataProviders.get(t);return null==e&&(e=this.getDataProvider().getChildDataProvider(t))&&this.m_childDataProviders.set(t,e),e},S.prototype.fetchRows=function(t){this.signalTaskStart("fetching rows"),S.superclass.fetchRows.call(this,t),this.m_fetchCalls.clear(),this._fetchChildren(null,this.m_root,null),this.signalTaskEnd()},S.prototype._fetchChildren=function(t,e,s,n){var l=this;this.signalTaskStart("fetching children from parent: "+t);var o=this.loadTemplateEngine();if(null!=t){var r=e.parentNode.firstElementChild.firstElementChild.firstElementChild;if(r){r=i(r);var a=this.m_widget.getCollapseIconStyleClass();if(r.hasClass(a)){var h=this.isSkeletonSupport()?this.m_widget.getExpandIconStyleClass():this.m_widget.getExpandingIconStyleClass();r.removeClass(a).addClass(h)}}}this.m_fetching=!0,null!=t&&this.m_fetchCalls.add(t),this._clientId=this._clientId||Symbol();var c={clientId:this._clientId,size:-1};this.signalTaskStart("first fetch");var u=this._getChildDataProvider(t).fetchFirst(c)[Symbol.asyncIterator](),d=u.next(),m=function(i){return i[0].done?i:u.next().then(function(t){return i[0].done=t.done,i[0].value.data=i[0].value.data.concat(t.value.data),i[0].value.metadata=i[0].value.metadata.concat(t.value.metadata),m(i)},function(i){null!=t&&l.m_fetchCalls.delete(t),n&&n(i),l._handleFetchError(i,e),l.signalTaskEnd()})};Promise.all([d,o]).then(function(t){return m(t)},function(i){null!=t&&l.m_fetchCalls.delete(t),l._handleFetchError(i,e),l.signalTaskEnd()}).then(function(i){if(i){if(null==l.m_widget)return void l.signalTaskEnd();var n=i[0],o=i[1];o&&l.cleanItems(o,e),l._handleFetchSuccess(n,t,e,s,o),l.signalTaskEnd()}}),this.signalTaskEnd()},S.prototype._getAtomicFetchChildPromise=function(){var t=this;return new Promise(function(e,i){t.m_fetchResolve=e})},S.prototype._handleFetchSuccess=function(t,e,s,n,l){var o=this;if(null!=this.m_widget&&null!=t.value){this.signalTaskStart("handling successful fetch"),this.m_fetching=!1,null!=e&&this.m_fetchCalls.delete(e);var r=t.value.data,a=t.value.metadata.map(function(t){return t.key}),h=t.value.metadata;if(r.length===a.length){for(var c=0,u=document.createDocumentFragment(),d=0;d<r.length;d++){var m=r[d];this.addItem(u,-1,m,this.getMetadata(c,a[d],m,s),l,null,h[d]),c+=1}if(null==this.m_fetchResolve&&this.shouldUseGridRole()?this.m_fetchCalls.size>0?(this.m_widget.signalTaskStart("Animating in content"),this._getAtomicFetchChildPromise().then(function(){this.animateShowContent(s,u,!0).then(function(){this.m_widget&&this.m_widget.signalTaskEnd(),g()}.bind(this))}.bind(this))):(this.m_widget.signalTaskStart("Animating in content"),this.animateShowContent(s,u,!0).then(function(){this.m_widget&&this.m_widget.signalTaskEnd(),g()}.bind(this))):(i(s).empty(),s.appendChild(u),this.shouldUseGridRole()?null!=n&&n.call(null,s):g()),this.shouldUseGridRole()&&this.isCardLayout()&&null!=e&&c>0){var p=s.parentNode.firstElementChild.firstElementChild;i(p).attr("aria-colspan",c+1)}}0===this.m_fetchCalls.size&&null!=this.m_fetchResolve&&(this.m_fetchResolve(),this.m_fetchResolve=null),this.m_initialized=!0,this.signalTaskEnd()}function g(){o.m_widget&&(null!=n&&n.call(null,s),o.m_widget.renderComplete(!1),o._processEventQueue())}},S.prototype.getMetadata=function(t,e,i,s){var n=S.superclass.getMetadata.call(this,t,e,i,s),l=this._getChildDataProvider(e);n.leaf=null===l,n.parentKey=null,s&&s!==this.m_root&&s.parentElement&&(n.parentKey=this.GetKey(s.parentElement));for(var o=0,r=s;r&&r!==this.m_root;)r=r.parentElement.parentElement,o+=1;return n.depth=o,n},S.prototype.GetBindingContext=function(t){var e=S.superclass.GetBindingContext.call(this,t);return e.depth=t.depth,e.leaf=t.leaf,e.parentKey=t.parentKey,e},S.prototype.afterRenderItem=function(t,e,s){this.signalTaskStart("after rendering an item"),S.superclass.afterRenderItem.call(this,t,e,s);var n=this.m_widget.getGroupStyleClass(),l=this.m_widget.getItemStyleClass(),o=this.m_widget.getGroupItemStyleClass(!0),r=this.m_widget.getGroupCollapseStyleClass(),a=this.m_widget.getCollapseIconStyleClass(),h=this.m_widget.getFocusedElementStyleClass();if(t=i(t),!1===e.leaf){t.children().wrapAll("<div></div>"),t.hasClass(h)?t.removeClass(h).children().first().addClass(h).attr("aria-expanded","false"):t.children().first().attr("role","presentation").find("."+h).attr("aria-expanded","false");var c=t.children().first();if(c.uniqueId().addClass(o),this.m_widget.isExpandable()){t.addClass("oj-collapsed");var u=document.createElement("a");i(u).attr("href","#").attr("aria-labelledby",c.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(a),c.prepend(u)}this.shouldUseGridRole()&&(c.get(0).removeAttribute("aria-expanded"),c.removeClass(h),c.attr("role","row"),c.children().wrapAll("<div role='gridcell' aria-expanded='false' class='oj-listview-cell-element "+h+"'></div>"));var d,m=document.createElement("ul");d=this.shouldUseGridRole()?this.isCardLayout()?"row":"presentation":"group",i(m).addClass(n).addClass(r).attr("role",d),t.append(m)}else!0===e.leaf&&(t.addClass(l),!s&&this.m_widget.getItemLayoutStyleClass&&t.addClass(this.m_widget.getItemLayoutStyleClass()));this.m_widget._isSelectionEnabled()&&this.isSelectable(e)&&this.m_widget.getFocusItem(t).attr("aria-selected",!1),e.depth>0&&t.addClass(this.m_widget.getDepthStyleClass(e.depth)),this.m_widget.itemRenderComplete(t[0],e),this.signalTaskEnd()},S.prototype._handleFetchError=function(t,e){if(null!=this.m_widget){u.error(t),this.m_fetching=!1,e&&this._destroySkeletons(e);var i=this.m_root.querySelector(".oj-listview-initial-skeletons");null!=i&&i.parentNode.removeChild(i),0===this.m_fetchCalls.size&&null!=this.m_fetchResolve&&(this.m_fetchResolve(),this.m_fetchResolve=null),this.m_widget.renderComplete(!0)}else u.info("handleFetchError: widget has already been destroyed")},S.prototype.Expand=function(t,e){this.signalTaskStart("expanding an item");var i,s=this.GetKey(t[0]),n=t.children("ul")[0];this.isSkeletonSupport()&&(i=setTimeout(function(){this._renderExpandSkeletons(n)}.bind(this),this.m_widget._getShowStatusDelay())),this._fetchChildren(s,n,function(t){i&&clearTimeout(i),e(t),n.classList.remove("oj-listview-skeleton-container")},function(){this._handleFetchError()}.bind(this)),this.signalTaskEnd()},S.prototype.Collapse=function(t){var e=this.getTemplateEngine();e&&e.clean(t.get(0)),t.empty()},S.prototype.addItemsForModelInsert=function(t,e,i,s,n,l,o){for(var r=this.getTemplateEngine(),a=0;a<t.length;a++){this.signalTaskStart("handling model add event for item: "+i[a]);var h,c=this.m_root;void 0!==s&&(c=null==s[a]?this.m_root:this.FindElementByKey(s[a]))&&c!==this.m_root&&(c=c.lastElementChild),null!=e?h=e[a]:(h=this.getIndex(l,a))>-1&&(h=n?h:h+1),this.addItem(c,h,t[a],this.getMetadata(h,i[a],t[a],c),r,this.afterRenderItemForInsertEvent.bind(this),null!=o?o[a]:null),this.signalTaskEnd()}this.m_widget.renderComplete(!0)},S.prototype.afterRenderItemForInsertEvent=function(t,e,i){!1===e.leaf?this.afterRenderItem(t,e,i):S.superclass.afterRenderItemForInsertEvent.call(this,t,e,i)},S.prototype.removeItem=function(t){var e=t.key;e&&this.m_childDataProviders.delete(e),S.superclass.removeItem.call(this,t)},S.prototype.replaceItem=function(t,e,i,s,n,l,o){var r=t.key;r&&this.m_childDataProviders.delete(r),S.superclass.replaceItem.call(this,t,e,i,s,n,l,o)},S.prototype.handleModelRefreshEvent=function(t){null!=this.m_root&&(this.IsReady()?(this.signalTaskStart("handling model refresh event"),this._clearEventQueue(),this.m_widget.ClearCache(!0),this.m_childDataProviders.clear(),this.m_widget.resetFocusBeforeRefresh(),this.fetchRows(!0),this.signalTaskEnd()):this._pushToEventQueue({type:t.type,event:t}))},S.prototype.renderInitialSkeletons=function(){this.m_superRoot&&(this.m_root=this.m_superRoot,this.m_superRoot=null),i(this.m_root).empty();var t=this.getRootElementHeight(),e=this.getDefaultSkeletonDimension(),s=0;if(e.width>0&&e.height>0){var n=e.height*(1+S.NUM_CHILD_SKELETONS);s=Math.ceil(t/n)}var l=document.createElement("li");l.setAttribute("role","presentation"),l.classList.add("oj-listview-initial-skeletons");var o=document.createElement("ul");o.setAttribute("role","presentation"),o.classList.add(this.m_widget.getGroupStyleClass()),o.classList.add("oj-listview-skeleton-container");for(var r=0;r<s;r++){o.appendChild(this.createSkeletonItem());var a=document.createElement("li");a.setAttribute("role","presentation");var h=document.createElement("ul");h.setAttribute("role","presentation"),h.classList.add("oj-listview-child-skeleton"),a.appendChild(h),h.appendChild(this.createSkeletonItem()),h.appendChild(this.createSkeletonItem()),h.appendChild(this.createSkeletonItem()),o.appendChild(a)}l.appendChild(o),this.m_root.appendChild(l)},S.prototype._renderExpandSkeletons=function(t){t.style.maxHeight="none";for(var e=0;e<S.NUM_CHILD_SKELETONS;e++)t.appendChild(this.createSkeletonItem());t.classList.add("oj-listview-skeleton-container"),t.setAttribute("data-oj-initial-height",this._getExpandSkeletonHeight(t))},S.prototype._destroySkeletons=function(t){i(t).empty(),t.classList.remove("oj-listview-skeleton-container")},S.prototype._getExpandSkeletonHeight=function(t){return null!=this.m_expandSkeletonHeight&&0!==this.m_expandSkeletonHeight||(this.m_expandSkeletonHeight=t.offsetHeight),this.m_expandSkeletonHeight};var C=function(){this.createKeyMap=function(t){var e=new m;return t?(t.forEach(function(t,i){e.set(i,t)}),e):e},this.createKeySet=function(t){return new d.KeySet(t)}};C.call(y.prototype),C.call(S.prototype),C.call(n.IteratingDataProviderContentHandler.prototype);const E=function(){E.superclass.constructor.call(this)};e._registerLegacyNamespaceProp("_ojListViewExpandedKeySet",E),e.Object.createSubclass(E,e.ExpandedKeySet,"ListViewExpandedKeySet");const I=function(t,s){var n=function(){};return e.Object.createSubclass(n,t,""),n.prototype=i.extend(n.prototype,s),n}(Object,{LEFT_KEY:37,RIGHT_KEY:39,DOWN_KEY:40,UP_KEY:38,TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,F2_KEY:113,SPACE_KEY:32,STATE_EXPANDED:0,STATE_COLLAPSED:1,STATE_NONE:2,MINIMUM_ITEM_HEIGHT:20,init:function(t){var s=this;this.readinessStack=[],this.element=t.element,this.ojContext=t.ojContext,this.OuterWrapper=t.OuterWrapper,this.options=t,this.element.uniqueId().addClass(this.GetStyleClass()+" oj-component-initnode"),this.OuterWrapper&&this.element[0].setAttribute("data-oj-context",""),this.signalTaskStart("Initializing"),this._rootTabIndexSet=!1,this.SetRootElementTabIndex();var n=this.GetDnDContext();n&&(this.m_dndContext=n,this.ojContext._on(this.element,{dragstart:function(t){return n._handleDragStart(t)},dragenter:function(t){return n._handleDragEnter(t)},dragover:function(t){return n._handleDragOver(t)},dragleave:function(t){return n._handleDragLeave(t)},dragend:function(t){return s.m_preActive=!1,n._handleDragEnd(t)},drag:function(t){return n._handleDrag(t)},drop:function(t){return s.m_preActive=!1,n._handleDrop(t)}})),this._touchStartListener=function(t){t.originalEvent||(t=i.Event(t)),s.touchStartEvent=t,s.HandleMouseDownOrTouchStart(t)},this.ojContext._IsCustomElement()?this.element[0].addEventListener("touchstart",this._touchStartListener,{passive:!0}):this.ojContext._on(this.element,{touchstart:this._touchStartListener}),this.ojContext._on(this.element,{click:function(t){s.HandleMouseClick(t),s.touchStartEvent=null},touchend:function(t){s.touchStartEvent&&t.changedTouches.length&&(document.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY)!==s.touchStartEvent.target&&(s.touchStartEvent=null));s.HandleTouchEndOrCancel(t)},touchcancel:function(t){s.touchStartEvent=null,s.HandleTouchEndOrCancel(t)},mousedown:function(t){0===t.button?s._recentTouch()||s.HandleMouseDownOrTouchStart(t):s.m_preActive=!0},mouseup:function(t){s._handleMouseUpOrPanMove(t),s.m_preActive=!1},mouseout:function(t){s._handleMouseOut(t)},mouseover:function(t){s._handleMouseOver(t)},keydown:function(t){s.HandleKeyDown(t)},keyup:function(t){s.HandleKeyUp(t)},ojpanmove:function(t){s._handleMouseUpOrPanMove(t)}}),this.ojContext._on(this.ojContext.element,{focus:function(t){s.HandleFocus(t)},blur:function(t){s.HandleBlur(t)}}),e.AgentUtils.getAgentInfo().browser===e.AgentUtils.BROWSER.FIREFOX&&this._isComponentFocusable()&&(this._rootTabIndexSet=!0,this.getListContainer().attr("tabIndex",-1)),this.ojContext._on(this.ojContext.element,{focusin:function(t){s.HandleFocus(t)},focusout:function(t){s.HandleFocusOut(t)}}),this.ojContext._focusable({applyHighlight:s.ShouldApplyHighlight(),recentPointer:s.RecentPointerCallback(),setupHandlers:function(t,e){s._focusInHandler=t,s._focusOutHandler=e}})},isAvailable:function(){return null!=this.m_contentHandler},_initContentHandler:function(){this.signalTaskStart("Initialize ContentHandler");var t=this,e=function(e){t.m_contentHandler=e,e.RenderContent(),t.signalTaskEnd(),t._registerResizeListener(t.getListContainer()[0]),t._registerScrollHandler()},i=this.GetOption("data");null!=i?this.CreateDataContentHandler(i).then(e,function(){t.signalTaskEnd()}):(this._removeNoData(),e(new y(this,this.element[0])))},setupResources:function(){this.ojContext.document.bind("touchend.ojlistview touchcancel.ojlistview",this.HandleTouchEndOrCancel.bind(this)),this._syncSelectionWithKeySet(),this._initContentHandler(),this._updateGridlines()},releaseResources:function(){this.ojContext.document.off(".ojlistview"),this.DestroyContentHandler(!0),this._unregisterResizeListener(this.getListContainer()),this._unregisterScrollHandler(),this.SetRootElementTabIndex(),this._resetState()},_isSelectedOptionExposed:function(){return this.ShouldUseGridRole()},_syncSelectionWithKeySet:function(){var t=this.GetOption("selection"),e=this.GetOption("selected");if(this._isSelectedOptionExposed()&&e&&(e.isAddAll()||e.values&&e.values().size>0))return t=[],e.isAddAll()?(t.inverted=!0,e.deletedValues().forEach(function(e){t.push(e)})):e.values().forEach(function(e){t.push(e)}),void this.SetOption("selection",t,{_context:{internalSet:!0},changed:!0});var i=!1;null==e&&(e=new d.KeySetImpl,i=!0),t.length>0&&e.values&&0===e.values().size&&(e=e.add(t),i=!0),i&&this.SetOption("selected",e,{_context:{internalSet:!0},changed:!0})},afterCreate:function(){this._buildList(),this.signalTaskEnd()},_isAnimateCards:function(){return this.isCardDisplayMode()&&this.m_contentHandler&&!this.m_contentHandler.IsHierarchical()},refresh:function(){var t=this.element[0].querySelectorAll(".oj-listview-card");if(t.length>0){var e=this;this.signalTaskStart("Exit animation"),this._applyExitAnimation(t).then(function(){e._refresh(),e.signalTaskEnd()})}else this._refresh()},_applyExitAnimation(t){var e,i=this;return t.forEach(function(t){e=i.StartAnimation(t,"cardExit")}),e},_refresh:function(){this._resetInternal(),this.signalTaskStart("Refresh"),this.SetAriaProperties(),this._initContentHandler(),this._updateGridlines(),this.resetFocusBeforeRefresh(),this.signalTaskEnd()},resetFocusBeforeRefresh:function(){this.element[0].contains(document.activeElement)&&(this.m_active=null,this.SetRootElementTabIndex(),this.element[0].focus())},whenReady:function(){return this.readyPromise},destroy:function(){this.element.removeClass(this.GetStyleClass()+" oj-component-initnode"),this._unregisterResizeListener(this.getListContainer()),this._resetInternal(),p.unwrap(this.element,this.getListContainer())},_isScrollToKey:function(){var t=this.GetOption("scrollToKey");if("never"===t)return!1;if("always"===t)return!0;var i=this.GetOption("data");if(!e.DataProviderFeatureChecker.isDataProvider(i))return!0;if(i.getCapability){var s=i.getCapability("fetchFirst");if(s&&"immediate"===s.iterationSpeed)return!0}return!1},adjustScrollPositionValueOnFetch:function(){var t=null==this.GetOption("scrollPosition")?{}:this.GetOption("scrollPosition"),e=this.GetOption("selection");this._isSelectionEnabled()&&e.length>0&&this._isScrollToKey()?null!=this.m_selectionFrontier&&this.m_selectionFrontier.length>0?t.key=this.GetKey(this.m_selectionFrontier[0]):t.key=e[0]:(t.y=0,t.key=null,t.index=0),t.x=0,t.offsetX=0,t.offsetY=0,this.SetOption("scrollPosition",t,{_context:{internalSet:!0},changed:!1})},_clearBusyState:function(){if(this.readinessStack&&this.readinessStack.length>0)for(u.warn("ListView did not end with a clean state, this could happen if ListView is detached before fetch is complete.  State: "+this.readinessStack);this.readinessStack.length>0;)this.signalTaskEnd()},_resetInternal:function(){this.UnsetAriaProperties(),this._cleanupTabbableElementProperties(this.element),this.DestroyContentHandler(),this._resetState()},_resetState:function(){this.m_active=null,this.m_isExpandAll=null,this.m_disclosing=null,this.m_itemHeight=null,this.m_keyElemMap=null,this.m_clientHeight=null,this.m_scrollHeight=null,this.m_clientWidth=null,this.m_scrollWidth=null,this.m_closestParent=null,this.m_gridlinesVisible=null,this.m_gridlinePlaceholder=null,this.m_scroller=null,this.m_initialSelectionStateValidated=null,this.m_validatedSelectedKeyData=null,this.ClearCache(),this._clearFocusoutTimeout(),this._clearFocusoutBusyState(),this._clearScrollPosBusyState(),null!=this.m_dndContext&&this.m_dndContext.reset()},notifyAttached:function(){null!=this.m_contentHandler&&this.m_contentHandler.IsReady()&&(this.syncScrollPosition(),this.m_contentHandler.notifyAttached())},notifyDetached:function(){this.getListContainer().removeClass("oj-focus-ancestor"),null!=this.m_active&&i(this.m_active.elem).removeClass("oj-focus oj-focus-highlight"),null!=this.m_hoverItem&&this._unhighlightElem(this.m_hoverItem,"oj-hover")},notifyShown:function(){null!=this.m_contentHandler&&this.m_contentHandler.IsReady()&&(this.syncScrollPosition(),this.m_contentHandler.notifyShown())},getNodeBySubId:function(t){var e;if(null==t)return this.element[0];var s=t.subId;if("oj-listview-disclosure"===s||"oj-listview-icon"===s){if(null!=(e=t.key)){var n=this.FindElementByKey(e);if(null!=n){var l=i(n).find(".oj-clickable-icon-nocontext").first();if(this._isExpandCollapseIcon(l))return l.get(0)}}}else if("oj-listview-item"===s&&null!=(e=t.key))return this.FindElementByKey(e);return null},getSubIdByNode:function(t){if(null!=t&&this._isExpandCollapseIcon(t)){var e=this.FindItem(t);if(null!=e&&e.length>0){var i=this.GetKey(e[0]);if(null!=i)return{subId:"oj-listview-disclosure",key:i}}}return null},getContextByNode:function(t){var e=this.FindItem(t);if(null!=e&&e.length>0){var i=this.GetKey(e[0]);if(null!=i){var s=e.parent(),n={subId:"oj-listview-item",key:i,index:s.children("."+this.getItemElementStyleClass()).index(e)};return s.get(0)!==this.element.get(0)&&(n.parent=s.parent().get(0)),e.children().first().hasClass(this.getGroupItemStyleClass())?n.group=!0:n.group=!1,n}}return null},getDataForVisibleItem:function(t){var e,s=t.key;if(null!=s&&(e=this.FindElementByKey(s)),null==e){var n=t.index,l=t.parent;l=null==l?this.element.get(0):i(l).children("ul."+this.getGroupStyleClass()).first(),e=i(l).children("li").get(n)}return null!=e&&i(e).hasClass(this.getItemStyleClass())?this._getDataForItem(e):null},_getDataForItem:function(t){return null==this.GetOption("data")?t:i.data(t,"data")},_getMetadataForItem:function(t){return i.data(t,"metadata")},ShouldRegisterResizeListener:function(t){return t&&this.m_contentHandler&&this.m_contentHandler.HandleResize&&this.m_contentHandler.shouldHandleResize&&this.m_contentHandler.shouldHandleResize()},_unregisterResizeListener:function(t){t&&this._resizeHandler&&p.removeResizeListener(t,this._resizeHandler)},_registerResizeListener:function(t){this._unregisterResizeListener(t),this.ShouldRegisterResizeListener(t)&&(null==this._resizeHandler&&(this._resizeHandler=this.HandleResize.bind(this)),p.addResizeListener(t,this._resizeHandler))},disableResizeListener:function(){var t=this.getListContainer()[0];this._unregisterResizeListener(t)},enableResizeListener:function(){var t=this.getListContainer()[0];this._registerResizeListener(t)},GetDnDContext:function(){var t=this.GetOption("dnd");if(!(null===t||null===t.drag&&null===t.drop&&t.reorder&&"disabled"===t.reorder.items))return void 0!==e.ListViewDndContext?new e.ListViewDndContext(this):void 0},HandleResize:function(t,e){t>0&&e>0&&null!=this.m_contentHandler&&this.m_contentHandler.HandleResize&&this.m_contentHandler.HandleResize(t,e),this.m_clientHeight=null,this.m_scrollHeight=null,this.m_clientWidth=null,this.m_scrollWidth=null},ShouldApplyHighlight:function(){return!0},RecentPointerCallback:function(){return function(){return!1}},ShouldRefresh:function(t){return null!=t.data||null!=t.drillMode||null!=t.groupHeaderPosition||null!=t.item||null!=t.scrollPolicy||null!=t.scrollPolicyOptions||null!=t.gridlines||null!=t.display},_isKeySet:function(t){return void 0!==t.isAddAll&&(void 0!==t.values||void 0!==t.deletedValues)},_shouldExpand:function(t,e){return this._isKeySet(e)?e.has(t):!this.ojContext._IsCustomElement()&&"all"===e||!!Array.isArray(e)&&e.indexOf(t)>-1},setOptions:function(t,e){if(this.ShouldRefresh(t))return!0;if(null!=t.expanded&&this.m_contentHandler.IsHierarchical()){this._collapsedKeys=void 0;var s=t.expanded;this.signalTaskStart("Set expanded option"),this._ignoreExpanded=!0;try{for(var n="."+this.getGroupItemStyleClass(),l=this.element.find(n),o=0;o<l.length;o++){var r=l[o],a=this.GetKey(r.parentNode);this._shouldExpand(a,s)?this.expandKey(a,!0,!0,!0,!1):this.collapseKey(a,!0,!0,!1)}}finally{this._ignoreExpanded=void 0,this.signalTaskEnd()}}if(null!=t.currentItem){var h=this.FindElementByKey(t.currentItem);if(null!=h&&(h=i(h),!this.SkipFocus(h))){var c=document.activeElement;c&&this.element.get(0).contains(c)?this.ActiveAndFocus(h,null):this._setActive(h,null,!0)}}else null===t.currentItem&&(this.UnhighlightActive(),this.m_active&&this.m_active.elem&&this.m_active.elem.get(0).classList.remove("oj-listview-current-item"),this.m_active=null,this.SetRootElementTabIndex());if(this.HandleSelectionOption(t),null!=t.selectionMode&&(this.SetAriaProperties(),this.UpdateItemAriaProperties(t.selectionMode)),null!=t.scrollTop){var u=this._getScroller(),d=t.scrollTop;null==d||isNaN(d)||(u.scrollTop=d)}return null!=t.scrollPosition&&(this.syncScrollPosition(t.scrollPosition),delete t.scrollPosition),this._shouldDragSelectedItems()&&null!=this.m_active&&null!=t.dnd&&null!=t.dnd.reorder&&("enabled"===t.dnd.reorder.items?this.m_dndContext._setItemDraggable(this.m_active.elem):"disabled"===t.dnd.reorder.items&&this.m_dndContext._unsetItemDraggable(this.m_active.elem)),!1},_isFirstSelectedItem:function(t){var i=this.GetOption("firstSelectedItem");return i&&e.KeyUtils.equals(i.key,t)},_setFirstSelectedItem:function(t,e){var i={key:t,data:e};this.SetOption("firstSelectedItem",i,{_context:{originalEvent:null,internalSet:!0},changed:!0})},_updateFirstSelectedItem:function(t){var e;if(t.isAddAll())for(var i=this._getItemsCache(),s=0;s<i.length;s++){var n=this.m_contentHandler.GetKey(i[s]);if(t.has(n)){e=n;break}}else e=t.values().values().next().value;if(null!=e){var l=this._getLocalData(e);this._setFirstSelectedItem(e,l)}},updateSelectedKeyData:function(t,e){this._isFirstSelectedItem(t)&&this._setFirstSelectedItem(t,e),this.m_validatedSelectedKeyData&&this.m_validatedSelectedKeyData.has(t)&&this.m_validatedSelectedKeyData.set(t,e)},HandleSelectionOption:function(t){if(null!=t.selection||null!=t.selected){var e=t.selected;if(null!=e&&e.isAddAll()){for(var i=this._getItemsCache(),s=0;s<i.length;s++){var n=this.m_contentHandler.GetKey(i[s]);e.has(n)?this._applySelection(i[s],n):this._unhighlightElem(i[s],"oj-selected")}t.selection=d.KeySetUtils.toArray(e)}else{var l,o=null!=e?e.values():t.selection,r=this._cloneSelection(o);if(this._validateAndUpdateSelection(r),t.selection=r,e=(e=(e=this.GetOption("selected")).clear()).add(r),t.selected=e,this.m_selectionFrontier){var a=this.GetKey(this.m_selectionFrontier.get(0));l=e.has(a)?this.m_selectionFrontier:void 0}this._clearSelection(!1,l);for(var h=0;h<r.length;h++){var c=this.FindElementByKey(r[h]);null!=c&&this._applySelection(c,r[h])}}null!=e&&this._updateFirstSelectedItem(e)}},Trigger:function(t,e,i){return this.ojContext._trigger(t,e,i)},SetOption:function(t,e,i){this.ojContext.option(t,e,i)},GetOption:function(t){return this.ojContext.option(t)},_getBusyDescription:function(t){return"The component identified by '"+(this.ojContext._IsCustomElement()?this.GetRootElement().attr("id"):this.element.attr("id"))+"', "+t},signalTaskStart:function(t){var e=this;if(this.readinessStack){if(0===this.readinessStack.length){this.readyPromise=new Promise(function(t){e.readyResolve=t});var i=l.getContext(this.element[0]).getBusyContext(),s=null!=t?{description:this._getBusyDescription(t)}:{};e.busyStateResolve=i.addBusyState(s)}this.readinessStack.push(null!=t?t:"unknown task")}},signalTaskEnd:function(){this.readinessStack&&this.readinessStack.length>0&&(this.readinessStack.pop(),0===this.readinessStack.length&&(this.readyResolve(null),this.busyStateResolve(null),this.busyStateResolve=null))},isReady:function(){return null==this.busyStateResolve},throwError:function(t){if(this.readinessStack)for(;this.readinessStack.length>0;)this.signalTaskEnd();throw t},getItems:function(t){var e=this,s=[];return i.each(t,function(t,i){var n=e.FindElementByKey(i);null!=n&&s.push(n)}),s},isCardDisplayMode:function(){return"card"===this.GetOption("display")},isCardLayout:function(){return!!(this.ojContext._IsCustomElement()?this.GetRootElement():this.element).hasClass("oj-listview-card-layout")||this.isCardDisplayMode()},ShouldUseGridRole:function(){return!0},ShouldUpdateScrollPosition:function(){return this.ShouldUseGridRole()&&this.ojContext._IsCustomElement()},DestroyContentHandler:function(t){null!=this.m_contentHandler&&(this.m_contentHandler.Destroy(t),delete this.m_contentHandler,this.m_contentHandler=null),this._clearBusyState()},CreateDataContentHandler:function(i){var s;if(this.showStatusText(),void 0!==e.TableDataSource&&i instanceof e.TableDataSource)s=new n.IteratingDataProviderContentHandler(this,this.element[0],new e.TableDataSourceAdapter(i));else{if(void 0!==e.TreeDataSource&&i instanceof e.TreeDataSource){var l=new Promise(function(e,i){t(["ojs/ojtreedataprovideradapter"],function(t){e(function(t){if(t&&t.__esModule)return t;var e={};return t&&Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),e.default=t,e}(t))},i)});if(!l)throw new Error("Error adapting a TreeDataSource");return l.then(t=>new S(this,this.element[0],new t.default(i)))}e.DataProviderFeatureChecker.isTreeDataProvider(i)?s=new S(this,this.element[0],i):e.DataProviderFeatureChecker.isDataProvider(i)?s=new n.IteratingDataProviderContentHandler(this,this.element[0],i):this.throwError("Invalid data or missing module")}return Promise.resolve(s)},UpdateActiveDescendant:function(t){this.element.attr("aria-activedescendant",t.attr("id"))},SetAriaProperties:function(){this._isMultipleSelection()?this.element.attr("aria-multiselectable",!0):this._isSelectionEnabled()&&this.element.attr("aria-multiselectable",!1)},UnsetAriaProperties:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},UpdateItemAriaProperties:function(t){var e,s=this;"none"===t?(this.element.removeAttr("aria-multiselectable"),e=function(t){s.getFocusItem(t).removeAttr("aria-selected")}):("single"===t?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",!0),e=function(t){var e=s.getFocusItem(t),i=e.parent();e.attr("aria-selected",i.hasClass("oj-selected"))});for(var n=this._getItemsCache(),l=0;l<n.length;l++)e(i(n[l]))},_buildList:function(t){var e=this.getListContainer();this.SetAriaProperties(),this.m_elementOffset=this.element.get(0).offsetTop;var i=this._buildStatus();e.append(i),this.m_status=i;var s=this._buildAccInfo();e.append(s),this.m_accInfo=s,this._isTouchSupport()&&null!=this.m_dndContext&&e.append(this._buildAccInstructionText())},_buildStatus:function(){var t=i(document.createElement("div"));t.addClass("oj-icon").addClass(this.getLoadingStatusIconStyleClass());var e=i(document.createElement("div"));return e.addClass(this.getStatusMessageStyleClass()).addClass(this.getStatusStyleClass()).attr({id:this._createSubId("status"),role:"status"}),e.append(t),e},_buildAccInfo:function(){var t=i(document.createElement("div"));return t.addClass("oj-helper-hidden-accessible").attr({id:this._createSubId("info"),role:"status"}),t},_buildAccInstructionText:function(){var t=i(document.createElement("div"));return t.addClass("oj-helper-hidden-accessible").attr({id:this._createSubId("instr")}),t.text(this.ojContext.getTranslatedString("accessibleReorderTouchInstructionText")),t},_setAccInfoText:function(t){""!==t&&this.m_accInfo.text()!==t&&this.m_accInfo.text(t)},updateStatusFetchStart:function(){var t=this.ojContext.getTranslatedString("msgFetchingData");this._setAccInfoText(t)},updateStatusFetchEnd:function(t){var e=this.ojContext.getTranslatedString("msgItemsAppended",{count:t});this._setAccInfoText(e)},isSkeletonSupport:function(){return!(!this.ShouldUseGridRole()||!this.m_contentHandler.renderInitialSkeletons)&&"skeleton"===this._getOptionDefaults().loadIndicator},_showLoadingIcon:function(){var t=this.ojContext.getTranslatedString("msgFetchingData"),e=this.getListContainer();this.m_status.attr("aria-label",t).css("left",Math.max(0,e.outerWidth()/2-this.m_status.outerWidth()/2)).css("top",Math.max(0,e.outerHeight()/2-this.m_status.outerHeight()/2)).show();var i=this.m_status.get(0).offsetHeight,s=e.get(0).offsetHeight,n=e.get(0).style.minHeight,l=parseInt(n,10);isNaN(l)&&(l=0),s<i&&l<i&&(e.css("minHeight",Math.max(s,i+this.getListContainerBorderWidth())),isNaN(l)||e.get(0).setAttribute("data-oj-min-height",n))},_showLoadingSkeleton:function(){this.m_contentHandler.renderInitialSkeletons()},showStatusText:function(){var t=this;this.m_showStatusTimeout||(this.m_showStatusTimeout=setTimeout(function(){i(document.getElementById(t._createSubId("empty"))).remove(),null!=t.m_contentHandler&&(t.isSkeletonSupport()?t._showLoadingSkeleton():t._showLoadingIcon()),t.m_showStatusTimeout=null},this._getShowStatusDelay()))},_getShowStatusDelay:function(){var t=this._getOptionDefaults(),e=p.getCSSTimeUnitAsMillis(t.showIndicatorDelay);return isNaN(e)?0:e},hideStatusText:function(){this.m_showStatusTimeout&&(clearTimeout(this.m_showStatusTimeout),this.m_showStatusTimeout=null),this.m_status.hide();var t=this.getListContainer().get(0);t.hasAttribute("data-oj-min-height")&&(t.style.minHeight=t.getAttribute("data-oj-min-height"),t.removeAttribute("data-oj-min-height"))},GetRootElement:function(){return this.getListContainer()},getListContainer:function(){return null==this.m_container&&(this.m_container=this._createListContainer()),this.m_container},_createListContainer:function(){var t;return this.OuterWrapper?t=i(this.OuterWrapper):(t=i(document.createElement("div")),this.element.parent()[0].replaceChild(t[0],this.element[0])),t.addClass(this.GetContainerStyleClass()).addClass("oj-component"),t.prepend(this.element),t},_getEmptyText:function(){return this.ojContext.getTranslatedString("msgNoData")},_buildEmptyText:function(){var t=this._getEmptyText(),e=document.createElement("li");e.setAttribute("role","row"),e.id=this._createSubId("empty"),e.className=this.getEmptyTextStyleClass()+" "+this.getEmptyTextMarkerClass();var i=document.createElement("span");return i.setAttribute("role","gridcell"),i.textContent=t,e.appendChild(i),e},GetState:function(t){var e=this.getFocusItem(t).attr("aria-expanded");return"true"===e?this.STATE_EXPANDED:"false"===e?this.STATE_COLLAPSED:this.STATE_NONE},SetState:function(t,e){var i=this.isExpandable();e===this.STATE_EXPANDED?(this.getFocusItem(t).attr("aria-expanded","true"),i&&t.removeClass("oj-collapsed").addClass("oj-expanded")):e===this.STATE_COLLAPSED&&(this.getFocusItem(t).attr("aria-expanded","false"),i&&t.removeClass("oj-expanded").addClass("oj-collapsed"))},_getItemOption:function(t,e,i){var s=this.GetOption("item")[t];return"function"==typeof s&&i?s.call(this,e):s},getItemFocusable:function(t){return this._getItemOption("focusable",t,!0)},getItemSelectable:function(t){return this.getItemFocusable(t)&&this._getItemOption("selectable",t,!0)},_getItemRenderer:function(){var t=this._getItemOption("renderer",null,!1);return"function"!=typeof t?null:this._WrapCustomElementRenderer(t)},getItemTemplate:function(){if(void 0===this.m_template&&(this.m_template=null,this.ojContext._IsCustomElement())){var t=this.GetSlotMap().itemTemplate;t&&t.length>0&&"template"===t[0].tagName.toLowerCase()&&(this.m_template=t[0])}return this.m_template},getAs:function(){return this.GetOption("as")},GetSlotMap:function(){return _.CustomElementUtils.getSlotMap(this.GetRootElement()[0])},itemInsertComplete:function(t,e){this.m_clientHeight=null,this.m_scrollHeight=null},BeforeInsertItem:function(){},itemRemoveComplete:function(t,s){var n=!1;if(null!=this.m_active&&e.Object.compareValues(this.m_active.key,this.GetKey(t))){this._setActionableMode(!1,!0);var l=t.nextElementSibling;null!=l&&i(l).hasClass(this.getItemElementStyleClass())||null!=(l=t.previousElementSibling)&&i(l).hasClass(this.getItemElementStyleClass())||this.SetOption("currentItem",null),null!=l&&i(l).hasClass(this.getItemElementStyleClass())&&(this.SetCurrentItem(i(l),null,!s),n=!0)}return null!=t&&t.id&&null!=this.m_keyElemMap&&this.m_keyElemMap.delete(t.id),this.m_clientHeight=null,this.m_scrollHeight=null,n},itemRenderComplete:function(t,e){null!=this.m_dndContext&&this.m_dndContext.itemRenderComplete(t);var s=e.key;if(this._isSelectionEnabled()){var n,l=this.GetOption("selected"),o=l.has(s);this.IsSelectable(t)?(o&&(this._applySelection(t,s),this._isMultipleSelection()||l.values().size>1&&(n=this.FindElementByKey(s),l=l.clear().add([s]),this._setSelectionOption(l,null,n,e.data))),l.values&&0===l.values().size&&this._isSelectionRequired()&&(this._applySelection(t,s),l=l.clear().add([s]),this._setSelectionOption(l,null,[t],e.data))):o&&!l.isAddAll()&&(n=[],(l=l.delete([s])).values().forEach(function(t){n.push(this.FindElementByKey(t))},this),this._setSelectionOption(l,null,n))}var r=this;if(this.m_contentHandler.IsHierarchical()&&null==this._ignoreExpanded&&this.GetState(i(t))===this.STATE_COLLAPSED){var a=this.GetOption("expanded");this._isExpandAll(s)?(this.ojContext._IsCustomElement()||null==this._collapsedKeys)&&this.ExpandItem(i(t),null,!1,null,!1,!1,!1):!this.ojContext._IsCustomElement()&&Array.isArray(a)?i.each(a,function(e,n){n!==s||null!=r._collapsedKeys&&-1!==r._collapsedKeys.indexOf(n)||r.ExpandItem(i(t),null,!1,null,!1,!1,!1)}):a.has&&a.has(s)&&this.ExpandItem(i(t),null,!1,null,!1,!1,!1)}null!=this.m_active&&s===this.m_active.key&&null!=this.m_active.elem&&t!==this.m_active.elem.get(0)&&(this.m_active.elem=i(t))},_addNoData:function(){if(this.ojContext._IsCustomElement()){var t=this.GetSlotMap().noData;if(t&&t.length>0&&"template"===t[0].tagName.toLowerCase()){var e=document.createElement("li");e.setAttribute("role","row"),e.id=this._createSubId("empty"),e.classList.add("oj-listview-no-data-container"),e.classList.add("oj-listview-no-data-item");var i=document.createElement("div");i.setAttribute("role","gridcell"),i.classList.add("oj-listview-no-data-container"),e.appendChild(i);var s=this.element;s.addClass("oj-listview-no-data-container"),s.append(e);var n=this;return this.signalTaskStart("run no data template"),void o.__getTemplateEngine().then(function(e){e.execute(n.GetRootElement(),t[0],{},null).forEach(function(t){i.appendChild(t)}),n.m_engine=e,n.signalTaskEnd()},function(t){throw n.signalTaskEnd(),new Error("Error loading template engine: "+t)})}}this.element.append(this._buildEmptyText())},_removeNoData:function(){this.element.removeClass("oj-listview-no-data-container");var t=document.getElementById(this._createSubId("empty"));t&&(this.m_engine&&this.m_engine.clean(t),t.parentNode.removeChild(t))},resetInitialSelectionStateValidated:function(){this.m_initialSelectionStateValidated=!1},renderComplete:function(t){var e=this;if(this.hideStatusText(),this._removeNoData(),this.m_items=null,this.m_groupItems=null,this.m_scrollHeight=null,this._isEmptyGrid()&&this.element[0].removeChild(this.element[0].children[0]),this._isEmpty())return this._addNoData(),this.Trigger("ready",null,{}),null;var s=this.GetOption("currentItem");if(null!=s){var n=this.FindElementByKey(s);if(null==n)this.SetOption("currentItem",null);else if(null==this.m_active&&!this.SkipFocus(i(n))){var l=document.activeElement;l&&this.element.get(0).contains(l)?this.ActiveAndFocus(i(n),null):this._setActive(i(n),null,!0)}}if(this.getListContainer().hasClass("oj-focus-ancestor")&&null==this.m_active&&null==s&&!this._isTouchSupport()&&this._initFocus(),this.m_scrollAndFetch=void 0,null==this.m_scrollPosition&&(t||this.m_ticking)||this.syncScrollPosition(),!this.m_initialSelectionStateValidated&&this._isSelectionEnabled()&&this._isSelectionRequired()){var o=this.GetOption("selection").slice(0);this._validateAndUpdateSelection(o),this.m_initialSelectionStateValidated=!0}if(this._isSelectionEnabled()){var r=this.GetOption("firstSelectedItem");if(null==r||null==r.key){var a=this.GetOption("selected");null!=a&&this._updateFirstSelectedItem(a)}}if(null!=this.m_gridlinePlaceholder&&null!=this.m_gridlinePlaceholder.parentNode&&this.m_gridlinePlaceholder.parentNode.removeChild(this.m_gridlinePlaceholder),(void 0===this.m_contentHandler.hasMoreToFetch||this.m_contentHandler.hasMoreToFetch&&!this.m_contentHandler.hasMoreToFetch())&&this._shouldRenderGridlineForLastItem()){var h=document.createElement("li");h.setAttribute("role","presentation"),h.className="oj-listview-gridline-placeholder",this.element[0].appendChild(h),this.m_gridlinePlaceholder=h}var u=null;if(this._isAnimateCards()){var d=null==this.element[0].querySelector(".oj-listview-card-animated"),m=0,p=this._getCardEntranceAnimationDelay();d&&this.element[0].classList.add("oj-animation-host-viewport"),this.element[0].querySelectorAll(".oj-listview-card:not(.oj-listview-card-animated)").forEach(function(t){if(t.classList.add("oj-listview-card-animated"),d){var i=e.getAnimationEffect("cardEntrance");i&&i.forEach(function(t){t.delay=m+"ms"}),u=e.StartAnimation(t,"cardEntrance",i),m=Math.min(1e3,m+p)}else c.fadeIn(t,{duration:"150ms"});u&&u.then(function(){e.element[0].classList.remove("oj-animation-host-viewport")})})}return this.Trigger("ready",null,{}),u},_getCardEntranceAnimationDelay:function(){var t=this._getOptionDefaults(),e=parseInt(t.cardAnimationDelay,10);return isNaN(e)?0:e},_getLocalKeys:function(){for(var t=[],e=this._getItemsCache(),i=0;i<e.length;i++)t.push(this.GetKey(e[i]));return t},_validateAndUpdateSelection:function(t){if(this._isSelectionRequired()&&t.length>0){var e=t.length,i=this._validateSelection(t);if(i)this.signalTaskStart("validating selection-required keys"),i.then(function(t){var e=this.GetOption("selected").clear().add(t);this._setSelectionOption(e,null,null,null),this.enforceSelectionRequired(),this.signalTaskEnd()}.bind(this));else if(e!==t.length){var s=this.GetOption("selected").clear().add(t);this._setSelectionOption(s,null,null,null),this.enforceSelectionRequired()}}},_validateSelection:function(t){this.m_validatedSelectedKeyData=null;var e=t,i=this._getLocalKeys(),s=[];if(t.forEach(function(t){-1===i.indexOf(t)&&s.push(t)}),s.length>0){var n=this._fetchValidRowKeyData(s);if(n)return n.then(function(t){this.m_validatedSelectedKeyData=t.validKeyData,t.validKeys.forEach(function(t){s.splice(s.indexOf(t),1)});for(var i=e.length-1;i>=0;i--)s.indexOf(e[i])>-1&&e.splice(i,1);return e}.bind(this));for(var l=e.length-1;l>=0;l--)s.indexOf(e[l])>-1&&e.splice(l,1)}return null},_fetchValidRowKeyData:function(t){var e=this.m_contentHandler.getDataProvider();if(e&&e.getCapability){var i=e.getCapability("fetchByKeys");if(i&&"lookup"===i.implementation)return new Promise(function(i){e.fetchByKeys({keys:new Set(t),scope:"global"}).then(function(t){var e=[],s=new m;t.results.forEach(function(t,i){e.push(i),s.set(i,t.data)}),i({validKeys:e,validKeyData:s})},function(){i({validKeys:[],validData:new Map})})})}return null},_isEmptyGrid:function(){return this.ShouldUseGridRole()&&this.isCardLayout()&&!this.m_contentHandler.IsHierarchical()&&this.element[0].children[0]&&0===this.element[0].children[0].children[0].childElementCount},_setScrollY:function(t,e){var i=t.scrollTop;return u.info("Setting scroll y: "+e+" initial scrollTop: "+i),this._skipScrollUpdate||this._setScrollPosBusyState(),this._skipScrollUpdate=!0,t.scrollTop=e,this._handlePinGroupHeader(),u.info("scrollTop after updating: "+t.scrollTop),i!==t.scrollTop||(u.info("scrollPosBusyState getting clear"),this._clearScrollPosBusyState(),!1)},_setScrollX:function(t,e){this._skipScrollUpdate=!0,p.setScrollLeft(t,e)},_getScrollX:function(t){return Math.abs(t.scrollLeft)},getScrollToKey:function(){var t=this.GetOption("scrollPosition");if(t){var e=t.key;if(e){var i=this;return new Promise(function(t){var s=i._validateKeyForScroll(e,!0);null==s?t(null):s.then(function(i){t(i?e:null)})})}}return Promise.resolve(null)},_validateKeyForScroll:function(t,e){var i=this;if(!this._isScrollToKey())return null;if(!e&&null!=this.FindElementByKey(t))return Promise.resolve(!0);if(this.m_contentHandler instanceof n.IteratingDataProviderContentHandler){var s=this.m_contentHandler.getDataProvider();if(s.containsKeys)return new Promise(function(e){var n=new Set;n.add(t),i.signalTaskStart("Checking for keys"),s.containsKeys({keys:n}).then(function(t){e(t.results.size>0),i.signalTaskEnd()},function(){i.signalTaskEnd(),e(!1)})})}return null},_getScrollHeight:function(){return null==this.m_scrollHeight&&(this.m_scrollHeight=this._getScroller().scrollHeight),this.m_scrollHeight},_getClientHeight:function(){return null==this.m_clientHeight&&(this.m_clientHeight=this._getScroller().clientHeight),this.m_clientHeight},_getScrollWidth:function(){return null==this.m_scrollWidth&&(this.m_scrollWidth=this._getScroller().scrollWidth),this.m_scrollWidth},_getClientWidth:function(){return null==this.m_clientWidth&&(this.m_clientWidth=this._getScroller().clientWidth),this.m_clientWidth},_isScrollable:function(){return this._isScrollableY()||this._isScrollableX()},_isScrollableX:function(){return Math.abs(this._getScrollWidth()-this._getClientWidth())>1},_isScrollableY:function(){var t=0;if(this.m_contentHandler.getLoadingIndicator){var e=this.m_contentHandler.getLoadingIndicator();null!=e&&(t=e.offsetHeight)}var i=this._getScroller(),s=i.scrollHeight,n=i.clientHeight;return Math.abs(s-n)-t>1},syncScrollPosition:function(t,e){var i,s,n,l,o=this;if(this.ShouldUseGridRole()&&(e=void 0===e||e,this._isScrollable())){if(this.ShouldUpdateScrollPosition()){if(null!=this.m_scrollPosition?t=this.m_scrollPosition:void 0===t&&(t=this.GetOption("scrollPosition")),e&&null!=t.key){var r=this._validateKeyForScroll(t.key,!1);return void(r&&r.then(function(e){null!=o.m_contentHandler&&(e||delete t.key,o.syncScrollPosition(t,!1))}))}if(s=(i=this._getScrollCoordinates(t)).x,n=i.y,isNaN(s)&&isNaN(n))return void(null!=this.m_scrollPosition&&(this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}}),this.signalTaskEnd(),this.m_scrollPosition=null))}void 0===i&&(n=this.GetOption("scrollTop"));var a=this._getScroller();if(l=a.scrollTop,!isNaN(s)&&isNaN(n)||!isNaN(s)&&n===l&&s!==this._getScrollX(a,s)){if(!this._isScrollableX())return void this._clearOutstandingScrollPosition();this._setScrollX(a,s);var h=this.GetOption("scrollPosition"),c={x:s=this._getScrollX(a),y:h.y,index:h.index,key:h.key,offsetX:s,offsetY:h.offsetY};h.parent&&(c.parent=h.parent),this.SetOption("scrollPosition",c,{_context:{originalEvent:null,internalSet:!0}})}else if(Math.abs(l-n)>=1){var u=!1;if(this._isScrollableY()&&(u=this._setScrollY(a,n)),!isNaN(s)&&s!==this._getScrollX(a,s)&&this._isScrollableX()&&(this._setScrollX(a,s),u=!0),!u)return this.m_scrollPosition&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}}),void this._clearOutstandingScrollPosition();if(l=a.scrollTop,Math.abs(l-n)>=1&&this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch())return null==this.m_scrollPosition&&this.signalTaskStart("Scroll position needs to resolve further"),this.m_scrollAndFetch=!0,void(this.m_scrollPosition=t);this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}})}else t&&(null==t.key||isNaN(t.index))&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(l),{_context:{originalEvent:null,internalSet:!0}});this._clearOutstandingScrollPosition()}},_clearOutstandingScrollPosition:function(){null!=this.m_scrollPosition&&(this.signalTaskEnd(),this.m_scrollPosition=null)},restoreCurrentItemFocus:function(t){this._isInViewport(t)&&this._setActive(i(t),null,!0)},ClearCache:function(t){this.m_items=null,this.m_groupItems=null,t&&null!=this.m_keyElemMap&&this.m_keyElemMap.clear()},getMinimumCountForViewport:function(){var t=this._getItemHeight(),e=this._getClientHeight();return!isNaN(t)&&t>0?Math.ceil(e/t):1},_isInViewport:function(t){return h.isElementInScrollerBounds(t,this._getScroller())},_getAnimatedActions:function(){return["add","remove","update","expand","collapse"]},StartAnimation:function(t,e,i){if(this._getAnimatedActions().indexOf(e)>-1&&!this._isInViewport(t))return Promise.resolve(null);var s,n;if(null==i&&(i=this.getAnimationEffect(e)),"expand"===e){var l=t.getAttribute("data-oj-initial-height");if(null!=l&&!isNaN(l)){(i=Object.assign({},i)).startMaxHeight=l+"px";var o=t.offsetHeight;o<l&&(n=t.style.maxHeight,s=t.style.height,t.style.maxHeight="none",t.style.height=l+"px",i.effect="collapse",i.endMaxHeight=o+"px"),t.removeAttribute("data-oj-initial-height")}}var r=c.startAnimation(t,e,i,this.ojContext);return void 0!==s&&r.then(function(){t.style.height=s,t.style.maxHeight=n}),r},notifyContextMenuGesture:function(t,e,s){if(null==this.element[0].querySelector(".oj-listview-no-data-item")&&this.IsNodeEditableOrClickable(i(e.target)))return!1;var n,o=i(e.target).closest("."+this.getItemElementStyleClass());o.length>0&&!this.SkipFocus(i(o[0]))&&this.SetCurrentItem(i(o[0]),null),2===e.button?n=this.FindItem(i(e.target)):null!=this.m_active&&(n=this.m_active.elem),null==n&&(n=this.element);var r={launcher:n,initialFocus:"menu"};"keyboard"===s&&(r.position={my:"start top",at:"start bottom",of:n}),null==this.ojContext._GetContextMenu()?l.getContext(t).getBusyContext().whenReady().then(function(){this.PrepareContextMenu(o),this.ojContext._OpenContextMenu(e,s,r)}.bind(this)):(this.PrepareContextMenu(o),this.ojContext._OpenContextMenu(e,s,r))},PrepareContextMenu:function(t){var e=this.ojContext._GetContextMenu();null!=this.m_dndContext&&e&&this.m_dndContext.prepareContextMenu(e)},IsElementEditableOrClickable:function(t){return null!=t.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},IsNodeEditableOrClickable:function(t){for(;null!=t&&t[0]!==this.element[0]&&"LI"!==t.prop("nodeName");)if(3===t[0].nodeType)t=t.parent();else{var e=t.attr("tabIndex"),i=t.attr("data-oj-tabindex");if(null!=e&&e>=0&&!t.hasClass(this.getFocusedElementStyleClass())&&!t.hasClass("oj-listview-cell-element"))return!0;if(this.IsElementEditableOrClickable(t)&&(-1!==e||-1!==i))return!0;t=t.parent()}return!1},disableAllTabbableElements:function(t,e){var s=i(t);(s.hasClass(this.getItemStyleClass())||(s=i(s.get(0).firstElementChild)),s.children().first().hasClass("oj-listview-cell-element")&&(s=i(s.get(0).firstElementChild)),s[0])&&i(h.disableAllFocusableElements(s[0],!0,e)).each(function(){i(this).removeAttr("data-first").removeAttr("data-last")})},_disableAllTabbableElementsBeforeItem:function(t){for(var e=this._getItemsCache(),i=e.index(t),s=0;s<=i;s++)this.disableAllTabbableElements(e[s],!0)},_disableAllTabbableElementsAfterItem:function(t){var e=this._getItemsCache(),i=e.index(t);if(-1!==i)for(var s=i;s<=e.length-1;s++)this.disableAllTabbableElements(e[s],!0)},_enableAllTabbableElements:function(t){var e=i(h.enableAllFocusableElements(t[0]));(e=e.filter(":visible")).first().attr("data-first","true"),e.last().attr("data-last","true")},_cleanupTabbableElementProperties:function(t){h.enableAllFocusableElements(t[0]).forEach(function(t){t.removeAttribute("data-first"),t.removeAttribute("data-last")})},SkipFocus:function(t){return t.hasClass("oj-skipfocus")},GetFocusElement:function(){if(this.getListContainer().hasClass("oj-focus-ancestor")){if(this.m_active)return this.getFocusItem(this.m_active.elem)[0];var t=this.element.children("."+this.getEmptyTextStyleClass()).first();if(t.length>0&&0===t.attr("tabIndex"))return t[0]}return this.element[0]},_isFocusBlurTriggeredByDescendent:function(t){return void 0===t.relatedTarget||!(null==t.relatedTarget||!i.contains(this.ojContext.element.get(0),t.relatedTarget))},HandleFocus:function(t){if(this._clearFocusoutTimeout(),this._clearFocusoutBusyState(),this.getListContainer().addClass("oj-focus-ancestor"),null==this.m_active){var e=i(t.target),s=this.FindItem(e);this.m_preActive||this._isFocusBlurTriggeredByDescendent(t)||null!=s&&0!==s.length&&!this.SkipFocus(s)?s&&s.length>0&&!this.SkipFocus(s)&&!this.IsElementEditableOrClickable(e)&&!t.target.classList.contains("oj-component")&&this.SetCurrentItem(s,t):this._initFocus(t)}else this.m_preActive||t.target!==this.ojContext.element[0]||this._isFocusBlurTriggeredByDescendent(t)||(this.HighlightActive(),this._focusItem(this.m_active.elem)),this.RemoveRootElementTabIndex(),this._setTabIndex(this.m_active.elem)},restoreFocusAfterDrag:function(){null==this.m_active?this._initFocus(null):(this._makeFocusable(this.m_active.elem),this.HighlightActive(),this._focusItem(this.m_active.elem),this.RemoveRootElementTabIndex()),this.m_active&&this.m_active.elem.removeClass("oj-focus-highlight")},_initFocus:function(t){for(var e=this._getItemsCache(),s=0;s<e.length;s++){var n=i(e[s]);if(!this.SkipFocus(n)){this.SetCurrentItem(n,t);break}}if(0===e.length){var l=this.element.children("."+this.getEmptyTextStyleClass()).first();l.length>0&&(l.attr("tabIndex",0),l.focus(),this.RemoveRootElementTabIndex())}},HandleFocusOut:function(t){this.HandleBlur(t)},_supportRelatedTargetOnBlur:function(){var t=e.AgentUtils.getAgentInfo();return!(t.browser===e.AgentUtils.BROWSER.FIREFOX&&parseInt(t.browserVersion,10)<48)},_isExtraBlurEvent:function(t){var i=e.AgentUtils.getAgentInfo();return null==t.relatedTarget&&i.browser===e.AgentUtils.BROWSER.IE&&t.target===this.ojContext.element.get(0)},_clearFocusoutTimeout:function(){this._focusoutTimeout&&(clearTimeout(this._focusoutTimeout),this._focusoutTimeout=null)},_setFocusoutBusyState:function(){this._focusoutResolveFunc||(this._focusoutResolveFunc=this._addComponentBusyState("is handling focusout."))},_setScrollPosBusyState:function(){this.ojContext._IsCustomElement()?this._scrollPosResolveFunc||(this._scrollPosResolveFunc=this._addComponentBusyState("is waiting for scroll handler.")):this.signalTaskStart("waiting for scroll handler")},_addComponentBusyState:function(t){var e=l.getContext(this.element[0]).getBusyContext(),i={description:"The component identified by '"+this.element[0].id+"' "+t};return e.addBusyState(i)},_clearFocusoutBusyState:function(){this._focusoutResolveFunc&&(this._focusoutResolveFunc(),this._focusoutResolveFunc=null)},_clearScrollPosBusyState:function(){this.ojContext._IsCustomElement()?this._scrollPosResolveFunc&&(this._scrollPosResolveFunc(),this._scrollPosResolveFunc=null):this.signalTaskEnd()},HandleBlur:function(t){if(this._clearFocusoutTimeout(),this._isExpandCollapseIcon(t.target)&&this._focusOutHandler(i(t.target)),this._isActionableMode()){if(null!=h.getLogicalChildPopup(this.getListContainer()))return;this._setFocusoutBusyState(),this._focusoutTimeout=setTimeout(function(){null!=this.m_active&&this.m_active.elem.get(0).contains(document.activeElement)||this._doBlur(),this._clearFocusoutBusyState()}.bind(this),100)}else this._isFocusBlurTriggeredByDescendent(t)||this.m_preActive||null!=this.m_active&&this.m_active.elem.get(0).contains(document.activeElement)||this._doBlur()},_doBlur:function(){if(this._isActionableMode()&&this._exitActionableMode(),this.getListContainer().removeClass("oj-focus-ancestor"),this.UnhighlightActive(),null!=this.m_active)this._resetTabIndex(this.m_active.elem),this._removeSkipItemAriaLabel(this.m_active.elem);else{var t=this.element.children("."+this.getEmptyTextStyleClass()).first();t.length>0&&t.removeAttr("tabIndex")}this.SetRootElementTabIndex()},_handleMouseOut:function(t){var e=this.FindItem(t.target);null!=e&&(this.m_hoverItem=null,this._unhighlightElem(e,"oj-hover"))},_handleMouseOver:function(t){if(!(!this._isShowHover()||this._recentTouch()||this.m_dndContext&&this.m_dndContext.isDndInProgress())){var e=this.FindItem(t.target);null==e||this.SkipFocus(e)||(this.m_hoverItem=e,this._highlightElem(e,"oj-hover"))}},_isShowHover:function(){return this._isSelectionEnabled()},_recentTouch:function(){return Date.now()-this._lastTouch<500},HandleKeyDown:function(t){if(this.isExpandable()){var e=t.key||t.keyCode;if("ArrowLeft"===e||"Left"===e||e===this.LEFT_KEY||"ArrowRight"===e||"Right"===e||e===this.RIGHT_KEY){var i=this.m_active.elem;if("ArrowLeft"===e||"Left"===e||e===this.LEFT_KEY){if(this.GetState(i)===this.STATE_EXPANDED)return void this.CollapseItem(i,t,!0,this.m_active.key,!0,!0)}else if(this.GetState(i)===this.STATE_COLLAPSED)return void this.ExpandItem(i,t,!0,this.m_active.key,!0,!0,!0)}}var s=this.HandleSelectionOrActiveKeyDown(t);null!=this.m_dndContext&&(s=s||this.m_dndContext.HandleKeyDown(t)),!0===s&&t.preventDefault(),this.m_keyProcessed=s},HandleKeyUp:function(t){var e=t.key||t.keyCode;"Escape"!==e&&"Esc"!==e&&e!==this.ESC_KEY||!this.m_keyProcessed||t.stopPropagation(),this.m_keyProcessed=void 0},_handleMouseUpOrPanMove:function(t){this.m_preActiveItem&&this._unhighlightElem(this.m_preActiveItem,"oj-focus"),null!=this.m_dndContext&&this.m_dragger&&this.m_dragger.get(0)!==t.target&&(this.m_dndContext._unsetDraggable(this.m_dragger),this.m_dragger=null)},_isNodeFocusable:function(t){var e=this.getItemElementStyleClass();return h.isElementOrAncestorFocusable(t,function(t){return t.classList.contains(e)||t.classList.contains("oj-listview-cell-element")})},HandleMouseDownOrTouchStart:function(t){var e=i(t.target);null!=this.m_dndContext&&(this.m_dndContext._setDraggable(e),this.m_dragger=e);var s=this.FindItem(e);null!=s&&s.length>0&&this._isLegacyClickthroughDisabled(t,s.get(0))&&(this.m_preActive=!0,s=null),null==s||0===s.length||this.SkipFocus(s)||e.hasClass("oj-listview-drag-handle")||(this.m_preActive=!0,this.getListContainer().hasClass("oj-focus-ancestor")||this.getListContainer().addClass("oj-focus-ancestor"),this.m_preActiveItem=s,this._highlightElem(s,"oj-focus"),this._makeFocusable(s),!this.element[0].contains(document.activeElement)||s.get(0).contains(document.activeElement)||this._isNodeFocusable(e[0])||this._focusItem(s),this.RemoveRootElementTabIndex(),null!=this.m_active&&this.m_active.elem.get(0)!==s.get(0)&&this._resetTabIndex(this.m_active.elem),t.originalEvent.touches&&t.originalEvent.touches.length>0&&(this.m_touchPos={x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}))},HandleTouchEndOrCancel:function(t){if(null!=this.m_preActiveItem&&(this._unhighlightElem(this.m_preActiveItem,"oj-focus"),null!=this.m_touchPos)){var e=this.m_preActiveItem.offset(),i=this.getAnimationEffect("pointerUp");i.offsetX=this.m_touchPos.x-e.left+"px",i.offsetY=this.m_touchPos.y-e.top+"px";var s,n=this.m_preActiveItem.children("."+this.getGroupItemStyleClass());s=n.length>0?n.get(0):this.getFocusItem(this.m_preActiveItem).get(0);for(var l=t.target,o=s.querySelectorAll("input, select, button, a, textarea, object, [tabIndex]:not([tabIndex='-1'])"),r=0;r<o.length;r++)if(o[r].contains(l)){s=l;break}this.StartAnimation(s,"pointerUp",i),this.m_touchPos=null}this._lastTouch=Date.now(),this._handleMouseOut(t)},_enterActionableMode:function(){var t=this.m_active.elem;this.disableAllTabbableElements(t),this._enableAllTabbableElements(t),t.find("[data-first]").length>0&&this._setActionableMode(!0)},_exitActionableMode:function(){this._setActionableMode(!1),this.disableAllTabbableElements(this.m_active.elem)},HandleMouseClick:function(t){if(0===t.button){var e=this.getCollapseIconStyleClass(),s=this.getExpandIconStyleClass(),n=i(t.target);if(n.hasClass(s))this._collapse(t),t.preventDefault();else if(n.hasClass(e))this._expand(t),t.preventDefault();else{var l=this.FindItem(n);if(null==l||0===l.length)return;if(this._isLegacyClickthroughDisabled(t,l[0]))return;if(this.SkipFocus(l))return void this._handleHeaderClick(t,n,l);this._isActionableMode()&&null!=this.m_active&&this.m_active.elem.get(0)!==l.get(0)&&this._exitActionableMode(),this.getListContainer().hasClass("oj-focus-ancestor")||this.getListContainer().addClass("oj-focus-ancestor");var o=this._isClickthroughDisabled(t,l);if(!o&&this._isSelectionEnabled()&&this.IsSelectable(l[0])){var r=t.originalEvent.sourceCapabilities&&t.originalEvent.sourceCapabilities.firesTouchEvents;(this._isTouchSupport()&&(r||null!=this.touchStartEvent&&this.touchStartEvent.target===t.target)?this._handleTouchSelection(l,t):this.HandleClickSelection(l,t))||this.HandleClickActive(l,t),this.ShouldUseGridRole()&&t.target===l.get(0)&&this._focusItem(l),this._shouldDragSelectedItems()&&this.m_dndContext.setSelectionDraggable()}else this.HandleClickActive(l,t);if(o||this._fireActionEvent(l.get(0),t),this._isInputElement(n.get(0)))return void this._enterActionableMode();this._handleHeaderClick(t,n,l)}}},_handleHeaderClick:function(t,e,i){var s=this.getGroupItemStyleClass();this.isExpandable()&&e.closest("."+s)&&(this.GetState(i)===this.STATE_COLLAPSED?this._expand(t):this.GetState(i)===this.STATE_EXPANDED&&this._collapse(t))},_fireActionEvent:function(t,e){if(!this._isActionableMode()){var i={context:{key:this.GetKey(t),data:this._getDataForItem(t),metadata:this._getMetadataForItem(t)}};this.Trigger("itemAction",e,i)}},_shouldDragSelectedItems:function(){return null!=this.m_dndContext&&!this.m_dndContext.shouldDragCurrentItem()},_isTouchSupport:function(){return p.isTouchSupported()},_isNonWindowTouch:function(){return this._isTouchSupport()&&e.AgentUtils.getAgentInfo().os!==e.AgentUtils.OS.WINDOWS},_ctrlEquivalent:function(t){return p.isMetaKeyPressed(t)},_createSubId:function(t){return[this.element.attr("id"),t].join(":")},FindItem:function(t){return i(t).hasClass(this.getGroupStyleClass())?null:i(t).closest("."+this.getItemElementStyleClass())},_isLegacyClickthroughDisabled:function(t,e){for(var i=t.target;null!=i&&i!==e;){if(i.classList.contains("oj-clickthrough-disabled"))return!0;i=i.parentNode}return!1},_isClickthroughDisabled:function(t,e){return e.length>0&&h.isEventClickthroughDisabled(t,e.get(0))},getListContainerBorderWidth:function(){return null==this.m_borderWidth&&(this.m_borderWidth=parseInt(this.getListContainer().css("border-top-width"),10)+parseInt(this.getListContainer().css("border-bottom-width"),10)),this.m_borderWidth},scrollToItem:function(t){var e=t.key;if(null!=e){var s=this.FindElementByKey(e);if(null!=s)if(i(s).hasClass(this.getItemStyleClass()))this._scrollToVisible(s);else{var n=i(s).children("."+this.getGroupItemStyleClass()).first();this._scrollToGroupHeader(n.get(0))}}},_scrollToVisible:function(t){var e=0,s=t.offsetTop,n=t.offsetHeight,l=this.getListContainer()[0],o=l.scrollTop,r=l.offsetHeight;if(null!=this.m_groupItemToPin){var a=parseInt(this.m_groupItemToPin.style.top,10),h=i(this.m_groupItemToPin).outerHeight();s<=a&&a<s+n?e=(n+s-a)/2:s>=a&&s<a+h&&(e=(a+h-s)/2)}else if(null!=this.m_closestParent){var c=this.m_closestParent.firstElementChild;c.classList.contains("oj-sticky")&&(e=c.offsetTop+c.offsetHeight-s)}if(s>=o&&s+n<=o+r)e>0&&(l.scrollTop=o-e);else{var u=Math.max(0,Math.min(s-e,Math.abs(s+n-r)));u>o&&(u+=this.getListContainerBorderWidth()),l.scrollTop=u}},GetKey:function(t){return this.m_contentHandler.GetKey(t)},FindElementByKey:function(t){if(null!=this.m_keyElemMap){var e=this.m_keyElemMap.get(t);if(null!=e)return document.getElementById(e)}return this.m_contentHandler?this.m_contentHandler.FindElementByKey(t):null},GetIndexOf:function(t,i){for(var s=0;s<t.length;s++)if(i===t[s]||e.Object.compareValues(i,t[s]))return s;return-1},_isExpandCollapseIcon:function(t){return i(t).hasClass(this.getExpandIconStyleClass())||i(t).hasClass(this.getCollapseIconStyleClass())},_isGridlinesVisible:function(){if(null==this.m_gridlinesVisible){var t=this.GetOption("gridlines");if(null==t)return!0;this.m_gridlinesVisible="hidden"!==t.item}return this.m_gridlinesVisible},_isTopBottomGridlinesVisible:function(){var t=this._getOptionDefaults().gridlines;return t?{top:t.top,bottom:t.bottom}:{top:!0,bottom:!0}},_updateGridlines:function(){var t=this.GetRootElement()[0];this._isGridlinesVisible()?t.classList.remove("oj-listview-gridlines-hidden"):t.classList.add("oj-listview-gridlines-hidden");var e=this._isTopBottomGridlinesVisible();t.classList.remove("gridline-top-hidden"),t.classList.remove("gridline-bottom-hidden"),"hidden"===e.top&&t.classList.add("gridline-top-hidden"),"hidden"===e.bottom&&t.classList.add("gridline-bottom-hidden")},_shouldRenderGridlineForLastItem:function(){if(this.isCardLayout())return!1;var t=this.GetOption("gridlines");if(null!=t){var e=this._isTopBottomGridlinesVisible();if("visible"===t.item&&"hidden"===e.bottom)return!0}return!1},IsArrowKey:function(t){return this.isCardLayout()?"ArrowUp"===t||"Up"===t||t===this.UP_KEY||"ArrowDown"===t||"Down"===t||t===this.DOWN_KEY||"ArrowLeft"===t||"Left"===t||t===this.LEFT_KEY||"ArrowRight"===t||"Right"===t||t===this.RIGHT_KEY:"ArrowUp"===t||"Up"===t||t===this.UP_KEY||"ArrowDown"===t||"Down"===t||t===this.DOWN_KEY},_getItemsCache:function(){if(null==this.m_items){var t=this.getGroupCollapseStyleClass(),e="."+this.getItemElementStyleClass()+":visible";this.m_items=this.element.find(e).filter(function(){if(i(this).parent().hasClass(t))return!i(this).parent().parent().hasClass("oj-collapsed");if("LI"!==this.tagName){var e=this.parentElement;if(e&&e.classList.contains("oj-animate-remove"))return!1}return!0}).map(function(t,e){var i=e.parentElement;return i&&i.classList.contains("oj-animate-add")?i:e})}return this.m_items},_handleLastItemKeyboardFocus:function(t){var e=t.get(0).nextElementSibling;if(null==e||!i(e).hasClass(this.getItemElementStyleClass())){if(this.m_contentHandler.IsHierarchical()&&t.parent().hasClass(this.getGroupStyleClass())&&null!=t.parent().parent().get(0).nextElementSibling)return;var s=this._getScroller(),n=this._getScrollHeight();s.scrollTop<n&&(s.scrollTop=n)}},HandleArrowKeys:function(t,e,s){if(!this.m_contentHandler.IsReady())return!0;var n;n=!e||this.m_isNavigate?this.m_active.elem:this.m_selectionFrontier;var l=!1;switch(t){case this.UP_KEY:case"Up":case"ArrowUp":this.isCardLayout()&&i(n).hasClass(this.getItemStyleClass())?this._gotoItemAbove(n,e,s):this._gotoPrevItem(n,e,s),l=!0;break;case this.DOWN_KEY:case"Down":case"ArrowDown":this.isCardLayout()&&i(n).hasClass(this.getItemStyleClass())?this._gotoItemBelow(n,e,s):this._gotoNextItem(n,e,s),l=!0;break;case this.LEFT_KEY:case"Left":case"ArrowLeft":case this.RIGHT_KEY:case"Right":case"ArrowRight":this.isCardLayout()&&("rtl"===this.ojContext._GetReadingDirection()&&(t="ArrowLeft"===t||"Left"===t||t===this.LEFT_KEY?"ArrowRight":"ArrowLeft"),"ArrowLeft"===t||"Left"===t||t===this.LEFT_KEY?this._gotoPrevItem(n,e,s):this._gotoNextItem(n,e,s),l=!0)}return l},_gotoNextItem:function(t,e,s){var n=this._getItemsCache(),l=n.index(t)+1;if(l<n.length){for(var o=i(n[l]);this.SkipFocus(o);){if((l+=1)===n.length)return;o=i(n[l])}e?(this._extendSelection(o,s),this.m_isNavigate=!1):(this.SetCurrentItem(o,s),this.m_isNavigate=!0),this._handleLastItemKeyboardFocus(o)}},_gotoPrevItem:function(t,e,s){var n=this._getItemsCache(),l=n.index(t)-1;if(l>=0){for(var o=i(n[l]);this.SkipFocus(o);){if((l-=1)<0)return;o=i(n[l])}e?(this._extendSelection(o,s),this.m_isNavigate=!1):(this.SetCurrentItem(o,s),this.m_isNavigate=!0)}},_getColumnCount:function(t){var e,i;return t.each(function(t){var s=this.offsetTop;if(void 0===i)i=s;else if(i!==s)return!1;e=t}),e+1},_updateSkipItemAriaLabel:function(t,e){var s=this._createSubId("extra_info");if(null==this.m_skipAriaLabelText){var n=i(document.createElement("div"));n.addClass("oj-helper-hidden-accessible").attr("id",s),this.getListContainer().append(n),this.m_skipAriaLabelText=n}this.m_skipAriaLabelText.text(this.ojContext.getTranslatedString("accessibleNavigateSkipItems",{numSkip:e}));var l=this.getFocusItem(t);l.uniqueId().attr("aria-labelledby",s+" "+l.prop("id"))},_removeSkipItemAriaLabel:function(t){var e=this.getFocusItem(t);e.length>0&&e.get(0).removeAttribute("aria-labelledby")},_gotoItemAbove:function(t,e,s){var n,l;if(t.hasClass(this.getItemElementStyleClass())){var o=t.parent(),r=o.children("li."+this.getItemElementStyleClass()),a=this._getColumnCount(r),h=r.index(t),c=h-a;if(c<0?o.hasClass(this.getGroupStyleClass())&&o.parent().hasClass(this.getItemElementStyleClass())&&(n=o.parent(),l=h):(n=i(r.get(c)),l=a-1),n&&n.length>0){if(this.SkipFocus(n))return;e?(this._extendSelection(n,s),this.m_isNavigate=!1):(null!=l&&l>0&&this._updateSkipItemAriaLabel(n,l),this.SetCurrentItem(n,s),this.m_isNavigate=!0)}}else this._gotoPrevItem(t)},_gotoItemBelow:function(t,e,s){var n,l;if(t.hasClass(this.getItemElementStyleClass())){var o=t.parent(),r=o.children("li."+this.getItemElementStyleClass()),a=this._getColumnCount(r),h=r.index(t),c=h+a;if(c>=r.length){var u=Math.ceil(r.length/a);l=r.length-1-h,h<Math.max(0,(u-1)*a)?(n=r.last(),l-=1):o.hasClass(this.getGroupStyleClass())&&(n=o.parent().next("li."+this.getItemElementStyleClass()))}else n=i(r.get(c)),l=a-1;if(n.length>0){if(this.SkipFocus(n))return;e?(this._extendSelection(n,s),this.m_isNavigate=!1):(null!=l&&l>0&&this._updateSkipItemAriaLabel(n,l),this.SetCurrentItem(n,s),this.m_isNavigate=!0),this._handleLastItemKeyboardFocus(n)}}else this._gotoNextItem(t)},_isActionableMode:function(){return"actionable"===this.m_keyMode},_setActionableMode:function(t,e){this.m_keyMode=t?"actionable":"navigation",t||e||this.element[0].focus()},getFocusItem:function(t){if(!t.hasClass(this.getFocusedElementStyleClass()))return i(t.find("."+this.getFocusedElementStyleClass()).first());if(this.ShouldUseGridRole()&&"row"===t.attr("role")){var e=t.children(".oj-listview-cell-element").first();return 0===e.length?t.children().first():e}return t},SetRootElementTabIndex:function(){this._isComponentFocusable()&&this.element.attr("tabIndex",0)},RemoveRootElementTabIndex:function(){this.element.removeAttr("tabIndex")},_isComponentFocusable:function(){var t=this.ojContext._IsCustomElement()?this.GetRootElement():this.element;return this._rootTabIndexSet||-1!==parseInt(t.attr("tabIndex"),10)},_setTabIndex:function(t){this._isComponentFocusable()&&this.getFocusItem(t).attr("tabIndex",0)},_resetTabIndex:function(t){var e=!0;"presentation"===t.attr("role")&&(e=!1);var i=this.getFocusItem(t);e?i.removeAttr("tabIndex"):i.attr("tabIndex",-1)},_makeFocusable:function(t){this._setTabIndex(t)},getSingleFocusableElement:function(t){var e="a, input, select, textarea, button",i=t.children(e);return 1===i.length&&0===i.first().find(e).length?i.first():t},_setCurrentItemOption:function(t,e,s){var n={item:this.ojContext._IsCustomElement()?s:i(s)};this.SetOption("currentItem",t,{_context:{originalEvent:e,internalSet:!0,extraData:n},changed:!0})},_setActive:function(t,e,i){var s;if(null!=t){var n=t[0],l=this.GetKey(n);if(null==this.m_active||l!==this.m_active.key){var o={key:l,item:t};return null!=this.m_active&&(o.previousKey=this.m_active.key,o.previousItem=this.m_active.elem,this._shouldDragSelectedItems()&&this._isTouchSupport()&&this.m_dndContext._unsetDraggable(o.previousItem),this._removeSkipItemAriaLabel(o.previousItem)),!!this.Trigger("beforeCurrentItem",e,o)&&(null!=this.m_active&&this.m_active.elem&&this.m_active.elem.get(0).classList.remove("oj-listview-current-item"),s={key:l,elem:t},this.m_active=s,this._shouldDragSelectedItems()&&this._isTouchSupport()&&this.m_dndContext._setDraggable(t),t.get(0).classList.add("oj-listview-current-item"),void 0!==i&&i||(this._makeFocusable(t),this.HighlightActive(),(null==e||e.originalEvent&&"click"!==e.originalEvent.type)&&this._focusItem(t),this.RemoveRootElementTabIndex(),o.previousItem&&this._resetTabIndex(o.previousItem)),!0)}l===this.m_active.key&&(s={key:l,elem:t},this.m_active=s,void 0!==i&&i||(this._makeFocusable(t),this.RemoveRootElementTabIndex()))}else this.m_active=null;return!1},_focusItem:function(t){var e=this.getFocusItem(t).get(0);e&&e.focus()},HighlightActive:function(){if(null!=this.m_active&&this.getListContainer().hasClass("oj-focus-ancestor")){var t=this.m_active.elem;this._highlightElem(t,"oj-focus")}},UnhighlightActive:function(){null!=this.m_active&&this._unhighlightElem(this.m_active.elem,"oj-focus")},HandleClickActive:function(t,e){var s=null!=this.m_active?this.m_active.elem.get(0):null;null==s||i(s).hasClass(this.getItemStyleClass())||(s=s.firstElementChild),null!=e&&null!=s&&s!==e.target&&s.contains(e.target)||this.SetCurrentItem(t,e,!this.ShouldUseGridRole()||e.target!==t.get(0))},SetCurrentItem:function(t,e,i){this.ActiveAndFocus(t,e,i)&&this._setCurrentItemOption(this.GetKey(t[0]),e,t.get(0))},ActiveAndFocus:function(t,e,i){this._scrollToVisible(t[0]),this.UnhighlightActive();var s=this._setActive(t,e,i);return this.HighlightActive(),s},enforceSelectionRequired:function(){if(this._isSelectionEnabled()&&this._isSelectionRequired()){var t=this.GetOption("selection");(null==t||0===t.length&&!0!==t.inverted)&&this._selectFirstSelectableItem()}},_getFirstSelectableItem:function(){var t=this.element[0].querySelector(".oj-listview-cell-element[aria-selected]");return null==t?null:t.parentNode},_selectFirstSelectableItem:function(){var t=this._getFirstSelectableItem();if(t){var e=this.m_contentHandler.GetKey(t);if(null!=e){this._applySelection(t,e);var i=this.GetOption("selected");this._setSelectionOption(i.clear().add([e]),null,[t])}}},_isSelectionEnabled:function(){return"none"!==this.GetOption("selectionMode")},_isSelectionRequired:function(){return this.GetOption("selectionRequired")},_isMultipleSelection:function(){return"multiple"===this.GetOption("selectionMode")},IsSelectable:function(t){return this.getFocusItem(i(t)).get(0).hasAttribute("aria-selected")},_cloneSelection:function(t){var e=[];return t.forEach(function(t){e.push(t)}),e},_getLocalData:function(t){var e=this.getDataForVisibleItem({key:t});return null==e&&this.m_validatedSelectedKeyData&&(e=this.m_validatedSelectedKeyData.get(t)),e},_setSelectionOption:function(t,s,n,l){var o={key:null,data:null},r=d.KeySetUtils.toArray(t),a=this.GetOption("firstSelectedItem");null!=a&&(0===r.length&&null!=a.key||r[0]!==a.key&&!e.Object.compareValues(r[0],a.key)?(r.length>0&&(o={key:r[0],data:null!=l?l:this._getLocalData(r[0])}),this.SetOption("firstSelectedItem",o,{_context:{originalEvent:s,internalSet:!0},changed:!0})):void 0===a.data&&(null==l&&(l=this._getLocalData(r[0])),o={key:a.key,data:l},this.SetOption("firstSelectedItem",o,{_context:{originalEvent:null,internalSet:!0},changed:!0})));var h={items:this.ojContext._IsCustomElement()?n:i(null==n?{}:n)};this.SetOption("selected",t,{_context:{originalEvent:s,internalSet:!0,extraData:h},changed:!0}),this.SetOption("selection",r,{_context:{originalEvent:s,internalSet:!0,extraData:h},changed:!0})},_unhighlightSelection:function(){if(null!=this.m_keyElemMap){var t=this,e=this.GetOption("selected");if(e.isAddAll())for(var i=this._getItemsCache(),s=0;s<i.length;s++)t._unhighlightElem(i[s],"oj-selected");else e.values().forEach(function(e){var i=t.FindElementByKey(e);null!=i&&t._unhighlightElem(i,"oj-selected")})}},_highlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!0)},_unhighlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!1)},HighlightUnhighlightElem:function(t,e,s){var n=i(t);"oj-selected"===e&&this.getFocusItem(n).attr("aria-selected",s?"true":"false");var l=n.children("."+this.getGroupItemStyleClass());l.length>0&&(n=i(l[0])),"oj-focus"===e?s?"actionable"!==this.m_keyMode&&this._focusInHandler(n):this._focusOutHandler(n):s?n.addClass(e):n.removeClass(e)},HandleClickSelection:function(t,e){this._scrollToVisible(t[0]);var i=this._ctrlEquivalent(e),s=e.shiftKey,n=!0;return this._isMultipleSelection()&&(i||s)?!i&&s?n=this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):n=this.SelectAndFocus(t,e),n},_handleTouchSelection:function(t,e){var i=!0;return this._isMultipleSelection()?e.shiftKey?i=this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):i=this.SelectAndFocus(t,e),i},_clearSelection:function(t,e){if(this._unhighlightSelection(),t)if(this._isSelectionRequired())this._selectFirstSelectableItem();else{var i=this.GetOption("selected");i=i.clear(),this._setSelectionOption(i,null,null)}this.m_selectionFrontier=void 0===e?null:e},SelectAndFocus:function(t,e){var i=this.GetKey(t[0]),s=this.GetOption("selected"),n=s.has(i);return!(n&&s.values&&1===s.values().size&&this._isSelectionRequired())&&(this._clearSelection(n),n||this._augmentSelectionAndFocus(t,e,s.clear()),!0)},_extendSelection:function(t,e){return null!=this.m_active&&(this.m_selectionFrontier!==t&&(this._unhighlightElem(t,"oj-focus"),this._extendSelectionRange(this.m_active.elem,t,e),!0))},_extendSelectionRange:function(t,e,i,s){!0===s?this._clearSelection(!1,this.m_selectionFrontier):this._clearSelection(!1,e),this._highlightRange(t,e,i),this.HighlightActive(),this._scrollToVisible(e[0])},_highlightRange:function(t,e,i){var s,n,l=this.GetOption("selected").clear(),o=[],r=this._getItemsCache(),a=r.index(t),h=r.index(e);a>h?(s=h,n=a):(s=a,n=h);for(var c=s;c<=n;c++){var u=r[c];if(this.IsSelectable(u)){var d=this.m_contentHandler.GetKey(u);this._applySelection(u,d),l=l.add([d]),o.push(u)}}this._setSelectionOption(l,i,o)},_applySelection:function(t,e){null==this.m_keyElemMap&&(this.m_keyElemMap=this.m_contentHandler.createKeyMap()),this.m_keyElemMap.set(e,i(t).attr("id")),this._highlightElem(t,"oj-selected")},_augmentSelectionAndFocus:function(t,e,s){var n=t,l=this.GetKey(t[0]);null==s&&(s=this.GetOption("selected"));var o=null!=this.m_active?this.m_active.elem.get(0):null;(null==o||i(o).hasClass(this.getItemStyleClass())||(o=o.firstElementChild),null==e||null!=o&&o!==e.target&&o.contains(e.target))||(this.UnhighlightActive(),this._setActive(n,e)&&this._setCurrentItemOption(l,e,n.get(0)),this.HighlightActive());if(null!=(o=null!=this.m_active?this.m_active.elem.get(0):null)&&o===n.get(0)){if(s.has(l)){if(s.values&&1===s.values().size&&this._isSelectionRequired())return;this._unhighlightElem(t,"oj-selected"),s=s.delete([l])}else this.m_selectionFrontier=t,this._applySelection(t,l),s=s.add([l]);var r=[];s.values&&s.values().forEach(function(t){r.push(this.FindElementByKey(t))},this),this._setSelectionOption(s,e,r)}else null!=s&&0===s.values().size&&this._setSelectionOption(s,e,[])},ToggleSelection:function(t,e,i){var s=this.GetOption("selected"),n=this.m_active.elem,l=this.m_active.key;if(s.has(l)){if(i||1===s.values().size&&this._isSelectionRequired())return;this._unhighlightElem(n,"oj-selected"),0===(s=s.delete([l])).values().size&&(this.m_selectionFrontier=null)}else this.IsSelectable(n[0])&&(e||(this._clearSelection(!1),s=s.clear()),this.m_selectionFrontier=n,this._applySelection(n,l),s=s.add([l]));var o=[];s.values().forEach(function(t){o.push(this.FindElementByKey(t))},this),this._setSelectionOption(s,t,o)},_isInputElement:function(t){return null!=t.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)&&!t.readOnly},HandleSelectionOrActiveKeyDown:function(t){var e,s,n,l=!1;if(null==this.m_active||t.isDefaultPrevented())return!1;var o=t.key||t.keyCode,r=this.m_active.elem;if(this._isActionableMode()){if("Escape"===o||"Esc"===o||o===this.ESC_KEY)this._exitActionableMode(),this.HighlightActive(),this._focusItem(r),this._setTabIndex(r),l=!0;else if("Tab"===o||o===this.TAB_KEY){var a=this.getFocusItem(r).get(0);if(l=t.shiftKey?h.handleActionablePrevTab(t,a):h.handleActionableTab(t,a),!t.shiftKey&&l||t.shiftKey&&!l){var c=h.getFocusableElementsInNode(a)[0];c&&this._isExpandCollapseIcon(c)&&this._focusInHandler(i(c))}}}else"F2"===o||o===this.F2_KEY?(this._enterActionableMode(),(n=r.find("[data-first]")).length>0&&(n[0].focus(),this._isExpandCollapseIcon(n)&&this._focusInHandler(n),r.hasClass(this.getItemStyleClass())||(r=r.children("."+this.getGroupItemStyleClass()).first()),r.removeClass("oj-focus-highlight"))):" "!==o&&"Spacebar"!==o&&o!==this.SPACE_KEY||!this._isSelectionEnabled()?"Enter"===o||o===this.ENTER_KEY?(this._isSelectionEnabled()&&this.ToggleSelection(t,!1,!0),this._fireActionEvent(r.get(0),t)):this.IsArrowKey(o)?(e=this._ctrlEquivalent(t),s=t.shiftKey,e||(l=this.HandleArrowKeys(o,s&&this._isSelectionEnabled()&&this._isMultipleSelection(),t))):"Tab"!==o&&o!==this.TAB_KEY||(t.shiftKey?this._disableAllTabbableElementsBeforeItem(r):this._disableAllTabbableElementsAfterItem(r)):(e=this._ctrlEquivalent(t),(s=t.shiftKey)&&!e&&null!=this.m_selectionFrontier&&this._isMultipleSelection()?this._extendSelectionRange(this.m_selectionFrontier,this.m_active.elem,t,!0):this.ToggleSelection(t,e&&!s&&this._isMultipleSelection(),!1),l=!0);return l},_isDisclosing:function(t){return!(!t||!this.m_disclosing)&&this.m_disclosing.indexOf(t)>-1},_setDisclosing:function(t,e){if(null!=t)if(null==this.m_disclosing&&(this.m_disclosing=[]),e)this.m_disclosing.push(t);else for(var i=this.m_disclosing.indexOf(t);i>-1;)this.m_disclosing.splice(i,1),i=this.m_disclosing.indexOf(t)},_getOptionDefaults:function(){return null==this.defaultOptions&&(this.defaultOptions=this.getStyleValues()),null==this.defaultOptions?(u.error("Cannot find oj-list-view option defaults, which might be caused by missing JET css file"),{}):this.defaultOptions},getAnimationEffect:function(t){var e=this._getOptionDefaults().animation;return null==e?null:e[t]},isExpandable:function(){return"none"!==this.GetOption("drillMode")},_isExpandAll:function(t){var e=this.GetOption("expanded");if("auto"===e){if(!this.isExpandable())return!0}else if("all"===e)return!0;return!!e.isAddAll&&(!this.isExpandable()&&e instanceof E||e.isAddAll()&&e.has(t))},expandKey:function(t,e,s,n,l){var o=this.FindElementByKey(t);null!=o&&this.ExpandItem(i(o),null,l,t,e,n,s)},_expand:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&this.ExpandItem(e,t,!0,null,!0,!0,!0)},ExpandItem:function(t,e,i,s,n,l,o){if(this.GetState(t)===this.STATE_COLLAPSED&&(null==s&&(s=this.GetKey(t[0])),!i||!this._isDisclosing(s))){var r={item:t,key:s};if(o)if(!this.Trigger("beforeExpand",e,r)&&n)return;if(this.signalTaskStart("Expand item: "+s),i&&this._setDisclosing(s,!0),this.m_contentHandler.Expand(t,function(t){this._expandSuccess(t,i,e,r,l)}.bind(this)),this.m_items=null,null!=e&&e.stopPropagation(),!this.ojContext._IsCustomElement()&&null!=this._collapsedKeys){var a=this._collapsedKeys.indexOf(s);-1!==a&&this._collapsedKeys.splice(a,1)}this.signalTaskEnd()}},_expandSuccess:function(t,e,s,n,l){var o=this;this.signalTaskStart("Handle results from successful expand"),t.key=n.key;var r=this.AnimateExpand(i(t),e,s),a=t.parentNode;a=i(a),this.SetState(a,this.STATE_EXPANDED);var h=this.getCollapseIconStyleClass(),c=this.getExpandIconStyleClass(),u=this.getExpandingIconStyleClass(),d=this.getGroupItemStyleClass();a.children("."+d).find("."+h+", ."+u).removeClass(h).removeClass(u).addClass(c),l&&r.then(function(){if(o.ojContext._IsCustomElement()){var e=o.GetOption("expanded");if(o._isKeySet(e)&&!e.has(t.key)){var i=e.add([t.key]);o.SetOption("expanded",i,{_context:{originalEvent:s,internalSet:!0},changed:!0})}}o.Trigger("expand",s,n)}),r.then(function(){o.m_clientHeight=null,o.m_scrollHeight=null,o.signalTaskEnd()})},_adjustAncestorsMaxHeight:function(t,e){t.parentsUntil("ul.oj-component-initnode","ul."+this.getGroupStyleClass()).each(function(){var t=parseInt(i(this).css("maxHeight"),10);t>0&&i(this).css("maxHeight",t+e+"px")})},AnimateExpand:function(t,e,s){var n,o=0,r=this,a=new Promise(function(t){n=t});if(e){var h=t.get(0);h.setAttribute("data-oj-context",""),l.getContext(h).getBusyContext().whenReady().then(function(){r.isAvailable()&&(h.removeAttribute("data-oj-context"),r.signalTaskStart("Animate expand of group item"),t.css("maxHeight","100%"),t.children().each(function(){o+=i(this).outerHeight(!0)}),r._isNonWindowTouch()&&r._adjustAncestorsMaxHeight(t,o),t.css("maxHeight",o+"px"),r.signalTaskStart("Kick off expand animation"),r.StartAnimation(h,"expand").then(function(){r._handleExpandTransitionEnd(t,n)}),r.signalTaskEnd())})}else t.css("maxHeight",""),this.AnimateExpandComplete(t),n(null);return a},_handleExpandTransitionEnd:function(t,e){this._isNonWindowTouch()||t.css("maxHeight",""),this.AnimateExpandComplete(t),e(null),this.signalTaskEnd()},AnimateExpandComplete:function(t){t.removeClass(this.getGroupCollapseStyleClass()).addClass(this.getGroupExpandStyleClass()),this._setDisclosing(t[0].key,!1)},collapseKey:function(t,e,s,n){var l=this.FindElementByKey(t);null!=l&&this.CollapseItem(i(l),null,n,t,e,s)},_collapse:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&this.CollapseItem(e,t,!0,null,!0,!0)},CollapseItem:function(t,e,i,s,n,l){var o=this;if(this.GetState(t)===this.STATE_EXPANDED&&(null==s&&(s=this.GetKey(t[0])),!i||!this._isDisclosing(s))){var r={item:t,key:s};if(!!this.Trigger("beforeCollapse",e,r)||!n){this.signalTaskStart("Collapse item: "+s),i&&this._setDisclosing(s,!0);var a=this.AnimateCollapse(t,s,i,e);this.SetState(t,this.STATE_COLLAPSED);var h=this.getCollapseIconStyleClass(),c=this.getExpandIconStyleClass();t.find("."+c).first().removeClass(c).addClass(h),this.m_items=null,null!=e&&e.stopPropagation(),l&&a.then(function(){if(null!=e&&o.ojContext._IsCustomElement()){var t=o.GetOption("expanded");if(o._isKeySet(t)){var i=t.delete([s]);o.SetOption("expanded",i,{_context:{originalEvent:e,internalSet:!0},changed:!0})}}o.Trigger("collapse",e,r)}),this.ojContext._IsCustomElement()||(null==this._collapsedKeys&&(this._collapsedKeys=[]),-1===this._collapsedKeys.indexOf(s)&&this._collapsedKeys.push(s)),a.then(function(){o.m_clientHeight=null,o.m_scrollHeight=null,o.signalTaskEnd()})}}},AnimateCollapse:function(t,e,s,n){var l,o=0,r=this,a=new Promise(function(t){l=t}),h=t.children("ul").first();if(h[0].key=e,s){this.signalTaskStart("Animate collapse"),h.children().each(function(){o+=i(this).outerHeight()}),h.css("maxHeight",o+"px");var c=this.getAnimationEffect("collapse");c.persist="all",this.signalTaskStart("Kick off collapse animation");var u=h.get(0);this.StartAnimation(u,"collapse",c).then(function(){r._handleCollapseTransitionEnd(h,l)}),this.signalTaskEnd()}else h.css("maxHeight","0px"),this.AnimateCollapseComplete(h),l(null);return a},_handleCollapseTransitionEnd:function(t,e){this.AnimateCollapseComplete(t),e(null),this.signalTaskEnd()},AnimateCollapseComplete:function(t){t.removeClass(this.getGroupExpandStyleClass()).addClass(this.getGroupCollapseStyleClass()),null!=this.m_contentHandler&&this.m_contentHandler.Collapse(t),this._setDisclosing(t[0].key,!1)},getExpanded:function(){var t=[],e=this;return this._getItemsCache().each(function(){var s=i(this);e.GetState(s)===e.STATE_EXPANDED&&t.push(e.GetKey(s[0]))}),t},getWidgetConstructor:function(){return a.__GetWidgetConstructor(this.element)},GetContainerStyleClass:function(){return this._isNonWindowTouch()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},GetStyleClass:function(){return"oj-listview-element"},getItemStyleClass:function(){return this.isCardDisplayMode()?"oj-listview-card":"oj-listview-item"},getItemLayoutStyleClass:function(){return this.isCardLayout()?null:"oj-listview-item-layout"},getFocusedElementStyleClass:function(){return"oj-listview-focused-element"},getItemElementStyleClass:function(){return"oj-listview-item-element"},getGroupItemStyleClass:function(t){return t&&this._isPinGroupHeader()&&this._isPositionStickySupported()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},getGroupStyleClass:function(){return this.isCardDisplayMode()?"oj-listview-card-group":"oj-listview-group"},getGroupExpandStyleClass:function(){return""},getGroupCollapseStyleClass:function(){return this.getGroupExpandStyleClass()},getCollapseIconStyleClass:function(){return"oj-listview-collapse-icon"},getExpandIconStyleClass:function(){return"oj-listview-expand-icon"},getExpandingIconStyleClass:function(){return"oj-listview-expanding-icon"},getEmptyTextStyleClass:function(){return"oj-listview-no-data-message"},getEmptyTextMarkerClass:function(){return"oj-listview-empty-text"},getDepthStyleClass:function(t){return""},getStyleValues:function(){const t={};return Object.entries(I._CSS_Vars).forEach(([e,i])=>{t[e]="animation"===e||"gridlines"===e?I.getComplexCSSVariable(i):r.getCachedCSSVarValues([i])[0]}),t},getLoadingStatusIconStyleClass:function(){return"oj-listview-loading-icon"},getStatusMessageStyleClass:function(){return"oj-listview-status-message"},getStatusStyleClass:function(){return"oj-listview-status"},_isPositionStickySupported:function(){var t=e.AgentUtils.getAgentInfo().browser;return t!==e.AgentUtils.BROWSER.IE&&t!==e.AgentUtils.BROWSER.EDGE},_preventMouseWheelOverscroll:function(t,e){var i=e.originalEvent.deltaY;if(!isNaN(i)&&void 0!==this.m_contentHandler.hasMoreToFetch){var s=t.scrollTop;if(i>0){var n=this._getScrollHeight();this.m_contentHandler.hasMoreToFetch()&&s+this._getClientHeight()+Math.abs(i)>=n&&(t.scrollTop=n,e.preventDefault())}else s>0&&s+i<=0&&(t.scrollTop=0,e.preventDefault())}},_getScrollEventElement:function(){var t=this._getScroller();return t===document.body||t===document.documentElement?window:t},_findClosestElementToTop:function(t,e,s){var n,l=e?this._getItemsCache():i(this._getRootNodeForItems()).children("li."+this.getItemElementStyleClass());if(null==l||0===l.length)return null;var o=this.GetOption("scrollPosition");if(Math.abs(o.y-t)<this.MINIMUM_ITEM_HEIGHT&&null!=o.key&&!isNaN(o.index))if(e){var r=this.FindElementByKey(o.key);null!=r&&(n=l.index(r))}else n=o.index;isNaN(n)&&(n=Math.floor(t/s)),n=Math.min(Math.max(n,0),l.length-1);var a,h=Math.max(t,0),c=l[n],u=h-(a=0===n?0:c.offsetTop),d={index:n,elem:c,offsetTop:a,offset:u};if(Math.abs(u)<1)return d;var m=u>0;m?n+=1:n-=1;for(var p=!1;!p&&n>=0&&n<l.length;){if(a=(c=l[n]).offsetTop,p=(u=Math.abs(h-a))<1||(m?h<=a:h>=a)){(u<1||!m)&&(d={index:n,elem:c,offsetTop:a,offset:u});break}m&&d.offsetTop===a||(d={index:n,elem:c,offsetTop:a,offset:u}),m?n+=1:n-=1}return p||(n=m?l.length-1:0,d.index=n,d.elem=l[n]),d},_getRootNodeForItems:function(){return this.isCardLayout()?this.element.get(0).firstElementChild.firstElementChild:this.element.get(0)},_getItemHeight:function(){var t;null==this.m_itemHeight&&(this.m_contentHandler.IsHierarchical()?(t=this.element.children("li."+this.getItemElementStyleClass()).first()).length>0&&(this.m_itemHeight=t.get(0).firstElementChild.offsetHeight):(t=i(this._getRootNodeForItems()).children("li."+this.getItemElementStyleClass()).first()).length>0&&(this.m_itemHeight=t.get(0).offsetHeight));return this.m_itemHeight},_getCurrentScrollPosition:function(t){var e={},s=this._getScroller();void 0===t&&(t=s.scrollTop),e.x=this._getScrollX(s),e.y=t;var n=this.m_contentHandler.IsHierarchical(),l=this._getItemHeight();if(!isNaN(l)&&l>0){var o=this._findClosestElementToTop(t,n,l);if(null!=o){var r=o.elem;if(n){var a,h=r.parentNode;h!==this.element.get(0)?(this.m_closestParent=h.parentNode,e.parent=this.GetKey(this.m_closestParent),a=this.m_closestParent.firstElementChild):a=o.elem.firstElementChild,e.key=this.GetKey(o.elem),e.index=i(h).children().index(r),a&&a.classList.contains("oj-sticky")&&(this.m_stuckHeader&&this.m_stuckHeader!==a&&this.m_stuckHeader.classList.remove("oj-stuck"),a.classList.add("oj-stuck"),this.m_stuckHeader=a)}else e.index=o.index,e.key=this.GetKey(o.elem);e.offsetY=o.offset,e.offsetX=e.x}}return e},_getOffsetTop:function(t){var e=t.offsetTop;if(this.isCardLayout()&&this.m_contentHandler.getMargin){var i=this.m_contentHandler.getMargin();isNaN(i)||(e=Math.max(0,e-i))}var s=this.element.get(0).offsetTop;return isNaN(this.m_elementOffset)||this.m_elementOffset===s?e:Math.max(0,e-s)},_getScrollTopByIndex:function(t,e){var s;if(null!=e)null!=(s=this.FindElementByKey(e))&&(s=i(s).children("ul").first());else{if(0===t)return 0;s=this.element.get(0),this.isCardLayout()&&(s=s.firstElementChild.firstElementChild)}if(null!=s){var n=i(s).children("."+this.getItemElementStyleClass())[t];if(null!=n)return this._getOffsetTop(n)}if(this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch())return this._getScrollHeight()},_getScrollTopByKey:function(t){var e=this.FindElementByKey(t);return null!=e?this._getOffsetTop(e):this.m_contentHandler.hasMoreToFetch&&this.m_contentHandler.hasMoreToFetch()?this._getScrollHeight():void 0},_getScrollCoordinates:function(t){var e,i=t.x,s=t.offsetX;isNaN(i)||isNaN(s)||(i+=s);var n=t.key;isNaN(e)&&null!=n&&(e=this._getScrollTopByKey(n));var l=t.parent,o=t.index;isNaN(e)&&!isNaN(o)&&(e=this._getScrollTopByIndex(o,l));var r=t.offsetY;return isNaN(e)||isNaN(r)||(e+=r),isNaN(e)&&!isNaN(t.y)&&(e=t.y),{x:i,y:e}},_isEmpty:function(){var t=this.element[0],e=t.querySelector("li."+this.getItemElementStyleClass()),i=t.querySelector("li.oj-listview-temp-item");return null==e&&null==i},_handleScroll:function(t){if(null!=this.m_contentHandler&&this.ShouldUseGridRole()&&!this._isEmpty()){var e=this._getScroller().scrollTop;this.ojContext._IsCustomElement()||this.SetOption("scrollTop",e,{_context:{originalEvent:t,internalSet:!0}}),this.ShouldUpdateScrollPosition()&&this.SetOption("scrollPosition",this._getCurrentScrollPosition(e),{_context:{originalEvent:t,internalSet:!0}}),this._handlePinGroupHeader()}},isLoadMoreOnScroll:function(){var t=this.GetOption("scrollPolicy");if("auto"===t){var i=this.GetOption("data");if(null!=i&&(void 0!==e.TableDataSource&&i instanceof e.TableDataSource||void 0!==e.TreeDataSource&&i instanceof e.TreeDataSource))return!1}return"loadAll"!==t},_unregisterScrollHandler:function(){var t=i(this._getScrollEventElement());return this._scrollListener&&t[0].removeEventListener("scroll",this._scrollListener),this.ojContext._IsCustomElement()?(t[0].removeEventListener("wheel",this._wheelListener,{passive:!1}),delete this._wheelListener):this.ojContext._off(t,"wheel"),t},_registerScrollHandler:function(){var t=this,e=this._unregisterScrollHandler();this._scrollListener=function(e){t._skipScrollUpdate||t.m_ticking||(window.requestAnimationFrame(function(){t._handleScroll(e),t.m_ticking=!1}),t.m_ticking=!0),u.info("scroll listener: "+t._skipScrollUpdate),t._skipScrollUpdate&&(u.info("clearing scrollPosBusyState"),t._clearScrollPosBusyState()),t._skipScrollUpdate=!1},e[0].addEventListener("scroll",this._scrollListener),this.isLoadMoreOnScroll()&&(this._wheelListener=function(e){e.originalEvent||(e.originalEvent=e),t._preventMouseWheelOverscroll(t._getScroller(),e)},this._scrollElem=e,this.ojContext._IsCustomElement()?this._scrollElem[0].addEventListener("wheel",this._wheelListener,{passive:!1}):this.ojContext._on(this._scrollElem,{wheel:this._wheelListener}))},mergeScrollListener:function(){this._scrollListener&&this._getScrollEventElement().removeEventListener("scroll",this._scrollListener);return this._scrollListener},unmergeScrollListener:function(){if(this._scrollListener){var t=this._getScrollEventElement();t.removeEventListener("scroll",this._scrollListener),t.addEventListener("scroll",this._scrollListener)}},_isPinGroupHeader:function(){return"static"!==this.GetOption("groupHeaderPosition")&&this.m_contentHandler.IsHierarchical()},_getGroupItemsCache:function(){if(null==this.m_groupItems){var t="."+this.getGroupItemStyleClass()+":visible";this.m_groupItems=this.element.find(t).filter(function(){return!i(this).parent().hasClass("oj-collapsed")&&i(this).next().children().length>0})}return this.m_groupItems},_unpinGroupItem:function(t){i(t).removeClass("oj-pinned"),t.style.top="auto",t.style.width="auto"},_getNextGroupItem:function(t){var e=this._getGroupItemsCache(),i=e.index(t);return i>-1&&i<e.length-1?e[i+1]:null},_pinGroupItem:function(t,e){var s=t.offsetWidth,n=t.offsetHeight,l=this._getNextGroupItem(t);null!=l&&l.offsetTop<=e+n+5&&(e-=n),i(t).addClass("oj-pinned"),t.style.top=e+"px",t.style.width=s+"px"},_handlePinGroupHeader:function(){var t;if(this._isPinGroupHeader()&&!this._isPositionStickySupported()){var e=this._getScroller().scrollTop;if(null!=this.m_groupItemToPin&&0===e)return this._unpinGroupItem(this.m_groupItemToPin),void(this.m_groupItemToPin=null);var i=this._getGroupItemsCache(),s=0;null!=this.m_groupItemToPin&&(s=this.m_groupItemToPin.offsetHeight);for(var n=0;n<i.length;n++){var l=i[n];if(this.m_groupItemToPin!==l){var o=i[n].offsetTop,r=o+l.parentNode.offsetHeight;if(o<e&&r>e+s){t=l;break}}}if(null!=t&&t!==this.m_groupItemToPin)null!=this.m_groupItemToPin&&this._unpinGroupItem(this.m_groupItemToPin),this._pinGroupItem(t,e),this.m_groupItemToPin=t;else if(null!=this.m_groupItemToPin){var a=this._getNextGroupItem(this.m_groupItemToPin);if(null!=a&&a.offsetTop<=e+s)return void(this.m_groupItemToPin.style.top=a.offsetTop-s+"px");this.m_groupItemToPin.style.top=e+"px"}}},_getScroller:function(){if(null!=this.m_scroller)return this.m_scroller;var t,e=this.GetOption("scrollPolicyOptions");return null!=e&&null!=(t=e.scroller)&&("string"==typeof t&&null==(t=document.querySelector(t))&&u.error("the css selector string specified in scroller attribute does not resolve to any element"),null==t||t.contains(this.getListContainer()[0])||(u.error("the specified scroller must be an ancestor of the component"),t=null)),this.m_scroller=null!=t?t:this.getListContainer().get(0),this.m_scroller},_scrollToGroupHeader:function(t){var e=this._getScroller(),i=e.scrollTop;null!=this.m_groupItemToPin&&(this._unpinGroupItem(this.m_groupItemToPin),this.m_groupItemToPin=null);var s=t.offsetTop;this._isPinGroupHeader()&&this._isPositionStickySupported()&&s<i&&(s=Math.max(0,s-t.parentNode.offsetHeight+t.offsetHeight)),e.scrollTop=s,i===e.scrollTop&&this._handlePinGroupHeader(),this._setFirstFocusableItemInGroupCurrent(t)},_setFirstFocusableItemInGroupCurrent:function(t){var e=this;i(t).next().children().each(function(){var t=i(this);if(!e.SkipFocus(t))return e.SetOption("currentItem",this.key),!1})}});I._CSS_Vars={animation:{add:"--oj-private-list-view-global-add-animation-default",remove:"--oj-private-list-view-global-remove-animation-default",update:"--oj-private-list-view-global-update-animation-default",expand:"--oj-private-list-view-global-expand-animation-default",collapse:"--oj-private-list-view-global-collapse-animation-default",pointerUp:"--oj-private-list-view-global-pointerUp-animation-default",cardEntrance:"--oj-private-list-view-global-card-entrance-animation-default",cardExit:"--oj-private-list-view-global-card-exit-animation-default"},gridlines:{item:"--oj-private-list-view-global-gridlines-item-default",top:"--oj-private-list-view-global-gridlines-top-default",bottom:"--oj-private-list-view-global-gridlines-bottom-default"},loadIndicator:"--oj-private-list-view-global-load-indicator-default",showIndicatorDelay:"--oj-private-core-global-loading-indicator-delay-duration",cardAnimationDelay:"--oj-private-animation-global-card-entrance-delay-increment"},I.getComplexCSSVariable=function(t){const e={},i=Object.keys(t),s=i.map(e=>t[e]),n=r.getCachedCSSVarValues(s);return i.forEach((t,i)=>{const s=/^(\[|{)/.test(n[i])?JSON.parse(n[i]):n[i];e[t]=s}),e},e._registerLegacyNamespaceProp("_ojListView",I),e.__registerWidget("oj.ojListView",i.oj.baseComponent,{widgetEventPrefix:"oj",options:{as:"",currentItem:null,data:null,display:"list",dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:new E,firstSelectedItem:{key:null,data:null},gridlines:{item:"visible"},groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollToKey:"auto",scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollPosition:{x:0,y:0},scrollTop:0,selected:new d.KeySetImpl,selection:[],selectionMode:"none",selectionRequired:!1,animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,itemAction:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super(),this._setup()},_setup:function(){var t={};(t.element=this.element,t.OuterWrapper=this.OuterWrapper,t.ojContext=this,this._IsCustomElement())||this.options.expanded instanceof E&&(this.options.expanded="auto");t=i.extend(this.options,t),this.listview=new I,this.listview.init(t),h.disableDefaultBrowserStyling(this.element[0])},_AfterCreate:function(){this._super();var t=this;this.listview._FixRendererContext=function(e){return t._FixRendererContext(e)},this.listview._WrapCustomElementRenderer=function(e){return t._WrapCustomElementRenderer(e)},this.listview.afterCreate()},_SetupResources:function(){this._super(),this.listview.setupResources()},_ReleaseResources:function(){this._super(),this.listview.releaseResources()},GetFocusElement:function(){return null!=this.listview?this.listview.GetFocusElement():this._super()},_destroy:function(){this.listview.destroy(),this._super()},_NotifyContextMenuGesture:function(t,e,i){this.listview.notifyContextMenuGesture(t,e,i)},_setOptions:function(t,e){if(this.listview.isAvailable()){var i=this.listview.setOptions(t,e);this._super(t,e),i?(t.data&&this.listview.adjustScrollPositionValueOnFetch(),this.listview.refresh()):(t.selectionRequired||t.selection||t.selectionMode)&&this.listview.enforceSelectionRequired()}else this._super(t,e)},_setOption:function(t,e,s){var n,l=!0;if("selectionMode"===t?l="none"===e||"single"===e||"multiple"===e:"drillMode"===t?l="collapsible"===e||"none"===e:"scrollPolicy"===t?l="auto"===e||"loadMoreOnScroll"===e||"loadAll"===e:"groupHeaderPosition"===t?l="static"===e||"sticky"===e:"firstSelectedItem"===t&&(l=!1),!l)throw new Error("Invalid value: "+e+" for key: "+t);this.listview.isAvailable()&&("selection"===t?(n=this.listview.getItems(e),s={_context:{extraData:{items:this._IsCustomElement()?n:i(n)}}}):"currentItem"===t&&(n=this.listview.getItems([e])[0],s={_context:{extraData:{items:this._IsCustomElement()?n:i(n)}}})),this._super(t,e,s)},_NotifyAttached:function(){this.listview.notifyAttached()},_NotifyDetached:function(){this.listview.notifyDetached()},_NotifyShown:function(){this.listview.notifyShown()},_VerifyConnectedForSetup:function(){return!0},widget:function(){return this.listview.GetRootElement()},refresh:function(){this._super(),this.listview.refresh()},whenReady:function(){return this.listview.whenReady()},getNodeBySubId:function(t){return this.listview.getNodeBySubId(t)},getSubIdByNode:function(t){return this.listview.getSubIdByNode(t)},getContextByNode:function(t){return this.listview.getContextByNode(t)},getDataForVisibleItem:function(t){return this.listview.getDataForVisibleItem(t)},expand:function(t,e){this.listview.expandKey(t,e,!0,!0)},collapse:function(t,e){this.listview.collapseKey(t,e,!0)},getExpanded:function(){return this.listview.getExpanded()},getIndexerModel:function(){return null==this.indexerModel&&f.ListViewIndexerModel&&(this.indexerModel=new f.ListViewIndexerModel(this.listview)),this.indexerModel},scrollToItem:function(t){this.listview.scrollToItem(t)},_CompareOptionValues:function(t,i,s){switch(t){case"currentItem":case"scrollPolicyOptions":return e.Object.compareValues(i,s);case"selection":return i&&void 0===i.inverted&&(i.inverted=!1),s&&void 0===s.inverted&&(s.inverted=!1),(!i||!s||i.inverted===s.inverted)&&e.Object.compareValues(i,s);default:return this._super(t,i,s)}}}),a.setDefaultOptions({ojListView:{gridlines:a.createDynamicPropertyGetter(function(){const t=I._CSS_Vars.gridlines,e={gridlines:I.getComplexCSSVariable(t)};return null==e?(u.error("Cannot find oj-list-view option defaults, which might be caused by missing JET css file"),e={gridlines:{}}):null==e.gridlines&&(u.error("Cannot find gridlines default option, which might be caused by a mismatch between JET js and css files"),e={gridlines:{}}),{item:e.gridlines.item}})}})});
//# sourceMappingURL=ojlistview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlistviewdnd',["exports","ojs/ojcore","jquery","ojs/ojlogger","ojdnd","ojs/ojlistview"],function(t,e,i,r,s,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const n=function(t){this.listview=t};e._registerLegacyNamespaceProp("ListViewDndContext",n),e.Object.createSubclass(n,e.Object,"oj.ListViewDndContext"),n.C_KEY=67,n.V_KEY=86,n.X_KEY=88,n.CUT_COMMAND="cut",n.COPY_COMMAND="copy",n.PASTE_COMMAND="paste",n.PASTE_BEFORE_COMMAND="pasteBefore",n.PASTE_AFTER_COMMAND="pasteAfter",n.prototype.reset=function(){this._unsetSelectionDraggable(),this.m_itemsDragged=null,this.m_dragImage=null,this.m_currentDragItem=null,this.m_dragItems=null,this.m_contextMenuItem=null,this.m_cachedOffset=null,this.m_dropTarget=null,this.m_firstDropTarget=null},n.prototype._getDndOptions=function(t){var e=this.listview.GetOption("dnd");return null!=e&&e[t]?e[t].items:null},n.prototype._getDragOptions=function(){return this._getDndOptions("drag")},n.prototype._getDropOptions=function(){return this._getDndOptions("drop")},n.prototype.IsItemReOrdering=function(){return"enabled"===this._getDndOptions("reorder")},n.prototype.GetDragAffordanceClass=function(){return"oj-listview-drag-handle"},n.prototype.GetDragImageClass=function(){return"oj-listview-drag-image"},n.prototype.GetDragItemClass=function(){return"oj-listview-drag-item"},n.prototype.GetCutStyleClass=function(){return"oj-listview-cut"},n.prototype.GetCommandPrefix=function(){return"oj-listview-"},n.prototype._findItem=function(t){return i(t).get(0).classList.contains("oj-listview-first-drop-target")?i(this.m_dropTargetElem):this.listview.FindItem(t)},n.prototype._getSelectedItems=function(t){var e=[];if(this.listview._isSelectionEnabled())for(var r=this.listview.GetOption("selection"),s=0;s<r.length;s++){var a=this.listview.FindElementByKey(r[s]);null==a||this.listview.SkipFocus(i(a))||e.push(a)}else{var n=this._getActiveItem();null!=n&&e.push(n)}return!t&&null!=this.m_contextMenuItem&&this.m_contextMenuItem.length>0&&(this.listview.element.get(0).contains(this.m_contextMenuItem.get(0))?-1===e.indexOf(this.m_contextMenuItem.get(0))&&(e=[this.m_contextMenuItem.get(0)]):this.m_contextMenuItem=null),e},n.prototype._getActiveItem=function(){return null==this.listview.m_active?null:this.listview.m_active.elem[0]},n.prototype.itemRenderComplete=function(t,e){i(t).hasClass(this.listview.getItemStyleClass())||(t=t.firstElementChild);var r=i(t).find("."+this.GetDragAffordanceClass());if(null!=r&&r.length>0){var s=r.attr("aria-labelledby");null==s?r.attr("aria-labelledby",this.listview._createSubId("instr")):r.attr("aria-labelledby",s+" "+this.listview._createSubId("instr")),this.listview._isTouchSupport()&&r.attr("draggable","true")}},n.prototype._unsetSelectionDraggable=function(){this.m_draggableSelection&&i.each(this.m_draggableSelection,function(t,e){i(e).removeClass("oj-draggable"),this.listview._isTouchSupport()&&i(e).removeAttr("draggable")}.bind(this))},n.prototype.setSelectionDraggable=function(){var t=[];this._unsetSelectionDraggable();for(var e=this.listview.GetOption("selection"),r=0;r<e.length;r++){var s=this.listview.FindElementByKey(e[r]);null==s||this.listview.SkipFocus(i(s))||(t.push(s),i(s).addClass("oj-draggable"),this.listview._isTouchSupport()&&i(s).attr("draggable","true"))}this.m_draggableSelection=t},n.prototype._setItemDraggable=function(t){var e=this.GetDragAffordanceClass(),i=t.find("."+e);return null!=i&&i.length>0||(t.addClass("oj-draggable"),!1)},n.prototype._unsetItemDraggable=function(t){t.removeClass("oj-draggable")},n.prototype._setDraggable=function(t){if(null!=this._getDragOptions()||this.IsItemReOrdering()){var e,r=this.GetDragAffordanceClass();if(t.hasClass(r))e=i(t);else{var s=this._findItem(t);if(this.shouldDragCurrentItem())e=s;else{if(null!=s)if(this._setItemDraggable(s))return;var a=this._getSelectedItems(!0);a.length>0&&(null!=s&&a.indexOf(s[0])>-1?e=s:i(a[0]).removeClass("oj-draggable"))}}null!=e&&e.attr("draggable",!0)}},n.prototype._unsetDraggable=function(t){if(null!=this._getDragOptions()||this.IsItemReOrdering()){var e,r=this.GetDragAffordanceClass();null!=(e=t.hasClass(r)?i(t):this._findItem(t))&&(e.removeAttr("draggable"),this._unsetItemDraggable(e))}},n.prototype.isDndInProgress=function(){return null!=this.m_dragImage},n.prototype._invokeDndCallback=function(t,e,i,s){var a,n="drag"===t?this._getDragOptions():this._getDropOptions();if(n){var o=n[e];if(o&&"function"==typeof o)try{this.listview.ojContext._IsCustomElement()?(o(i.originalEvent,s),i.originalEvent.defaultPrevented&&i.preventDefault()):(i.dataTransfer=i.originalEvent.dataTransfer,a=o(i,s))}catch(t){r.error("Error: "+t)}else a=-1}else a=-1;return a},n.prototype._setDragItemDataTransfer=function(t,e,i){for(var r=[],s=0;s<i.length;s++){var a=this.listview._getDataForItem(i[s]);a&&(a.innerHTML&&a.tagName&&"LI"===a.tagName?r.push(a.innerHTML):r.push(a))}return r.length>0?(this._setDragItemData(t.originalEvent,e,r),this.SetDragItemImage(t.originalEvent,i),{items:r}):null},n.prototype._setDragItemData=function(t,e,i){var r=t.dataTransfer,s=JSON.stringify(i);if("string"==typeof e)r.setData(e,s);else if(e)for(var a=0;a<e.length;a++)r.setData(e[a],s);r.setData(this.GetDragSourceType(),this.listview.element.get(0).id)},n.prototype._createDragImage=function(){var t=document.createElement("ul");if(t.className=this.listview.element.get(0).className,t.classList.add(this.GetDragImageClass()),this.listview.ojContext._IsCustomElement()){var e=["oj-component","oj-complete"].concat(this.listview.GetContainerStyleClass().split(" "));this.listview.GetRootElement().get(0).classList.forEach(function(i){-1===e.indexOf(i)&&t.classList.add(i)})}return t},n.prototype._calculateOffset=function(t){var e=window.getComputedStyle(t);return parseFloat(e.marginLeft)+parseFloat(e.marginRight)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)},n.prototype._calculateAffordanceOffset=function(t,e){if(null==this.m_cachedOffset){this.m_cachedOffset=Math.max(0,e.offsetLeft-t.offsetLeft)+e.offsetWidth/2;var i=this._calculateOffset(t),r=this._calculateOffset(this.listview.getListContainer().get(0));this.m_cachedOffset+=Math.max(r,i-r)}return this.m_cachedOffset},n.prototype.SetDragItemImage=function(t,e){var r,s,a,n=0,o=0,l=t.target,h=this.listview.isCardLayout();if(e.length>1){var d;(r=i(this._createDragImage())).css({width:this.listview.element.css("width"),height:this.listview.element.css("height")});var p=Number.MAX_VALUE;for(d=0;d<e.length;d++)p=Math.min(p,e[d].offsetTop);for(d=0;d<e.length;d++){s=e[d].offsetTop-p;var m=e[d].offsetWidth;(a=i(e[d].cloneNode(!0))).removeClass("oj-selected oj-focus oj-hover").css({position:"absolute",top:s,width:m}),h||a.addClass("oj-listview-item-drag-image"),r.append(a)}}else i(l).hasClass(this.GetDragAffordanceClass())?(s=0,i.contains(e[0],l.offsetParent)&&(s=l.offsetTop),n=this._calculateAffordanceOffset(e[0],l),o=s+l.offsetHeight/2):(n=Math.max(0,t.offsetX),o=Math.max(0,t.offsetY)),(a=i(e[0].cloneNode(!0))).removeClass("oj-selected oj-focus oj-hover").addClass("oj-drag"),h||a.addClass("oj-listview-item-drag-image"),(r=i(this._createDragImage())).css({width:this.GetDragImageWidth(e[0]),height:2*e[0].offsetHeight}).append(a);h&&r.addClass("oj-listview-card-layout"),i("body").append(r),this.m_dragImage=r,t.dataTransfer.setDragImage(r.get(0),n,o)},n.prototype.GetDragImageWidth=function(){return this.listview.element.css("width")},n.prototype.GetDefaultDataType=function(){return"text/ojlistview-items-data"},n.prototype._handleDragStart=function(t){var e,r,s=this._getDragOptions();if((null!=s||this.IsItemReOrdering())&&(e=null!=s?s.dataTypes:this.GetDefaultDataType(),i(t.target).hasClass(this.GetDragAffordanceClass())||this.shouldDragCurrentItem()?(r=[]).push(this._findItem(t.target)[0]):r=this._getSelectedItems(!0),r.length>0)){this.m_dragItems=r,this.m_currentDragItem=i(r[0]);var a=this._setDragItemDataTransfer(t,e,r);if(a){var n=this._invokeDndCallback("drag","dragStart",t,a);if(-1===n)return;return n}return!1}},n.prototype._handleDrag=function(t){return this._invokeDndCallback("drag","drag",t)},n.prototype._destroyDragImage=function(){null!=this.m_dragImage&&(this.m_dragImage.remove(),this.m_dragImage=null)},n.prototype._handleDragEnd=function(t){if(null!=this.m_currentDragItem&&null!=this.m_dragItems){this.m_currentDragItem.find("."+this.GetDragAffordanceClass()).removeAttr("draggable"),this.m_currentDragItem.removeClass("oj-drag oj-draggable").removeAttr("draggable");for(var e=0;e<this.m_dragItems.length;e++){var r=this.m_dragItems[e];r.classList.remove("oj-listview-drag-source"),r.classList.remove(this.GetDragItemClass()),i(r).css("display","")}}this._cleanupDropTarget(),this._destroyDragImage(),this._unsetSelectionDraggable(),this._invokeDndCallback("drag","dragEnd",t),this.m_itemsDragged=this.m_dragItems,this.m_dragImage=null,this.m_currentDragItem=null,this.m_dragItems=null,this.listview.restoreFocusAfterDrag()},n.prototype._matchDragDataType=function(t){var e=this._getDropOptions();if(e&&e.dataTypes)for(var i=e.dataTypes,r="string"==typeof i?[i]:i,s=t.originalEvent.dataTransfer.types,a=0;a<s.length;a++)if(r.indexOf(s[a])>=0)return!0;return!1},n.prototype._invokeDropCallback=function(t,e,i){var r=this._invokeDndCallback("drop",t,e,i);return void 0!==r&&-1!==r||this._matchDragDataType(e)&&e.preventDefault(),r},n.prototype._getDropIndicator=function(){return null!=this.m_dragItems?"space":"line"},n.prototype._createDropTarget=function(t){var e,r=this._getDropIndicator();null==this.m_dropTarget&&("space"===r?(e=i(t.get(0).cloneNode(!1))).addClass("oj-drop").removeClass("oj-drag oj-draggable oj-hover oj-focus").css({display:"block",height:t.outerHeight(),width:t.outerWidth()}):"line"===r&&(e=document.createElement("li")).classList.add("oj-listview-drop-target"),this.m_dropTarget=i(e));var s=t.get(0);if("line"===r){s.classList.add("oj-drop"),null!=this.m_dropTargetElem&&this.m_dropTargetElem.classList.remove("oj-drop"),this.m_dropTargetElem=s;var a=s.offsetTop+s.offsetHeight-this._getDropIndicatorHeight();null==s.nextElementSibling&&this.listview._isGridlinesVisible()&&(a-=1),this.m_dropTarget.get(0).style.top=a+"px"}else"space"===r&&(this.m_dropTarget.get(0).key=s.key);return this.m_dropTarget},n.prototype._getDropIndicatorHeight=function(){if(!isNaN(this.m_dropIndicatorHeight))return this.m_dropIndicatorHeight;if(this.m_dropTarget){var t=this.m_dropTarget.get(0);return this.listview.element.get(0).appendChild(t),this.m_dropIndicatorHeight=t.offsetHeight,this.listview._isGridlinesVisible()&&(this.m_dropIndicatorHeight-=1),this.m_dropIndicatorHeight}return 0},n.prototype._cleanupGroupItem=function(){null!=this.m_currentDropItem&&-1===this.m_dropTargetIndex&&this.m_currentDropItem.children("."+this.listview.getGroupItemStyleClass()).removeClass("oj-drop")},n.prototype._cleanupEmptyList=function(){null!=this.m_currentDropItem&&this.m_currentDropItem.hasClass(this.listview.getEmptyTextStyleClass())&&(this.m_currentDropItem.removeClass("oj-drop"),this.m_currentDropItem.get(0).textContent=this.listview._getEmptyText())},n.prototype._cleanupDropTarget=function(){null!=this.m_dropTarget&&(this.m_dropTarget.css("height","0"),this.m_dropTarget.remove(),this.m_dropTarget=null),null!=this.m_dropTargetElem&&this.m_dropTargetElem.classList.remove("oj-drop"),null!=this.m_firstDropTarget&&(this.m_firstDropTarget.parentNode&&this.m_firstDropTarget.parentNode.removeChild(this.m_firstDropTarget),this.m_firstDropTarget=null),this._cleanupEmptyList(),this._cleanupGroupItem()},n.prototype._handleDragEnter=function(t){var e=this._findItem(t.target);if(null!=e&&e.length>0){var i=this._invokeDropCallback("dragEnter",t,{item:e.get(0)});if(-1!==i)return i}},n.prototype._setCurrentDropItem=function(t){null!=this.m_currentDropItem&&this.m_currentDropItem.removeClass("oj-valid-drop oj-invalid-drop"),this.m_currentDropItem=t,this.m_currentDropItem.addClass("oj-valid-drop")},n.prototype._setAccInfo=function(t,e){var i=t.attr("aria-label");null==i&&(i=t.text());var r="accessibleReorder"+e.charAt(0).toUpperCase()+e.substr(1)+"Item",s=this.listview.ojContext.getTranslatedString(r,{item:i});this.listview._setAccInfoText(s)},n.prototype._adjustGroupItemStyle=function(){null==this.m_maxHeightAdjusted&&this.listview._isTouchSupport()&&(this.listview.element.find("ul."+this.listview.getGroupStyleClass()).each(function(){i(this).attr("oldMaxHeight",i(this).css("maxHeight").toString()),i(this).css("maxHeight",1e4)}),this.m_maxHeightAdjusted="adjusted")},n.prototype._restoreGroupItemStyle=function(){this.listview._isTouchSupport()&&this.listview.element.find("ul."+this.listview.getGroupStyleClass()).each(function(){i(this).css("maxHeight",parseInt(i(this).attr("oldMaxHeight"),10)),i(this).removeAttr("oldMaxHeight")}),this.m_maxHeightAdjusted=null},n.prototype._setDropPosition=function(t,e){if("line"===this._getDropIndicator())return e.insertAfter(t),"after";var i=t.index();return null==this.m_dropTargetIndex||this.m_dropTargetIndex<i?(e.insertAfter(t),"after"):(e.insertBefore(t),"before")},n.prototype._checkFirstItemDropTarget=function(t,e,i){if(i.classList.contains("oj-listview-first-drop-target"))return this.m_dropPosition="before",void(e.style.top="0px");if("line"===this._getDropIndicator())if(null===t.previousElementSibling)if(null==this.m_firstDropTarget){var r=document.createElement("li");r.classList.add("oj-listview-first-drop-target"),r.style.top="0px",t.parentNode.appendChild(r),this.m_firstDropTarget=r}else this.m_dropPosition="after",e.style.top=t.offsetTop+t.offsetHeight-this._getDropIndicatorHeight()+"px";else this.m_firstDropTarget&&(this.m_firstDropTarget.parentNode&&this.m_firstDropTarget.parentNode.removeChild(this.m_firstDropTarget),this.m_firstDropTarget=null)},n.prototype._isDropOnDragItem=function(t,e){return this._matchDragDataType(t)&&null!=this.m_dragItems&&this.m_dragItems.length>=0&&this.m_dragItems[0].key===e.get(0).key},n.prototype._handleDragOver=function(t){var e,r,s;if(this._adjustGroupItemStyle(),null!=this.m_dragItems&&"none"!==i(this.m_dragItems[0]).css("display"))if(e=i(this.m_dragItems[0]),-1===(s=this._invokeDropCallback("dragOver",t,{item:e.get(0)}))&&this.IsItemReOrdering()&&this.isDndInProgress()||!1===s||t.isDefaultPrevented()){r=this._createDropTarget(e);for(var a=0;a<this.m_dragItems.length;a++)i(this.m_dragItems[a]).addClass(this.GetDragItemClass()).css("display","none");r.insertBefore(e),this.m_dropTargetIndex=r.index()}else e.get(0).classList.remove("oj-hover"),e.get(0).classList.add("oj-listview-drag-source");else if(null!=(e=this._findItem(t.target))&&e.length>0){if(this._isDropOnDragItem(t,e)){if(s=this._invokeDndCallback("drop","dragOver",t,{item:e.get(0)}),!t.isDefaultPrevented())return-1}else s=this._invokeDropCallback("dragOver",t,{item:e.get(0)});-1===s&&this.IsItemReOrdering()&&this.isDndInProgress()||!1===s||t.isDefaultPrevented()?(e.hasClass(this.listview.getItemStyleClass())?(this._cleanupGroupItem(),e.hasClass("oj-drop")?r=this.m_dropTarget:(r=this._createDropTarget(e),this.m_dropPosition=this._setDropPosition(e,r),this._setAccInfo(e,this.m_dropPosition),this._setCurrentDropItem(e),this.m_dropTargetIndex=r.index()),this._checkFirstItemDropTarget(e.get(0),r.get(0),t.target)):(this._cleanupDropTarget(),e.children("."+this.listview.getGroupItemStyleClass()).addClass("oj-drop"),this._setCurrentDropItem(e),this.m_dropTargetIndex=-1,this.m_dropPosition="inside",this._setAccInfo(e,this.m_dropPosition)),t.preventDefault()):i(t.target).hasClass(this.listview.getGroupStyleClass())||(e.addClass("oj-invalid-drop"),this._cleanupDropTarget())}else{var n=this._getAndUpdateEmptyItem();null!=n&&n.length>0&&(this._setCurrentDropItem(n),t.preventDefault())}return s},n.prototype._getAndUpdateEmptyItem=function(){var t=this.listview.element.children("."+this.listview.getEmptyTextStyleClass());return 0===t.length?t=i(this.listview.element[0].querySelector(".oj-listview-no-data-item")):t.get(0).textContent="",t.addClass("oj-drop"),t},n.prototype._isDndEventInElement=function(t,e){var i=e.getBoundingClientRect(),r=t.originalEvent;return r.clientX>=i.left&&r.clientX<i.right&&r.clientY>=i.top&&r.clientY<i.bottom},n.prototype._handleDragLeave=function(t){var e;if(null!=this.m_currentDropItem){var i=this._findItem(t.target);return null!=i&&i.length>0?(i.removeClass("oj-valid-drop oj-invalid-drop"),e=this._invokeDropCallback("dragLeave",t,{item:i.get(0)}),!this._isDndEventInElement(t,t.currentTarget)&&i.hasClass("oj-drop")&&(this._cleanupDropTarget(),this._restoreGroupItemStyle())):this._isDndEventInElement(t,t.currentTarget)||this._cleanupEmptyList(),-1!==e?e:void 0}},n.prototype._isEmptyItem=function(t){return t.hasClass(this.listview.getEmptyTextStyleClass())||t.hasClass("oj-listview-no-data-item")},n.prototype._handleDrop=function(t){if(null!=this.m_currentDropItem){var e,i=t.originalEvent.dataTransfer.getData(this.GetDragSourceType());e=this._isEmptyItem(this.m_currentDropItem)?{}:{item:this.m_currentDropItem.get(0),position:this.m_dropPosition},this.IsItemReOrdering()&&i===this.listview.element.get(0).id?e.reorder=!0:e.reorder=!1,null!=this.m_currentDropItem&&this.m_currentDropItem.removeClass("oj-valid-drop"),this._cleanupDropTarget(),this._restoreGroupItemStyle(),this._destroyDragImage();var r=this._invokeDropCallback("drop",t,e);if(e.reorder&&(e.items=null==this.m_dragItems?this.m_itemsDragged:this.m_dragItems,this.listview.Trigger("reorder",t,this.CreateReorderPayload(e.items,e.position,e.item)),t.preventDefault()),this.m_currentDropItem=null,this.m_dropTargetIndex=-1,this.m_dropPosition=null,this.m_itemsDragged=null,-1!==r)return r}},n.prototype.CreateReorderPayload=function(t,e,i){return{items:t,position:e,reference:i}},n.prototype.prepareContextMenu=function(t){var e=this,r=i(t);this.m_contextMenu!==t&&(this.m_contextMenu=t,"OJ-MENU"===t.tagName?(t.addEventListener("ojBeforeOpen",this._handleContextMenuBeforeOpen.bind(this)),t.addEventListener("ojAction",this._handleContextMenuSelect.bind(this))):(r.on("ojbeforeopen",this._handleContextMenuBeforeOpen.bind(this)),r.on("ojselect",this._handleContextMenuSelect.bind(this))));var s=this._getCommands(t,function(t,r){var s=e._buildContextMenuItem(r,t.tagName);"OJ-OPTION"===t.tagName?(t.innerHTML=s.get(0).innerHTML,i(t).attr("data-oj-command",s.attr("data-oj-command"))):(s.get(0).className=i(t).get(0).className,i(t).replaceWith(s))});this.m_menuItemsSet=s,s.length>0&&r.data("oj-ojMenu")&&("OJ-MENU"===t.tagName?t.refresh():i(t).ojMenu("refresh"))},n.prototype._getDndContextMenuItemSelector=function(){var t=this,e="",i=["cut","copy","paste","paste-before","paste-after","pasteBefore","pasteAfter"];return this.m_dndMenuItemSelector||(i.forEach(function(r,s){e+="[data-oj-command="+t.GetCommandPrefix()+r+"],",e+="[data-oj-command="+r+"]",s<i.length-1&&(e+=",")}),this.m_dndMenuItemSelector=e),this.m_dndMenuItemSelector},n.prototype._getCommands=function(t,e){var r=this,s=[];return i(t).find(this._getDndContextMenuItemSelector()).each(function(){var t;0===i(this).children("a").length?0===i(this).attr("data-oj-command").indexOf(r.GetCommandPrefix())&&(t=i(this).attr("data-oj-command").substring(r.GetCommandPrefix().length),e&&e(this,t)):(t=i(this).attr("data-oj-command"))===n.PASTE_BEFORE_COMMAND?t="paste-before":t===n.PASTE_AFTER_COMMAND&&(t="paste-after"),t&&s.push(t)}),s},n.prototype._buildContextMenuItem=function(t,e){return"paste-before"===t?this._buildContextMenuListItem(n.PASTE_BEFORE_COMMAND,e):"paste-after"===t?this._buildContextMenuListItem(n.PASTE_AFTER_COMMAND,e):this._buildContextMenuListItem(t,e)},n.prototype._buildContextMenuListItem=function(t,e){var r=i(document.createElement(e));return r.attr("data-oj-command",t),r.append(this._buildContextMenuLabel(t,"OJ-OPTION"===e)),r},n.prototype._buildContextMenuLabel=function(t,e){var r="label"+t.charAt(0).toUpperCase()+t.slice(1),s=document.createTextNode(this.listview.ojContext.getTranslatedString(r));return e?s:i('<a href="#"></a>').append(s)},n.prototype._handleCut=function(t){null!=this.m_clipboard&&i(this.m_clipboard).removeClass(this.GetCutStyleClass());var e=this.GetCutItems(t);this.listview.ojContext.element.focus(),i(e).addClass(this.GetCutStyleClass()),this.m_clipboard=e,this.listview.Trigger("cut",t,{items:e})},n.prototype.GetCutItems=function(t){return this._getSelectedItems()},n.prototype._handleCopy=function(t){null!=this.m_clipboard&&i(this.m_clipboard).removeClass(this.GetCutStyleClass());var e=this._getSelectedItems();this.m_clipboard=e,this.listview.Trigger("copy",t,{items:e})},n.prototype._handlePaste=function(t,e,r){this.listview.Trigger("paste",t,{item:e.get(0)}),i(this.m_clipboard).removeClass(this.GetCutStyleClass()),this.listview.Trigger("reorder",t,this.CreateReorderPayload(this.m_clipboard,r,e.get(0))),this.m_clipboard=null},n.prototype._handleContextMenuSelect=function(t,e){if(null!=this.m_contextMenuItem)switch((e?e.item:i(t.target)).attr("data-oj-command")){case n.CUT_COMMAND:this._handleCut(t);break;case n.COPY_COMMAND:this._handleCopy(t);break;case n.PASTE_COMMAND:this._handlePaste(t,this.m_contextMenuItem,"inside"),this.m_contextMenuItem=null;break;case n.PASTE_BEFORE_COMMAND:this._handlePaste(t,this.m_contextMenuItem,"before"),this.m_contextMenuItem=null;break;case n.PASTE_AFTER_COMMAND:this._handlePaste(t,this.m_contextMenuItem,"after"),this.m_contextMenuItem=null}},n.prototype._appendToMenuContainer=function(t,e){null!=this.m_menuItemsSet&&("paste-before"===e?e=n.PASTE_BEFORE_COMMAND:"paste-after"===e&&(e=n.PASTE_AFTER_COMMAND),t.find("[data-oj-command='"+e+"']").removeClass("oj-disabled"))},n.prototype._handleContextMenuBeforeOpen=function(t,e){var r=e?e.openOptions.launcher:t.detail.openOptions.launcher;if(this.IsItemReOrdering()){var s=i(t.target);s.find(this._getDndContextMenuItemSelector()).addClass("oj-disabled"),null!=r&&null!=this.m_menuItemsSet&&0!==this.m_menuItemsSet.length?(r.children().first().hasClass(this.listview.getGroupItemStyleClass())?null!=this.m_clipboard&&this._appendToMenuContainer(s,"paste"):(this._appendToMenuContainer(s,"cut"),this._appendToMenuContainer(s,"copy"),null!=this.m_clipboard&&(this._appendToMenuContainer(s,"paste-before"),this._appendToMenuContainer(s,"paste-after"))),"OJ-MENU"!==s.get(0).tagName&&s.ojMenu("refresh"),this.m_contextMenuItem=r):"OJ-MENU"!==s.get(0).tagName&&s.ojMenu("refresh")}else this.m_contextMenuItem=r},n.prototype.HandleKeyDown=function(t){if(t.ctrlKey||t.metaKey){var e=t.keyCode;if(e===n.X_KEY||e===n.C_KEY||e===n.V_KEY){var r=this.listview.ojContext._GetContextMenu();if(null==r)return!1;var s=this._getCommands(r);if(0===s.length)return!1;if(e===n.X_KEY&&s.indexOf("cut")>-1)return this._handleCut(t),!0;if(e===n.C_KEY&&s.indexOf("copy")>-1)return this._handleCopy(t),!0;if(e===n.V_KEY){var a,o=i(this._getActiveItem());if(null!=this.m_clipboard){if(o.children().first().hasClass(this.listview.getGroupItemStyleClass())?s.indexOf("paste")>-1&&(a="inside"):s.indexOf("paste-before")>-1?a="before":s.indexOf("paste-after")>-1&&(a="after"),null!=a)return this._handlePaste(t,o,a),!0}else this.listview.Trigger("paste",t,{item:o.get(0)})}}}return!1},n.prototype.shouldDragCurrentItem=function(){return!1},n.prototype.GetDragSourceType=function(){return"text/ojlistview-dragsource-id"},t.ListViewDndContext=n,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojlistviewdnd.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojnavigationlistdnd',["exports","jquery","ojs/ojcore-base","ojs/ojlistviewdnd"],function(t,e,o,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const r=function(t){r.superclass.constructor.call(this,t)};o._registerLegacyNamespaceProp("NavigationListDndContext",r),o.Object.createSubclass(r,o.ListViewDndContext,"oj.NavigationListDndContext"),r.prototype.GetDragAffordanceClass=function(){return"oj-tabbar-drag-handle"},r.prototype.GetDragImageClass=function(){return"oj-tabbar-drag-image"},r.prototype.GetDragItemClass=function(){return"oj-tabbar-drag-item"},r.prototype.GetCutStyleClass=function(){return"oj-tabbar-cut"},r.prototype.GetCommandPrefix=function(){return"oj-tabbar-"},r.prototype.shouldDragCurrentItem=function(){return!0},r.prototype.GetDragImageWidth=function(t){var e=this.listview.GetOption("edge");return"top"===e||"bottom"===e?t.offsetWidth:o.NavigationListDndContext.superclass.GetDragImageWidth.call(this,t)},r.prototype.GetDragSourceType=function(){return"text/ojnavigationlist-dragsource-id"},r.prototype.CreateReorderPayload=function(t,e,o){return{item:t[0],position:e,reference:o}},r.prototype.IsItemReOrdering=function(){return"enabled"===this.listview.GetOption("reorderable")},r.prototype.GetDefaultDataType=function(){return"text/ojnavigationlist-items-data"},r.prototype.SetDragItemImage=function(t,o){var a=Math.max(0,t.offsetX),r=Math.max(0,t.offsetY),n=e(o[0].cloneNode(!0));n.removeClass("oj-selected oj-focus oj-focus-highlight  oj-hover").addClass("oj-drag");var s=e(document.createElement("div"));s.get(0).className=this.listview.ojContext.element.get(0).className,s.addClass(this.GetDragImageClass()).css({width:this.GetDragImageWidth(o[0]),height:o[0].offsetHeight}).append(n),e("body").append(s),this.m_dragImage=s,t.dataTransfer.setDragImage(s.get(0),a,r)},r.prototype.GetCutItems=function(t){var e=[];return e.push(this.m_contextMenuItem&&this.m_contextMenuItem.length>0?this.m_contextMenuItem[0]:this._getActiveItem()),e},t.NavigationListDndContext=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojnavigationlistdnd.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojnavigationlist',["ojs/ojcore-base","ojs/ojcomponentcore","ojs/ojthemeutils","jquery","ojs/ojdomutils","ojs/ojnavigationlistdnd","ojs/ojlistview","ojs/ojdatacollection-common","ojs/ojmenu","ojs/ojbutton"],function(t,e,i,s,n,o,a,l,r,h){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var d={properties:{as:{type:"string",value:""},currentItem:{type:"any",writeback:!0},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"11.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},display:{type:"string",enumValues:["all","icons"],value:"all"},drillMode:{type:"string",enumValues:["collapsible","none","sliding"],value:"none"},edge:{type:"string",enumValues:["bottom","start","top"],value:"start"},expanded:{type:"KeySet",writeback:!0},hierarchyMenuThreshold:{type:"number",value:0},item:{type:"object",properties:{renderer:{type:"function"},selectable:{type:"function|boolean",value:!0}}},overflow:{type:"string",enumValues:["hidden","popup"],value:"hidden"},rootLabel:{type:"string",value:"Navigation List"},selection:{type:"any",writeback:!0},translations:{type:"object",value:{},properties:{defaultRootLabel:{type:"string"},hierMenuBtnLabel:{type:"string"},msgFetchingData:{type:"string"},msgNoData:{type:"string"},overflowItemLabel:{type:"string"},previousIcon:{type:"string"},selectedLabel:{type:"string"}}}},methods:{getContextByNode:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeCollapse:{},ojBeforeCurrentItem:{},ojBeforeExpand:{},ojBeforeSelect:{},ojCollapse:{},ojExpand:{}},extension:{}};!function(){d.extension._WIDGET_NAME="ojNavigationList",d.extension._ALIASED_PROPS={hierarchyMenuThreshold:"hierarchyMenuDisplayThresholdLevel"},oj.CustomElementBridge.register("oj-navigation-list",{metadata:d});var t={properties:{as:{type:"string",value:""},currentItem:{type:"any",writeback:!0},data:{type:"object"},display:{type:"string",enumValues:["all","icons","stacked"],value:"all"},edge:{type:"string",enumValues:["bottom","end","start","top"],value:"start"},item:{type:"object",properties:{renderer:{type:"function"},selectable:{type:"function|boolean",value:!0}}},layout:{type:"string",enumValues:["condense","stretch"],value:"stretch"},overflow:{type:"string",enumValues:["hidden","popup"],value:"hidden"},reorderable:{type:"string",enumValues:["disabled","enabled"],value:"disabled"},selection:{type:"any",writeback:!0},translations:{type:"object",value:{},properties:{accessibleReorderAfterItem:{type:"string"},accessibleReorderBeforeItem:{type:"string"},accessibleReorderTouchInstructionText:{type:"string"},labelCut:{type:"string"},labelPasteAfter:{type:"string"},labelPasteBefore:{type:"string"},labelRemove:{type:"string"},msgFetchingData:{type:"string"},msgNoData:{type:"string"},overflowItemLabel:{type:"string"},removeCueText:{type:"string"},selectedLabel:{type:"string"}}},truncation:{type:"string",enumValues:["none","progressive"],value:"none"}},methods:{getContextByNode:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeCurrentItem:{},ojBeforeDeselect:{},ojBeforeRemove:{},ojBeforeSelect:{},ojDeselect:{},ojRemove:{},ojReorder:{}},extension:{}};t.extension._WIDGET_NAME="ojNavigationList",oj.CustomElementBridge.register("oj-tab-bar",{metadata:t})}();const _=function(e,i){var n=function(){};return t.Object.createSubclass(n,e,""),s.extend(n.prototype,i),n}(t._ojListView,{OPTION_DRILL_MODE:"drillMode",OPTION_DRILL_MODE_NONE:"none",OPTION_DRILL_MODE_COLLAPSIBLE:"collapsible",OPTION_DRILL_MODE_SLIDING:"sliding",OPTION_DISPLAY:"display",OPTION_DISPLAY_ICONS:"icons",OPTION_DISPLAY_ALL:"all",OPTION_DISPLAY_STACKED:"stacked",OPTION_LAYOUT_STRETCH:"stretch",OPTION_LAYOUT_CONDENSE:"condense",OPTION_EDGE:"edge",OPTION_EDGE_TOP:"top",OPTION_EDGE_END:"end",OPTION_EDGE_START:"start",OPTION_EDGE_BOTTOM:"bottom",OPTION_SELECTION:"selection",OPTION_CURRENT_ITEM:"currentItem",OPTION_ITEM:"item",TAG_NAME_TAB_BAR:"oj-tab-bar",NAVLIST_ITEM_SUBID_KEY:{navlist:"oj-navigationlist-item",tabbar:"oj-tabbar-item"},NAVLIST_EXPANDED_STYLE_CLASS:{navlist:"oj-navigationlist-expanded",tabbar:"oj-tabbar-expanded"},NAVLIST_COLLAPSIBLE_STYLE_CLASS:{navlist:"oj-navigationlist-collapsible",tabbar:"oj-tabbar-collapsible"},NAVLIST_VERTICAL_STYLE_CLASS:{navlist:"oj-navigationlist-vertical",tabbar:"oj-tabbar-vertical"},ITEM_CONTENT_STYLE_CLASS:{navlist:"oj-navigationlist-item-content",tabbar:"oj-tabbar-item-content"},NAVLIST_DIVIDERS_STYLE_CLASS:{navlist:"oj-navigationlist-item-dividers",tabbar:"oj-tabbar-item-dividers"},LAST_ITEM_STYLE_CLASS:{navlist:"oj-navigationlist-item-last-child",tabbar:"oj-tabbar-item-last-child"},EXPANDED_STYLE_CLASS:"oj-expanded",COLLAPSED_STYLE_CLASS:"oj-collapsed",CONDENSE_STYLE_CLASS:"oj-condense",SLIDING_NAVLIST_CURRENT_STYLE_CLASS:"oj-navigationlist-current",DIVIDER_STYLE_CLASS:{navlist:"oj-navigationlist-divider",tabbar:"oj-tabbar-divider"},NAVLIST_OVERFLOW_MENU_ITEM:{navlist:"oj-navigationlist-overflow-menu-item",tabbar:"oj-tabbar-overflow-menu-item"},NAVLIST_OVERFLOW_MENU:{navlist:"oj-navigationlist-overflow-menu",tabbar:"oj-tabbar-overflow-menu"},NAVLIST_OVERFLOW_ITEM_ICON:{navlist:"oj-navigationlist-overflow-item-icon",tabbar:"oj-tabbar-overflow-item-icon"},_CATEGORY_DIVIDER_STYLE_CLASS:{navlist:"oj-navigationlist-category-divider",tabbar:"oj-tabbar-category-divider"},_ITEM_LABEL_STYLE_CLASS:{navlist:"oj-navigationlist-item-label",tabbar:"oj-tabbar-item-label"},_ICON_ONLY_STYLE_CLASS:{navlist:"oj-navigationlist-icon-only",tabbar:"oj-tabbar-icon-only"},_STACK_ICON_STYLE_CLASS:{navlist:"oj-navigationlist-stack-icon-label",tabbar:"oj-tabbar-stack-icon-label"},_ITEM_ICON_STYLE_CLASS:{navlist:"oj-navigationlist-item-icon",tabbar:"oj-tabbar-item-icon"},_ITEM_BADGE_STYLE_CLASS:{navlist:"oj-navigationlist-item-end",tabbar:"oj-tabbar-item-badge"},_HORIZONTAL_NAVLIST_STYLE_CLASS:{navlist:"oj-navigationlist-horizontal",tabbar:"oj-tabbar-horizontal"},_NAVLIST_END_EDGE_STYLE_CLASS:{navlist:"oj-navigationlist-vertical-end",tabbar:"oj-tabbar-vertical-end"},_NAVLIST_BOTTOM_EDGE_STYLE_CLASS:{navlist:"oj-navigationlist-horizontal-bottom",tabbar:"oj-tabbar-horizontal-bottom"},_NAVLIST_HAS_ICONS:{navlist:"oj-navigationlist-has-icons",tabbar:"oj-tabbar-has-icons"},_NAVLIST_ITEM_HAS_NO_ICON:{navlist:"oj-navigationlist-item-no-icon",tabbar:"oj-tabbar-item-no-icon"},_NAVLIST_ITEM_TITLE:{navlist:"oj-navigationlist-item-title",tabbar:"oj-tabbar-item-title"},_NAVLIST_STYLE_CLASS:{navlist:"oj-navigationlist",tabbar:"oj-tabbar"},_NAVLIST_TOUCH_STYLE_CLASS:{navlist:"oj-navigationlist-touch",tabbar:"oj-tabbar-touch"},_NAVLIST_LISTVIEW_CONTAINER_STYLE_CLASS:{navlist:"oj-navigationlist-listview-container",tabbar:"oj-tabbar-listview-container"},_IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION:"IsTitleAttrDueToTruncation",_APPLICATION_LEVEL_NAV_STYLE_CLASS:"oj-navigationlist-app-level",_PAGE_LEVEL_NAV_STYLE_CLASS:"oj-navigationlist-page-level",_NAVLIST_ITEM_ICON_HAS_TITLE:"navigationListItemIconHastitle",_NAVLIST_NO_FOLLOW_LINK_CLASS:{navlist:"oj-navigationlist-nofollow-link",tabbar:"oj-tabbar-nofollow-link"},_CONTAINER_STYLE_CLASS:{navlist:"oj-navigationlist-listview",tabbar:"oj-tabbar-listview"},_ELEMENT_STYLE_CLASS:{navlist:"oj-navigationlist-element",tabbar:"oj-tabbar-element"},_ELEMENT_EMPTY_TEXT_STYLE_CLASS:{navlist:"oj-navigationlist-empty-text",tabbar:"oj-tabbar-empty-text"},_ELEMENT_NO_DATA_MSG_STYLE_CLASS:{navlist:"oj-navigationlist-no-data-message",tabbar:"oj-tabbar-no-data-message"},_FOCUSED_ELEMENT_STYLE_CLASS:{navlist:"oj-navigationlist-focused-element",tabbar:"oj-tabbar-focused-element"},_ITEM_ELEMENT_STYLE_CLASS:{navlist:"oj-navigationlist-item-element",tabbar:"oj-tabbar-item-element"},_ITEM_STYLE_CLASS:{navlist:"oj-navigationlist-item",tabbar:"oj-tabbar-item"},_OPTION_DEFAULT_STYLE_CLASS:{navlist:"oj-navigationlist-option-defaults",tabbar:"oj-tabbar-option-defaults"},_LOADING_STATUS_ICON_STYLE_CLASS:{navlist:"oj-navigationlist-loading-icon",tabbar:"oj-tabbar-loading-icon"},_STATUS_MSG_STYLE_CLASS:{navlist:"oj-navigationlist-status-message",tabbar:"oj-tabbar-status-message"},_STATUS_STYLE_CLASS:{navlist:"oj-navigationlist-status",tabbar:"oj-tabbar-status"},getItemLabel:function(t){var e=this.getItemContentElement(t);return e.is("a")?s.trim(e.text()):s.trim(e.find("."+this.getItemTitleStyleClass()).text())},getItemContentElement:function(t){var e=t.children("."+this.getItemContentStyleClass());return 0===e.length&&0===(e=t.children("."+this.getGroupItemStyleClass()).children("."+this.getItemContentStyleClass())).length&&(e=t.children("."+this.getGroupItemStyleClass()).children(":not(."+this.getExpandIconStyleClass()+"):not(."+this.getCollapseIconStyleClass()+")")),e},isRtl:function(){return"rtl"===this.ojContext._GetReadingDirection()},_initNavigationMode:function(t){t[0].tagName.toLowerCase()===this.TAG_NAME_TAB_BAR?this._navigationMode="tabbar":this._navigationMode="navlist"},_getNavigationMode:function(){return this._navigationMode},renderComplete:function(){this.m_listHandler.BeforeRenderComplete(),_.superclass.renderComplete.apply(this,arguments)},itemInsertComplete:function(t,e){this.m_listHandler.ItemInsertComplete(t,e),_.superclass.itemInsertComplete.apply(this,arguments)},itemRemoveComplete:function(t,e){return this.m_listHandler.ItemRemoveComplete(t),_.superclass.itemRemoveComplete.apply(this,arguments)},_restoreContent:function(t){var e=t.children();t.removeAttr("style").removeClass(this.getHasIconsStyleClass()).removeAttr("aria-hidden");for(var i=0;i<e.length;i++){var n=e[i];if((n=s(n)).hasClass(this.getDividerStyleClass()))n.remove();else{var o=this.getItemContentElement(n);o.removeClass(this.getItemContentStyleClass()).removeClass(this.getHasNoIconStyleClass()).removeAttr("aria-haspopup");var a=o.children("."+this.getItemIconStyleClass());a&&a.length>0&&(a.removeAttr("role"),a.removeAttr("aria-label"),this._removeToolTipOnIcon(a)),n.removeClass("oj-default").removeAttr("role").removeAttr("aria-disabled").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-pressed");var l=this.getFocusItem(n);l.removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-pressed"),o.children("."+this.getItemLabelStyleClass()).contents().unwrap(),n.find("."+this.getNavListRemoveIcon()).remove(),l.data(this._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION)&&l.removeAttr("title");var r=n.children("ul");r.length>0?(this.m_listHandler.RestoreItem(n,o,r),this._restoreContent(r)):this.m_listHandler.RestoreItem(n,o)}}},GetDnDContext:function(){if(void 0!==o.NavigationListDndContext&&this.ojContext.element[0].tagName.toLowerCase()===this.TAG_NAME_TAB_BAR)return new o.NavigationListDndContext(this)},IsNodeEditableOrClickable:function(t){return!(t.hasClass(this.getItemContentStyleClass())||t.hasClass(this.getExpandIconStyleClass())||t.hasClass(this.getCollapseIconStyleClass()))&&_.superclass.IsNodeEditableOrClickable.apply(this,arguments)},IsElementEditableOrClickable:function(t){return t.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)&&!t.hasClass(this.getItemContentStyleClass())||t.hasClass("oj-component")},_focusable:function(t){return s(t.data).is("li")?!s(t.data).hasClass("oj-disabled"):!s(t.parentElement).hasClass("oj-disabled")},_prepareListViewOptions:function(t){var e=s.extend({},t);return e.drillMode="none"!==t.drillMode?"collapsible":"none",e.selection=null!==t.selection?[t.selection]:[],e.selectionMode="single",e.item=s.extend({focusable:this._focusable},t.item),e.element=this._list,e},updateListViewOption:function(t,e){switch(t){case this.OPTION_DRILL_MODE:this.options[this.OPTION_DRILL_MODE]="none"!==e?"collapsible":"none";break;case this.OPTION_SELECTION:this.options[this.OPTION_SELECTION]=null!==e?[e]:[];break;case this.OPTION_ITEM:this.options[this.OPTION_ITEM]=s.extend({focusable:this._focusable},e);break;default:this.options[t]=e}},getRootLabel:function(){return this.ojContext.options.rootLabel?this.ojContext.options.rootLabel:this.ojContext.getTranslatedString("defaultRootLabel")},SetAriaProperties:function(){"tabbar"===this._getNavigationMode()&&this.ojContext.element.attr("aria-multiselectable",!1)},HandleFocus:function(t){return this.m_listHandler.HandleFocus(t)},HandleBlur:function(t){return this.m_listHandler.HandleBlur(t)},SetRootElementTabIndex:function(){this.ojContext.element.attr("tabIndex",0)},RemoveRootElementTabIndex:function(){this.ojContext.element.removeAttr("tabIndex")},UnsetAriaProperties:function(){this.ojContext.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},isLoadMoreOnScroll:function(){return!1},ShouldUseGridRole:function(){return!1},init:function(t){var e=this,i=t.ojContext.element;this._initNavigationMode(i),i.addClass(this.getNavListStyleClass()),n.isTouchSupported()&&i.addClass(this.getNavListTouchStyleClass()),this._list=i.children("ul:first"),0===this._list.length&&(this._list=s(document.createElement("ul")),i.append(this._list));var o=s(document.createElement("div"));o.addClass(this.getNavListContainerStyleClass()),o.attr("role","presentation"),this._list.wrap(o);var a=this._prepareListViewOptions(t);_.superclass.init.call(this,a),this.getListContainer().attr("role","presentation"),this.element.removeClass("oj-component-initnode"),this.ojContext._on(this.ojContext.element,{click:function(t){e.m_listHandler.HandleClick(t)},keydown:function(t){e.m_listHandler.HandleKeydown(t)},mouseup:function(t){e._clearActiveState(t)},mouseover:function(t){if(s(t.target).closest("a."+e.getItemContentStyleClass()).length>0){var i=s(t.target).closest("a."+e.getItemContentStyleClass()),n=i.find("."+e.getItemLabelStyleClass());n[0].offsetWidth<n[0].scrollWidth&&!i.attr("title")&&(i.attr("title",n.text().trim()),i.data(e._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION,"true"))}},mouseout:function(t){if(s(t.target).closest("a."+e.getItemContentStyleClass()).length>0){var i=s(t.target).closest("a."+e.getItemContentStyleClass());i.data(e._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION)&&(i.removeData(e._IS_TITLE_ATTR_ADDED_DUE_TO_TRUNCATION),i.removeAttr("title")),e._clearActiveState(t)}}})},_initListHandler:function(){var e=this.ojContext.options.drillMode,i=this.ojContext.options.edge;e===this.OPTION_DRILL_MODE_SLIDING?this.m_listHandler=new t.SlidingNavListHandler(this,this.ojContext.element,this.ojContext):e===this.OPTION_DRILL_MODE_COLLAPSIBLE?this.m_listHandler=new t.CollapsibleNavListHandler(this,this.ojContext.element,this.ojContext):e!==this.OPTION_DRILL_MODE_NONE||i!==this.OPTION_EDGE_TOP&&i!==this.OPTION_EDGE_BOTTOM?this.m_listHandler=new t.DefaultNavListHandler(this,this.ojContext.element,this.ojContext):this.m_listHandler=new t.HorizontalNavListHandler(this,this.ojContext.element,this.ojContext),this.m_listHandler.Init(this.options);var s=this.ojContext.options.navigationLevel;this._setNavigationLevel(s)},_setNavigationLevel:function(t){"none"===this.ojContext.options.drillMode&&("application"===t||"oj-navigation-list"===this.ojContext.element[0].tagName.toLowerCase()?(this.ojContext.element.addClass(this._APPLICATION_LEVEL_NAV_STYLE_CLASS),this.ojContext.element.removeClass(this._PAGE_LEVEL_NAV_STYLE_CLASS)):"page"===t&&(this.ojContext.element.addClass(this._PAGE_LEVEL_NAV_STYLE_CLASS),this.ojContext.element.removeClass(this._APPLICATION_LEVEL_NAV_STYLE_CLASS)))},_clearActiveState:function(t){var e=this.FindItem(s(t.target));null!=e&&this.HighlightUnhighlightElem(e,"oj-active",!1)},afterCreate:function(){this._initListHandler(),_.superclass.afterCreate.apply(this,arguments)},getAnimationEffect:function(t){return this.m_listHandler.GetAnimationEffect(t)},notifyAttached:function(){_.superclass.notifyAttached.apply(this,arguments),this.m_listHandler.NotifyAttached()},ShouldRegisterResizeListener:function(){return!0},HandleResize:function(t,e){var i=this;_.superclass.HandleResize.apply(this,arguments),t>0&&e>0&&null!=this.m_listHandler&&i.m_listHandler.HandleResize(t,e)},BeforeInsertItem:function(){this.m_listHandler.BeforeInsertItem()},HandleMouseDownOrTouchStart:function(t){_.superclass.HandleMouseDownOrTouchStart.apply(this,arguments);var e=this.FindItem(s(t.target));e&&!e.hasClass("oj-disabled")&&this.HighlightUnhighlightElem(e,"oj-active",!0)},HandleTouchEndOrCancel:function(t){this._clearActiveState(t),_.superclass.HandleTouchEndOrCancel.apply(this,arguments)},getItemContentStyleClass:function(){return this.ITEM_CONTENT_STYLE_CLASS[this._getNavigationMode()]},getNavListExpandedStyleClass:function(){return this.NAVLIST_EXPANDED_STYLE_CLASS[this._getNavigationMode()]},getNavListCollapsibleStyleClass:function(){return this.NAVLIST_COLLAPSIBLE_STYLE_CLASS[this._getNavigationMode()]},getNavListVerticalStyleClass:function(){return this.NAVLIST_VERTICAL_STYLE_CLASS[this._getNavigationMode()]},getNavListItemsDividerStyleClass:function(){return this.NAVLIST_DIVIDERS_STYLE_CLASS[this._getNavigationMode()]},getLastItemStyleClass:function(){return this.LAST_ITEM_STYLE_CLASS[this._getNavigationMode()]},getItemBadgeStyleClass:function(){return this._ITEM_BADGE_STYLE_CLASS[this._getNavigationMode()]},getDividerStyleClass:function(){return this.DIVIDER_STYLE_CLASS[this._getNavigationMode()]},getOverflowItemStyleClass:function(){return this.NAVLIST_OVERFLOW_MENU_ITEM[this._getNavigationMode()]},getOverflowMenuStyleClass:function(){return this.NAVLIST_OVERFLOW_MENU[this._getNavigationMode()]},getOverflowItemIconStyleClass:function(){return this.NAVLIST_OVERFLOW_ITEM_ICON[this._getNavigationMode()]},getCategoryDividerStyleClass:function(){return this._CATEGORY_DIVIDER_STYLE_CLASS[this._getNavigationMode()]},getItemLabelStyleClass:function(){return this._ITEM_LABEL_STYLE_CLASS[this._getNavigationMode()]},getIconOnlyStyleClass:function(){return this._ICON_ONLY_STYLE_CLASS[this._getNavigationMode()]},getStackedIconStyleClass:function(){return this._STACK_ICON_STYLE_CLASS[this._getNavigationMode()]},getItemIconStyleClass:function(){return this._ITEM_ICON_STYLE_CLASS[this._getNavigationMode()]},getHorizontalNavListStyleClass:function(){return this._HORIZONTAL_NAVLIST_STYLE_CLASS[this._getNavigationMode()]},getNavListEndEdgeStyleClass:function(){return this._NAVLIST_END_EDGE_STYLE_CLASS[this._getNavigationMode()]},getNavListBottomEdgeStyleClass:function(){return this._NAVLIST_BOTTOM_EDGE_STYLE_CLASS[this._getNavigationMode()]},getHasIconsStyleClass:function(){return this._NAVLIST_HAS_ICONS[this._getNavigationMode()]},getHasNoIconStyleClass:function(){return this._NAVLIST_ITEM_HAS_NO_ICON[this._getNavigationMode()]},getItemTitleStyleClass:function(){return this._NAVLIST_ITEM_TITLE[this._getNavigationMode()]},getNavListStyleClass:function(){return this._NAVLIST_STYLE_CLASS[this._getNavigationMode()]},getNavListTouchStyleClass:function(){return this._NAVLIST_TOUCH_STYLE_CLASS[this._getNavigationMode()]},getNavListContainerStyleClass:function(){return this._NAVLIST_LISTVIEW_CONTAINER_STYLE_CLASS[this._getNavigationMode()]},getNoFollowLinkStyleClass:function(){return this._NAVLIST_NO_FOLLOW_LINK_CLASS[this._getNavigationMode()]},getCondenseStyleClass:function(){return this.CONDENSE_STYLE_CLASS},getItemSubIdKey:function(){return this.isTabBar()?this.NAVLIST_ITEM_SUBID_KEY.tabbar:this.NAVLIST_ITEM_SUBID_KEY.navlist},GetContainerStyleClass:function(){return this._CONTAINER_STYLE_CLASS[this._getNavigationMode()]},GetStyleClass:function(){return this._ELEMENT_STYLE_CLASS[this._getNavigationMode()]},getEmptyTextMarkerClass:function(){return this._ELEMENT_EMPTY_TEXT_STYLE_CLASS[this._getNavigationMode()]},getEmptyTextStyleClass:function(){return this._ELEMENT_NO_DATA_MSG_STYLE_CLASS[this._getNavigationMode()]},getNavListRemoveIcon:function(){return"oj-tabbar-remove-icon"},getNavListRemoveCommand:function(){return"oj-tabbar-remove"},getRemovableStyleClass:function(){return"oj-removable"},getItemStyleClass:function(){return this._ITEM_STYLE_CLASS[this._getNavigationMode()]},getItemLayoutStyleClass:function(){return this.getItemStyleClass()},getFocusedElementStyleClass:function(){return this._FOCUSED_ELEMENT_STYLE_CLASS[this._getNavigationMode()]},getItemElementStyleClass:function(){return this._ITEM_ELEMENT_STYLE_CLASS[this._getNavigationMode()]},getCollapseIconStyleClass:function(){return"oj-navigationlist-collapse-icon"},getExpandIconStyleClass:function(){return"oj-navigationlist-expand-icon"},getDepthStyleClass:function(t){return"oj-navigationlist-depth-"+t},getGroupItemStyleClass:function(){return"oj-navigationlist-group-item"},getGroupStyleClass:function(){return"oj-navigationlist-group"},getGroupExpandStyleClass:function(){return"oj-navigationlist-collapsible-transition"},getGroupCollapseStyleClass:function(){return this.getGroupExpandStyleClass()},getStyleValues:function(){const e={};return Object.entries(_._CSS_Vars[this._getNavigationMode()]).forEach(([s,n])=>{"animation"===s?e.animation=t._ojListView.getComplexCSSVariable(n):e[s]=i.getCachedCSSVarValues([n])[0]}),e},getLoadingStatusIconStyleClass:function(){return this._LOADING_STATUS_ICON_STYLE_CLASS[this._getNavigationMode()]},getStatusMessageStyleClass:function(){return this._STATUS_MSG_STYLE_CLASS[this._getNavigationMode()]},getStatusStyleClass:function(){return this._STATUS_STYLE_CLASS[this._getNavigationMode()]},AnimateExpand:function(t,e,i){return this.m_listHandler.Expand(t,e,i)},AnimateCollapse:function(t,e,i,s){return this.m_listHandler.Collapse(t,e,i,s)},HandleArrowKeys:function(t,e,i){return!i.altKey&&this.m_listHandler.HandleArrowKeys(t,e,i)},IsArrowKey:function(t){return this.m_listHandler.IsArrowKey(t)},GetState:function(t){return this.m_listHandler.GetState(t)},SetState:function(t,e){this.m_listHandler.SetState(t,e)},HandleMouseClick:function(t){var e=s(t.target),i=this.FindItem(e);if(null!=i&&0!==i.length)if(e.hasClass(this.getNavListRemoveIcon())&&this.isTabBar())this._handleRemove(t,i);else if(this.SkipFocus(i))t.preventDefault();else if(!this.IsNodeEditableOrClickable(e)){var n=this.getItemContentElement(i),o=n.attr("href");o&&"#"!==o&&0===t.button&&(t.shiftKey||t.ctrlKey)||(_.superclass.HandleMouseClick.apply(this,arguments),t.preventDefault())}},HandleKeyDown:function(t){if(this.m_active){var e,i=t.keyCode,n=this.m_active.elem,o=this.m_active.key;if(i===s.ui.keyCode.HOME||i===s.ui.keyCode.END)e=i===s.ui.keyCode.HOME?this.element.find("."+this.getItemContentStyleClass()+":visible").first().closest("."+this.getItemElementStyleClass()):this.element.find("."+this.getItemContentStyleClass()+":visible").last().closest("."+this.getItemElementStyleClass()),this.SetCurrentItem(e,t),t.preventDefault();else if(i===s.ui.keyCode.DELETE&&this.isTabBar())this._handleRemove(t,n);else{var a=this.HandleSelectionOrActiveKeyDown(t),l=this.m_listHandler.HandleExpandAndCollapseKeys(t,i,n,o);(a=a||l||null!=this.m_dndContext&&this.m_dndContext.HandleKeyDown(t))&&t.preventDefault()}}},AvoidFocusHighLight:function(t){this._avoidFocusHighLight=t},RecentPointerCallback:function(){var t=this;return function(){return!!t._avoidFocusHighLight}},ShouldApplyHighlight:function(){return!0},ToggleSelection:function(t,e,i){var s=this.m_active.elem;if(this.IsSelectable(s[0])&&!this._isSelected(s)){var n=this._fireBeforeSelectEvent(t,s);n&&(_.superclass.ToggleSelection.apply(this,arguments),this._initiateNavigation(s))}},HighlightUnhighlightElem:function(t,e,i){var o=s(t);"oj-selected"===e&&this.m_listHandler.UpdateAriaPropertiesOnSelectedItem(this.getFocusItem(o),i);var a=o.children("."+this.getGroupItemStyleClass());a.length>0&&(o=s(a[0])),"oj-focus"===e?i?this._focusInHandler(o):this._focusOutHandler(o):i?o.addClass(e):o.removeClass(e),o.hasClass("oj-selected")||o.hasClass("oj-hover")||o.hasClass("oj-active")||o.hasClass("oj-disabled")?(o.hasClass(this.getRemovableStyleClass())&&this.isTabBar()&&o.find("."+this.getNavListRemoveIcon()).css("visibility","visible"),o.removeClass("oj-default")):(this.isTabBar()&&!n.isTouchSupported()&&o.find("."+this.getNavListRemoveIcon()).css("visibility","hidden"),o.addClass("oj-default"))},IsSelectable:function(t){return!s(t).hasClass("oj-disabled")&&this.m_listHandler.IsSelectable(s(t))},Trigger:function(t,e,i){return"ready"===t||this.ojContext._trigger(t,e,i)},SetOption:function(t,e,i){if(this.m_listHandler.IsOptionUpdateAllowed(t,e,i)){var s=null;if("selection"===t){var n=i._context,o=n&&n.extraData&&n.extraData.items;o&&(this.ojContext._IsCustomElement()?0===o.length?n.extraData.item=null:n.extraData.item=o[0]:n.extraData.item=o,n.extraData.items=void 0),e&&e.length>0&&(s=e[0]),this._fireDeselectEvent(n.originalEvent,o,e)}else s=e;this.ojContext.option(t,s,i),this.options[t]=e,this.m_listHandler.OptionUpdated(t,s,i)}},ShouldRefresh:function(t){return null!=t.data||null!=t.drillMode||null!=t.item||null!=t.display||null!=t.layout||null!=t.edge},setOptions:function(t,e){var i,s={skipOptions:[]};return this.m_listHandler.SetOptions(t),void 0!==t.navigationLevel&&this._setNavigationLevel(t.navigationLevel),void 0!==t.selection&&(i=t.selection),s.needRefresh=_.superclass.setOptions.call(this,t,e),void 0!==i&&void 0===t.selection&&s.skipOptions.push("selection"),void 0!==i&&(t.selection=i),s},compareValues:function(e,i){return e===i||t.Object.compareValues(e,i)},HandleSelectionOption:function(t){if(void 0!==t.selection){var e=t.selection;if(e){var i=this.GetOption("selection");if(i&&0!==i.length&&this.compareValues(i[0],e))delete t.selection;else{var n=this.FindElementByKey(e);if(!n||this.IsSelectable(n))this._fireBeforeSelectEvent(null,s(n),e)?(this._fireDeselectEvent(null,n,e),t.selection=[e],this.m_listHandler.HandleSelectionChange(n),n&&this._initiateNavigation(s(n))):delete t.selection;else delete t.selection}}else t.selection=[]}_.superclass.HandleSelectionOption.call(this,t)},GetOption:function(t){var e=this.ojContext.option(t);return"selection"===t?e?[e]:[]:("item"!==t||e.focusable||(e.focusable=this._focusable),null===e?this.options[t]:e)},getWidgetConstructor:function(){return e.__GetWidgetConstructor(this.ojContext.element)},SelectAndFocus:function(t,e){t.hasClass("oj-disabled")||this.IsSelectable(t[0])&&(!this._isSelected(t)&&this._fireBeforeSelectEvent(e,t)?(_.superclass.SelectAndFocus.apply(this,arguments),this._initiateNavigation(t)):this.HandleClickActive(t,e))},isTabBar:function(){return this.ojContext.element[0].tagName.toLowerCase()===this.TAG_NAME_TAB_BAR},_fireBeforeDeselectEvent:function(t,e,i){i||(i=this.GetKey(e[0]));var s=this.GetOption("selection"),n=this.FindElementByKey(s);return this.Trigger("beforeDeselect",t,{toItem:e,toKey:i,fromItem:n,fromKey:s})},_fireBeforeSelectEvent:function(t,e,i){var s=!0;return i||(i=this.GetKey(e[0])),this.isTabBar()&&(s=this._fireBeforeDeselectEvent(t,e,i)),s&&this.Trigger("beforeSelect",t,{item:e,key:i})},_fireRemoveEvent:function(t,e){var i=this.GetKey(e[0]);return this.Trigger("beforeRemove",t,{item:e,key:i})&&this.Trigger("remove",t,{item:e,key:i})},_fireDeselectEvent:function(t,e,i){var s=this.GetOption("selection"),n=this.FindElementByKey(s);this.Trigger("deselect",t,{toItem:e,toKey:i,fromItem:n,fromKey:s})},_initiateNavigation:function(t){if(this.ojContext.element.hasClass(this.getNoFollowLinkStyleClass()))return!1;var e=this.getItemContentElement(t),i=e.attr("href"),s=e.attr("target");return!(!i||"#"===i)&&(s&&"_self"!==s?window.open(i,s):window.location.href=i,!0)},_isSelected:function(t){var e=this.GetOption("selection"),i=this.GetKey(t[0]);return!(!e||1!==e.length||!this.compareValues(e[0],i))},_setToolTipOnIcon:function(t,e){t.attr("title")||t.attr("title",e)},_removeToolTipOnIcon:function(t){t.data(this._NAVLIST_ITEM_ICON_HAS_TITLE)?t.removeData(this._NAVLIST_ITEM_ICON_HAS_TITLE):t.removeAttr("title")},GetRootElement:function(){return this.ojContext.element},getSingleFocusableElement:function(t){var e=this,i="a, input, select, textarea, button",n=t.children(i).filter(function(){return!s(this).hasClass(e.getNavListRemoveIcon())});return 1===n.length&&0===n.first().find(i).length?n.first():t},PrepareContextMenu:function(t){var e=this.ojContext._GetContextMenu();if(null!=this.m_dndContext&&e&&this.m_dndContext.prepareContextMenu(e),t.hasClass(this.getRemovableStyleClass())&&e){this.m_contextMenu!==e&&(this.m_contextMenu=e,e.addEventListener("ojBeforeOpen",this._handleContextMenuBeforeOpen.bind(this)),e.addEventListener("ojAction",this._handleContextMenuSelect.bind(this)));var i=s(e).find("[data-oj-command="+this.getNavListRemoveCommand()+"]"),n=this.ojContext.getTranslatedString("labelRemove");this.ojContext._IsCustomElement()?i.empty().append(document.createTextNode(n)):i.empty().append(s('<a href="#"></a>').text(n)),e.refresh()}},_handleContextMenuSelect:function(t){s(t.target).attr("data-oj-command")===this.getNavListRemoveCommand()&&this._handleRemove(t,this.m_contextMenuItem)},_handleContextMenuBeforeOpen:function(t){this.m_contextMenuItem=t.detail.openOptions.launcher},_handleRemove:function(t,e){e.hasClass(this.getRemovableStyleClass())&&this._fireRemoveEvent(t,e)},_wrapInner:function(t,e){for(var i=t.childNodes;i.length>0;)e.appendChild(i[0]);t.appendChild(e)},itemRenderComplete:function(t,e){var i=s(t),o=this;if(i.hasClass(this.getCategoryDividerStyleClass()))return i.removeClass(this.getItemElementStyleClass()),i.removeClass(this.getFocusedElementStyleClass()),i.removeClass(this.getItemStyleClass()),i.removeAttr("aria-selected"),i.children().remove(),void i.attr("role","separator");var a,l=this.getGroupItemStyleClass(),r=this.getCollapseIconStyleClass(),h=this.getExpandIconStyleClass(),d=this.getItemIconStyleClass(),u=this.getItemBadgeStyleClass(),m=i.children("."+l);if(m.length>0){m.addClass(this.getItemStyleClass()),a=m.children(":not(."+h+"):not(."+r+")");var c=m.children("."+h);0===c.length&&(c=m.children("."+r)),c.attr("role","presentation"),c.attr("tabindex","-1"),c.removeAttr("aria-labelledby"),i.hasClass("oj-disabled")&&m.addClass("oj-disabled")}else a=i.children().first();if(a.length>0){a.addClass(this.getItemContentStyleClass());var g=a.find("."+d),p=a.find("."+u),v=document.createElement("span");if(v.classList.add(this.getItemLabelStyleClass()),this._wrapInner(a[0],v),p.length>0&&p.insertAfter(v),g.length>0){if(g.insertBefore(v),g.attr("title")&&g.data(this._NAVLIST_ITEM_ICON_HAS_TITLE,g.attr("title")),"icons"===this.ojContext.options.display){this.ojContext.element.addClass(this.getIconOnlyStyleClass());var C=this.getItemLabel(i);g.attr("aria-label",C),g.attr("role","img"),this._setToolTipOnIcon(g,C)}if("stacked"===this.ojContext.options.display){this.ojContext.element.hasClass(this.getStackedIconStyleClass())||(this.ojContext.element.addClass(this.getStackedIconStyleClass()),this.isStackedIconClassAdded=!0);var f=this.getItemLabel(i);g.attr("aria-label",f),g.attr("role","img"),this._setToolTipOnIcon(g,f)}this.element.closest("ul").addClass(o.getHasIconsStyleClass())}else a.addClass(this.getHasNoIconStyleClass())}if(i.hasClass("oj-disabled")?this.getFocusItem(i).attr("aria-disabled","true"):m.length>0?m.addClass("oj-default"):i.addClass("oj-default"),i.hasClass(this.getRemovableStyleClass())&&this.isTabBar()){var S=s("<a>");S.addClass(this.getNavListRemoveIcon()).addClass("oj-clickable-icon-nocontext oj-component-icon").attr("aria-label",this.ojContext.getTranslatedString("removeCueText")).attr("role","presentation").attr("aria-hidden","true"),n.isTouchSupported()||i.hasClass("oj-disabled")?S.css("visibility","visible"):S.css("visibility","hidden"),i.append(S),a.attr("aria-describedby",S.uniqueId().attr("id"))}this.m_listHandler.ModifyListItem(i,a),_.superclass.itemRenderComplete.apply(this,arguments)},DestroyContentHandler:function(t){var e=this.GetOption("data");null===e&&this._restoreContent(this.element),_.superclass.DestroyContentHandler.apply(this,arguments)},getNodeBySubId:function(t){if(null==t)return this.ojContext.element?this.ojContext.element[0]:null;var e=this.m_listHandler.GetNodeBySubId(t);if(!e&&t.subId===this.getItemSubIdKey()){var i=t.key;e=this.FindElementByKey(i)}return e},getSubIdByNode:function(t){var e=null;if(null!=t&&!(e=this.m_listHandler.GetSubIdByNode(t))){var i=this.FindItem(t);if(null!=i&&i.length>0){var s=this.GetKey(i[0]);null!=s&&(e={subId:this.getItemSubIdKey(),key:s})}}return e},getContextByNode:function(t){var e=_.superclass.getContextByNode.call(this,t);return e&&"oj-listview-item"===e.subId?(e.subId=this.getItemSubIdKey(),e):null},refresh:function(){this._resetNavlist(),this._initListHandler(),_.superclass.refresh.apply(this,arguments)},_resetNavlist:function(){this.ojContext.element.removeClass(this.getIconOnlyStyleClass()),this.isStackedIconClassAdded&&this.ojContext.element.removeClass(this.getStackedIconStyleClass()),this.ojContext.element.removeClass(this.getCondenseStyleClass()),this.ojContext.element.removeClass(this._APPLICATION_LEVEL_NAV_STYLE_CLASS),this.ojContext.element.removeClass(this._PAGE_LEVEL_NAV_STYLE_CLASS),this._restoreContent(this.element),this.m_listHandler.Destroy()},destroy:function(){this._resetNavlist(),_.superclass.destroy.apply(this,arguments),this._list.unwrap(),this._list.is(":empty")&&this._list.remove(),this.ojContext.element.removeClass(this.getNavListStyleClass()+" "+this.getNavListTouchStyleClass()),this.ojContext._off(this.element,"click"),this.ojContext._off(this.element,"focus"),this.ojContext._off(this.element,"blur"),this.ojContext._off(this.element,"mouseover"),this.ojContext._off(this.element,"mousein"),this.ojContext._off(this.element,"mouseout"),this.ojContext._off(this.element,"keydown")}});_._CSS_Vars={navlist:{animation:{addHorizontalItem:"--oj-private-navigation-list-global-horizontal-add-animation-default",removeHorizontalItem:"--oj-private-navigation-list-global-horizontal-remove-animation-default",add:"--oj-private-navigation-list-global-add-animation-default",remove:"--oj-private-navigation-list-global-remove-animation-default",update:"--oj-private-navigation-list-global-update-animation-default",expand:"--oj-private-navigation-list-global-expand-animation-default",collapse:"--oj-private-navigation-list-global-collapse-animation-default",sliderExpand:"--oj-private-navigation-list-global-slider-expand-animation-default",sliderCollapse:"--oj-private-navigation-list-global-slider-collapse-animation-default",pointerUp:"--oj-private-navigation-list-global-pointer-up-animation-default"},hierarchyMenuDisplayThresholdLevel:"--oj-private-navigation-list-global-hierarchy-menu-threshold-default",showIndicatorDelay:"--oj-private-core-global-loading-indicator-delay-duration"},tabbar:{animation:{addHorizontalItem:"--oj-private-tab-bar-global-horizontal-add-animation-default",removeHorizontalItem:"--oj-private-tab-bar-global-horizontal-remove-animation-default",add:"--oj-private-tab-bar-global-add-animation-default",remove:"--oj-private-tab-bar-global-remove-animation-default",update:"--oj-private-tab-bar-global-update-animation-default",pointerUp:"--oj-private-tab-bar-global-pointerUp-animation-default"},showIndicatorDelay:"--oj-private-core-global-loading-indicator-delay-duration"}},t.__registerWidget("oj.ojNavigationList",s.oj.baseComponent,{widgetEventPrefix:"oj",options:{as:"",currentItem:null,drillMode:"none",reorderable:"disabled",truncation:"none",edge:"start",hierarchyMenuDisplayThresholdLevel:0,rootLabel:null,selection:null,expanded:new t._ojListViewExpandedKeySet,data:null,display:"all",navigationLevel:"page",overflow:"hidden",item:{renderer:null,selectable:!0},animateStart:null,animateEnd:null,beforeSelect:null,beforeCollapse:null,beforeCurrentItem:null,beforeDeselect:null,collapse:null,deselect:null,beforeExpand:null,expand:null,reorder:null},_ComponentCreate:function(){this._super(),this._setup()},_AfterCreate:function(){this._super();var t=this;this.navlist._FixRendererContext=function(e){return t._FixRendererContext(e)},this.navlist._WrapCustomElementRenderer=function(e){return t._WrapCustomElementRenderer(e)},this.navlist.afterCreate()},_NotifyContextMenuGesture:function(t,e,i){this.navlist.notifyContextMenuGesture(t,e,i)},_setup:function(){this.navlist=new _;for(var t=Object.keys(this.options),e=0;e<t.length;e++){var i=t[e];this._validateOptionValues(i,this.options[i])}this._validateOptionsForIconsOnlyAndHorizontalList(this.options[this.navlist.OPTION_DRILL_MODE],this.options[this.navlist.OPTION_DISPLAY],this.options[this.navlist.OPTION_EDGE]);var n={ojContext:this};n=s.extend(this.options,n),this.navlist.init(n)},getNodeBySubId:function(t){return this.navlist.getNodeBySubId(t)},getSubIdByNode:function(t){return this.navlist.getSubIdByNode(t)},getContextByNode:function(t){return this.navlist.getContextByNode(t)},expand:function(t,e,i){this.navlist.expandKey(t,e,!0,!0,i)},collapse:function(t,e,i){this.navlist.collapseKey(t,e,!0,i)},getExpanded:function(){return this.navlist.getExpanded()},_validateOptionsForIconsOnlyAndHorizontalList:function(t,e,i){if(t!==this.navlist.OPTION_DRILL_MODE_NONE){if(e===this.navlist.OPTION_DISPLAY_ICONS)throw new Error("Icon only navigation list should have drillMode set to 'none'.");if(e===this.navlist.OPTION_DISPLAY_STACKED)throw new Error("Stack only navigation list should have drillMode set to 'none'.");if(i===this.navlist.OPTION_EDGE_TOP)throw new Error("Horizontal navigation list should have drillMode set to 'none'.")}},_validateOptionValues:function(t,e){var i=!0;if(t===this.navlist.OPTION_DRILL_MODE?i=e===this.navlist.OPTION_DRILL_MODE_NONE||e===this.navlist.OPTION_DRILL_MODE_COLLAPSIBLE||e===this.navlist.OPTION_DRILL_MODE_SLIDING:t===this.navlist.OPTION_DISPLAY?i=e===this.navlist.OPTION_DISPLAY_ALL||e===this.navlist.OPTION_DISPLAY_ICONS||e===this.navlist.OPTION_DISPLAY_STACKED:t===this.navlist.OPTION_EDGE&&(i=this.element[0].tagName.toLowerCase()===this.navlist.TAG_NAME_TAB_BAR?e===this.navlist.OPTION_EDGE_TOP||e===this.navlist.OPTION_EDGE_START||e===this.navlist.OPTION_EDGE_END||e===this.navlist.OPTION_EDGE_BOTTOM:e===this.navlist.OPTION_EDGE_TOP||e===this.navlist.OPTION_EDGE_BOTTOM||e===this.navlist.OPTION_EDGE_START),!i)throw new Error("Invalid value: "+e+" for key: "+t)},_setOption:function(t,e){var i,n;switch(this._validateOptionValues(t,e),t){case this.navlist.OPTION_DRILL_MODE:this._validateOptionsForIconsOnlyAndHorizontalList(e,this.options[this.navlist.OPTION_DISPLAY],this.options[this.navlist.OPTION_EDGE]);break;case this.navlist.OPTION_DISPLAY:this._validateOptionsForIconsOnlyAndHorizontalList(this.options[this.navlist.OPTION_DRILL_MODE],e,this.options[this.navlist.OPTION_EDGE]);break;case this.navlist.OPTION_EDGE:this._validateOptionsForIconsOnlyAndHorizontalList(this.options[this.navlist.OPTION_DRILL_MODE],this.options[this.navlist.OPTION_DISPLAY],e);break;case this.navlist.OPTION_SELECTION:case this.navlist.OPTION_CURRENT_ITEM:this.navlist.isAvailable()&&(n=this.navlist.getItems([e])[0],i={_context:{extraData:{item:this._IsCustomElement()?n:s(n)}}})}return this.navlist.updateListViewOption(t,e),i?this._super(t,e,i):this._super(t,e)},_setOptions:function(t,e){if(!this.navlist.isAvailable())return this._super(t,e),this;for(var i=this.navlist.setOptions(t,e),s={},n=Object.keys(t),o=0;o<n.length;o++){var a=n[o];i.skipOptions.indexOf(a)<0&&(s[a]=t[a])}return this._super(s,e),i.needRefresh&&this.navlist.refresh(),this},_NotifyAttached:function(){this.navlist.notifyAttached()},_NotifyDetached:function(){this.navlist.notifyDetached()},_NotifyShown:function(){this.navlist.notifyShown()},_VerifyConnectedForSetup:function(){return!0},refresh:function(){this._super(),this.navlist.refresh()},whenReady:function(){return this.navlist.whenReady()},_SetupResources:function(){this._super(),this.navlist.setupResources()},_ReleaseResources:function(){this._super(),this.navlist.releaseResources()},_destroy:function(){this.navlist.destroy(),this._super()},_CompareOptionValues:function(e,i,s){switch(e){case"currentItem":case"selection":return t.Object.compareValues(i,s);default:return this._super(e,i,s)}}}),e.setDefaultOptions({ojNavigationList:{hierarchyMenuDisplayThresholdLevel:e.createDynamicPropertyGetter(function(){const t=_._CSS_Vars.navlist.hierarchyMenuDisplayThresholdLevel;return+i.getCachedCSSVarValues([t])[0]})}});const u=function(t,e,i){this.m_widget=t,this.m_root=e,this.m_component=i,this.m_widget.GetOption(this.m_widget.OPTION_EDGE)===this.m_widget.OPTION_EDGE_END&&this.m_root.addClass(this.m_widget.getNavListEndEdgeStyleClass())};oj._registerLegacyNamespaceProp("DefaultNavListHandler",u),u.prototype.Destroy=function(){this.m_root.removeClass(this.m_widget.getNavListExpandedStyleClass()).removeClass(this.m_widget.getNavListVerticalStyleClass()).removeClass(this.m_widget.getNavListEndEdgeStyleClass())},u.prototype.Expand=function(t,e,i){return Promise.resolve(null)},u.prototype.Collapse=function(t,e,i,s){return Promise.resolve(null)},u.prototype.HandleExpandAndCollapseKeys=function(t,e,i,s){return!1},u.prototype.ModifyListItem=function(t,e){this.m_widget.isTabBar()&&this.m_widget.getSingleFocusableElement(t).attr("role","tab")},u.prototype.UpdateAriaPropertiesOnSelectedItem=function(t,e){t.attr("aria-selected",e?"true":"false")},u.prototype.BeforeRenderComplete=function(){var t=this.m_widget.element.attr("role");t&&"presentation"!==t&&(this.m_widget.element.attr("role","presentation"),this.m_widget.isTabBar()?this.m_root.attr("role","tablist"):this.m_root.attr("role",t))},u.prototype.ItemInsertComplete=function(t,e){},u.prototype.ItemRemoveComplete=function(t){},u.prototype.HandleArrowKeys=function(t,e,i){return _.superclass.HandleArrowKeys.apply(this.m_widget,arguments)},u.prototype.IsArrowKey=function(t){return _.superclass.IsArrowKey.apply(this.m_widget,arguments)},u.prototype.GetState=function(t){return _.superclass.GetState.apply(this.m_widget,arguments)},u.prototype.SetState=function(t,e){_.superclass.SetState.apply(this.m_widget,arguments)},u.prototype.Init=function(t){this.m_root.addClass(this.m_widget.getNavListExpandedStyleClass()).addClass(this.m_widget.getNavListVerticalStyleClass())},u.prototype.IsSelectable=function(t){return _.superclass.IsSelectable.apply(this.m_widget,arguments)},u.prototype.RestoreItem=function(t,e,i){},u.prototype.SetOptions=function(t){},u.prototype.HandleBlur=function(t){return _.superclass.HandleBlur.apply(this.m_widget,arguments)},u.prototype.HandleFocus=function(t){return _.superclass.HandleFocus.apply(this.m_widget,arguments)},u.prototype.GetNodeBySubId=function(t){return null},u.prototype.GetSubIdByNode=function(t){return null},u.prototype.HandleResize=function(t,e){},u.prototype.NotifyAttached=function(){},u.prototype.GetAnimationEffect=function(t){return _.superclass.getAnimationEffect.apply(this.m_widget,arguments)},u.prototype.IsOptionUpdateAllowed=function(t,e,i){return!0},u.prototype.OptionUpdated=function(t,e,i){},u.prototype.BeforeInsertItem=function(){},u.prototype.HandleClick=function(t){},u.prototype.HandleKeydown=function(t){},u.prototype.HandleSelectionChange=function(t){};const m=function(t,e,i){m.superclass.constructor.call(this,t,e,i)};t.Object.createSubclass(m,u,"oj.CollapsibleNavListHandler"),t._registerLegacyNamespaceProp("CollapsibleNavListHandler",m),m.prototype.Destroy=function(){this.m_root.removeClass(this.m_widget.getNavListCollapsibleStyleClass()).removeClass(this.m_widget.getNavListVerticalStyleClass())},m.prototype.Init=function(t){this.m_root.addClass(this.m_widget.getNavListCollapsibleStyleClass()).addClass(this.m_widget.getNavListVerticalStyleClass())},m.prototype.Expand=function(t,e,i){return _.superclass.AnimateExpand.apply(this.m_widget,arguments)},m.prototype.Collapse=function(t,e,i,s){return _.superclass.AnimateCollapse.apply(this.m_widget,arguments)},m.prototype.HandleExpandAndCollapseKeys=function(t,e,i,n){var o=i.children("."+this.m_widget.getGroupStyleClass()).length>0;return e===this.m_widget.LEFT_KEY||e===this.m_widget.RIGHT_KEY?(e===this.m_widget.LEFT_KEY&&!this.m_widget.isRtl()||e===this.m_widget.RIGHT_KEY&&this.m_widget.isRtl()?this.m_widget.GetState(i)===this.m_widget.STATE_EXPANDED&&this.m_widget.CollapseItem(i,t,!0,n,!0,!0):this.m_widget.GetState(i)===this.m_widget.STATE_COLLAPSED&&this.m_widget.ExpandItem(i,t,!0,n,!0,!0,!0),!0):!(!o||e!==s.ui.keyCode.ENTER&&e!==s.ui.keyCode.SPACE)&&(!(i.length<=0)&&(this.m_widget.GetState(i)===this.m_widget.STATE_COLLAPSED?this.m_widget.ExpandItem(i,null,!0,n,!0,!0,!0):this.m_widget.GetState(i)===this.m_widget.STATE_EXPANDED&&this.m_widget.CollapseItem(i,null,!0,n,!0,!0),!0))};const c=function(t,e,i){this.m_duringInit=!0,c.superclass.constructor.call(this,t,e,i),this.m_widget.GetOption(this.m_widget.OPTION_EDGE)===this.m_widget.OPTION_EDGE_BOTTOM&&this.m_root.addClass(this.m_widget.getNavListBottomEdgeStyleClass())};t.Object.createSubclass(c,u,"oj.HorizontalNavListHandler"),t._registerLegacyNamespaceProp("HorizontalNavListHandler",c),c.prototype.Destroy=function(){this.m_root.removeClass(this.m_widget.getNavListExpandedStyleClass()).removeClass(this.m_widget.getHorizontalNavListStyleClass()).removeClass(this.m_widget.getNavListBottomEdgeStyleClass()),this.m_root.find("."+this.m_widget.getDividerStyleClass()).remove(),this._destroyOverflowMenu(),null!=this.m_overflowMenuItem&&(this.m_overflowMenuItem.remove(),this.m_overflowMenuItem=null),this.m_overflowMenuItems=[],this.m_duringInit=!0},c.prototype.UpdateAriaPropertiesOnSelectedItem=function(t,e){t.attr(this._isTabBar()?"aria-selected":"aria-pressed",e?"true":"false")},c.prototype._isTabBar=function(){return this.m_widget.isTabBar()},c.prototype.HandleArrowKeys=function(t,e,i){"ArrowLeft"===t||"Left"===t||t===s.ui.keyCode.LEFT?t=this.m_widget.isRtl()?s.ui.keyCode.DOWN:s.ui.keyCode.UP:"ArrowRight"!==t&&"Right"!==t&&t!==s.ui.keyCode.RIGHT||(t=this.m_widget.isRtl()?s.ui.keyCode.UP:s.ui.keyCode.DOWN);var n=_.superclass.HandleArrowKeys.call(this.m_widget,t,e,i);return this.m_widget.m_active.elem[0].scrollIntoView(!1),n},c.prototype.IsArrowKey=function(t){return"ArrowUp"===t||"Up"===t||t===this.m_widget.UP_KEY||"ArrowDown"===t||"Down"===t||t===this.m_widget.DOWN_KEY||"ArrowLeft"===t||"Left"===t||t===this.m_widget.LEFT_KEY||"ArrowRight"===t||"Right"===t||t===this.m_widget.RIGHT_KEY},c.prototype.ModifyListItem=function(t,e){var i=this.m_widget.getSingleFocusableElement(t);i.attr("role",this._isTabBar()?"tab":"button"),!this._isTabBar()&&i[0].hasAttribute("aria-selected")&&(i.attr("aria-pressed","false"),i.removeAttr("aria-selected"))},c.prototype.BeforeRenderComplete=function(){var t=this;this._isTabBar()?this.m_root.attr("role","tablist"):this.m_root.attr("role","toolbar"),this.m_widget.element.attr("role","presentation"),"condense"===this.m_widget.GetOption("layout")&&(this.m_root.hasClass(this.m_widget.getCondenseStyleClass())||this.m_root.addClass(this.m_widget.getCondenseStyleClass()));var e=this.m_widget.element.find("."+this.m_widget.getItemElementStyleClass()+":visible");e.each(function(i){var n=s(this);i>0&&t._addSeparator(this,i),i===e.length-1?n.addClass(t.m_widget.getLastItemStyleClass()):n.removeClass(t.m_widget.getLastItemStyleClass())}),this.m_duringInit&&(this.m_duringInit=!1,this._handleOverflow())},c.prototype._addSeparator=function(t,e){var i=s(t),n=i.prev();e>0&&n.length&&!n.is("li."+this.m_widget.getDividerStyleClass())&&i.before('<li role="separator" class="'+this.m_widget.getDividerStyleClass()+'"></li>')},c.prototype.ItemInsertComplete=function(t,e){this._addSeparator(t,e.index),this._handleOverflow()},c.prototype.ItemRemoveComplete=function(t){var e=s(t),i=e.prev();if(i.length&&i.is("li."+this.m_widget.getDividerStyleClass()))i.remove();else{var n=e.next();n.is("li."+this.m_widget.getDividerStyleClass())&&n.remove()}this._handleOverflow()},c.prototype.IsSelectable=function(t){var e="aria-selected";return this._isTabBar()||(e="aria-pressed"),!(this.m_overflowMenuItem&&this.m_overflowMenuItem[0]===s(t)[0])&&this.m_widget.getFocusItem(s(t))[0].hasAttribute(e)},c.prototype.Init=function(t){this.m_root.addClass(this.m_widget.getNavListExpandedStyleClass()).addClass(this.m_widget.getHorizontalNavListStyleClass()),this.m_overflowMenuItems=[]},c.prototype.HandleClick=function(t){s(t.target).closest("."+this.m_widget.getOverflowItemStyleClass()+" a."+this.m_widget.getItemContentStyleClass()).length>0&&this._launchOverflowMenu(t)},c.prototype.HandleKeydown=function(t){s(t.target).closest("."+this.m_widget.getOverflowItemStyleClass()+" a."+this.m_widget.getItemContentStyleClass()).length>0&&t.keyCode===s.ui.keyCode.SPACE&&this._launchOverflowMenu(t)},c.prototype.NotifyAttached=function(){this._handleOverflow()},c.prototype.HandleResize=function(t,e){this.m_ignoreNextResize?this.m_ignoreNextResize=!1:this._handleOverflow()},c.prototype.SetOptions=function(t){var e,i,s=this.m_widget.GetOption("overflow"),n=this.m_widget.GetOption("truncation");t.overflow&&s!==t.overflow&&(e=t.overflow),t.truncation&&n!==t.truncation&&(i=t.truncation),(e||i)&&this._handleOverflow(e,i)},c.prototype.HandleSelectionChange=function(t){this.m_overflowMenuItem&&("none"===t.style.display?this._highlightUnhighlightMoreItem(!0):this._highlightUnhighlightMoreItem(!1))},c.prototype.GetAnimationEffect=function(t){return"add"===t||"remove"===t?_.superclass.getAnimationEffect.call(this.m_widget,t+"HorizontalItem"):_.superclass.getAnimationEffect.apply(this.m_widget,arguments)},c.prototype.GetNodeBySubId=function(t){var e=null;if(t.subId===this.m_widget.getItemSubIdKey()&&this.m_overflowMenuItems.length>0)for(var i=this._getOverflowMenu(),n=t.key,o=i.find(".oj-menu-item"),a=0;a<o.length;a++)if(this.m_widget.compareValues(s(o[a]).data("key"),n)){e=o[a],this._launchOverflowMenu(null);break}return e},c.prototype.GetSubIdByNode=function(t){var e=null,i=s(t).closest(".oj-menu-item");if(null!==this._getOverflowMenu()&&i.closest("."+this.m_widget.getOverflowMenuStyleClass())[0]!==this._getOverflowMenu()[0])return null;if(null!=i&&i.length>0){var n=i.data("key");null!=n&&(e={subId:this.m_widget.getItemSubIdKey(),key:n})}return e},c.prototype.OptionUpdated=function(t,e,i){"selection"===t&&this._toggleOverflowBtnSelection(e)},c.prototype.IsOptionUpdateAllowed=function(t,e,i){return"currentItem"!==t||!this.m_overflowMenuItem||this.m_overflowMenuItem.attr("id")!==e};var g=function(t,e,i,s){this._overflow=e,this._truncation=i,this._items=t,this._navlistHandler=s};c.prototype._handleOverflow=function(t,e){var i=-1,s=this._getItems();if(0!==s.length){t||(t=this.m_widget.GetOption("overflow")),e||(e=this.m_widget.GetOption("truncation"));var n=new g(s,t,e,this);if(!n.shouldHandleOverflow())return n.unApplyTruncation(),void this._releaseContainerWidth();this.showAllItems(s,t),n.unApplyTruncation(),n.checkForOverflow()&&n.applyTruncation()&&(i=n.getOverflowThreshold()),this._applyThreshold(i),this._releaseContainerWidth()}},c.prototype.BeforeInsertItem=function(){this._fixContainerWidth()},c.prototype._fixContainerWidth=function(){var t=this.m_widget.getListContainer(),e=t[0].getBoundingClientRect().width;0!==e&&(this.m_freezedContainerWidth=e,t.css("maxWidth",e))},c.prototype._releaseContainerWidth=function(){this.m_widget.getListContainer().css("maxWidth","none"),this.m_freezedContainerWidth&&(this.m_ignoreNextResize=!0,this.m_freezedContainerWidth=null)},c.prototype.showAllItems=function(t,e){var i=this;"popup"===e&&this._showOrHideItem(this._getOverflowMenuButton(),!0),t.each(function(t,e){i._showOrHideItem(s(e),!0)})},c.prototype._getItems=function(){return this.m_root.find("."+this.m_widget.getItemElementStyleClass()+":not(."+this.m_widget.getOverflowItemStyleClass()+")")},c.prototype._hasSeparators=function(){return this.m_root.hasClass(this.m_widget.getNavListItemsDividerStyleClass())},c.prototype._showOrHideItem=function(t,e){var i;this._hasSeparators()&&(i=t.prev("."+this.m_widget.getDividerStyleClass())),e?(t.show(),i&&i.show()):(t.hide(),i&&i.hide())},c.prototype._applyThreshold=function(t){var e,i,n=this,o=this._getItems(),a=[];if(0!==o.length){this.m_root.find("."+this.m_widget.getLastItemStyleClass()).removeClass(this.m_widget.getLastItemStyleClass()),-1===t||t>=o.length?this.m_overflowMenuItem&&this._showOrHideItem(this.m_overflowMenuItem,!1):(this._addSeparator(this._getOverflowMenuButton(),o.length),this._showOrHideItem(this._getOverflowMenuButton(),!0),i=!0),o.each(function(i,o){var l=s(o);if(-1!==t&&t<=i){l.hasClass("oj-focus")&&n.m_widget.ActiveAndFocus(n._getOverflowMenuButton(),null),l.hasClass("oj-selected")&&n._highlightUnhighlightMoreItem(!0),n._showOrHideItem(l,!1);var r={};a.push(r),r.key=n.m_widget.GetKey(o),r.label=n._getItemLabel(l),l.hasClass("oj-disabled")&&(r.disabled=!0)}else e=l,n._showOrHideItem(l,!0),l.hasClass("oj-selected")&&n.m_overflowMenuItem&&n._highlightUnhighlightMoreItem(!1),n.m_overflowMenuItem&&n.m_overflowMenuItem.hasClass("oj-focus")&&n.m_widget.compareValues(n.m_widget.GetKey(o),n.m_widget.GetOption("currentItem"))&&n.m_widget.ActiveAndFocus(e,null)}),i?this._getOverflowMenuButton().addClass(this.m_widget.getLastItemStyleClass()):e.addClass(this.m_widget.getLastItemStyleClass()),this.m_overflowMenuItems=a,this.m_widget.ClearCache();var l=this.m_overflowMenu&&this.m_overflowMenu.is(":visible");this._destroyOverflowMenu(),l&&this._launchOverflowMenu(null)}},c.prototype._highlightUnhighlightMoreItem=function(t){var e=this._getOverflowMenuButton();t?e.addClass("oj-selected").removeClass("oj-default"):e.removeClass("oj-selected").addClass("oj-default")},c.prototype._destroyOverflowMenu=function(){this.m_overflowMenu&&(this.m_overflowMenu.ojMenu("destroy"),this.m_overflowMenu.remove(),this.m_overflowMenu=null)},c.prototype._getOverflowMenuButton=function(){if(!this.m_overflowMenuItem){var t=s(document.createElement("li")),e=s(document.createElement("a")),i=s(document.createElement("span")),n=s(document.createElement("span")),o=this._getItems();t.uniqueId().attr("role","presentation").addClass(this.m_widget.getItemElementStyleClass()).addClass(this.m_widget.getItemStyleClass()).addClass(this.m_widget.getOverflowItemStyleClass()).addClass("oj-default").append(e),e.addClass(this.m_widget.getFocusedElementStyleClass()).addClass(this.m_widget.getItemContentStyleClass()),e.attr("role","button").attr("aria-haspopup","true").attr("aria-pressed","false").attr("tabindex","-1").attr("href","#").append(n).append(i),l.disableElement(e[0]),this.m_root.find("ul:first").hasClass(this.m_widget.getHasIconsStyleClass())||e.addClass(this.m_widget.getHasNoIconStyleClass()),i.text(this.m_widget.ojContext.getTranslatedString("overflowItemLabel")).addClass(this.m_widget.getItemLabelStyleClass()),n.addClass(this.m_widget.getItemIconStyleClass()).addClass("oj-fwk-icon").addClass(this.m_widget.getOverflowItemIconStyleClass()),t[0].key=t.attr("id"),this.m_root.find("."+this.m_widget.GetStyleClass()).append(t),this._addSeparator(t,o.length),this.m_overflowMenuItem=t}return this.m_overflowMenuItem},c.prototype._getOverflowMenu=function(){var t=this.m_overflowMenuItems;if(0===t.length)return null;if(!this.m_overflowMenu){var e=s(document.createElement("ul"));e.addClass(this.m_widget.getOverflowMenuStyleClass()).hide(),this.m_root.append(e);for(var i=0;i<t.length;i++){var n=s(document.createElement("li")),o=s(document.createElement("a"));o.attr("href","#").text(t[i].label),n.data("key",t[i].key),t[i].disabled&&n.addClass("oj-disabled"),n.append(o),e.append(n)}e.ojMenu({openOptions:{display:"auto"},open:this.__handleOverflowMenuOpen.bind(this),close:this.__handleOverflowMenuClose.bind(this),select:this.__handleOverflowMenuSelection.bind(this)}),this.m_overflowMenu=e}return this.m_overflowMenu},c.prototype._launchOverflowMenu=function(t){this._getOverflowMenu().is(":visible")||(this._highlightUnhighlightMoreItem(!0),this._getOverflowMenu().ojMenu("open",t,{launcher:this._getOverflowMenuButton(),initialFocus:"firstItem",position:{my:"end bottom",at:"end top",collision:"flipfit"}}))},c.prototype._toggleOverflowBtnSelection=function(t){var e;if(this.m_overflowMenuItem&&this.m_overflowMenuItems.length>0){if(t)for(var i=0;i<this.m_overflowMenuItems.length;i++)if(this.m_widget.compareValues(this.m_overflowMenuItems[i].key,t)){e=!0;break}e||this._highlightUnhighlightMoreItem(!1)}},c.prototype.__handleOverflowMenuOpen=function(t){this._getOverflowMenuButton().find("."+this.m_widget.getItemContentStyleClass()).attr("tabindex","0")},c.prototype.__handleOverflowMenuClose=function(t){var e=this.m_widget.ojContext.option("selection");this._toggleOverflowBtnSelection(e),this._getOverflowMenuButton().find("."+this.m_widget.getItemContentStyleClass()).focus()},c.prototype.__handleOverflowMenuSelection=function(t,e){var i=e.item.data("key"),n={selection:i},o=this.m_widget.FindElementByKey(i);this.m_widget.HandleSelectionOption(n);var a=n.selection;a&&this.m_widget.SetOption("selection",a,{_context:{originalEvent:t,internalSet:!0,extraData:{items:s(o)}},changed:!0})},c.prototype._getItemLabel=function(t){var e=t.find("."+this.m_widget.getItemTitleStyleClass()+":first");return e.length>0?e.text():t.find("."+this.m_widget.getItemLabelStyleClass()+":first").text()},g.prototype._TEXT_WIDTH_KEY="textWidth",g.prototype._ITEM_WIDTH_KEY="itemWidth",g.prototype._getOverflowMenuButton=function(){return this._navlistHandler._getOverflowMenuButton()},g.prototype._getWidget=function(){return this._navlistHandler.m_widget},g.prototype.shouldHandleOverflow=function(){return"popup"===this._overflow||"progressive"===this._truncation},g.prototype.unApplyTruncation=function(){var t=this;this._items.each(function(e,i){s(i).find("."+t._getWidget().getItemLabelStyleClass()).css("max-width","")})},g.prototype.checkForOverflow=function(){return!!this.shouldHandleOverflow()&&(this._overflowData||(this._overflowData=this._collectOverflowData()),this._isOverflowed(this._overflowData.containerEdgePos,this._overflowData.itemEdgePos,0))},g.prototype.applyTruncation=function(){"progressive"===this._truncation&&this._applyLabelMaxWidth(this._overflowData);var t=this._items.last()[0].getBoundingClientRect()["ltr"===n.getReadingDirection()?"right":"left"];return this._isOverflowed(this._overflowData.containerEdgePos,t,0)},g.prototype.getOverflowThreshold=function(){var t=-1;return"popup"===this._overflow&&(t=this._calculateThreshold(this._overflowData)),t},g.prototype._collectOverflowData=function(){var t,e,i="ltr"===n.getReadingDirection()?"right":"left",s=this._getWidget().ojContext.element,o=this._items.last();"progressive"===this._truncation&&(this._calculateItemWidths(),t=this._calculateItemNonTextWidth());var a=s[0].getBoundingClientRect()[i],l=s[0].getBoundingClientRect().width;return"popup"===this._overflow&&(e=this._getOverflowMenuButton()[0].getBoundingClientRect().width),{containerEdgePos:a,containerWidth:l,overflowItemWidth:e,itemEdgePos:o[0].getBoundingClientRect()[i],itemNonTextWidth:t}},g.prototype._calculateItemWidths=function(){var t=this;this._items.each(function(e,i){var n=s(i),o=n.find("."+t._getWidget().getItemLabelStyleClass())[0].getBoundingClientRect().width;n.data(t._TEXT_WIDTH_KEY,o),n.data(t._ITEM_WIDTH_KEY,i.getBoundingClientRect().width)})},g.prototype._calculateItemNonTextWidth=function(){var t=this._items,e=this;this._getWidget().GetRootElement().find("."+this._getWidget().getHasIconsStyleClass()).lenght>0&&(t=t.filter(function(t,i){return s(i).find("."+e._getWidget().getItemIconStyleClass()).length>0}));var i=t.filter(function(t,i){return s(i).find("."+e._getWidget().getRemovableStyleClass()).length>0}),n=i&&i.length>0?i.last():t.last(),o=n.data(e._TEXT_WIDTH_KEY);return n.data(e._ITEM_WIDTH_KEY)-o},g.prototype._isOverflowed=function(t,e,i){var s=i||0;return"ltr"===n.getReadingDirection()?e-t+s>.1:t-e+s>.1},g.prototype._calculateThreshold=function(t){for(var e=this._items,i="ltr"===n.getReadingDirection()?"right":"left",s=e.length-1,o=e[s].getBoundingClientRect()[i];this._isOverflowed(t.containerEdgePos,o,t.overflowItemWidth)&&s>0;)o=e[s-=1].getBoundingClientRect()[i];return s+1},g.prototype._applyLabelMaxWidth=function(t){var e=this._items,i=this,n=this._getMinLabelWidth(this._items),o=t.containerWidth/e.length-t.itemNonTextWidth;o<n&&(o=n);var a=0,l=0;e.each(function(t,e){var n=s(e).data(i._TEXT_WIDTH_KEY);n<o?a+=o-n:l+=n}),e.each(function(t,e){var n=s(e).data(i._TEXT_WIDTH_KEY),r=n;n>o&&(r=o+a*n/l),s(e).find("."+i._getWidget().getItemLabelStyleClass()).css({"max-width":r+"px"})})},g.prototype._getMinLabelWidth=function(t){var e=window.getComputedStyle(t.first().find("."+this._getWidget().getItemLabelStyleClass())[0],null).getPropertyValue("min-width");return e.indexOf("px")>0?parseInt(e.substring(0,e.length-2),10):0};const p="oj-navigationlist-hierarchical-menu",v=function(t,e,i){v.superclass.constructor.call(this,t,e,i),this.m_expanded=[]};t.Object.createSubclass(v,m,"oj.SlidingNavListHandler"),t._registerLegacyNamespaceProp("SlidingNavListHandler",v),v.prototype.Destroy=function(){this.m_root.removeClass("oj-navigationlist-slider").removeClass(this.m_widget.getNavListVerticalStyleClass()),this._toolbar.remove()},v.prototype._slideAnimation=function(t,e,i,s,n){var o=this,a=this.m_widget.getListContainer(),l=a.hasClass("oj-focus-ancestor");l&&e&&a.removeClass("oj-focus-ancestor");var r=e?"sliderExpand":"sliderCollapse";this.m_widget.StartAnimation(a.get(0),r,this.m_widget.getAnimationEffect(r)).then(function(){o._slideAnimationComplete(t,e,i,s,l),n(null)})},v.prototype._slideAnimationComplete=function(t,e,i,s,n){null!==this.m_widget.m_contentHandler&&(i&&(n&&this.m_widget.getListContainer().addClass("oj-focus-ancestor"),s&&0===s.button&&this.m_widget.AvoidFocusHighLight(!0),i.length>0&&this.m_widget.SetCurrentItem(i,s),this.m_widget.AvoidFocusHighLight(!1)),e?this.m_widget.AnimateExpandComplete(t.children("."+this.m_widget.getGroupStyleClass())):this.m_widget.AnimateCollapseComplete(t.children("."+this.m_widget.getGroupStyleClass())))},v.prototype.Expand=function(t,e,i){var n,o=new Promise(function(t){n=t}),a=s(t).parents(".oj-navigationlist-item-element:first"),l=a.children("."+this.m_widget.getGroupStyleClass()),r=null,h=a.closest("."+this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS);return h.length>0&&(h.removeClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),a.addClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),r=l.find("."+this.m_widget.getItemElementStyleClass()+":eq(0)"),this._updateHMenuOnExpand(a)),e?this._slideAnimation(a,!0,r,i,n):(this._slideAnimationComplete(a,!0,r,i,!1),n(null)),a.siblings().attr("aria-hidden","true"),a.children("."+this.m_widget.getGroupItemStyleClass()).children("."+this.m_widget.getItemContentStyleClass()).attr("aria-hidden","true"),l.removeAttr("aria-hidden"),t.css("display",""),a.addClass("oj-skipfocus"),o},v.prototype._updateHMenuOnExpand=function(t){var e=t.parentsUntil(this.m_widget.element,"."+this.m_widget.getItemElementStyleClass());e=e.get().reverse(),e=s(e.concat(t)),this.m_expanded=[],this._emptyHviewMenu(),e.each(function(t,e){var i;i=0===t?this.m_widget.getRootLabel():this.m_widget.getItemLabel(this.m_expanded[t-1]);var n=s(e);this._addItemToHviewMenu(this.m_widget.GetKey(n[0]),this.m_widget.getItemLabel(n),i),this.m_expanded.push(n)}.bind(this))},v.prototype.Collapse=function(t,e,i,s){var n,o=new Promise(function(t){n=t}),a=t.children("."+this.m_widget.getGroupStyleClass()),l=t.parent();return t.children("."+this.m_widget.getGroupItemStyleClass()).children("."+this.m_widget.getItemContentStyleClass()).removeAttr("aria-hidden"),a.attr("aria-hidden","true"),t.siblings().removeAttr("aria-hidden"),t.removeClass("oj-skipfocus"),t.removeClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),0===t.closest("."+this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS).length&&(l.closest("."+this.m_widget.getItemElementStyleClass()).addClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS),this.m_widget.element.is(l)&&this.m_widget.element.addClass(this.m_widget.SLIDING_NAVLIST_CURRENT_STYLE_CLASS)),i?this._slideAnimation(t,!1,a.parent(),s,n):(this._slideAnimationComplete(t,!1,a.parent(),s,!1),n(null)),this._updateHMenuOnCollapse(e),o},v.prototype._updateHMenuOnCollapse=function(t){var e=-1;this.m_expanded.forEach(function(i,s){var n=this.m_widget.GetKey(i[0]);t===n&&(e=s)}.bind(this)),e>-1&&this.m_expanded.splice(e),this._removeItemFromHviewMenu(t)},v.prototype.UpdateAriaPropertiesOnSelectedItem=function(t,e){e?t.attr("aria-describedby",this._selectedLabelId):t.removeAttr("aria-describedby")},v.prototype.GetState=function(t){var e=this.m_widget.getFocusItem(t).attr("aria-expanded");return"true"===e?this.m_widget.STATE_EXPANDED:"false"===e?this.m_widget.STATE_COLLAPSED:this.m_widget.STATE_NONE},v.prototype.SetState=function(t,e){e===this.m_widget.STATE_EXPANDED?(this.m_widget.getFocusItem(t).attr("aria-expanded","true"),t.removeClass(this.m_widget.COLLAPSED_STYLE_CLASS).addClass(this.m_widget.EXPANDED_STYLE_CLASS)):e===this.m_widget.STATE_COLLAPSED&&(this.m_widget.getFocusItem(t).attr("aria-expanded","false"),t.removeClass(this.m_widget.EXPANDED_STYLE_CLASS).addClass(this.m_widget.COLLAPSED_STYLE_CLASS))},v.prototype.ModifyListItem=function(t,e){var i=this.m_widget.getFocusItem(t);t.attr("role","presentation"),i.attr("role","menuitem"),e.attr("id")||e.uniqueId(),i.removeAttr("aria-selected");var s=t.children("."+this.m_widget.getGroupStyleClass());s.length>0&&(i.attr("aria-haspopup","true"),s.attr("role","menu"),s.css("display",""),t.removeAttr("aria-expanded"),i.attr("aria-expanded","false"))},v.prototype.BeforeRenderComplete=function(){this.m_root.attr("role","menu"),this.m_widget.element.attr("role","presentation")},v.prototype.Init=function(t){this.m_root.addClass("oj-navigationlist-slider").addClass(this.m_widget.getNavListVerticalStyleClass()),t.element.addClass("oj-navigationlist-current"),this._buildSlidingNavListHeader(t),this._initializeHierarchicalView()},v.prototype.HandleClick=function(t){s(t.target).closest(".oj-navigationlist-previous-link, .oj-navigationlist-previous-button").length>0&&this.CollapseCurrentList(t)},v.prototype.IsSelectable=function(t){return"menuitem"===this.m_widget.getFocusItem(s(t))[0].getAttribute("role")&&!this.m_widget.getFocusItem(s(t))[0].hasAttribute("aria-selected")},v.prototype.HandleKeydown=function(t){s(t.target).closest(".oj-navigationlist-previous-link, .oj-navigationlist-previous-button").length>0&&t.keyCode===s.ui.keyCode.ENTER&&this.CollapseCurrentList(t),s(t.target).closest("."+this.m_widget.GetStyleClass()).length>0&&(t.keyCode!==s.ui.keyCode.ESCAPE||t.isDefaultPrevented()||this.CollapseCurrentList(t))},v.prototype._buildSlidingNavListHeader=function(t){this._toolbar=s(document.createElement("div")),this._toolbar.addClass("oj-navigationlist-toolbar"),this._previousLink=s(document.createElement("a")),this._prevButton=s(document.createElement("a")),this._prevButton.addClass("oj-navigationlist-previous-button"),this._prevButton.css("visibility","hidden").attr("tabindex","-1"),this._previousLink.addClass("oj-navigationlist-previous-link").attr("tabindex","-1"),this._headerLabel=s(document.createElement("label")),this._headerLabel.addClass("oj-navigationlist-current-header").text(this.m_widget.getRootLabel()),this._vSeparator=s(document.createElement("span")),this._vSeparator.attr("role","separator").attr("aria-orientation","vertical").addClass("oj-navigationlist-toolbar-separator"),this._hviewBtn=s(document.createElement("button")),this._hviewBtn.addClass("oj-navigationlist-hierarchical-button").attr("tabindex","-1"),this._hviewMenu=s(document.createElement("ul")),this._hviewMenu.addClass(p).hide();var e=s(document.createElement("label"));e.uniqueId().addClass("oj-helper-hidden-accessible").attr("aria-hidden","true"),this._selectedLabelId=e.attr("id"),e.text(this.m_component.getTranslatedString("selectedLabel")),this._previousLink.append(this._headerLabel),this._toolbar.append(this._prevButton),this._toolbar.append(this._previousLink).append(this._vSeparator).append(this._hviewBtn).append(this._hviewMenu).append(e),this.m_root.prepend(this._toolbar),this._showOrHideHierarchyMenu(t.hierarchyMenuDisplayThresholdLevel)},v.prototype.CollapseCurrentList=function(t){var e=this.m_expanded[this.m_expanded.length-1];e&&this.m_widget.CollapseItem(e,t,!0,null,!0,!0)},v.prototype._initializeHierarchicalView=function(){var t=this,e=this._hviewMenu.uniqueId().attr("id");this._hviewMenu.ojMenu({openOptions:{position:{my:"end top",at:"end bottom"}},select:function(e,i){var n=i.item.nextAll(),o=t.m_expanded,a=i.item.data("key");for(t.m_widget.signalTaskStart();o.length>0;){var l=o[o.length-1],r=t.m_widget.GetKey(l[0]);if(t.m_widget.CollapseItem(s(l),e,!0,r,!0,!0),t.m_widget.compareValues(a,r))break}n.remove(),i.item.remove(),t._hviewMenu.ojMenu("refresh"),t.m_widget.signalTaskEnd()}}),this._hviewBtn.ojButton({label:this.m_component.getTranslatedString("hierMenuBtnLabel"),display:"icons",icons:{start:"oj-fwk-icon oj-hier-icon"},menu:"#"+e,disabled:!0,chroming:"half"}),this._prevButton.ojButton({label:this.m_component.getTranslatedString("previousIcon"),display:"icons",icons:{start:"oj-navigationlist-previous-icon oj-component-icon oj-clickable-icon-nocontext"},chroming:"half"})},v.prototype._emptyHviewMenu=function(){this._hviewMenu&&this._hviewMenu.find("li").remove()},v.prototype._addItemToHviewMenu=function(t,e,i){var n;if(this._hviewBtn){var o=this._hviewMenu.find("li").length,a=s(document.createElement("li")),l=s(document.createElement("a"));if(l.attr("href","#"),a.append(l),o>0){for(n=0;n<o;n++)n>0&&l.append(s(document.createElement("span")).addClass("oj-navigationlist-hvitem-space"));l.append(s(document.createElement("span")).addClass("oj-menu-item-icon oj-icon oj-navigationlist-level-indicator"))}var r=s(document.createElement("span")).addClass("oj-navigationlist-hierarchical-menu-label");r.text(i),l.append(r),a.data("key",t),this._hviewMenu.append(a),this._hviewMenu.ojMenu("refresh"),this._showOrHideHierarchyMenu(this.m_widget.GetOption("hierarchyMenuDisplayThresholdLevel")),this._hviewBtn.ojButton("option","disabled",!1),this._prevButton.css("visibility","visible"),this.m_widget.getListContainer().hasClass("oj-focus-ancestor")&&this._prevButton.attr("tabindex","0"),this._headerLabel.text(e)}},v.prototype.SetOptions=function(t){void 0!==t.hierarchyMenuDisplayThresholdLevel&&(this.m_widget.GetOption("hierarchyMenuDisplayThresholdLevel")!==t.hierarchyMenuDisplayThresholdLevel&&this._showOrHideHierarchyMenu(t.hierarchyMenuDisplayThresholdLevel))},v.prototype._showOrHideHierarchyMenu=function(t){var e=this._hviewMenu.find("li").length;-1===t||e<t?(this._vSeparator.css("visibility","hidden"),this._hviewBtn[0]===document.activeElement&&this.m_root.focusin(),this._hviewBtn.css("visibility","hidden")):e>=t&&(this._vSeparator.css("visibility","visible"),this._hviewBtn.css("visibility","visible"))},v.prototype._removeItemFromHviewMenu=function(t){var e,i;this._hviewBtn&&(this._hviewMenu.find("li").each(function(n,o){var a=s(o);a.data("key")===t?(a.remove(),i=a.children("a").text(),e=!0):e&&a.remove()}),this._hviewMenu.ojMenu("refresh"),this._showOrHideHierarchyMenu(this.m_widget.GetOption("hierarchyMenuDisplayThresholdLevel")),0===this._hviewMenu.children("li").length?(this._hviewBtn.ojButton("option","disabled",!0),this._prevButton.css("visibility","hidden"),this._prevButton.attr("tabindex","-1"),this._headerLabel.text(this.m_widget.getRootLabel())):this._headerLabel.text(i))},v.prototype.RestoreItem=function(t,e,i){e.removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-describedby").removeAttr("aria-hidden")},v.prototype._makeToolbarItemsFocusable=function(t){t?(this._hviewMenu.find("li").length&&this._prevButton.attr("tabindex","0"),this._hviewBtn.attr("tabindex","0")):(this._prevButton.attr("tabindex","-1"),this._hviewBtn.attr("tabindex","-1"))},v.prototype.HandleFocus=function(t){s.contains(this._toolbar.get(0),t.target)||this._hviewMenu.get(0)===t.relatedTarget||(this._makeToolbarItemsFocusable(!0),_.superclass.HandleFocus.apply(this.m_widget,arguments))},v.prototype.HandleBlur=function(t){s.contains(this._toolbar.get(0),t.relatedTarget)||this._hviewMenu.get(0)===t.relatedTarget?this.m_widget.UnhighlightActive():(null!=t.relatedTarget&&s.contains(this.m_root.get(0),t.relatedTarget)||this._makeToolbarItemsFocusable(!1),_.superclass.HandleBlur.apply(this.m_widget,arguments))},v.prototype.GetNodeBySubId=function(t){return"oj-navigationlist-previous-link"===t.subId?this._prevButton?this._prevButton[0]:null:"oj-navigationlist-hierarchical-button"===t.subId?this._hviewBtn?this._hviewBtn[0]:null:t.subId===p&&this._hviewMenu?this._hviewMenu[0]:null},v.prototype.GetSubIdByNode=function(t){return s(t).closest(this._prevButton).length>0?{subId:"oj-navigationlist-previous-link"}:s(t).closest(this._hviewBtn).length>0?{subId:"oj-navigationlist-hierarchical-button"}:s(t).closest(this._hviewMenu).length>0?{subId:p}:null}});
//# sourceMappingURL=ojnavigationlist.js.map;
define('components/auxiliary-tools/on-this-page/index',["require", "exports", "preact", "preact/hooks", "ojs/ojarraytreedataprovider", "ojs/ojcontext", "../../../store/publication-context", "../../../models/components/common/table-of-contents/toc-heading-origin.enum", "../../../utils/dom-helper", "../../../utils/link-helper", "../../../utils/on-this-page-helper", "../../../utils/publication-context-helper", "ojs/ojnavigationlist"], function (require, exports, preact_1, hooks_1, ArrayTreeDataProvider, Context, publication_context_1, toc_heading_origin_enum_1, dom_helper_1, link_helper_1, on_this_page_helper_1, publication_context_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.contentHasHeadings = exports.OnThisPage = void 0;
    class OnThisPage extends preact_1.Component {
        constructor() {
            super();
            this.visibleHeadings = [];
            this.wasItemClicked = false;
            this.onThisPage = [];
            this.headingIndices = new Map();
            this.ON_THIS_PAGE_MAX_HEIGHT = 308;
            this.checkIfScrollingUp = () => {
                const newScrollValue = window.scrollY || document.documentElement.scrollTop || document.body.scrollTop || 0;
                this.isScrollingUp = this.oldScrollValue - newScrollValue > 0;
                this.oldScrollValue = newScrollValue;
            };
            this.onSelectionChangeHandler = (event) => {
                if (event.detail.updatedFrom === 'internal') {
                    const newHref = this.state.onThisPage.find(item => item.id === event.detail.value).href;
                    if (newHref) {
                        window.location.replace(newHref);
                        link_helper_1.updateHistory(this.publication.searchSourceParam, `#${this.getTocHeadingId(newHref.replace(/^#/, ''))}`);
                    }
                    this.wasItemClicked = true;
                    setTimeout(() => {
                        this.wasItemClicked = false;
                    }, 100);
                    if (this.publication && !this.publication.isFA) {
                        this.updateTocSelection({
                            heading: on_this_page_helper_1.parseHeadingId(newHref.replace(/^#/, '')),
                            parentHeading: on_this_page_helper_1.parseHeadingId(this.findParentHeadingId(newHref.replace(/^#/, ''))),
                            origin: toc_heading_origin_enum_1.default.OnThisPage
                        });
                    }
                }
            };
            this.state = {
                onThisPage: this.onThisPage,
                currentItem: null,
                headingItemsDP: this.headingItemsDP
            };
            this.oldScrollValue = 0;
            this.isScrollingUp = false;
            this.getOnThisPageContent = this.getOnThisPageContent.bind(this);
        }
        render() {
            const { publication, updateTocSelection } = hooks_1.useContext(publication_context_1.default);
            this.updateTocSelection = updateTocSelection;
            if (!this.publication || publication.data !== this.publication.data) {
                this.getOnThisPageContent();
                this.getFaChapterstartId();
                this.publication = publication;
            }
            return (preact_1.h("oj-navigation-list", { id: "onThisPageNavigationList", data: this.state.headingItemsDP, selection: this.state.currentItem, onselectionChanged: this.onSelectionChangeHandler, class: "oj-navigationlist-item-text-wrap oj-navigationlist-nofollow-link" },
                preact_1.h("template", { slot: "itemTemplate", "data-oj-as": "item", render: this.renderTemplateItem })));
        }
        renderTemplateItem(item) {
            return (preact_1.h("li", { id: item.data.id },
                preact_1.h("a", { href: item.data.href },
                    preact_1.h("span", { class: "oj-typography-body-sm" }, item.data.heading))));
        }
        componentDidMount() {
            window.addEventListener('scroll', this.checkIfScrollingUp);
            dom_helper_1.whenDOMReady(this.getOnThisPageContent);
            this.getFaChapterstartId();
        }
        componentDidUpdate(previousProps) {
            if (!previousProps.scrollToCurrentItemSignal && this.props.scrollToCurrentItemSignal) {
                Context.getContext(document.getElementById('onThisPageNavigationList')).getBusyContext().whenReady().then(() => this.selectHeadingFromVisibleHeadings(true));
            }
        }
        componentWillUnmount() {
            window.removeEventListener('scroll', this.checkIfScrollingUp);
        }
        getOnThisPageContent() {
            var _a;
            const onThisPage = [];
            const headingIds = [];
            this.setAccessibilityAttributesToHeadings();
            this.headings = Array.from(document.getElementById('publicationContent').querySelectorAll('h1,h2,h3,h4,h5,h6')).filter(heading => !publication_context_helper_1.hasJetClasses(heading.classList) && !on_this_page_helper_1.isLegalNoticeHeading(heading === null || heading === void 0 ? void 0 : heading.textContent));
            this.visibleHeadings = [];
            this.headingIndices.clear();
            (_a = this.observer) === null || _a === void 0 ? void 0 : _a.disconnect();
            this.headings.forEach((heading, index) => {
                var _a;
                on_this_page_helper_1.addHeadingIdIfMissing(heading, headingIds);
                if (heading.id && heading.textContent && !on_this_page_helper_1.isSubheading(heading)) {
                    if ((_a = this.publication) === null || _a === void 0 ? void 0 : _a.isFA) {
                        this.setFormatForFusionAppChapterNumber(heading);
                    }
                    onThisPage.push(on_this_page_helper_1.getHeadingItem(heading));
                }
                // Map contains the heading hierarchy order, useful when multiple headings are visible on screen
                this.headingIndices.set(heading.id, index);
            });
            this.setState({
                onThisPage,
                headingItemsDP: new ArrayTreeDataProvider(this.createOnThisPageTree(onThisPage), { keyAttributes: 'id' })
            });
            this.setIntersectionObservers();
            this.setInitialLocationHash();
        }
        setFormatForFusionAppChapterNumber(heading) {
            const chapterNumberSpan = document.querySelector('.fa-chapter .fa-chapter-number');
            const parsedTextContent = heading.textContent.split('');
            if (chapterNumberSpan) {
                parsedTextContent[1].match(/^[0-9]/) ? parsedTextContent.splice(2, 0, ' ') : parsedTextContent.splice(1, 0, ' ');
                heading.textContent = parsedTextContent.join('');
                return heading;
            }
            return heading;
        }
        createOnThisPageTree(headings) {
            const tree = [];
            const treeLevels = [];
            treeLevels[headings[0].tagName] = tree;
            let previousTagName = headings[0].tagName;
            headings.forEach(heading => {
                const currentTagName = heading.tagName;
                if (currentTagName <= previousTagName) {
                    if (treeLevels[currentTagName] === undefined) {
                        treeLevels[currentTagName] = [];
                    }
                    treeLevels[currentTagName].push(heading);
                }
                else {
                    const lastOnThisPageTreeEntry = treeLevels[previousTagName][treeLevels[previousTagName].length - 1];
                    if (lastOnThisPageTreeEntry.children === undefined) {
                        lastOnThisPageTreeEntry.children = [];
                    }
                    lastOnThisPageTreeEntry.children.push(heading);
                    treeLevels[currentTagName] = lastOnThisPageTreeEntry.children;
                }
                previousTagName = currentTagName;
            });
            return tree;
        }
        setAccessibilityAttributesToHeadings() {
            document.querySelectorAll('article div.section > p.subhead1:not([role])').forEach(item => {
                item.setAttribute('role', 'heading');
                item.setAttribute('aria-level', '3');
            });
            document.querySelectorAll('article div.section > p.subhead2:not([role])').forEach(item => {
                item.setAttribute('role', 'heading');
                item.setAttribute('aria-level', '4');
            });
        }
        setInitialLocationHash() {
            let hashFromUrl = window.location.hash;
            link_helper_1.updateHistory('', hashFromUrl ? hashFromUrl : '');
            hashFromUrl = hashFromUrl.replace('#', '');
            const elementToScrollTo = document.getElementById(hashFromUrl);
            if (elementToScrollTo) {
                elementToScrollTo.scrollIntoView();
                const parentHeading = !this.findHeadingElement(hashFromUrl) && this.findHeadingElement(hashFromUrl.split('__').shift());
                if (parentHeading) {
                    this.setState({ currentItem: `nav_${parentHeading.id}` });
                    this.scrollToCurrentItem(`nav_${parentHeading.id}`);
                }
            }
        }
        setIntersectionObservers() {
            this.observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // When heading is visible on screen add to visibleHeadings array
                        this.visibleHeadings.push(entry);
                    }
                    else {
                        // When heading is no longer visible
                        const indexToRemove = this.visibleHeadings.findIndex(e => e.target.id === entry.target.id);
                        if (indexToRemove >= 0) {
                            // Delete from visibleHeadings array if found
                            this.visibleHeadings.splice(indexToRemove, 1);
                        }
                        // When scrolling up and there were no visible headings, the selection remained on the "no longer on screen" heading,
                        // with this logic we force the selection of the heading of which its content is on screen
                        if (this.isScrollingUp && this.visibleHeadings.length === 0) {
                            this.selectPreviousHeadingWhenNoHeadingVisibleAndScrollingUp(entry);
                        }
                    }
                });
                if (!this.wasItemClicked) {
                    this.selectHeadingFromVisibleHeadings();
                }
            }, {
                threshold: 1
            });
            this.headings.forEach(heading => {
                if (heading.textContent) {
                    this.observer.observe(heading);
                }
            });
        }
        selectHeadingFromVisibleHeadings(onThisPageWasExpanded = false) {
            if (this.visibleHeadings.length) {
                // When multiple headings are visible on screen, get the one with the highest hierarchy
                const heading = this.visibleHeadings.reduce((prev, curr) => {
                    return this.headingIndices.get(prev.target.id) < this.headingIndices.get(curr.target.id) ? prev : curr;
                });
                this.updateSelection(heading.target.id, onThisPageWasExpanded);
            }
        }
        selectPreviousHeadingWhenNoHeadingVisibleAndScrollingUp(entry) {
            // Get previous heading index if heading is not the first one in the hierarchy
            const prevIndex = this.headingIndices.get(entry.target.id) > 0 ? this.headingIndices.get(entry.target.id) - 1 : this.headingIndices.get(entry.target.id);
            this.headingIndices.forEach((v, k) => {
                if (prevIndex === v) {
                    this.updateSelection(k);
                }
            });
        }
        updateSelection(headingId, onThisPageWasExpanded = false) {
            const headingElement = this.findHeadingElement(headingId);
            const parentSubheadingId = this.findParentHeadingId(headingId);
            const parentHeadingId = this.findParentHeadingId(headingId, false);
            this.setState({ currentItem: `nav_${on_this_page_helper_1.isSubheading(headingElement) ? parentHeadingId : headingId}` });
            this.scrollToCurrentItem(`nav_${on_this_page_helper_1.isSubheading(headingElement) ? parentHeadingId : headingId}`, onThisPageWasExpanded);
            link_helper_1.updateHistory(this.publication.searchSourceParam, `#${this.getTocHeadingId(headingId)}`);
            this.updateTocSelection({ heading: this.getTocHeadingId(headingId), parentHeading: on_this_page_helper_1.parseHeadingId(parentSubheadingId), origin: toc_heading_origin_enum_1.default.OnThisPage });
        }
        findParentHeadingId(subheadingId, includeSubheadings = true) {
            let headingId;
            const subheadingElement = this.findHeadingElement(subheadingId);
            const reversedHeadings = this.headings.slice().reverse();
            if (subheadingElement.tagName !== 'H1') {
                let childHeading;
                const parentHeadingElement = reversedHeadings.find(heading => {
                    if (heading.id === subheadingId) {
                        childHeading = heading;
                    }
                    return childHeading && on_this_page_helper_1.isBiggerHeading(heading.tagName, childHeading.tagName) && (includeSubheadings || !on_this_page_helper_1.isSubheading(heading));
                });
                if (parentHeadingElement) {
                    headingId = parentHeadingElement.id;
                }
            }
            return headingId;
        }
        findHeadingElement(headingId) {
            return this.headings.find(heading => heading.id.includes(headingId));
        }
        scrollToCurrentItem(navHeadingId, onThisPageWasExpanded = false) {
            const navigationList = document.getElementById('onThisPageNavigationList');
            const currentItemElement = document.getElementById(navHeadingId);
            if (onThisPageWasExpanded || (navigationList === null || navigationList === void 0 ? void 0 : navigationList.scrollTop) > (currentItemElement === null || currentItemElement === void 0 ? void 0 : currentItemElement.offsetTop) ||
                (currentItemElement === null || currentItemElement === void 0 ? void 0 : currentItemElement.offsetTop) > ((navigationList === null || navigationList === void 0 ? void 0 : navigationList.scrollTop) + this.ON_THIS_PAGE_MAX_HEIGHT - (currentItemElement === null || currentItemElement === void 0 ? void 0 : currentItemElement.offsetHeight))) {
                navigationList.scrollTop = currentItemElement === null || currentItemElement === void 0 ? void 0 : currentItemElement.offsetTop;
            }
        }
        getFaChapterstartId() {
            var _a, _b;
            if ((_a = this.publication) === null || _a === void 0 ? void 0 : _a.isFA) {
                this.faChapterStartId = (_b = document.querySelector('.chapterstart')) === null || _b === void 0 ? void 0 : _b.id;
            }
        }
        getTocHeadingId(tocHeadingId) {
            var _a;
            return ((_a = this.publication) === null || _a === void 0 ? void 0 : _a.isFA) && this.faChapterStartId ? this.faChapterStartId : on_this_page_helper_1.parseHeadingId(tocHeadingId);
        }
    }
    exports.OnThisPage = OnThisPage;
    const contentHasHeadings = () => {
        var _a;
        return Array.from(((_a = document.getElementById('contentContainer')) === null || _a === void 0 ? void 0 : _a.querySelectorAll('h1,h2,h3')) || []).filter(heading => !publication_context_helper_1.hasJetClasses(heading.classList)).some(heading => heading.textContent);
    };
    exports.contentHasHeadings = contentHasHeadings;
});

define('translations/common/related-content/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{relatedContent:t.getTranslatedString("common.relatedContent.labels.relatedContent")}}}}}));
define('components/common/related-content/index',["require", "exports", "preact", "preact/hooks", "../../../store/screen-range-context", "../../../store/publication-context", "../../../translations/common/related-content/translations-helper", "../../../utils/responsive-helper", "../../../utils/html-helper"], function (require, exports, preact_1, hooks_1, screen_range_context_1, publication_context_1, translations_helper_1, responsive_helper_1, html_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.showRelatedContent = exports.RelatedContent = void 0;
    class RelatedContent extends preact_1.Component {
        constructor() {
            super();
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", { id: "relatedContentContainer", class: "oj-lg-margin-6x-start oj-lg-margin-3x-end oj-lg-margin-6x-top oj-lg-margin-12x-bottom", role: "navigation", "aria-labelledby": "relatedContentHeading" },
                preact_1.h("span", { id: "relatedContentHeading", class: "oj-flex oj-typography-semi-bold oj-typography-body-sm oj-text-color-primary", role: "heading", "aria-level": "2" }, this.state.translations.labels.relatedContent),
                !responsive_helper_1.isRangeMDOrLower(screenRange) && preact_1.h("span", { class: "related-content-background" }),
                preact_1.h("div", { class: "related-content-links-container", role: "list" }, publication.relatedContent.map((value, index) => {
                    return preact_1.h("div", { role: "listitem" },
                        preact_1.h("a", { key: index, href: value.href, title: responsive_helper_1.isRangeMDOrLower(screenRange) ? '' : value.label, class: html_helper_1.getClasses({ 'oj-line-clamp-3': !responsive_helper_1.isRangeMDOrLower(screenRange) }, 'oj-typography-body-xs oj-link-standalone related-content-link') }, value.label));
                }))));
        }
    }
    exports.RelatedContent = RelatedContent;
    const showRelatedContent = (publication) => {
        return !!publication.relatedContent.length && publication.isArticle;
    };
    exports.showRelatedContent = showRelatedContent;
});

define('translations/auxiliary-tools/badge-info/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=class{static getTranslations(){return{labels:{modernAppDevelopment:{badge:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.modernAppDevelopment.badge"),description:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.modernAppDevelopment.description")},customerInspired:{badge:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.customerInspired.badge"),description:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.customerInspired.description")},automationAvailable:{badge:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.automationAvailable.badge"),description:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.automationAvailable.description"),learnMore:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.automationAvailable.learnMore")},handsOnLab:{badge:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.handsOnLab.badge"),description:e.getTranslatedString("auxiliaryTools.badgeInfo.labels.handsOnLab.description")}},ariaLabels:{automationAvailable:{learnMore:e.getTranslatedString("auxiliaryTools.badgeInfo.ariaLabels.automationAvailable.learnMore")}}}}}}));
define('components/auxiliary-tools/badge-info/index',["require", "exports", "preact", "preact/hooks", "../../../store/publication-context", "../../../translations/auxiliary-tools/badge-info/translations-helper", "../../../utils/html-helper"], function (require, exports, preact_1, hooks_1, publication_context_1, translations_helper_1, html_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.showBadgeInfo = exports.BadgeInfo = void 0;
    class BadgeInfo extends preact_1.Component {
        constructor() {
            super(...arguments);
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", { id: "badgeInfoContainer", class: "oj-lg-margin-6x-start oj-lg-margin-3x-end oj-lg-margin-6x-top oj-lg-margin-12x-bottom" },
                publication.isModernAppDevelopment &&
                    preact_1.h("div", null,
                        preact_1.h("span", { class: "oj-badge oj-badge-success oj-badge-subtle" }, this.state.translations.labels.modernAppDevelopment.badge),
                        preact_1.h("span", { class: "oj-flex oj-typography-body-xs oj-text-color-secondary oj-lg-margin-2x-start badge-description" }, this.state.translations.labels.modernAppDevelopment.description)),
                publication.isCustomerInspired &&
                    preact_1.h("div", { class: html_helper_1.getClasses({ 'oj-lg-margin-8x-top': publication.isModernAppDevelopment }) },
                        preact_1.h("span", { class: "oj-badge oj-badge-subtle" }, this.state.translations.labels.customerInspired.badge),
                        preact_1.h("span", { class: "oj-flex oj-typography-body-xs oj-text-color-secondary oj-lg-margin-2x-start badge-description" }, this.state.translations.labels.customerInspired.description)),
                publication.isAutomationAvailable &&
                    preact_1.h("div", { class: html_helper_1.getClasses({ 'oj-lg-margin-8x-top': publication.isModernAppDevelopment || publication.isCustomerInspired }) },
                        preact_1.h("span", { class: "oj-badge oj-badge-info oj-badge-subtle" }, this.state.translations.labels.automationAvailable.badge),
                        preact_1.h("span", { class: "oj-flex oj-typography-body-xs oj-text-color-secondary oj-lg-margin-2x-start badge-description" }, this.state.translations.labels.automationAvailable.description),
                        publication.hasDeploySection &&
                            preact_1.h("a", { class: "oj-typography-semi-bold oj-typography-body-xs oj-link-embedded oj-link-subtle-primary oj-lg-margin-2x-start", "aria-label": this.state.translations.ariaLabels.automationAvailable.learnMore, href: `#${publication.deployGuid}` }, this.state.translations.labels.automationAvailable.learnMore)),
                publication.isLearnSinglePage && publication.metadata.labUrl &&
                    preact_1.h("div", null,
                        preact_1.h("span", { class: "oj-badge oj-badge-warning oj-badge-subtle" }, this.state.translations.labels.handsOnLab.badge),
                        preact_1.h("span", { class: "oj-flex oj-typography-body-xs oj-text-color-secondary oj-lg-margin-2x-start badge-description" }, this.state.translations.labels.handsOnLab.description))));
        }
    }
    exports.BadgeInfo = BadgeInfo;
    const showBadgeInfo = (publication) => {
        return publication.isSolution || publication.isLearn;
    };
    exports.showBadgeInfo = showBadgeInfo;
});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdrawerutils',["exports","ojs/ojdomutils"],function(t,r){"use strict";class e{static get DrawerLayoutStyleSurrogate(){return`${this.stringOjDrawer}${this.charDash}layout${this.charDash}${this.stringSurrogate}`}static get DrawerPopupStyleSurrogate(){return`${this.stringOjDrawer}${this.charDash}popup${this.charDash}${this.stringSurrogate}`}static styleDisplayMode(t){return`${this.stringOjDrawer}${this.charDash}${t}`}static get styleOpened(){return`${this.stringOjDrawer}${this.charDash}${this.stringOpened}`}static get styleFixedInViewport(){return`${this.stringOjDrawer}${this.charDash}fixed-in-viewport`}static get styleStartDrawer(){return`${this.stringOjDrawer}${this.charDash}${this.stringStart}`}static get styleEndDrawer(){return`${this.stringOjDrawer}${this.charDash}${this.stringEnd}`}static get styleBottomDrawer(){return`${this.stringOjDrawer}${this.charDash}${this.stringBottom}`}static get mainContentSelector(){return`${this.stringOjDrawer}${this.charDash}${this.stringMainContent}`}static get styleReflow(){return`${this.stringOjDrawer}${this.charDash}${this.stringReflow}`}static get styleOverlay(){return`${this.stringOjDrawer}${this.charDash}${this.stringOverlay}`}}e.displayTypeChangeThreshold=1024,e.fullWidthDrawerChangeThreshold=600,e.charDash="-",e.charSpace=" ",e.stringOjDrawer="oj-drawer",e.stringStart="start",e.stringEnd="end",e.stringTop="top",e.stringBottom="bottom",e.stringMainContent="layout-main-content",e.stringSurrogate="surrogate",e.stringOpened="opened",e.stringReflow="reflow",e.stringOverlay="overlay",e.stringFullOverlay="full-overlay",e.stringLeft="left",e.stringRight="right",e.animationDuration=300,e.stringOpen="open",e.stringClose="close",e.keys={ESC:"Escape",TAB:"Tab"};t.DrawerConstants=e,t.DrawerUtils=class{static capitalizeFirstChar(t){return t.charAt(0).toUpperCase()+t.slice(1)}static getElement(t){return document.querySelector(t)}static getElementHeight(t){return Math.round(t.offsetHeight)}static getElementWidth(t){return Math.round(t.getBoundingClientRect().width)}static isObjectEmpty(t){return"object"!=typeof t||0===Object.keys(t).length&&t.constructor===Object}static isRTL(){return"rtl"===r.getReadingDirection()}static getAnimationOptions(t,r){let s;switch(r){case e.stringStart:s="open"===t?this.isRTL()?e.stringLeft:e.stringRight:this.isRTL()?e.stringRight:e.stringLeft;break;case e.stringEnd:s="open"===t?this.isRTL()?e.stringRight:e.stringLeft:this.isRTL()?e.stringLeft:e.stringRight;break;case e.stringBottom:s="open"===t?e.stringTop:e.stringBottom}return{direction:s,duration:e.animationDuration+"ms"}}static getCommonStyleClasses(t,r){return{[e.styleStartDrawer]:t===e.stringStart,[e.styleEndDrawer]:t===e.stringEnd,[e.styleBottomDrawer]:t===e.stringBottom,[e.styleOpened]:r}}static getStyleClassesMapAsString(t){let r="";for(let s in t)t[s]&&(r+=r?e.charSpace+s:s);return r}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojdrawerutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdrawerlayout',["exports","ojs/ojvcomponent","preact","jquery","ojs/ojanimation","ojs/ojcore-base","ojs/ojpopup","ojs/ojdrawerutils"],function(e,t,r,s,n,a,o,i){"use strict";s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var l,d=function(e,t,r,s){var n,a=arguments.length,o=a<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(o=(a<3?n(o):a>3?n(t,r,o):n(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o};const p=oj,D=p.PopupService,w=p.ZOrderUtils;e.DrawerLayout=l=class extends r.Component{constructor(){super(...arguments),this.rootRef=r.createRef(),this.startRef=r.createRef(),this.endRef=r.createRef(),this.mainSectionRef=r.createRef(),this.state={startOpened:this.props.startOpened,endOpened:this.props.endOpened,startDisplay:this.props.startDisplay,endDisplay:this.props.endDisplay,viewportResolvedDisplayMode:this.getResolvedViewportDisplayMode(),startSelfClosed:!1,endSelfClosed:!1,lastlyOpenedDrawer:i.DrawerConstants.stringStart},this.handleKeyDown=(e,t)=>{var r,s;const n=this.getResolvedDrawerDisplayMode(e);if(t.key===i.DrawerConstants.keys.ESC&&(n===i.DrawerConstants.stringOverlay||n===i.DrawerConstants.stringFullOverlay)){const t={};t[e+"Opened"]=!1,t[e+"SelfClosed"]=!0,this.setState(t),null===(s=(r=this.props)[`on${i.DrawerUtils.capitalizeFirstChar(e)}OpenedChanged`])||void 0===s||s.call(r,!1)}},this.resizeHandler=()=>{const e=this.getResolvedViewportDisplayMode();this.state.viewportResolvedDisplayMode!=e&&this.setState({viewportResolvedDisplayMode:e})}}static getDerivedStateFromProps(e,t){const r={};return!1===t.startSelfClosed&&e.startOpened!==t.startOpened&&(r.startOpened=e.startOpened,e.startOpened&&(r.lastlyOpenedDrawer=i.DrawerConstants.stringStart)),!1===t.startOpened&&(r.startSelfClosed=!1),!1===t.endSelfClosed&&e.endOpened!==t.endOpened&&(r.endOpened=e.endOpened,e.endOpened&&(r.lastlyOpenedDrawer=i.DrawerConstants.stringEnd)),!1===t.endOpened&&(r.endSelfClosed=!1),e.startDisplay!==t.startDisplay&&(r.startDisplay=e.startDisplay),e.endDisplay!==t.endDisplay&&(r.endDisplay=e.endDisplay),r}render(e){let s=this.getDrawer(i.DrawerConstants.stringStart),n=this.getDrawer(i.DrawerConstants.stringEnd);return r.h(t.Root,{ref:this.rootRef},s,r.h("div",{ref:this.mainSectionRef,class:i.DrawerConstants.mainContentSelector},e.children),n)}getDrawer(e){if(this.isDrawerOpened(e)){const t=this.getResolvedDrawerDisplayMode(e),s=t===i.DrawerConstants.stringOverlay||t===i.DrawerConstants.stringFullOverlay,n=this.props.role||s&&"dialog",a=s?-1:void 0;return r.h("div",{ref:this.getDrawerRef(e),key:this.getResolvedDrawerDisplayMode(e),role:n,tabIndex:a,class:this.getDrawerStyleClasses(e),onKeyDown:t=>this.handleKeyDown(e,t)},this.getDrawerContent(e))}return null}getDrawerRef(e){return e===i.DrawerConstants.stringStart?this.startRef:this.endRef}getDrawerContent(e){return e===i.DrawerConstants.stringStart?this.props.start:this.props.end}getDrawerStyleClasses(e){let t;switch(this.getResolvedDrawerDisplayMode(e)){case i.DrawerConstants.stringReflow:t={[i.DrawerConstants.styleDisplayMode(i.DrawerConstants.stringReflow)]:!0};break;case i.DrawerConstants.stringOverlay:t={[i.DrawerConstants.styleDisplayMode(i.DrawerConstants.stringOverlay)]:!0};break;case i.DrawerConstants.stringFullOverlay:t={[i.DrawerConstants.styleDisplayMode(i.DrawerConstants.stringOverlay)]:!0,[i.DrawerConstants.styleDisplayMode(i.DrawerConstants.stringFullOverlay)]:!0}}return i.DrawerUtils.getStyleClassesMapAsString(Object.assign(t,i.DrawerUtils.getCommonStyleClasses(e,this.isDrawerOpened(e))))}getResolvedDrawerDisplayMode(e){const t=e+"Display";return"auto"===this.props[t]?this.state.viewportResolvedDisplayMode:this.props[t]===i.DrawerConstants.stringReflow?i.DrawerConstants.stringReflow:this.props[t]===i.DrawerConstants.stringOverlay?this.state.viewportResolvedDisplayMode===i.DrawerConstants.stringFullOverlay?i.DrawerConstants.stringFullOverlay:i.DrawerConstants.stringOverlay:void 0}getResolvedViewportDisplayMode(){const e=this.getViewportWidth();return e>=i.DrawerConstants.displayTypeChangeThreshold?i.DrawerConstants.stringReflow:e<i.DrawerConstants.displayTypeChangeThreshold&&e>=i.DrawerConstants.fullWidthDrawerChangeThreshold?i.DrawerConstants.stringOverlay:i.DrawerConstants.stringFullOverlay}getViewportWidth(){return window.innerWidth}handleFocus(e){this.state.startOpened&&e.startOpened!==this.state.startOpened&&this.setDrawerFocus(i.DrawerConstants.stringStart),this.state.endOpened&&e.endOpened!==this.state.endOpened&&this.setDrawerFocus(i.DrawerConstants.stringEnd)}setDrawerFocus(e){const t=this.getDrawerRef(e),r=t.current.querySelectorAll("[autofocus]"),{length:s,0:n}=r;if(s>0)return void n.focus();const a=t.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), video'),{length:o,0:i}=a;(o>0?i:t.current).focus()}componentDidUpdate(e,t){this.handleComponentUpdate(t)}componentDidMount(){if(window.addEventListener("resize",()=>{this.resizeHandler()}),l.defaultProps.startOpened!=this.props.startOpened||l.defaultProps.endOpened!=this.props.endOpened){const e=Object.assign({},this.state);e.startOpened=!1,e.endOpened=!1,this.handleComponentUpdate(e)}}componentWillUnmount(){window.removeEventListener("resize",()=>{this.resizeHandler()})}handleComponentUpdate(e){const t=this.state.lastlyOpenedDrawer===i.DrawerConstants.stringStart?i.DrawerConstants.stringEnd:i.DrawerConstants.stringStart;this.openDrawerIfNeeded(t,e),this.openDrawerIfNeeded(this.state.lastlyOpenedDrawer,e)}openDrawerIfNeeded(e,t){const r=this.edgeToStateOpenedName(e);if(this.isDrawerOpened(e)){this.getResolvedDrawerDisplayMode(e)===i.DrawerConstants.stringReflow?this.state[r]!=t[r]&&this.animateSlideIn(e):this.openOverlayDrawer(e,t)}}edgeToStateOpenedName(e){return`${e}${i.DrawerUtils.capitalizeFirstChar(i.DrawerConstants.stringOpened)}`}openOverlayDrawer(e,t){let r=!1;Array.from(document.querySelectorAll("."+i.DrawerConstants.DrawerLayoutStyleSurrogate)).forEach(t=>{t.querySelectorAll(`.${i.DrawerConstants.stringOjDrawer}${i.DrawerConstants.charDash}${e}`).length>0&&(r=!0)});const n=this.getDrawerRef(e).current;!1===r&&w.getStatus(n)===w.STATUS.OPEN&&w.setStatus(s(n),w.STATUS.CLOSE);const a=D.getInstance(),o=this.getDrawerRef(e).current;if(o){const r=s(o),n={},l=D.OPTION;n[l.POPUP]=r,n[l.LAUNCHER]=s(document.activeElement),n[l.LAYER_SELECTORS]=i.DrawerConstants.DrawerLayoutStyleSurrogate,n[l.POSITION]=this.getDrawerPosition(e);const d=D.EVENT;n[l.EVENTS]={[d.POPUP_BEFORE_OPEN]:()=>this.beforeOpenHandler(e,n,t),[d.POPUP_AFTER_OPEN]:()=>this.handleFocus(t),[d.POPUP_REFRESH]:()=>{r.position(this.getDrawerPosition(e)),this.setOverlayDrawersHeight()}},a.open(n)}}beforeOpenHandler(e,t,r){const s=t[D.OPTION.POPUP],n=t[D.OPTION.POSITION];s.show(),s.position(n),this.setOverlayDrawersHeight();const a=this.edgeToStateOpenedName(e);if(this.state[a]!=r[a])return this.animateSlideIn(e)}getDrawerPosition(e){const t=e+" top";let r={my:t,at:t,of:this.rootRef.current,collision:"none"};return oj.PositionUtils.normalizeHorizontalAlignment(r,i.DrawerUtils.isRTL())}animateSlideIn(e){return n.slideIn(this.getDrawerRef(e).current,i.DrawerUtils.getAnimationOptions(i.DrawerConstants.stringOpen,e))}setOverlayDrawersHeight(){const e=i.DrawerUtils.getElementHeight(this.mainSectionRef.current)+"px",t=this.startRef.current;t&&(t.style.height=e);const r=this.endRef.current;r&&(r.style.height=e)}isDrawerOpened(e){return this.state[this.edgeToStateOpenedName(e)]}},e.DrawerLayout.defaultProps={startOpened:!1,endOpened:!1,startDisplay:"auto",endDisplay:"auto"},e.DrawerLayout.metadata={slots:{"":{},start:{},end:{}},properties:{startOpened:{type:"boolean",writeback:!0},endOpened:{type:"boolean",writeback:!0},startDisplay:{type:"string",enumValues:["reflow","overlay","auto"]},endDisplay:{type:"string",enumValues:["reflow","overlay","auto"]}},extension:{_WRITEBACK_PROPS:["startOpened","endOpened"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["role"]}},e.DrawerLayout=l=d([t.customElement("oj-drawer-layout")],e.DrawerLayout),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdrawerlayout.js.map;
define('components/auxiliary-tools/index',["require", "exports", "preact", "preact/hooks", "../../store/screen-range-context", "./toggle-auxiliary-tools/index", "../common/call-to-action-buttons/index", "./cloud-free-tier-disclaimer/index", "../common/social-media-sharing/index", "./on-this-page/index", "../common/related-content/index", "./badge-info/index", "../../store/publication-context", "../../utils/html-helper", "../../utils/responsive-helper", "ojs/ojbutton", "ojs/ojdrawerlayout"], function (require, exports, preact_1, hooks_1, screen_range_context_1, index_1, index_2, index_3, index_4, index_5, index_6, index_7, publication_context_1, html_helper_1, responsive_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.isAuxiliaryToolsTopZero = exports.AuxiliaryTools = void 0;
    class AuxiliaryTools extends preact_1.Component {
        constructor() {
            super();
            this.updateState = () => this.setState({ shouldRenderCallToActionButtons: index_2.shouldRenderCallToActionButtonsOnAuxiliaryTools(this.publication) });
            this.toggleDrawer = () => this.setState(prevState => ({ isDrawerOpen: !prevState.isDrawerOpen }));
            this.state = {
                shouldRenderCallToActionButtons: false,
                isDrawerOpen: true
            };
            this.toggleDrawer = this.toggleDrawer.bind(this);
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            if (publication !== this.publication) {
                this.showOnThisPage = index_5.contentHasHeadings();
                this.publication = publication;
            }
            return (preact_1.h("div", { id: "auxiliaryToolsContainer", class: "oj-flex oj-md-flex-wrap-nowrap oj-bg-neutral-10 auxiliary-tools-container sticky" },
                preact_1.h("oj-drawer-layout", { id: "auxiliaryToolsDrawer", class: "oj-text-lg", endOpened: this.state.isDrawerOpen },
                    preact_1.h("div", { class: "oj-bg-neutral-10 oj-flex oj-lg-flex-direction-column auxiliary-tools-content", slot: "end" },
                        index_3.shouldRenderCloudFreeTierDisclaimer(publication) && preact_1.h(index_3.CloudFreeTierDisclaimer, null),
                        !publication.isSolution && this.state.shouldRenderCallToActionButtons &&
                            preact_1.h("div", { id: "auxiliaryToolsButtons", class: "oj-text-lg oj-sm-margin-6x-start oj-lg-margin-6x-bottom margin-top-30-px" },
                                preact_1.h(index_2.CallToActionButtons, { isHero: false })),
                        preact_1.h("div", { class: html_helper_1.getClasses({
                                'margin-top-30-px': !index_3.shouldRenderCloudFreeTierDisclaimer(publication) && !this.state.shouldRenderCallToActionButtons
                            }, 'oj-lg-margin-6x-bottom') },
                            preact_1.h(index_4.SocialMediaSharing, null)),
                        preact_1.h(index_1.ToggleAuxiliaryTools, { buttonClass: this.getButtonClass(), toggleDrawer: this.toggleDrawer, isExpanded: this.state.isDrawerOpen }),
                        (this.showOnThisPage && !responsive_helper_1.isRangeMDOrLower(screenRange)) &&
                            preact_1.h("div", { role: 'navigation', "aria-label": 'On this page', class: html_helper_1.getClasses({ 'oj-lg-margin-12x-bottom': !index_7.showBadgeInfo(publication) && !index_6.showRelatedContent(publication) }) },
                                preact_1.h(index_5.OnThisPage, { scrollToCurrentItemSignal: this.state.isDrawerOpen })),
                        index_7.showBadgeInfo(publication) && preact_1.h(index_7.BadgeInfo, null),
                        index_6.showRelatedContent(publication) && preact_1.h(index_6.RelatedContent, null))),
                !this.state.isDrawerOpen &&
                    preact_1.h("div", { id: "auxiliaryToolsCollapsed" },
                        preact_1.h(index_1.ToggleAuxiliaryTools, { buttonClass: this.getButtonClass(), toggleDrawer: this.toggleDrawer, isExpanded: this.state.isDrawerOpen }))));
        }
        componentDidMount() {
            window.addEventListener('scroll', this.updateState);
            this.showOnThisPage = index_5.contentHasHeadings();
        }
        componentWillUnmount() {
            window.removeEventListener('scroll', this.updateState);
        }
        getButtonClass() {
            return this.state.isDrawerOpen ? 'oj-ux-ico-chevron-right-end' : 'oj-ux-ico-chevron-left-end';
        }
    }
    exports.AuxiliaryTools = AuxiliaryTools;
    const isAuxiliaryToolsTopZero = () => document.getElementById('auxiliaryToolsContainer').getBoundingClientRect().top <= 0;
    exports.isAuxiliaryToolsTopZero = isAuxiliaryToolsTopZero;
});

define('enums/components/common/call-to-action-buttons/button-display-type.emun',["require","exports"],(function(require,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.All="all",e.Icons="icons"}(n||(n={})),e.default=n}));
define('enums/components/common/call-to-action-buttons/button-type.enum',["require","exports"],(function(require,e){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.DeployToOracleCloud="oracleCloud",e.GoToGitHub="github",e.DeployToMarketplace="marketplace"}(o||(o={})),e.default=o}));
define('translations/common/call-to-action-buttons/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.default=class{static getTranslations(){return{labels:{deployToOracleCloud:e.getTranslatedString("common.callToActionButtons.labels.deployToOracleCloud"),goToGithub:e.getTranslatedString("common.callToActionButtons.labels.goToGithub"),deployToMarketplace:e.getTranslatedString("common.callToActionButtons.labels.deployToMarketplace")}}}}}));
define('components/common/call-to-action-buttons/index',["require", "exports", "preact", "preact/hooks", "../../../store/publication-context", "../../../store/screen-range-context", "../../auxiliary-tools/index", "../../../enums/components/common/call-to-action-buttons/button-display-type.emun", "../../../enums/components/common/call-to-action-buttons/button-type.enum", "../../../translations/common/call-to-action-buttons/translations-helper", "../../../utils/responsive-helper", "../../../utils/html-helper", "ojs/ojbutton"], function (require, exports, preact_1, hooks_1, publication_context_1, screen_range_context_1, index_1, button_display_type_emun_1, button_type_enum_1, translations_helper_1, responsive_helper_1, html_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.shouldRenderCallToActionButtonsOnAuxiliaryTools = exports.hasCallToActionButtons = exports.CallToActionButtons = void 0;
    class CallToActionButtons extends preact_1.Component {
        constructor() {
            super();
            this.callToActionButtonUrls = [];
            this.goToUrl = (buttonType) => window.open((this.callToActionButtonUrls.find(element => element.label === buttonType)).url, '_blank');
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.setLinks(publication.deployGuid);
            return (preact_1.h("div", { id: "callToActionButtons", class: html_helper_1.getClasses({ 'oj-lg-flex-wrap-nowrap': this.props.isHero }, 'oj-flex oj-lg-flex-direction-column call-to-action-buttons') },
                preact_1.h(preact_1.Fragment, null,
                    this.displayButton(button_type_enum_1.default.DeployToOracleCloud) &&
                        preact_1.h("oj-button", { id: "oracleCloud", class: html_helper_1.getClasses({
                                'oj-lg-margin-3x-bottom': this.displayButton(button_type_enum_1.default.GoToGitHub)
                            }, 'oj-button-sm oj-sm-only-margin-2x-end oj-md-only-margin-2x-end oracle-cloud'), chroming: "callToAction", onojAction: () => this.goToUrl(button_type_enum_1.default.DeployToOracleCloud), display: this.getButtonDisplay(screenRange) },
                            preact_1.h("span", null, this.state.translations.labels.deployToOracleCloud),
                            preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-oracle-o" })),
                    this.displayButton(button_type_enum_1.default.GoToGitHub) &&
                        preact_1.h("oj-button", { id: "gitHub", class: html_helper_1.getClasses({
                                'oj-lg-margin-3x-bottom': this.showMarketplaceButton(screenRange)
                            }, 'oj-button-sm oj-sm-only-margin-2x-end oj-md-only-margin-2x-end git-hub'), chroming: "callToAction", onojAction: () => this.goToUrl(button_type_enum_1.default.GoToGitHub), display: this.getButtonDisplay(screenRange) },
                            preact_1.h("span", null, this.state.translations.labels.goToGithub),
                            preact_1.h("span", { slot: "startIcon", class: html_helper_1.getClasses({ 'git-hub-invert': !this.props.isHero }, 'oj-ux-ico-github') })),
                    this.showMarketplaceButton(screenRange) &&
                        preact_1.h("oj-button", { id: "marketplace", class: "oj-button-sm oj-sm-only-margin-2x-end oj-md-only-margin-2x-end marketplace", chroming: "callToAction", onojAction: () => this.goToUrl(button_type_enum_1.default.DeployToMarketplace), display: this.getButtonDisplay(screenRange) },
                            preact_1.h("span", null, this.state.translations.labels.deployToMarketplace),
                            preact_1.h("span", { slot: "startIcon", class: html_helper_1.getClasses({ 'marketplace-invert': !this.props.isHero }, 'oj-ux-ico-box-shortcut') })))));
        }
        displayButton(label) {
            return this.callToActionButtonUrls.some(element => element.label === label);
        }
        showMarketplaceButton(screenRange) {
            return this.displayButton(button_type_enum_1.default.DeployToMarketplace) && (responsive_helper_1.isRangeMDOrLower(screenRange) || !this.props.isHero || this.callToActionButtonUrls.length <= 2);
        }
        getButtonDisplay(screenRange) {
            return responsive_helper_1.isRangeSM(screenRange) ? button_display_type_emun_1.default.Icons : button_display_type_emun_1.default.All;
        }
        setLinks(deployGuid) {
            const publicationImages = Array.from(document.querySelectorAll('img'));
            publicationImages.forEach(element => {
                var _a;
                if (((_a = element.getAttribute('title')) === null || _a === void 0 ? void 0 : _a.includes('Oracle Cloud')) && !this.callToActionButtonUrls.some(element => element.label === button_type_enum_1.default.DeployToOracleCloud)) {
                    if (!(element.closest('a').getAttribute('href'))) {
                        if (!(element.nextElementSibling.getAttribute('href'))) {
                            this.callToActionButtonUrls.push({ label: button_type_enum_1.default.DeployToOracleCloud, url: element.previousElementSibling.getAttribute('href') });
                        }
                        else {
                            this.callToActionButtonUrls.push({ label: button_type_enum_1.default.DeployToOracleCloud, url: element.nextElementSibling.getAttribute('href') });
                        }
                    }
                    else {
                        this.callToActionButtonUrls.push({ label: button_type_enum_1.default.DeployToOracleCloud, url: element.closest('a').getAttribute('href') });
                    }
                }
            });
            this.setLinksForButtonType(button_type_enum_1.default.GoToGitHub, deployGuid);
            this.setLinksForButtonType(button_type_enum_1.default.DeployToMarketplace, deployGuid);
        }
        setLinksForButtonType(buttonType, deployGuid) {
            if (deployGuid && !this.callToActionButtonUrls.some(element => element.label === buttonType)) {
                const deploySectionAnchors = Array.from(document.getElementById(deployGuid.replace('#', '')).closest('div').querySelectorAll('a'));
                deploySectionAnchors.forEach(element => {
                    if (element.textContent.toLowerCase().includes(buttonType)) {
                        this.callToActionButtonUrls.push({ label: buttonType, url: element.getAttribute('href') });
                    }
                });
            }
        }
        showMoreLink(screenRange) {
            return !responsive_helper_1.isRangeMDOrLower(screenRange) && this.props.isHero && this.callToActionButtonUrls.length > 2;
        }
    }
    exports.CallToActionButtons = CallToActionButtons;
    const hasCallToActionButtons = (publication) => {
        return !window.location.href.includes('toc.htm') && (publication.isAutomationAvailable || publication.isLearn) && publication.hasDeploySection;
    };
    exports.hasCallToActionButtons = hasCallToActionButtons;
    const shouldRenderCallToActionButtonsOnAuxiliaryTools = (publication) => index_1.isAuxiliaryToolsTopZero() && exports.hasCallToActionButtons(publication);
    exports.shouldRenderCallToActionButtonsOnAuxiliaryTools = shouldRenderCallToActionButtonsOnAuxiliaryTools;
});

define('translations/common/download-pdf/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=class{static getTranslations(){return{labels:{downloadPDF:e.getTranslatedString("common.downloadPDF.labels.downloadPDF")},ariaLabels:{downloadPDF:e.getTranslatedString("common.downloadPDF.ariaLabels.downloadPDF")}}}}}));
define('components/common/download-pdf/index',["require", "exports", "preact", "preact/hooks", "../../../store/screen-range-context", "../../../store/publication-context", "../../../translations/common/download-pdf/translations-helper", "../../../utils/responsive-helper", "ojs/ojbutton"], function (require, exports, preact_1, hooks_1, screen_range_context_1, publication_context_1, translations_helper_1, responsive_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.shouldRenderDownloadPDF = exports.DownloadPDF = void 0;
    class DownloadPDF extends preact_1.Component {
        constructor() {
            super();
            this.downloadPDF = () => window.open(this.publication.pdfLink, '_blank');
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            return (preact_1.h("oj-button", { class: "oj-button-sm", chroming: responsive_helper_1.isRangeMDOrLower(screenRange) ? 'outlined' : 'borderless', display: "icons", "aria-label": this.state.translations.ariaLabels.downloadPDF, title: this.state.translations.labels.downloadPDF, onojAction: this.downloadPDF },
                preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-download" })));
        }
    }
    exports.DownloadPDF = DownloadPDF;
    function shouldRenderDownloadPDF(publication) {
        return !!publication.pdfLink && (publication.isAcmsSinglePage || publication.isMultipage) && (!publication.isSolution && !publication.isArticle && !publication.isLearn);
    }
    exports.shouldRenderDownloadPDF = shouldRenderDownloadPDF;
});

define('translations/hero/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{architectureCenter:t.getTranslatedString("hero.labels.architectureCenter"),referenceArchitectures:t.getTranslatedString("hero.labels.referenceArchitectures"),solutionPlaybook:t.getTranslatedString("hero.labels.solutionPlaybook"),builtAndDeployed:t.getTranslatedString("hero.labels.builtAndDeployed"),duration:t.getTranslatedString("hero.labels.duration"),level:t.getTranslatedString("hero.labels.level"),audience:t.getTranslatedString("hero.labels.audience"),productsAndServices:t.getTranslatedString("hero.labels.productsAndServices"),technologies:t.getTranslatedString("hero.labels.technologies"),released:t.getTranslatedString("hero.labels.released"),hour:t.getTranslatedString("hero.labels.hour"),hours:t.getTranslatedString("hero.labels.hours"),minute:t.getTranslatedString("hero.labels.minute"),minutes:t.getTranslatedString("hero.labels.minutes")},ariaLabels:{publicationMetadata:t.getTranslatedString("hero.ariaLabels.publicationMetadata")}}}}}));
define('utils/breadcrumb-helper',["require","exports","../enums/common/publication-classes.enum","../translations/hero/translations-helper"],(function(require,e,t,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBreadcrumbData=void 0;const s=a.default.getTranslations();e.getBreadcrumbData=e=>{let t=l(e);return e.isSolution?t=r(e):e.isLearn&&i(e.metadata.products)&&(t=o()),t};const l=e=>Object.values(e.ssotMetadata).filter(e=>e.displayInUrl),r=e=>[Object.assign(Object.assign({},e.ssotMetadata.category),{elementName:s.labels.architectureCenter}),n(e)],n=e=>{let a=e.ssotMetadata.suite.shortName,l="";return e.isReferenceArchitecture?l=s.labels.referenceArchitectures:e.isBuiltAndDeployed?l=s.labels.builtAndDeployed:(a=t.default.SolutionPlaybook,l=s.labels.solutionPlaybook),{shortName:a,elementName:l,displayInUrl:!0}},o=()=>[{elementName:"Learn",shortName:"learn",displayInUrl:!0}],i=e=>e.split(";").some(e=>"en/learn"===e||"learn"===e)}));
define('translations/hero/breadcrumb/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{ariaLabels:{breadcrumb:r.getTranslatedString("hero.breadcrumb.ariaLabels.breadcrumb")}}}}}));
define('components/hero/breadcrumb/index',["require", "exports", "preact", "preact/hooks", "../../../store/publication-context", "../../../utils/breadcrumb-helper", "../../../translations/hero/breadcrumb/translations-helper", "../../../enums/common/category.enum"], function (require, exports, preact_1, hooks_1, publication_context_1, breadcrumb_helper_1, translations_helper_1, category_enum_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Breadcrumb = void 0;
    class Breadcrumb extends preact_1.Component {
        constructor() {
            super();
            this.breadcrumbUrl = '/en';
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                breadcrumbs: []
            };
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.breadcrumb = breadcrumb_helper_1.getBreadcrumbData(publication);
            return (preact_1.h("div", { id: "heroScope", class: "oj-sm-padding-8x-top oj-typography-semi-bold oj-typography-body-xs", role: "navigation", "aria-label": this.state.translations.ariaLabels.breadcrumb },
                preact_1.h("ol", { id: "breadcrumb", class: "oj-flex oj-sm-flex-items-initial oj-sm-align-items-center oj-sm-padding-0-start oj-sm-margin-0-vertical oj-typography-body-xs" }, this.state.breadcrumbs.map((breadcrumb, index) => {
                    return (preact_1.h("li", { class: "oj-flex-item oj-sm-padding-2x-end" },
                        preact_1.h("a", { class: "oj-link-standalone oj-link-subtle-primary oj-color-invert", href: breadcrumb.href, "aria-current": index === this.state.breadcrumbs.length - 1 ? 'page' : undefined }, breadcrumb.name)));
                }))));
        }
        componentDidMount() {
            this.setState({ breadcrumbs: this.getBreadcrumbs() });
        }
        getBreadcrumbs() {
            let isParentNodeSolution = false;
            let isParentNodeLearn = false;
            return this.breadcrumb.map(node => {
                if (this.isNodeLearn(node.shortName) || this.isNodeSolutions(node.shortName)) {
                    this.breadcrumbUrl = `/${node.shortName}/?lang=en`;
                    isParentNodeSolution = this.isNodeSolutions(node.shortName);
                    isParentNodeLearn = this.isNodeLearn(node.shortName);
                }
                else if (isParentNodeSolution) {
                    this.breadcrumbUrl += `&cType=${node.shortName}`;
                }
                else {
                    this.breadcrumbUrl += `/${node.shortName}`;
                }
                return {
                    name: node.elementName,
                    href: isParentNodeSolution || isParentNodeLearn ? this.breadcrumbUrl : `${this.breadcrumbUrl}/index.html`
                };
            });
        }
        isNodeSolutions(shortName) {
            return shortName === category_enum_1.default.ArchitectureCenter;
        }
        isNodeLearn(shortName) {
            return shortName === category_enum_1.default.Learn;
        }
    }
    exports.Breadcrumb = Breadcrumb;
});

/**
 * Licenced under the MIT License
 *
 * Copyright (c) 2010 Seznam.cz, a.s.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * @license
 */
/*
 * Internet explorer generates pointer events by default for all input types like mouse, pen or touch (finger).
 * Touchr is generating touch events only for touch type by default but it can be overwritten by
 * window.Touchr_ALLOWED_POINTER_TYPE bitmask property. It can have values:
 * 1 for touch
 * 2 for mouse
 * 4 for pen
 * and their combinations.
 */

(function(window) {
	var IE_10		= !!window.navigator.msPointerEnabled,
		// Check below can mark as IE11+ also other browsers which implements pointer events in future
		// that is not issue, because touch capability is tested in IF statement bellow.
		// Note since Edge 16/Windows 10 1709 the property 'window.navigator.pointerEnabled' is undefined.
		IE_11_PLUS	= (!!window.navigator.pointerEnabled || !!window.PointerEvent);

	// Only pointer enabled browsers without touch capability.
	if (!!window.navigator.maxTouchPoints > 0 && (IE_10 || (IE_11_PLUS && !window.TouchEvent))) {
		var document = window.document,
			POINTER_DOWN		= IE_11_PLUS ? "pointerdown"	: "MSPointerDown",
			POINTER_UP 			= IE_11_PLUS ? "pointerup"		: "MSPointerUp",
			POINTER_MOVE		= IE_11_PLUS ? "pointermove"	: "MSPointerMove",
			POINTER_CANCEL		= IE_11_PLUS ? "pointercancel"	: "MSPointerCancel",
			POINTER_TYPE_TOUCH 	= IE_11_PLUS ? "touch"	: MSPointerEvent.MSPOINTER_TYPE_TOUCH,
			POINTER_TYPE_MOUSE 	= IE_11_PLUS ? "mouse"	: MSPointerEvent.MSPOINTER_TYPE_MOUSE,
			POINTER_TYPE_PEN 	= IE_11_PLUS ? "pen"	: MSPointerEvent.MSPOINTER_TYPE_PEN, //IE11+ has also unknown type which Touchr doesn't support
			GESTURE_START		= "MSGestureStart",
			GESTURE_CHANGE		= "MSGestureChange",
			GESTURE_END			= "MSGestureEnd",
			TOUCH_ACTION		= IE_11_PLUS ? "touchAction" : "msTouchAction",
			_180_OVER_PI		= 180/Math.PI,
			// Which pointer types will be used for generating touch events: 1 - touch, 2 - mouse, 4 - pen or their combination
			ALLOWED_POINTER_TYPE = window.Touchr_ALLOWED_POINTER_TYPE || 1,
			createEvent = function (eventName, target, params) {
				var k,
					event = document.createEvent("Event");

				event.initEvent(eventName, true, true);
				for (k in params) {
					event[k] = params[k];
				}
				target.dispatchEvent(event);
			},
			/**
			 * ECMAScript 5 accessors to the rescue
			 * @see http://perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array/
			 */
			makeSubArray = (function() {
				var MAX_SIGNED_INT_VALUE = Math.pow(2, 32) - 1,
					hasOwnProperty = Object.prototype.hasOwnProperty;

				function ToUint32(value) {
					return value >>> 0;
				}

				function getMaxIndexProperty(object) {
					var maxIndex = -1,
						isValidProperty,
						prop;

					for (prop in object) {

						isValidProperty = (
							String(ToUint32(prop)) === prop &&
								ToUint32(prop) !== MAX_SIGNED_INT_VALUE &&
								hasOwnProperty.call(object, prop));

						if (isValidProperty && prop > maxIndex) {
							maxIndex = prop;
						}
					}
					return maxIndex;
				}

				return function(methods) {
					var length = 0;
					methods = methods || { };

					methods.length = {
						get: function() {
							var maxIndexProperty = +getMaxIndexProperty(this);
							return Math.max(length, maxIndexProperty + 1);
						},
						set: function(value) {
							var constrainedValue = ToUint32(value);
							if (constrainedValue !== +value) {
								throw new RangeError();
							}
							for (var i = constrainedValue, len = this.length; i < len; i++) {
								delete this[i];
							}
							length = constrainedValue;
						}
					};
					methods.toString = {
						value: Array.prototype.join
					};
					return Object.create(Array.prototype, methods);
				};
			})(),
			// methods passed to TouchList closure method to extend Array
			touchListMethods = {
				/**
				 * Returns touch by id. This method fulfill the TouchList interface.
				 * @param {Number} id
				 * @returns {Touch}
				 */
				identifiedTouch: {
					value: function (id) {
						var length = this.length;
						while (length--) {
							if (this[length].identifier === id) return this[length];
						}
						return undefined;
					}
				},
				/**
				 * Returns touch by index. This method fulfill the TouchList interface.
				 * @param {Number} index
				 * @returns {Touch}
				 */
				item: {
					value: function (index) {
						return this[index];
					}
				},
				/**
				 * Returns touch index
				 * @param {Touch} touch
				 * @returns {Number}
				 */
				_touchIndex: {
					value: function (touch) {
						var length = this.length;
						while (length--) {
							if (this[length].pointerId == touch.pointerId) return length;
						}
						return -1;
					}
				},

				/**
				 * Add all events and convert them to touches
				 * @param {Event[]} events
				 */
				_addAll: {
					value: function(events) {
						var i = 0,
							length = events.length;

						for (; i < length; i++) {
							this._add(events[i]);
						}
					}
				},

				/**
				 * Add and MSPointer event and convert it to Touch like object
				 * @param {Event} event
				 */
				_add: {
					value: function(event) {
						var index = this._touchIndex(event);

						index = index < 0 ? this.length : index;

						//normalizing Pointer to Touch
						event.type = POINTER_MOVE;
						event.identifier = event.pointerId;
						//in DOC is mentioned that it is 0..255 but actually it returns 0..1 value
						//returns 0.5 for mouse down buttons in IE11, should it be issue?
						event.force = event.pressure;
						//default values for Touch which we cannot obtain from Pointer
						event.radiusX = event.radiusY = 1;
						event.rotationAngle = 0;

						this[index] = event;
					}
				},

				/**
				 * Removes an event from this touch list.
				 * @param {Event} event
				 */
				_remove: {
					value: function(event) {
						var index = this._touchIndex(event);

						if (index >= 0) {
							this.splice(index,1);
						}
					}
				}
			},

			/**
			 * This class store touches in an list which can be also accessible as array which is
			 * little bit bad because TouchList have to extend Array. Because we are aiming on
			 * IE10+ we can use ECMAScript5 solution.
			 * @extends Array
			 * @see http://www.w3.org/TR/2011/WD-touch-events-20110913/#touchlist-interface
			 * @see https://developer.mozilla.org/en-US/docs/DOM/TouchList
			 */
			TouchList = (function(methods) {
				return function() {
					var arr = makeSubArray(methods);
					if (arguments.length === 1) {
						arr.length = arguments[0];
					}
					else {
						arr.push.apply(arr, arguments);
					}
					return arr;
				};
			})(touchListMethods),

			/**
			 * list of all touches running during life cycle
			 * @type TouchList
			 */
			generalTouchesHolder,

			/**
			 * Storage of link between pointer {id} and original target
			 * @type Object
			 */
			pointerToTarget = {},

			/**
			 * General gesture object which fires MSGesture events whenever any associated MSPointer event changed.
			 */
			gesture = window.MSGesture ? new MSGesture() : null,

			gestureScale = 1,
			gestureRotation = 0,

			/**
			 * Storage of targets and anonymous MSPointerStart handlers for later
			 * unregistering
			 * @type Array
			 */
			attachedPointerStartMethods = [],

			/**
			 * Checks if node is some of parent children or sub-children
			 * @param {HTMLElement|Document} parent
			 * @param {HTMLElement} node
			 * @returns {Boolean}
			 */
			checkSameTarget = function (parent, node) {
				if (node) {
					if (parent === node) {
						return true;
					} else {
						return checkSameTarget(parent, node.parentNode);
					}
				} else {
					return false;
				}
			},

			/**
			 * Returns bitmask type of pointer to compare with allowed pointer types
			 * @param {Number|String} pointerType
			 * @returns {Number}
			 */
			pointerTypeToBitmask = function (pointerType) {
				if (pointerType == POINTER_TYPE_TOUCH) {
					return 1;
				} else if (pointerType == POINTER_TYPE_MOUSE) {
					return 2;
				} else {
					return 4;
				}
			},

			/**
			 * Main function which is rewriting the MSPointer event to touch event
			 * and preparing all the necessary lists of touches.
			 * @param {Event} evt
			 */
			pointerListener = function (evt) {
				var type,
					i,
					target = evt.target,
					originalTarget,
					changedTouches,
					targetTouches;

				// Skip pointers which are not allowed by users:
				if (!(pointerTypeToBitmask(evt.pointerType) & ALLOWED_POINTER_TYPE)) {
					return;
				}

				if (evt.type === POINTER_DOWN) {
					generalTouchesHolder._add(evt);
					pointerToTarget[evt.pointerId] = evt.target;

					type = "touchstart";

					// Fires MSGesture event when we have at least two pointers in our holder
					// (adding pointers to gesture object immediately fires Gesture event)
					if (gesture && generalTouchesHolder.length > 1) {
						gesture.target = evt.target;
						for (i = 0; i < generalTouchesHolder.length; i++) {
							// Adds to gesture only touches
							// It is not necessary to create separate gesture for mouse or pen pointers
							// because they cannot be present more than by 1 pointer.
							if (generalTouchesHolder[i].pointerType === POINTER_TYPE_TOUCH) {
								gesture.addPointer(generalTouchesHolder[i].pointerId);
							}
						}
					}
				}

				if (evt.type === POINTER_MOVE && generalTouchesHolder.identifiedTouch(evt.pointerId)) {
					generalTouchesHolder._add(evt);

					type = "touchmove";
				}

				//Preparation of touch lists have to be done before pointerup/MSPointerUp where we delete some information

				//Which touch fired this event, because we know that MSPointer event is fired for every
				//changed pointer than we create a list only with actual pointer
				changedTouches = document.createTouchList(evt);
				//Target touches is list of touches which started on (touchstart) on target element, they
				//are in this array even if these touches have coordinates outside target elements
				targetTouches = document.createTouchList();
				for (i = 0; i < generalTouchesHolder.length; i++) {
					//targetTouches._add(generalTouchesHolder[i]);
					//check if the pointerTarget is in the target
					if (checkSameTarget(target, pointerToTarget[generalTouchesHolder[i].identifier])) {
						targetTouches._add(generalTouchesHolder[i]);
					}
				}
				originalTarget = pointerToTarget[evt.pointerId];

				if (evt.type === POINTER_UP || evt.type === POINTER_CANCEL) {
					generalTouchesHolder._remove(evt);
					pointerToTarget[evt.pointerId] = null;

					delete pointerToTarget[evt.pointerId];
					type = "touchend";

					// Fires MSGestureEnd event when there is only one ore zero touches:
					if (gesture && generalTouchesHolder.length <= 1) {
						gesture.stop();
					}
				}

				//console.log("+", evt.type, evt.pointerType, generalTouchesHolder.length, evt.target.nodeName+"#"+evt.target.id);
				if (type && originalTarget) {
					createEvent(type, originalTarget, {touches: generalTouchesHolder, changedTouches: changedTouches, targetTouches: targetTouches});
				}
			},

			/**
			 * Main function which is rewriting the MSGesture event to gesture event.
			 * @param {Event} evt
			 */
			gestureListener = function (evt) {
				//TODO: check first, other than IE (FF?), browser which implements pointer events how to make gestures from pointers. Maybe it would be mix of pointer/gesture events.
				var type, scale, rotation;
				if (evt.type === GESTURE_START) {type = "gesturestart"}
				else if (evt.type === GESTURE_CHANGE) {type = "gesturechange"}
				else if (evt.type === GESTURE_END) {type = "gestureend"}

				// -------- SCALE ---------
				//MSGesture:
				//Scale values represent the difference in scale from the last MSGestureEvent that was fired.
				//Apple:
				//The distance between two fingers since the start of an event, as a multiplier of the initial distance. The initial value is 1.0.

				// ------- ROTATION -------
				//MSGesture:
				//Clockwise rotation of the cursor around its own major axis expressed as a value in radians from the last MSGestureEvent of the interaction.
				//Apple:
				//The delta rotation since the start of an event, in degrees, where clockwise is positive and counter-clockwise is negative. The initial value is 0.0
				if (evt.type === GESTURE_START) {
					scale = gestureScale = 1;
					rotation = gestureRotation = 0;
				} else {
					scale = gestureScale = gestureScale + (evt.scale - 1); //* evt.scale;
					rotation = gestureRotation = gestureRotation + evt.rotation * _180_OVER_PI;
				}

				createEvent(type, evt.target, {scale: scale, rotation: rotation, screenX: evt.screenX, screenY: evt.screenY});
			},

			/**
			 * This method augments event listener methods on given class to call
			 * our own method which attach/detach the MSPointer events handlers
			 * when user tries to attach touch events.
			 * @param {Function} elementClass Element class like HTMLElement or Document
			 */
			augmentEventListener = function(elementClass) {
				var customAddEventListener = attachTouchEvents,
					customRemoveEventListener = removeTouchEvents,
					oldAddEventListener = elementClass.prototype.addEventListener,
					oldRemoveEventListener = elementClass.prototype.removeEventListener;

				elementClass.prototype.addEventListener = function(type, listener, useCapture) {
					//"this" is HTML element
					if ((type.indexOf("gesture") === 0 || type.indexOf("touch") === 0)) {
						customAddEventListener.call(this, type, listener, useCapture);
					}
					oldAddEventListener.call(this, type, listener, useCapture);
				};

				elementClass.prototype.removeEventListener = function(type, listener, useCapture) {
					if ((type.indexOf("gesture") === 0 || type.indexOf("touch") === 0)) {
						customRemoveEventListener.call(this, type, listener, useCapture);
					}
					oldRemoveEventListener.call(this, type, listener, useCapture);
				};
			},
			/**
			 * This method attach event handler for MSPointer / MSGesture events when user
			 * tries to attach touch / gesture events.
			 * @param {String} type
			 * @param {Function} listener
			 * @param {Boolean} useCapture
			 */
			attachTouchEvents = function (type, listener, useCapture) {
				//element owner document or document itself
				var doc = this.nodeType == 9 ?  this : this.ownerDocument;

				// Because we are listening only on document, it is not necessary to
				// attach events on one document more times
				if (attachedPointerStartMethods.indexOf(doc) < 0) {
					//TODO: reference on node, listen on DOM removal to clean the ref?
					attachedPointerStartMethods.push(doc);
					doc.addEventListener(POINTER_DOWN, pointerListener, useCapture);
					doc.addEventListener(POINTER_MOVE, pointerListener, useCapture);
					doc.addEventListener(POINTER_UP, pointerListener, useCapture);
					doc.addEventListener(POINTER_CANCEL, pointerListener, useCapture);
					doc.addEventListener(GESTURE_START, gestureListener, useCapture);
					doc.addEventListener(GESTURE_CHANGE, gestureListener, useCapture);
					doc.addEventListener(GESTURE_END, gestureListener, useCapture);
				}

				// e.g. Document has no style
				// only touchmove event requires touch-action:none, don't set it unless it's neccessary
				// as it affects native behavior such as scrolling with pan gesture
				if (type === "touchmove" && this.style && (typeof this.style[TOUCH_ACTION] == "undefined" || !this.style[TOUCH_ACTION])) {
					this._touchActionUpdated = true;
					this.style[TOUCH_ACTION] = "none";
					// handle scrolling
					// if the element is draggable, don't scroll
					if (!this.hasAttribute("draggable")) {
						attachScrollHandler(this);
					}
				}
			},
			/**
			 * This method attach the scroll event handler.
			 * @param {Element} elem 
			 */
			attachScrollHandler = function(elem) {
				var last, scrollElem, findClosestScrollableElement, clearCachedHeight, visitedElems = [], pointerDownHandler, pointerMoveHandler, pointerUpHandler;

				/**
				 * Find the closest scrollable element from and including target
				 * @param {Element} target
				 * @return {Element}
				 */
				findClosestScrollableElement = function(target) {
					var clientHeight, scrollHeight;

					if (target == null) {
						return null;
					}

					// use cached clientHeight and scrollHeight, to minimize layout/reflow
					clientHeight = target._cachedClientHeight || target.clientHeight;
					scrollHeight = target._cachedScrollHeight || target.scrollHeight;

					target._cachedClientHeight = clientHeight;
					target._cachedScrollHeight = scrollHeight;

					// keep track of the elements visited so we could clear cached height later
					if (visitedElems.indexOf(target) === -1) {
						visitedElems.push(target);
					}

					if (!isNaN(clientHeight) && !isNaN(scrollHeight) && Math.abs(scrollHeight - clientHeight) > 1) {
						return target == document.documentElement ? document.body : target;
					}
					else {
						if (elem != target) {
							return findClosestScrollableElement(target.parentNode);
						}
						return null;
					}
				};

				/**
				 * Clear cached clientHeight and scrollHeight from visited elements
				 */
				clearCachedHeight = function() {
					for (var i=0; i<visitedElems.length; i++) {
						visitedElems[i]._cachedClientHeight = null;
						visitedElems[i]._cachedScrollHeight = null;
					}
					visitedElems.length = 0;
				};

				/**
				 * Handler for PointerDown event
				 */
				pointerDownHandler = function(event) {
					if (event.pointerType === "touch") {
						// should have been clear 
						clearCachedHeight();

						last = event.clientY;
						scrollElem = findClosestScrollableElement(event.target);
						if (scrollElem) {
							// prevent ancestors that have pointer event handler installed
							// to do any work
							event.stopPropagation();
						}
					}
				};

				/**
				 * Handler for PointerMove event
				 */
				pointerMoveHandler = function(Event) {
					var current, delta, nextScrollElem;

					if (event.pointerType === "touch") {
						if (last != undefined && scrollElem) {
							current = scrollElem.scrollTop;
							delta = last - event.clientY;
							scrollElem.scrollTop = current + delta;	

							// see if scroll min/max has been reached, scroll the next closest scrollable element
							// ignore if delta is < 1 (subpixel case)
							if (delta >= 1 && current == scrollElem.scrollTop) {
								nextScrollElem = findClosestScrollableElement(scrollElem.parentNode);								
								while (nextScrollElem) {
									current = nextScrollElem.scrollTop;
									nextScrollElem.scrollTop = current + delta;
									if (nextScrollElem === document.body || nextScrollElem.scrollTop != current) {
										break;
									}
									nextScrollElem = findClosestScrollableElement(nextScrollElem.parentNode);
								}
							}
						}
						last = event.clientY;
					}
				};

				/**
				 * Handler for PointerUp event
				 */
				pointerUpHandler = function(event) {
					clearCachedHeight();
					last = undefined;
				};

				elem.addEventListener(POINTER_DOWN, pointerDownHandler);
				elem.addEventListener(POINTER_MOVE, pointerMoveHandler); 
				elem.addEventListener(POINTER_UP, pointerUpHandler);
				elem._pointerHandlers = [pointerDownHandler, pointerMoveHandler, pointerUpHandler];
			},
			/**
			 * This method detach the scroll event handler.
			 * @param {Element} elem 
			 */
			detachScrollHandler = function(elem) {
				if (elem._pointerHandlers) {
					elem.removeEventListener(POINTER_DOWN, elem._pointerHandlers[0]);
					elem.removeEventListener(POINTER_MOVE, elem._pointerHandlers[1]);
					elem.removeEventListener(POINTER_UP, elem._pointerHandlers[2]);
					elem._pointerHandlers = undefined;
				}
			},
			/**
			 * This method detach event handler for MSPointer / MSGesture events when user
			 * tries to detach touch / gesture events.
			 * @param {String} type
			 * @param {Function} listener
			 * @param {Boolean} useCapture
			 */
			removeTouchEvents = function (type, listener, useCapture) {
				//todo: are we able to understand when all listeners are unregistered and shall be removed?
				if (type === "touchmove") {
					if (this._touchActionUpdated) {
						delete this.style[TOUCH_ACTION];
					}
					detachScrollHandler(this);
				}
			};


		/*
		 * Adding DocumentTouch interface
		 * @see http://www.w3.org/TR/2011/WD-touch-events-20110505/#idl-def-DocumentTouch
		 */

		/**
		 * Create touches list from array or touches or given touch
		 * @param {Touch[]|Touch} touches
		 * @returns {TouchList}
		 */
		document.createTouchList = function(touches) {
			var touchList = new TouchList();
			if (touches) {
				if (touches.length) {
					touchList._addAll(touches);
				} else {
					touchList._add(touches);
				}
			}
			return touchList;
		};

		/*******  Fakes which persuade other code to use touch events ********/

		/**
		 * AbstractView is class for document.defaultView === window
		 * @param {AbstractView} view
		 * @param {EventTarget} target
		 * @param {Number} identifier
		 * @param {Number} pageX
		 * @param {Number} pageY
		 * @param {Number} screenX
		 * @param {Number} screenY
		 * @return {Touch}
		 */
		document.createTouch = function(view, target, identifier, pageX, pageY, screenX, screenY) {
			return {
				identifier: identifier,
				screenX: screenX,
				screenY: screenY,
				//clientX: clientX,
				//clientY: clientY,
				pageX: pageX,
				pageY: pageY,
				target: target
			};
		};
		//Fake Modernizer touch test
		//http://modernizr.github.com/Modernizr/touch.html
		if (!window.ontouchstart) window.ontouchstart = 1;

		/*******  End of fakes ***********************************/

		generalTouchesHolder = document.createTouchList();

		// Overriding HTMLElement and HTMLDocument to hand over touch handler to MSPointer event handler
		augmentEventListener(HTMLElement);
		augmentEventListener(Document);
	}
}(window));
define("touchr", function(){});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconveyorbelt',["ojs/ojcore-base","jquery","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojcontext","ojs/ojconfig","ojs/ojdomutils","touchr"],function(t,e,o,i,n,s,r,l,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var h={properties:{arrowVisibility:{type:"string",writeback:!0,enumValues:["auto","hidden","visible"]},contentParent:{type:"string",writeback:!0},orientation:{type:"string",writeback:!0,enumValues:["horizontal","vertical"],value:"horizontal"},translations:{type:"object",value:{},properties:{tipArrowNext:{type:"string"},tipArrowPrevious:{type:"string"}}}},methods:{getProperty:{},refresh:{},scrollElementIntoView:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}};function c(t,e,o,i,n){this._elem=t,this._orientation=e.orientation,this._contentParent=e.contentParent,this._bRtl=e.bRtl,this._arrowVisibility=o.arrowVisibility,this._prevButtonStyleClass=o.prevButtonStyleClass,this._nextButtonStyleClass=o.nextButtonStyleClass,this._prevButtonIcon=o.prevButtonIcon,this._nextButtonIcon=o.nextButtonIcon,this._scrollFunc=i.scrollFunc,this._addResizeListenerFunc=i.addResizeListener,this._removeResizeListenerFunc=i.removeResizeListener,this._addStyleClassNameFunc=i.addStyleClassName,this._removeStyleClassNameFunc=i.removeStyleClassName,this._hasStyleClassNameFunc=i.hasStyleClassName,this._filterContentElementsFunc=i.filterContentElements,this._subtreeDetachedFunc=i.subtreeDetached,this._subtreeAttachedFunc=i.subtreeAttached,this._addBusyStateFunc=i.addBusyState,this._overflowContainerStyleClass=n.overflowContainerStyleClass,this._contentContainerStyleClass=n.contentContainerStyleClass,this._itemStyleClass=n.itemStyleClass,this._hiddenStyleClass=n.hiddenStyleClass,this._bExternalScroll=!0,this._firstVisibleItemIndex=0,this._atStart=!0,this._atEnd=!1}h.extension._WIDGET_NAME="ojConveyorBelt",t.CustomElementBridge.register("oj-conveyor-belt",{metadata:h}),c.prototype.setup=function(){var t=this,o=c;if(this._createInnerContainers(),"visible"===this._arrowVisibility){this._createPrevButton(this._prevButtonStyleClass,this._prevButtonIcon),this._createNextButton(this._nextButtonStyleClass,this._nextButtonIcon);var i=this._nextButton;this._buttonWidth=Math.round(e(i).outerWidth(!0)),this._buttonHeight=Math.round(e(i).outerHeight(!0))}else this._buttonWidth=0,this._buttonHeight=0;this._hidePrevButton(),this._hideNextButton(),this._mouseWheelListener=function(e){t._handleMouseWheel(e)},o._addBubbleEventListener(this._elem,"mousewheel",this._mouseWheelListener,!1),o._addBubbleEventListener(this._elem,"wheel",this._mouseWheelListener,!1),this._touchStartListener=function(e){t._handleTouchStart(e)},o._addBubbleEventListener(this._overflowContainer,"touchstart",this._touchStartListener,!0),this._touchMoveListener=function(e){t._handleTouchMove(e)},o._addBubbleEventListener(this._overflowContainer,"touchmove",this._touchMoveListener,!1),this._touchEndListener=function(e){t._handleTouchEnd(e)},o._addBubbleEventListener(this._overflowContainer,"touchend",this._touchEndListener),o._addBubbleEventListener(this._overflowContainer,"touchcancel",this._touchEndListener),this._handleKeyDownFunc=function(e){t._handleKeyDown(e)},o._addBubbleEventListener(this._elem,"keydown",this._handleKeyDownFunc),this._origScroll=0,this._clearCachedSizes(),this._adjustOverflowSize(!0),this._handleResize(!0),this._handleResizeFunc=function(e,o){t._handleResize(!1)},this._addResizeListenerFunc.call(null,this._elem,this._handleResizeFunc),this._addResizeListenerFunc.call(null,this._contentContainer,this._handleResizeFunc),this._subtreeAttachedFunc(this._contentContainer)},c.prototype._handleKeyDown=function(t){if(!t.defaultPrevented){var e=this._elem.getAttribute("tabindex");if(!(null==e||e<0)){var o=t.key||t.keyCode;if("horizontal"===this._orientation)switch(o){case c._KEYBOARD_KEYS._RIGHT:case c._KEYBOARD_KEYS._RIGHT_IE:case c._KEYBOARD_KEYS._RIGHT_CODE:this._bRtl?this._scrollPrevOnKeyDown(t):this._scrollNextOnKeyDown(t);break;case c._KEYBOARD_KEYS._LEFT:case c._KEYBOARD_KEYS._LEFT_IE:case c._KEYBOARD_KEYS._LEFT_CODE:this._bRtl?this._scrollNextOnKeyDown(t):this._scrollPrevOnKeyDown(t);break;default:return}if("vertical"===this._orientation)switch(o){case c._KEYBOARD_KEYS._DOWN:case c._KEYBOARD_KEYS._DOWN_IE:case c._KEYBOARD_KEYS._DOWN_CODE:this._scrollNextOnKeyDown(t);break;case c._KEYBOARD_KEYS._UP:case c._KEYBOARD_KEYS._UP_IE:case c._KEYBOARD_KEYS._UP_CODE:this._scrollPrevOnKeyDown(t)}}}},c.prototype._scrollNextOnKeyDown=function(t){this._constrainScroll(this._calcNextScroll())!==this._getCurrScroll()&&(this._scrollNext(),t.preventDefault())},c.prototype._scrollPrevOnKeyDown=function(t){this._constrainScroll(this._calcPrevScroll())!==this._getCurrScroll()&&(this._scrollPrev(),t.preventDefault())},c.prototype.destroy=function(){this._resolveBusyState();var t=this._elem,e=c;e._removeBubbleEventListener(t,"mousewheel",this._mouseWheelListener,!1),e._removeBubbleEventListener(t,"wheel",this._mouseWheelListener,!1),e._removeBubbleEventListener(this._overflowContainer,"touchstart",this._touchStartListener,!0),e._removeBubbleEventListener(this._overflowContainer,"touchmove",this._touchMoveListener,!1),e._removeBubbleEventListener(this._overflowContainer,"touchend",this._touchEndListener),e._removeBubbleEventListener(this._overflowContainer,"touchcancel",this._touchEndListener),e._removeBubbleEventListener(this._overflowContainer,"scroll",this._scrollListener),e._removeBubbleEventListener(this._elem,"keydown",this._handleKeyDownFunc),this._mouseWheelListener=null,this._touchStartListener=null,this._touchMoveListener=null,this._touchEndListener=null,this._scrollListener=null,this._removeResizeListenerFunc.call(null,t,this._handleResizeFunc),this._removeResizeListenerFunc.call(null,this._contentContainer,this._handleResizeFunc),this._handleResizeFunc=null,this._reparentChildrenFromContentContainer(this._contentContainer,t),t.removeChild(this._overflowContainer),this._overflowContainer=null,null!=this._nextButton&&null!=this._prevButton&&(t.removeChild(this._nextButton),t.removeChild(this._prevButton),this._nextButton=null,this._prevButton=null),this._contentContainer=null,this._clearCachedSizes(),this._elem=null,this._scrollFunc=null,this._addResizeListenerFunc=null,this._removeResizeListenerFunc=null,this._addStyleClassNameFunc=null,this._removeStyleClassNameFunc=null,this._hasStyleClassNameFunc=null,this._filterContentElementsFunc=null,this._subtreeDetachedFunc=null,this._subtreeAttachedFunc=null,this._addBusyStateFunc=null,this._contentParent=null},c.prototype.handleResize=function(){this._handleResize(!1)},c.prototype.setScroll=function(t,e){this._setCurrScroll(t,e)},c.prototype.getScroll=function(){return this._getCurrScroll()},c.prototype._reparentChildrenToContentContainer=function(t,e){for(var o=t.childNodes;o.length>0;){var i=o[0];this._subtreeDetachedFunc(i),e.appendChild(i),1===i.nodeType&&this._itemStyleClass&&this._addStyleClassNameFunc(i,this._itemStyleClass)}},c.prototype._reparentChildrenFromContentContainer=function(t,e){for(var o=t.childNodes;o.length>0;){var i=o[0];e.appendChild(i),1===i.nodeType&&this._itemStyleClass&&this._removeStyleClassNameFunc(i,this._itemStyleClass)}},c._getComputedStyle=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},c._getElemInnerWidth=function(t){var e=c,o=e._getComputedStyle(t);return e._getCSSLengthAsInt(o.width)},c._getElemInnerHeight=function(t){var e=c,o=e._getComputedStyle(t);return e._getCSSLengthAsInt(o.height)},c._getCSSLengthAsInt=function(t){if(t.length>0&&"auto"!==t){var e=Math.round(parseFloat(t));return isNaN(e)&&(e=0),e}return 0},c._addBubbleEventListener=function(t,e,o,i){t.addEventListener(e,o,{passive:i,capture:!1})},c._removeBubbleEventListener=function(t,e,o,i){t.removeEventListener(e,o,{passive:i,capture:!1})},c._getWheelDelta=function(t){var e=0;if(null!=t.deltaY||null!=t.deltaX)e=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX:-t.deltaY;else if(null!=t.wheelDelta){e=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?t.wheelDeltaX:t.wheelDeltaY}else e=-t.detail;return 1===t.deltaMode&&(e*=5),e},c.prototype._isHorizontal=function(){return"horizontal"===this._orientation},c.prototype._isEmpty=function(){return!this._getContentParent().hasChildNodes()},c.prototype._reinitializeInnerDom=function(){this._origScroll=this._getCurrScroll(),this._setOverflowScroll(0),this._hidePrevButton(),this._hideNextButton()},c.prototype._clearCachedSizes=function(){this._totalSize=null,this._sizes=null},c.prototype._handleResize=function(t){t||this._reinitializeInnerDom(),this._clearCachedSizes(),this._totalSize=this._measureContents(),t||this._adjustOverflowSize(!1),"visible"===this._arrowVisibility&&this._alignButtons()},c.prototype._alignButtons=function(){var t=this._nextButton,e=this._prevButton,o=t.style,i=e.style,n=this._totalSize;this._isHorizontal()?(o.height=n.h+"px",i.height=n.h+"px"):(o.width=n.w+"px",i.width=n.w+"px")},c.prototype._adjustOverflowSize=function(t){var e=this._contentContainer,o=this._isHorizontal(),i=c,n=o?i._getElemInnerWidth(this._elem):i._getElemInnerHeight(this._elem);this._minScroll=0,this._maxScroll=o?e.offsetWidth-n+this._buttonWidth:e.offsetHeight-n+this._buttonHeight,this._maxScroll<0&&(this._maxScroll=0),this._hidePrevButton(),this._hideNextButton(),this._setCurrScroll(t?this._minScroll:this._origScroll,!0),this._origScroll=0},c.prototype._createInnerContainers=function(){var t=this,e=this._elem,o=c,i=document.createElement("div");this._overflowContainer=i,this._addStyleClassNameFunc(i,this._overflowContainerStyleClass);var n=document.createElement("div");this._contentContainer=n,this._addStyleClassNameFunc(n,this._contentContainerStyleClass),this._reparentChildrenToContentContainer(e,n),e.appendChild(i),i.appendChild(n),this._scrollListener=function(e){t._handleScroll(e)},o._addBubbleEventListener(i,"scroll",this._scrollListener)},c.prototype._getContentElements=function(){var t,e=[],o=this._contentParent?this._contentParent:this._contentContainer,i=o.children,n=i.length;for(t=0;t<n;t++){var s=i[t];1===s.nodeType&&"TEMPLATE"!==s.tagName&&0!==s.offsetWidth&&e.push(s)}if(e=(0,this._filterContentElementsFunc)(e),o===this._contentContainer&&this._itemStyleClass)for(t=0;t<e.length;t++){var r=e[t];this._hasStyleClassNameFunc(r,this._itemStyleClass)||this._addStyleClassNameFunc(r,this._itemStyleClass)}return e},c.prototype._createPrevButton=function(t,e){var o=this,i=document.createElement("div");this._prevButton=i,i.setAttribute("class",t),i.setAttribute("aria-hidden","true"),c._addBubbleEventListener(i,"click",function(){o._scrollPrev()}),i.appendChild(e),this._elem.insertBefore(i,this._overflowContainer)},c.prototype._createNextButton=function(t,e){var o=this,i=document.createElement("div");this._nextButton=i,i.setAttribute("class",t),i.setAttribute("aria-hidden","true"),c._addBubbleEventListener(i,"click",function(){o._scrollNext()}),i.appendChild(e),this._elem.appendChild(i)},c.prototype._getContentParent=function(){var t=this._contentParent;return t||(t=this._contentContainer),t},c.prototype._measureContents=function(){var t=this._getContentElements(),e={w:0,h:0},o=[];if(t.length>0){var i,n=t,s=this._isHorizontal();i=this._contentContainer.offsetWidth;for(var r=0,l=null,a=0;a<n.length;a++){var h=n[a];if(1===h.nodeType){var c=h.offsetWidth,_=h.offsetHeight,u={w:c,h:_,id:h.id};if(s){var d=h.offsetLeft;this._contentParent||0!==d||(d=h.parentNode.offsetLeft),this._bRtl?u.start=i-(d+c):u.start=d,0===a&&(r=u.start),u.start-=r,e.w=u.start+c,e.h=Math.max(e.h,_),u.end=e.w-1}else{var v=h.offsetTop;this._contentParent||0!==v||(v=h.parentNode.offsetTop),u.start=v,e.w=Math.max(e.w,c),e.h=u.start+_,u.end=e.h-1}if(l&&l.end>=u.start){var f=l.end-(u.start-1);l.end-=f,s?l.w-=f:l.h-=f}o.push(u),l=u}}}return this._sizes=o,e},c.prototype._getSizes=function(){return this._sizes},c.prototype._showNextButton=function(){this._removeStyleClassNameFunc(this._nextButton,this._hiddenStyleClass),this._atEnd=!1},c.prototype._showPrevButton=function(){this._removeStyleClassNameFunc(this._prevButton,this._hiddenStyleClass),this._atStart=!1},c.prototype._hideNextButton=function(){this._addStyleClassNameFunc(this._nextButton,this._hiddenStyleClass),this._atEnd=!0},c.prototype._hidePrevButton=function(){this._addStyleClassNameFunc(this._prevButton,this._hiddenStyleClass),this._atStart=!0},c.prototype._getButtonSize=function(){var t=0;return"visible"===this._arrowVisibility&&(t=this._isHorizontal()?this._buttonWidth:this._buttonHeight),t},c.prototype._updateButtonVisibility=function(t){var e=this._getButtonSize(),o=this._getCurrScroll(),i=this._needsScroll();t<=this._minScroll?(this._atStart||(o-=e),this._hidePrevButton()):i&&(this._atStart&&(o+=e),this._showPrevButton()),t>=this._maxScroll?this._hideNextButton():i&&this._showNextButton(),this._setOverflowScroll(o)},c.prototype._setOverflowScroll=function(t){var e=this._overflowContainer;this._isHorizontal()?l.setScrollLeft(e,t):e.scrollTop=t},c.prototype._getCurrViewportSize=function(){var t=this._overflowContainer;return this._isHorizontal()?t.offsetWidth:t.offsetHeight},c.prototype._setCurrScroll=function(t,e){this._bScrolling||(this._bExternalScroll=!1,this._setCurrScrollHelper(t,e))},c.prototype._setCurrScrollHelper=function(t,e){if(!this._isEmpty()){this._bScrolling=!0,t=this._constrainScroll(t),this._updateButtonVisibility(t);var o=this._scrollFunc;if(e||!o||t===this._getCurrScroll())this._onScrollAnimEnd(this._bExternalScroll?this._getCurrScroll():t);else{this._busyStateResolveFunc=this._addBusyStateFunc("scrolling");var i=c,n=Math.abs(this._getCurrScroll()-t)/i._SCROLL_SPEED,s=this;o.call(null,this._overflowContainer,l.calculateScrollLeft(t),n,function(){s._onScrollAnimEnd(t),s._resolveBusyState()})}}},c.prototype._resolveBusyState=function(){this._busyStateResolveFunc&&(this._busyStateResolveFunc(),this._busyStateResolveFunc=null)},c.prototype._getCurrScroll=function(){var t=this._overflowContainer;return this._isHorizontal()?Math.round(Math.abs(t.scrollLeft)):Math.round(t.scrollTop)},c.prototype._needsScroll=function(){var t=this._contentContainer,e=this._overflowContainer;return this._isHorizontal()?t.offsetWidth>e.offsetWidth:t.offsetHeight>e.offsetHeight},c.prototype._constrainScroll=function(t){return!this._needsScroll()||t<this._minScroll?this._minScroll:t>this._maxScroll?this._maxScroll:t},c.prototype._handleMouseWheel=function(t){var e=this._bScrolling;if(this._needsScroll()&&!this._bScrolling){var o,i=c._getWheelDelta(t);i<0&&!this._atEnd?o=this._getCurrScroll()+Math.abs(i):i>0&&!this._atStart&&(o=this._getCurrScroll()-i),null!=o&&(e=!0,this._updateButtonVisibility(o),this._setOverflowScroll(o))}e&&(t.preventDefault(),t.stopPropagation())},c.prototype._handleTouchStart=function(t){var e=t.touches;this._needsScroll()&&!this._bScrolling&&1===e.length&&(this._bTouch=!0,this._firstTouch=e[0],this._touchLastCoord=this._isHorizontal()?this._firstTouch.pageX:this._firstTouch.pageY,this._touchStartScroll=this._getCurrScroll(),this._touchStartNextScroll=this._calcNextScroll(),this._touchStartPrevScroll=this._calcPrevScroll(),this._touchInitialNotAtEnd=!this._atEnd,this._touchInitialNotAtStart=!this._atStart,this._trackingPoints=[],this._addTrackingPoint(this._touchLastCoord),this._targetCoord=0)},c.prototype._handleTouchMove=function(t){var e=this._isHorizontal(),o=t.touches[0];this._touchCurrentCoord=e?o.pageX:o.pageY;var i=this._touchCurrentCoord-this._touchLastCoord,n=e&&this._bRtl?i>0:i<0,s=n&&this._touchInitialNotAtEnd||!n&&this._touchInitialNotAtStart;this._bTouch&&this._firstTouch.id===o.id&&s&&(this._addTrackingPoint(this._touchLastCoord),e&&this._bRtl?this._setCurrScroll(this._getCurrScroll()+i,!0):this._setCurrScroll(this._getCurrScroll()-i,!0),this._touchLastCoord=this._touchCurrentCoord,(this._touchInitialNotAtEnd&&this._atEnd||this._touchInitialNotAtStart&&this._atStart)&&(this._bTouch=!1),this._scrolledForThisTouch=!0),this._scrolledForThisTouch&&(t.preventDefault(),t.stopPropagation())},c.prototype._handleTouchEnd=function(t){this._bTouch=!1,this._scrolledForThisTouch=!1,null!=this._trackingPoints&&(this._addTrackingPoint(this._touchLastCoord),this._startDecelAnim())},c.prototype._addTrackingPoint=function(t){if(null!=this._trackingPoints){for(var e=Date.now();this._trackingPoints.length>0&&!(e-this._trackingPoints[0].time<=100);)this._trackingPoints.shift();this._trackingPoints.push({coord:t,time:e})}},c.prototype._startDecelAnim=function(){var t=this._trackingPoints[0],e=this._trackingPoints[this._trackingPoints.length-1],o=e.coord-t.coord,i=(e.time-t.time)/15;this._decVel=o/i||0,Math.abs(this._decVel)>1&&(this._decelerating=!0,requestAnimationFrame(this._stepDecelAnim.bind(this)))},c.prototype._stepDecelAnim=function(){if(this._decelerating){var t=c._TOUCH_SCROLL_FRICTION,e=c._TOUCH_SCROLL_STOP_THRESHOLD;this._decVel*=t,this._targetCoord+=this._decVel,Math.abs(this._decVel)>e?(this._isHorizontal()&&this._bRtl?this._setCurrScroll(this._getCurrScroll()+this._targetCoord,!1):this._setCurrScroll(this._getCurrScroll()-this._targetCoord,!1),requestAnimationFrame(this._stepDecelAnim.bind(this))):this._decelerating=!1}},c.prototype._handleScroll=function(t){this._bExternalScroll&&!this._bScrolling&&this._setCurrScrollHelper(this._getCurrScroll(),!0)},c.prototype._onScrollAnimEnd=function(t){this._setOverflowScroll(t),this._bExternalScroll=!0,this._bScrolling=!1},c.prototype._scrollNext=function(){this._bScrolling||this._setCurrScroll(this._calcNextScroll(),!1)},c.prototype._scrollPrev=function(){this._bScrolling||this._setCurrScroll(this._calcPrevScroll(),!1)},c.prototype._calcNextScroll=function(){var t=this._calcNextVisibleItemIndex();return t===this._calcFirstVisibleItemIndex()?this._getCurrScroll()+this._getCurrViewportSize():this._calcStartScroll(t)},c.prototype._calcPrevScroll=function(){var t=this._calcPrevVisibleItemIndex(),e=0;return e=t===this._calcLastVisibleItemIndex()?this._getCurrScroll()-this._getCurrViewportSize():this._calcEndScroll(t),this._atEnd&&(e+=this._getButtonSize()),e<=this._getButtonSize()&&(e=this._minScroll),e},c.prototype._calcStartScroll=function(t){return this._getSizes()[t].start},c.prototype._calcEndScroll=function(t){return this._getSizes()[t].end-this._getCurrViewportSize()+1},c.prototype._calcFirstVisibleItemIndex=function(){var t=this._getCurrScroll(),e=this._calcItemIndex(t);return e<0?0:e},c.prototype._calcLastVisibleItemIndex=function(){var t=this._getCurrViewportSize(),e=this._getCurrScroll()+t-1,o=this._calcItemIndex(e),i=this._getSizes();return o<0?i.length-1:o},c.prototype._calcPrevVisibleItemIndex=function(){var t=this._getCurrScroll()-1,e=this._calcItemIndex(t);return e<0?0:e},c.prototype._calcNextVisibleItemIndex=function(){var t=this._getCurrViewportSize(),e=this._getCurrScroll()+t,o=this._calcItemIndex(e),i=this._getSizes();return o<0?i.length-1:o},c.prototype._calcItemIndex=function(t){for(var e=this._getSizes(),o=0;o<e.length;o++){if(t<=e[o].end)return o}return-1},c._SCROLL_SPEED=1.1,c._TOUCH_SCROLL_FRICTION=.7,c._TOUCH_SCROLL_STOP_THRESHOLD=.1,c._KEYBOARD_KEYS={_UP:"ArrowUp",_UP_IE:"Up",_UP_CODE:38,_DOWN:"ArrowDown",_DOWN_IE:"Down",_DOWN_CODE:40,_LEFT:"ArrowLeft",_LEFT_IE:"Left",_LEFT_CODE:37,_RIGHT:"ArrowRight",_RIGHT_IE:"Right",_RIGHT_CODE:39},function(){function a(t){var o=e("<div></div>");return o.text(t),o[0].innerHTML}t.__registerWidget("oj.ojConveyorBelt",e.oj.baseComponent,{defaultElement:"<div>",widgetEventPrefix:"oj",options:{orientation:"horizontal",arrowVisibility:"auto",contentParent:null},_ComponentCreate:function(){this._super(),this.element.addClass("oj-conveyorbelt oj-component"),this.options.disabled&&n.warn("JET ConveyorBelt: 'disabled' property not supported"),this._setup()},refresh:function(){this._super();var t,e="rtl"===this._GetReadingDirection(),o=this._bRTL!==e;o||(t=this._cbCommon.getScroll()),this._destroyCBCommon(),this._setup(),o||this._cbCommon.setScroll(t,!0)},_NotifyShown:function(){if(this._super(),this._needsSetup)this._setup();else if(this._cbCommon){this._cbCommon.handleResize()}},_NotifyAttached:function(){if(this._super(),this._needsSetup)this._setup();else if(this._cbCommon){this._cbCommon.handleResize()}},_setup:function(){var t=this,o=this.element,n=this.options,s=n.orientation;if("vertical"===s?o.addClass("oj-conveyorbelt-vertical"):o.removeClass("oj-conveyorbelt-vertical"),this._canCalculateSizes()){if(this._needsSetup=null,this._bRTL="rtl"===this._GetReadingDirection(),!this._cbCommon){var h=null,_=null,u=null,d=null,v=null,f=a(this.getTranslatedString("tipArrowNext")),m=a(this.getTranslatedString("tipArrowPrevious"));"vertical"!==s?(h="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",_="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",u=this._createIcon("oj-conveyorbelt-overflow-icon oj-start",m),d=this._createIcon("oj-conveyorbelt-overflow-icon oj-end",f),v=this._animateScrollLeft):(h="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",_="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",u=this._createIcon("oj-conveyorbelt-overflow-icon oj-top",m),d=this._createIcon("oj-conveyorbelt-overflow-icon oj-bottom",f),v=this._animateScrollTop);var p={};"auto"===n.arrowVisibility?p.arrowVisibility="phone"===r.getDeviceRenderMode()?"hidden":"visible":p.arrowVisibility=n.arrowVisibility,p.prevButtonStyleClass=h,p.nextButtonStyleClass=_,p.prevButtonIcon=u,p.nextButtonIcon=d;var C={overflowContainerStyleClass:"oj-conveyorbelt-overflow-container",contentContainerStyleClass:"oj-conveyorbelt-content-container",itemStyleClass:"oj-conveyorbelt-item",hiddenStyleClass:"oj-helper-hidden"},S={addResizeListener:function(t,e){l.addResizeListener(t,e,25)}};S.removeResizeListener=l.removeResizeListener,S.addStyleClassName=this._addStyleClassName,S.removeStyleClassName=this._removeStyleClassName,S.hasStyleClassName=this._hasStyleClassName,S.filterContentElements=function(e){return t._filterContentElements(e)},S.subtreeDetached=i.subtreeDetached,S.subtreeAttached=i.subtreeAttached,S.addBusyState=function(e){return t._addBusyState(e)},"enabled"!==r.getAutomationMode()&&(S.scrollFunc=v);var b=null;n.contentParent&&(b=e(n.contentParent)[0]),this._cbCommon=new c(o[0],{orientation:s,contentParent:b,bRtl:this._bRTL},p,S,C)}this._cbCommon.setup();for(var y=o.find(".oj-conveyorbelt-overflow-indicator"),g=0;g<y.length;g++)this._setupButtonMouseStyles(e(y[g]))}else this._needsSetup=!0},_destroy:function(){this._destroyCBCommon(),this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical"),this._super()},_setOption:function(t,e,o){var i=!1,s=this.options;switch(t){case"containerParent":case"arrowVisibility":i=!0;break;case"orientation":i=s.orientation!==e;break;case"disabled":n.warn("JET ConveyorBelt: 'disabled' property not supported")}i&&this._destroyCBCommon(),this._super(t,e,o),i&&this._setup()},_destroyCBCommon:function(){var t=this._cbCommon;t&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),t.destroy());this._cbCommon=null},_canCalculateSizes:function(){var t=document.createElement("div"),e=t.style;e.width="10px",e.height="10px",e["-webkit-flex"]="0 0 auto",e.flex="0 0 auto";var o=this.element[0];o.appendChild(t);var i=!1;try{i=t.offsetWidth>0&&t.offsetHeight>0}catch(t){}return o.removeChild(t),i},_setupButtonMouseStyles:function(t){this._AddHoverable({element:t,afterToggle:function(e){"mouseenter"===e?t.removeClass("oj-default"):"mouseleave"===e&&t.addClass("oj-default")}}),this._AddActiveable({element:t,afterToggle:function(e){"mousedown"===e||"touchstart"===e||"mouseenter"===e?t.removeClass("oj-default"):"mouseup"!==e&&"touchend"!==e&&"touchcancel"!==e&&"mouseleave"!==e||t.addClass("oj-default")}})},_createIcon:function(t,e){var o=document.createElement("span");o.setAttribute("class","oj-component-icon "+t);var i=document.createElement("div");return i.setAttribute("class","oj-conveyorbelt-overflow-button"),i.setAttribute("role","button"),i.appendChild(o),i.setAttribute("title",e),i},_animateScrollLeft:function(t,o,i,n){var s={};s.scrollLeft=o,e(t).animate(s,i,"swing",n)},_animateScrollTop:function(t,o,i,n){var s={};s.scrollTop=o,e(t).animate(s,i,"swing",n)},_addStyleClassName:function(t,o){e(t).addClass(o)},_removeStyleClassName:function(t,o){e(t).removeClass(o)},_hasStyleClassName:function(t,o){return e(t).hasClass(o)},_filterContentElements:function(t){for(var e=[],o=0;o<t.length;o++){var i=t[o];this._hasStyleClassName(i,"oj-helper-detect-expansion")||this._hasStyleClassName(i,"oj-helper-detect-contraction")||e.push(i)}return e},_addBusyState:function(t){var e=this.element,o=s.getContext(e[0]).getBusyContext(),i="ConveyorBelt";i+=" (id='"+e.attr("id")+"')";var n={description:i+=": "+t};return o.addBusyState(n)},getNodeBySubId:function(t){if(null==t)return this.element[0];var e=t.subId;return"oj-conveyorbelt-start-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:"oj-conveyorbelt-end-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===e?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(t){for(var e=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),o=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),i=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),n=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),s=t,r=this.element[0];s&&s!==r;){if(s===e)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(s===o)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(s===i)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(s===n)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};s=s.parentElement}return null},scrollElementIntoView:function(t){var e=this._cbCommon.getScroll(),o=this._cbCommon._getCurrViewportSize(),i=this._cbCommon._contentContainer.offsetWidth,n=t.offsetLeft;this._cbCommon._contentParent||0!==n||(n=t.parentNode.offsetLeft),this._cbCommon._bRtl&&(n=i-(n+t.offsetWidth));var s=t.offsetTop;if(this._cbCommon._contentParent||0!==s||(s=t.parentNode.offsetTop),this._cbCommon._isHorizontal()){if(n+t.offsetWidth<=e+o&&n>=e)return}else if(s+t.offsetHeight<=e+o&&s>=e)return;var r=this._cbCommon._contentContainer,l=c,a=this._cbCommon._isHorizontal()?l._getElemInnerWidth(this.element[0]):l._getElemInnerHeight(this.element[0]);this._cbCommon._minScroll=0,this._cbCommon._maxScroll=this._cbCommon._isHorizontal()?r.offsetWidth-a+this._cbCommon._buttonWidth:r.offsetHeight-a+this._cbCommon._buttonHeight,this._cbCommon._maxScroll<0&&(this._cbCommon._maxScroll=0),this._cbCommon._isHorizontal()?this._cbCommon._setCurrScroll(n,!0):this._cbCommon._setCurrScroll(s,!0)}}),i.setDefaultOptions({ojConveyorBelt:{arrowVisibility:i.createDynamicPropertyGetter(function(){return o.getCachedCSSVarValues(["--oj-private-conveyor-belt-global-arrow-visibility-default"])[0]})}})}()});
//# sourceMappingURL=ojconveyorbelt.js.map;
define('components/hero/index',["require", "exports", "preact", "preact/hooks", "../common/call-to-action-buttons/index", "../common/social-media-sharing/index", "../common/download-pdf/index", "./breadcrumb/index", "../../store/publication-context", "../../store/screen-range-context", "../../utils/html-helper", "../../utils/responsive-helper", "../../translations/hero/translations-helper", "ojs/ojconveyorbelt", "ojs/ojbutton"], function (require, exports, preact_1, hooks_1, index_1, index_2, index_3, index_4, publication_context_1, screen_range_context_1, html_helper_1, responsive_helper_1, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Hero = void 0;
    class Hero extends preact_1.Component {
        constructor() {
            super();
            this.metadata = {
                duration: { title: '', content: '' },
                level: { title: '', content: '' },
                audience: { title: '', content: '' },
                products: { title: '', content: '' },
                technologies: { title: '', content: '' },
                released: { title: '', content: '' }
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                metadata: this.metadata
            };
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            return (preact_1.h("div", { id: "heroContainer", class: html_helper_1.getClasses({
                    'oj-sm-justify-content-space-between': this.hasButtons(),
                    'oj-sm-justify-content-flex-start': !this.hasButtons()
                }, 'oj-flex oj-lg-flex-wrap-nowrap oj-sm-only-flex-direction-column oj-md-only-flex-direction-column oj-md-only-width-full hero-container white-text') },
                preact_1.h("div", { id: "heroInfoContainer", class: html_helper_1.getClasses({
                        'hero-info-container-no-metadata': !this.publication.isSolution && !this.publication.isLearn
                    }, 'oj-lg-width-full oj-flex oj-sm-flex-direction-column oj-sm-flex-wrap-nowrap oj-lg-padding-6x-end') },
                    preact_1.h(index_4.Breadcrumb, null),
                    preact_1.h("div", { id: "heroTitle", role: "heading", "aria-level": "1", class: html_helper_1.getClasses({
                            'oj-lg-padding-4x-bottom': this.publication.isSolution || this.publication.isLearn,
                            'oj-lg-padding-8x-bottom': !this.publication.isSolution && !this.publication.isLearn
                        }, 'oj-sm-padding-1x-top oj-sm-padding-4x-bottom georgia hero-title') }, this.publication.title),
                    (this.publication.isSolution || this.publication.isLearn) &&
                        preact_1.h("div", { role: "complementary", "aria-label": this.state.translations.ariaLabels.publicationMetadata },
                            preact_1.h("oj-conveyor-belt", { id: "heroMetadata", class: "oj-sm-padding-4x-bottom oj-lg-padding-8x-bottom oj-typography-body-xs oj-color-invert fixed-width metadata", arrowVisibility: "visible", contentParent: "#metadata-container" },
                                preact_1.h("div", { id: "metadata-container", class: "oj-flex oj-sm-flex-wrap-nowrap oj-sm-align-items-flex-start" }, this.renderMetadata())))),
                preact_1.h("div", { id: "heroButtonsContainer", class: html_helper_1.getClasses({
                        'oj-sm-justify-content-space-between': this.hasButtons(),
                        'oj-sm-justify-content-flex-end': !this.hasButtons()
                    }, 'oj-color-invert oj-flex oj-sm-only-padding-0-top oj-md-only-padding-0-top oj-sm-only-padding-4x-bottom oj-md-only-padding-6x-bottom hero-buttons-container') },
                    this.hasButtons() && preact_1.h("div", { id: "heroButtons", class: "oj-flex hero-buttons" },
                        index_1.hasCallToActionButtons(this.publication) && preact_1.h(index_1.CallToActionButtons, { isHero: true }),
                        index_3.shouldRenderDownloadPDF(this.publication) && responsive_helper_1.isRangeMDOrLower(screenRange) && preact_1.h(index_3.DownloadPDF, null)),
                    responsive_helper_1.isRangeMDOrLower(screenRange) && preact_1.h(index_2.SocialMediaSharing, null))));
        }
        renderMetadata() {
            return (preact_1.h(preact_1.Fragment, null, Object.values(this.state.metadata).filter(data => data.content.length).map(data => {
                return (preact_1.h("div", { class: "oj-sm-padding-6x-end metadata-item" },
                    preact_1.h("p", { class: "oj-sm-margin-0 metadata-key" }, data.title),
                    preact_1.h("p", { class: "oj-sm-margin-0 metadata-value", title: data.content }, data.content)));
            })));
        }
        componentDidUpdate() {
            if ((this.publication.isSolution || this.publication.isLearn) && this.isMetadataEmpty()) {
                this.setMetadata();
            }
        }
        setMetadata() {
            this.metadata = {
                duration: {
                    title: this.state.translations.labels.duration,
                    content: this.publication.metadata.duration ? this.formatDuration(this.publication.metadata.duration) : ''
                },
                level: {
                    title: this.state.translations.labels.level,
                    content: this.publication.metadata.level
                },
                audience: {
                    title: this.state.translations.labels.audience,
                    content: this.publication.metadata.audience
                },
                products: {
                    title: this.state.translations.labels.productsAndServices,
                    content: this.publication.metadata.productsParsed
                },
                technologies: {
                    title: this.state.translations.labels.technologies,
                    content: this.publication.metadata.technologies
                },
                released: {
                    title: this.state.translations.labels.released,
                    content: this.publication.metadata.released
                }
            };
            if (!this.isMetadataEmpty()) {
                this.setState({ metadata: this.metadata });
            }
        }
        formatDuration(duration) {
            let durationFormatted = duration[0] === 1 ? `${duration[0]} ${this.state.translations.labels.hour}` :
                duration[0] > 1 ? `${duration[0]} ${this.state.translations.labels.hours}` : '';
            durationFormatted += durationFormatted.length ? ' ' : '';
            durationFormatted += duration[1] === 1 ? `${duration[1]} ${this.state.translations.labels.minute}` :
                duration[1] > 1 ? `${duration[1]} ${this.state.translations.labels.minutes}` : '';
            return durationFormatted;
        }
        isMetadataEmpty() {
            return this.metadata.products.content === '' && this.metadata.technologies.content === '' && this.metadata.released.content === '';
        }
        hasButtons() {
            return index_1.hasCallToActionButtons(this.publication) || index_3.shouldRenderDownloadPDF(this.publication);
        }
    }
    exports.Hero = Hero;
});

define('translations/secondary-message/survey-banner/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{bannerMessage:a.getTranslatedString("secondaryMessage.surveyBanner.labels.bannerMessage"),takeOurSurvey:a.getTranslatedString("secondaryMessage.surveyBanner.labels.takeOurSurvey")},ariaLabels:{takeOurSurvey:a.getTranslatedString("secondaryMessage.surveyBanner.ariaLabels.takeOurSurvey")}}}}}));
define('components/secondary-message/survey-banner/index',["require", "exports", "preact", "../../../translations/secondary-message/survey-banner/translations-helper", "ojs/ojbutton"], function (require, exports, preact_1, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.SurveyBanner = void 0;
    class SurveyBanner extends preact_1.Component {
        constructor() {
            super();
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            return (preact_1.h("div", { id: "surveyBannerContainer", class: 'oj-flex oj-sm-flex-items-initial oj-sm-justify-content-space-between ' +
                    'oj-sm-padding-4x-horizontal oj-md-padding-6x-horizontal oj-sm-padding-4x-bottom oj-md-padding-6x-bottom ' +
                    'oj-sm-padding-2x-top oj-md-padding-3x-top oj-sm-12 survey-banner-container' },
                preact_1.h("span", { class: "oj-flex-item first-cloud-shape" }),
                preact_1.h("div", { class: "oj-flex oj-flex-item oj-sm-flex-items-initial oj-sm-align-items-center oj-sm-9" },
                    preact_1.h("span", { class: "oj-flex-item oj-sm-margin-6x-end oj-sm-margin-3x-top georgia survey-banner-label" }, this.state.translations.labels.bannerMessage),
                    preact_1.h("oj-button", { class: "oj-button-sm oj-sm-margin-2x-top oj-md-margin-3x-top oj-sm-only-margin-4x-top survey-banner-button", "aria-label": this.state.translations.ariaLabels.takeOurSurvey, chroming: "callToAction", onojAction: this.goToUrl },
                        preact_1.h("span", null, this.state.translations.labels.takeOurSurvey))),
                preact_1.h("div", { class: "oj-flex oj-flex-item oj-sm-flex-items-initial oj-sm-justify-content-flex-end oj-sm-12 survey-banner-images" },
                    preact_1.h("span", { class: "oj-flex-item second-cloud-shape" }),
                    preact_1.h("span", { class: "oj-flex-item achievement-goals" }))));
        }
        goToUrl() {
            window.open('https://surveys.oracle.com/ci/documents/detail/5/462/12/d8347b9ff0cdd3cc9e34fdc61eb75259ddd2dc16', '_blank');
        }
    }
    exports.SurveyBanner = SurveyBanner;
});

define('components/secondary-message/index',["require", "exports", "preact", "preact/hooks", "./survey-banner/index", "../../store/publication-context"], function (require, exports, preact_1, hooks_1, index_1, publication_context_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.SecondaryMessage = void 0;
    class SecondaryMessage extends preact_1.Component {
        constructor() {
            super();
            this.state = {
                displaySurveyBanner: false
            };
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", { id: "secondaryMessagesContainer", class: "oj-flex oj-sm-justify-content-center" }, publication.isSolution && this.state.displaySurveyBanner && preact_1.h(index_1.SurveyBanner, null)));
        }
    }
    exports.SecondaryMessage = SecondaryMessage;
});

define('translations/common/toggle-table-of-contents/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{ariaLabels:{tableOfContents:t.getTranslatedString("common.toggleTableOfContents.ariaLabels.tableOfContents")}}}}}));
define('components/common/toggle-table-of-contents/index',["require", "exports", "preact", "../../../translations/common/toggle-table-of-contents/translations-helper", "../../../utils/html-helper", "ojs/ojbutton"], function (require, exports, preact_1, translations_helper_1, html_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.TOGGLE_NAVIGATION_DRAWER = exports.ToggleTableOfContents = void 0;
    class ToggleTableOfContents extends preact_1.Component {
        constructor() {
            super();
            this.action = () => this.props.action();
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            return (preact_1.h("oj-button", { id: exports.TOGGLE_NAVIGATION_DRAWER, class: html_helper_1.getClasses({
                    'oj-lg-margin-3x-bottom': this.props.isNavigation,
                    'oj-sm-margin-4x-top oj-sm-margin-4x-end': !this.props.isNavigation
                }, 'oj-button-sm'), display: "icons", onojAction: this.action, chroming: this.props.isNavigation ? 'borderless' : 'outlined', "aria-controls": this.props.isNavigation ? 'navigationDrawer' : 'drawerPopupTableOfContents', "aria-label": this.state.translations.ariaLabels.tableOfContents, "aria-expanded": `${this.props.isExpanded}`, title: this.state.translations.ariaLabels.tableOfContents },
                preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-composite-form" })));
        }
    }
    exports.ToggleTableOfContents = ToggleTableOfContents;
    exports.TOGGLE_NAVIGATION_DRAWER = 'toggleNavigationDrawer';
});

define('components/common/table-of-contents/toc-offline.js',[],() => {
  return new Promise((resolve) => {
    require(['toc.js'], function (data) {
      resolve(data);
    });
  });
});

define('components/common/table-of-contents/toc-offline-article.js',[],() => {
  return new Promise((resolve) => {
    let catalogPath = '../catalog/catalog.';

    if ($('#ssot-metadata').length) {
      const ssotJson = JSON.parse($('#ssot-metadata').text());
      catalogPath += ssotJson.primary.product.short_name + '-';
      catalogPath += ssotJson.primary.release.short_name + '.js';
      catalogPath = catalogPath.replace(/[^a-zA-Z0-9\-_./]/g, '_');
    }
    require([catalogPath], function (data) {
      resolve(data);
    });
  });
});

define('utils/table-of-contents-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeHtmlTagsTitleTocJson=e.getAvailableCatalogFiltersOptions=e.deepCopyArticleToc=e.scrollToSelectedEntry=e.DRAWER_POPUP_TABLE_OF_CONTENTS_SELECTED_ENTRY_SELECTOR=e.DRAWER_POPUP_TABLE_OF_CONTENTS_SELECTOR=e.NAVIGATION_TABLE_OF_CONTENTS_SELECTED_ENTRY_SELECTOR=e.NAVIGATION_TABLE_OF_CONTENTS_SELECTOR=void 0;e.NAVIGATION_TABLE_OF_CONTENTS_SELECTOR=".navigation-drawer>div";e.DRAWER_POPUP_TABLE_OF_CONTENTS_SELECTOR=".drawer-popup-table-of-contents";e.NAVIGATION_TABLE_OF_CONTENTS_SELECTED_ENTRY_SELECTOR=".navigation-drawer>div .toc .oj-selected";e.DRAWER_POPUP_TABLE_OF_CONTENTS_SELECTED_ENTRY_SELECTOR=".drawer-popup-table-of-contents .toc .oj-selected";e.scrollToSelectedEntry=(e,o)=>{const t=document.querySelector(o);if(t){const o=document.querySelector(e),l=2,r=o.offsetHeight/l;o.scroll({top:t.offsetTop-r,behavior:"smooth"})}};e.getAvailableCatalogFiltersOptions=e=>{const t=new Set,l=new Set;return e.forEach(e=>o(e,t,l)),{audiences:Array.from(t),environments:Array.from(l)}};const o=(e,t,l)=>{e.forEach(e=>{var r,n,i,E,T;(null===(r=e.children)||void 0===r?void 0:r.length)?o(e.children,t,l):(null===(i=null===(n=e.audience)||void 0===n?void 0:n.split(","))||void 0===i||i.forEach(e=>!!e&&t.add(e)),null===(T=null===(E=e.platform)||void 0===E?void 0:E.split(","))||void 0===T||T.forEach(e=>!!e&&l.add(e)))})},t=e=>{var o,l;for(const r of e)r.title=null===(o=r.title)||void 0===o?void 0:o.replace(/<[^>]*>/gi,"").trim(),(null===(l=r.children)||void 0===l?void 0:l.length)&&t(r.children)};e.removeHtmlTagsTitleTocJson=t;e.deepCopyArticleToc=e=>e.map(e=>e.map(e=>{var o;const t=Object.assign({},e);return(null===(o=t.children)||void 0===o?void 0:o.length)&&(t.children=t.children.map(e=>l(e))),t}));const l=e=>{var o;const t=Object.assign({},e);return(null===(o=t.children)||void 0===o?void 0:o.length)&&(t.children=t.children.map(e=>l(e))),t}}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojselector',["exports","ojs/ojtranslation","ojs/ojvcomponent","preact","ojs/ojdomutils"],function(e,t,o,l,s){"use strict";var c=function(e,t,o,l){var s,c=arguments.length,n=c<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,o):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,l);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(n=(c<3?s(n):c>3?s(t,o,n):s(t,o))||n);return c>3&&n&&Object.defineProperty(t,o,n),n};e.Selector=class extends l.Component{constructor(e){super(e),this._handleFocusin=e=>{this.setState({focus:!0})},this._handleFocusout=e=>{this.setState({focus:!1})},this._checkboxListener=e=>{var t,o,l,s;const{selectedKeys:c,rowKey:n,selectionMode:r}=this.props;let a;null!=c&&(e.target.checked?"multiple"===r?a=c.add([n]):"all"===r?a=c.addAll():"single"!==r||c.has(n)||(a=c.clear().add([n])):a="all"===r?c.clear():c.delete([n]),null===(o=(t=this.props).onSelectedKeysChanged)||void 0===o||o.call(t,a),null===(s=(l=this.props).onIndeterminateChanged)||void 0===s||s.call(l,!1))},this.state={focus:!1}}render(e,c){const{rowKey:n,indeterminate:r}=e,a=this._isSelected(n);let i="oj-selector-wrapper oj-component-icon";r?i+=" oj-indeterminate":a&&(i+=" oj-selected"),c.focus&&!s.recentPointer()&&(i+=" oj-focus-highlight");const d=e["aria-labelledby"]||null,u=(e["aria-label"]||t.getTranslatedString("oj-ojSelector.checkboxAriaLabel",{rowKey:n}))+(a?t.getTranslatedString("oj-ojSelector.checkboxAriaLabelSelected"):t.getTranslatedString("oj-ojSelector.checkboxAriaLabelUnselected"));return l.h(o.Root,{class:"oj-selector"},l.h("span",{class:i},l.h("input",{type:"checkbox",class:"oj-selectorbox oj-clickthrough-disabled","aria-label":u,"aria-labelledby":d,checked:a,onfocusin:this._handleFocusin,onfocusout:this._handleFocusout,onClick:this._checkboxListener})))}_isSelected(e){const{selectedKeys:t,selectionMode:o}=this.props;return!!t&&("all"===o?t.isAddAll():t.has(e))}},e.Selector.defaultProps={rowKey:null,indeterminate:!1,selectedKeys:null,selectionMode:"multiple"},e.Selector.metadata={properties:{rowKey:{type:"any"},indeterminate:{type:"boolean",writeback:!0},selectedKeys:{type:"any",writeback:!0},selectionMode:{type:"string",enumValues:["all","multiple","single"]}},extension:{_WRITEBACK_PROPS:["selectedKeys","indeterminate"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["aria-label","aria-labelledby"]}},e.Selector=c([o.customElement("oj-selector")],e.Selector),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojselector.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtreeview',["require","ojs/ojcore-base","jquery","ojs/ojcontext","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojdomutils","ojs/ojlogger","ojs/ojconfig","ojs/ojkeyset","ojs/ojselector","ojdnd","ojs/ojcustomelement-utils","ojs/ojdatacollection-common","ojs/ojtranslation"],function(e,t,n,s,i,a,r,o,l,d,h,c,_,u,E,p){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;class f{constructor(e,t={keyAttributes:"id",childrenAttribute:"children"},n=(e=>new Map(e)),s=(e=>new Set(e))){this.data=e,this.createOptimizedKeyMap=n,this.createOptimizedKeySet=s,this.keyAttr=t.keyAttributes,this.childrenAttr=t.childrenAttribute;const i=(e,t,n)=>{e.forEach(e=>{n.add(e[this.keyAttr]),e[this.childrenAttr]&&e[this.childrenAttr].length>0&&(t.set(e[this.keyAttr],e),i(e[this.childrenAttr],t,n))})};this.parentKeyNodeMap=this.createOptimizedKeyMap(),this.allKeys=this.createOptimizedKeySet(),i(this.data,this.parentKeyNodeMap,this.allKeys)}computeSelection(e,t=new h.KeySetImpl){const n=this.normalizeKeySet(e),s=this.normalizeKeySet(t),i=n.delete(s.values()),a=s.delete(n.values()),r=this.reduceToLeaves(a.values()),o={selectedLeaves:this.createOptimizedKeySet(new Set([...[...n.values()].filter(e=>!this.parentKeyNodeMap.has(e)),...this.reduceToLeaves(i.values())].filter(e=>!r.has(e)))),selectedParents:this.createOptimizedKeySet(),partialParents:this.createOptimizedKeySet()};return this.assignParentSelection({children:this.data},{selected:0,partial:0},o),o.selected=this.createOptimizedKeySet([...o.selectedLeaves.values(),...o.selectedParents.values()]),{selected:new h.KeySetImpl(o.selected),selectedLeaves:new h.KeySetImpl(o.selectedLeaves),selectedParents:new h.KeySetImpl(o.selectedParents),partialParents:new h.KeySetImpl(o.partialParents)}}reduceToLeaves(e){const t=(e,n)=>{this.parentKeyNodeMap.has(e[this.keyAttr])?e[this.childrenAttr].forEach(e=>t(e,n)):n.add(e[this.keyAttr])},n=this.createOptimizedKeySet();return e.forEach(e=>this.parentKeyNodeMap.has(e)?t(this.parentKeyNodeMap.get(e),n):n.add(e),this),n}assignParentSelection(e,t,n){if(void 0!==e[this.keyAttr]&&!this.parentKeyNodeMap.has(e[this.keyAttr]))n.selectedLeaves.has(e[this.keyAttr])&&(t.selected+=1);else{const s={selected:0,partial:0};if(e[this.childrenAttr].forEach(e=>this.assignParentSelection(e,s,n)),void 0===e[this.keyAttr]||s.selected+s.partial===0)return;s.selected===e[this.childrenAttr].length?(n.selectedParents.add(e[this.keyAttr]),t.selected+=1):(n.partialParents.add(e[this.keyAttr]),t.partial+=1)}}normalizeKeySet(e){return e.isAddAll()?new h.KeySetImpl(this.allKeys).delete(e.deletedValues()):e}}t.__registerWidget("oj.ojTreeView",n.oj.baseComponent,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",options:{currentItem:null,data:null,dnd:{drag:null,drop:null},expanded:new h.KeySetImpl,item:{focusable:null,renderer:null,selectable:null},scrollPolicyOptions:{maxCount:500},selected:new h.KeySetImpl,selection:[],selectionMode:"none",animateEnd:null,animateStart:null,beforeCollapse:null,beforeCurrentItem:null,beforeExpand:null,collapse:null,expand:null},classNames:{depth0:"oj-treeview-depth-0",depth1:"oj-treeview-depth-1",depth2:"oj-treeview-depth-2",depth3:"oj-treeview-depth-3",depth4:"oj-treeview-depth-4",depth5:"oj-treeview-depth-5",depth6:"oj-treeview-depth-6",depth7:"oj-treeview-depth-7",depth8:"oj-treeview-depth-8",depth9:"oj-treeview-depth-9",depth10:"oj-treeview-depth-10",depth11:"oj-treeview-depth-11",depth12:"oj-treeview-depth-12",depth13:"oj-treeview-depth-13",depth14:"oj-treeview-depth-14",depth15:"oj-treeview-depth-15"},constants:{MAX_STYLE_DEPTH:15,PERIOD:".",OJ_COMPLETE:"oj-complete",OJ_TREEVIEW_LIST:"oj-treeview-list",ERROR_FETCHING_DATA:"Error fetching data: ",OJ_ITEM_DATA:"oj-item-data",OJ_ITEM_METADATA:"oj-item-metadata",OJ_TREEVIEW_ITEM_CONTENT:"oj-treeview-item-content",OJ_TREEVIEW_SELECTOR:"oj-treeview-selector",OJ_COMPONENT_ICON:"oj-component-icon",OJ_DRAGGABLE:"oj-draggable",OJ_TREEVIEW_SPACER:"oj-treeview-spacer",OJ_TREEVIEW_LEAF:"oj-treeview-leaf",OJ_TREEVIEW_DISCLOSURE_ICON:"oj-treeview-disclosure-icon",OJ_DEFAULT:"oj-default",OJ_EXPANDED:"oj-expanded",OJ_TREEVIEW_SKELETON_CONTAINER:"oj-treeview-skeleton-container",OJ_COLLAPSED:"oj-collapsed",OJ_TREEVIEW_ANIMATED:"oj-treeview-animated",OJ_SELECTED:"oj-selected",OJ_TREEVIEW_DRAG_SOURCE:"oj-treeview-drag-source",OJ_TREEVIEW_SKELETON_CONTENT:"oj-treeview-skeleton-content",OJ_ANIMATION_SKELETON:"oj-animation-skeleton",OJ_TREEVIEW_ITEM:"oj-treeview-item",OJ_HOVER:"oj-hover",OJ_CLICKABLE_ICON_NOCONTEXT:"oj-clickable-icon-nocontext",OJ_TREEVIEW_DROPLINE:"oj-treeview-drop-line",OJ_TREEVIEW_SELECT_SINGLE:"oj-treeview-select-single",OJ_TREEVIEW_ICON:"oj-treeview-icon",OJ_TREEVIEW_DRAG_IMAGE:"oj-treeview-drag-image",OJ_TREEVIEW_DRAG_IMAGE_ITEM:"oj-treeview-drag-image-item",OJ_FOCUS:"oj-focus",OJ_TREEVIEW_DROP_ZONE:"oj-treeview-drop-zone",OJ_FOCUS_HIGHLIGHT:"oj-focus-highlight",OJ_ANIMATION_SKELETON_FADE_IN:"oj-animation-skeleton-fade-in",OJ_TREEVIEW_SKELETON_CHILD:"oj-treeview-skeleton-child",OJ_TREEVIEW_SKELETON_CARROT:"oj-treeview-skeleton-carrot",OJ_TREEVIEW_SKELETON_ITEM:"oj-treeview-skeleton-item",OJ_TREEVIEW_SKELETON_LEAF:"oj-treeview-skeleton-leaf",OJ_TREEVIEW_ITEM_ICON:"oj-treeview-item-icon",OJ_TREEVIEW_CSS_VARS:{expandAnimation:"--oj-private-tree-view-global-expand-animation",collapseAnimation:"--oj-private-tree-view-global-collapse-animation",dataFadeInDuration:"--oj-private-tree-view-global-data-fadein-duration",multipleSelectionAffordance:"--oj-private-tree-view-global-selection-affordance-default",loadIndicator:"--oj-private-tree-view-global-load-indicator-default",showIndicatorDelay:"--oj-private-core-global-loading-indicator-delay-duration"}},_ComponentCreate:function(){this._super()},_AfterCreate:function(){this._super(),this._initRender(),this._render()},_CompareOptionValues:function(e,n,s){switch(e){case"selection":return n&&void 0===n.inverted&&(n.inverted=!1),s&&void 0===s.inverted&&(s.inverted=!1),(!n||!s||n.inverted===s.inverted)&&t.Object.compareValues(n,s);case"selected":return E.areKeySetsEqual(n,s);default:return this._super(e,n,s)}},_initRender:function(){var e=this;this._on(this.element,{click:function(t){e._handleClick(t)},mouseover:function(t){e._handleMouseOver(t)},mouseout:function(t){e._handleMouseOut(t)},mousedown:function(t){e._handleMouseDown(t)},mouseup:function(t){e._handleMouseUp(t)},keydown:function(t){e._handleKeyDown(t)},dragstart:function(t){e._handleDragStart(t)},drag:function(t){e._handleDragSourceEvent(t,"drag")},dragend:function(t){e._handleDragSourceEvent(t,"dragEnd")},dragenter:function(t){e._handleDropTargetEvent(t,"dragEnter")},dragover:function(t){e._handleDropTargetEvent(t,"dragOver")},dragleave:function(t){e._handleDropTargetEvent(t,"dragLeave")},drop:function(t){e._handleDropTargetEvent(t,"drop")}}),o.isTouchSupported()&&(this.element[0].addEventListener("touchstart",function(t){e.touchStartEvent=t},{passive:!0}),this.element[0].addEventListener("touchmove",function(t){!0===e.ojTreeViewDragEvent&&t.preventDefault()},{passive:!1}),this.element[0].addEventListener("touchcancel",function(){e.touchStartEvent=null,e.ojTreeViewDragEvent=!1}),this.element[0].addEventListener("touchend",function(t){e.touchStartEvent&&t.changedTouches.length&&document.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY)!==e.touchStartEvent.target&&(e.touchStartEvent=null),e.ojTreeViewDragEvent=!1,e._handleMouseOut(t)})),this._dropLine=document.createElement("div"),this._dropLine.classList.add(this.constants.OJ_TREEVIEW_DROPLINE),this.element[0].appendChild(this._dropLine),this._dropLine.style.display="none",this._refreshId=0,this._uiExpanded=new h.KeySetImpl,this.m_fetching=new Set,this._expandedChildrenMap=new Map,this._syncSelectionState()},_syncSelectionState:function(){var e=h.KeySetUtils.toArray(this.options.selected),t=h.KeySetUtils.toKeySet(this.options.selection);e.length>0||e.inverted?this._userOptionChange("selection",e,null):(this.options.selection.length>0||this.options.selection.inverted)&&this._userOptionChange("selected",t,null)},_render:function(){var e=this;this.element[0].classList.remove(this.constants.OJ_COMPLETE),this._keyList=new Set;var t,n=this.element[0].querySelectorAll("ul");if(this.options.data){for(t=0;t<n.length;t++)n[t].parentNode.removeChild(n[t]);this._fetchChildren(null,function(t){var n=t.values[0];e._truncateIfOverMaxCount(n.value);var s={fetchListResult:n.value,parentElem:e.element[0]};e._renderItems(s).then(function(){e._resetFocus(),e.element[0].classList.add(e.constants.OJ_COMPLETE),e._decorateTree(),e._lastSelectedItem=null})})}else{for(t=0;t<n.length;t++)n[t].classList.add(this.constants.OJ_TREEVIEW_LIST),n[t].setAttribute("role","group");var s=this.element[0].querySelectorAll("li");for(t=0;t<s.length;t++){var i=this._getItemContent(s[t]);if(i){var a=this._getItemDisclosureIcon(i);a&&i.removeChild(a)}e._decorateItem(s[t])}this._resetFocus(),this.element[0].classList.add(this.constants.OJ_COMPLETE),this._decorateTree(),this._lastSelectedItem=null}},_getDataProvider:function(){var n;if(null==this.m_dataSource){if(n=this.options.data,!t.DataProviderFeatureChecker.isTreeDataProvider(n)){var s=new Promise(function(t,n){e(["ojs/ojtreedataprovideradapter"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}(e))},n)});if(!s)throw new Error("Error adapting a TreeDataSource");return s.then(e=>new e.default(n))}}else n=this.m_dataSource;return Promise.resolve(n)},_fetchChildren:function(e,t){var n=this,s=n._addBusyState("getting data provider",e),i=n._getDataProvider(),a=this._refreshId;i.then(function(i){if(s(),n._refreshId===a){n.m_dataSource=i;var r=null===e?i:i.getChildDataProvider(e);if(null!=r){var o=n._addBusyState("fetching data",e),d=n._getShowStatusDelay();n._isSkeletonSupported()&&(n._skeletonTimeout=setTimeout(function(){var t=n._expandedChildrenMap.get(null);if(null===e)n._renderInitialSkeletons();else if(!t&&!n._isParentSkeletonRendered(e)&&!n._isLeafOnlySelectionEnabled()){var s=n._getItemByKey(e);n._getSubtree(s)||n._renderChildSkeletons(e)}},d));var h=n._loadTemplateEngine();n._clientId=n._clientId||Symbol();var c={clientId:n._clientId,size:-1},_=r.fetchFirst(c)[Symbol.asyncIterator](),u=_.next(),E=function(t){if(t[0].done){if(n._clearSkeletonTimeout(),n._isLeafOnlySelectionEnabled()&&n._buildRawData(e,t[0]),n._isSkeletonSupported()){for(var s=[],i=t[0].value.data,r=0;r<i.length;r++){var d=t[0].value.metadata[r].key;n._isInitExpanded(d)&&n.m_dataSource.getChildDataProvider(d)&&s.push(d)}n._expandedChildrenMap.set(e,s);var h=n._expandedChildrenMap.get(e);if(h){var c=h.indexOf(e);c>-1&&h.splice(c,1)}if(!h||0===h.length)return{values:t,shouldRemoveSkeleton:!0}}return{values:t,shouldRemoveSkeleton:!1}}return _.next().then(function(e){return n._refreshId!==a?null:(t[0].done=e.done,t[0].value.data=t[0].value.data.concat(e.value.data),t[0].value.metadata=t[0].value.metadata.concat(e.value.metadata),E(t))},function(e){l.error(n.constants.ERROR_FETCHING_DATA+e),o()})};Promise.all([u,h]).then(function(e){return n._refreshId!==a?null:E(e)},function(e){return Promise.reject(e)}).then(function(e){n._refreshId===a?(t(e),o()):o()},function(e){l.error(n.constants.ERROR_FETCHING_DATA+e);var t=n._getSkeletonContainer(n.element[0]);n._isSkeletonSupported()&&t&&n._removeSkeleton(null),o()})}}},function(e){l.error(n.constants.ERROR_FETCHING_DATA+e),s(),n._expandedChildrenMap=new Map,n.m_fetching=new Set})},_clearSkeletonTimeout:function(){this._skeletonTimeout&&(clearTimeout(this._skeletonTimeout),this._skeletonTimeout=null)},_buildRawData:function(e,t){null===e?this._rawData=t.value.metadata:this._findParentAndAddChildren(this._rawData,t.value.metadata,e)},_findParentAndAddChildren:function(e,t,n){for(var s=0;s<e.length;s++){if(e[s].key===n)return void(e[s].children=t);e[s].children&&this._findParentAndAddChildren(e[s].children,t,n)}},_isParentSkeletonRendered:function(e){for(var t=this._getItemByKey(e),n=this._getParents(t,this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM),s=0;s<n.length;s++){var i=this._getKey(n[s]);if(this._expandedChildrenMap.get(i))return!0}return!1},_getShowStatusDelay:function(){var e=this._getOptionDefaults(),t=parseInt(e.showIndicatorDelay,10);return isNaN(t)?0:t},_renderItems:function(e){return new Promise(function(t){var n=document.createElement("ul");n.classList.add(this.constants.OJ_TREEVIEW_LIST),n.setAttribute("role","group");var s=this._getSkeletonContainer(this.element[0]);(s&&this._isSkeletonSupported()||this._isLeafOnlySelectionEnabled())&&(n.style.display="none"),e.parentElem.appendChild(n);for(var i=0;i<e.fetchListResult.data.length;i++)this._renderItem(n,e.fetchListResult,i);s&&this._isSkeletonSupported()&&!this._isLeafOnlySelectionEnabled()?this._toggleParentDisplay(e.parentElem,t):t()}.bind(this))},_getScrollPolicyOptions:function(){return this.options.scrollPolicyOptions},_validateScrollPolicyOptions:function(e){var t=this._getScrollPolicyOptions(),n=this._getTreeViewItemCount()+e;return t.maxCount<n&&l.error("ScrollPolicyOptions max count of ["+t.maxCount+"] has been reached."),n-t.maxCount},_truncateIfOverMaxCount:function(e){var t=e.data.length,n=this._validateScrollPolicyOptions(t);n===t?(e.data=[],e.metadata=[]):n>0&&(e.data.splice(-n,t),e.metadata.splice(-n,t))},_toggleParentDisplay:function(e,t){var n=this._getKey(e);e===this.element[0]&&(n=null);var s=this._expandedChildrenMap.get(n);if(s&&s.length>0)t();else{let e=null;for(e of this._expandedChildrenMap.keys()){var i,a,r=this._expandedChildrenMap.get(e);null===e?(i=this.element[0],a=this._getRoot()):(i=this._getItemByKey(e),a=this._getSubtree(i),this._setItemExpanded(i)),a&&0===r.length&&this._resolveNoChildren(e,i,a,t);for(var o=r.length-1;o>=0;o--)r[o]===n&&a&&(r.splice(o,1),0===r.length&&this._resolveNoChildren(e,i,a,t))}t()}},_resolveNoChildren:function(e,t,n,s){this._expandedChildrenMap.delete(e),this._getSkeletonContainer(t)&&!this._isLeafOnlySelectionEnabled()?this._foundSkeleton(e,n,s):this._isLeafOnlySelectionEnabled()||(n&&(n.style.display="block"),this._toggleParentDisplay(t,s))},_foundSkeleton:function(e,t,n){this._removeSkeleton(e).then(function(){t&&(t.style.display="block");var e=this._getOptionDefaults();r.fadeIn(t,{duration:e.dataFadeInDuration}),n()}.bind(this))},_renderItem:function(e,t,s,i,r){var o,l,d=t.data[s],h=t.metadata[s],c=h.key;if(!r){if(this._keyList.has(c))throw new Error("JET TreeView nodes should not have duplicated keys: "+c);this._keyList.add(c)}var _=document.createElement("li");if(r){var u=this._getItemByKey(c);if(!u)return;e=u.parentNode;var E=this._getSubtree(u);u.parentNode.replaceChild(_,u)}else null==i||i>=e.children.length?e.appendChild(_):e.insertBefore(_,e.children[i]);var p={parentElement:n(_),index:s,data:d,datasource:this.options.data,parentKey:this._getKey(this._getParentItem(_)),metadata:h,component:a.__GetWidgetConstructor(this.element)};this._FixRendererContext&&(p=this._FixRendererContext(p));var f=this.m_dataSource.getChildDataProvider(c);h.leaf=null===f,h.depth=this._getDepth(_);var m=Object.keys(h);for(o=0;o<m.length;o++){var v=m[o];p[v]=h[v]}var g=this.options.item.renderer;g=this._WrapCustomElementRenderer(g);var I=this._getItemTemplate(),y=this._getTemplateEngine();if(null!=g){var S=g.call(this,p);null!=S&&(null===S.parentNode||S.parentNode instanceof DocumentFragment?_.appendChild(S):null!=S.parentNode||S.toString&&((l=document.createElement("span")).appendChild(document.createTextNode(S.toString())),_.appendChild(l)))}else if(null!=I&&null!=y){var O=this.element[0],T=y.execute(O,I,p,null);for(o=0;o<T.length;o++){if("LI"===T[o].tagName){_.parentNode.replaceChild(T[o],_);break}_.appendChild(T[o])}}else(l=document.createElement("span")).appendChild(document.createTextNode(null==d?"":d.toString())),_.appendChild(l);r&&E&&_.appendChild(E),_=e.children[null!=i?i:s],p.parentElement=n(_),_.hasAttribute("id")||_.setAttribute("id",this._getUniqueItemId()),_[this.constants.OJ_ITEM_DATA]=d,_[this.constants.OJ_ITEM_METADATA]=h,this._decorateItem(_)},_getDepth:function(e){for(var t=0,n=e;n&&n!==this.element[0];)n=n.parentElement.parentElement,t+=1;return t},_loadTemplateEngine:function(){var e=this;return null!=this._getItemTemplate()&&null==e.options.item.renderer?new Promise(function(t){d.__getTemplateEngine().then(function(n){e.m_engine=n,t(n)},function(e){throw new Error("Error loading template engine: "+e)})}):Promise.resolve(null)},_getTemplateEngine:function(){return this.m_engine},_getItemTemplate:function(){if(void 0===this.m_template){this.m_template=null;var e=this._getSlotMap().itemTemplate;e&&e.length>0&&"template"===e[0].tagName.toLowerCase()&&(this.m_template=e[0])}return this.m_template},_getSlotMap:function(){return u.CustomElementUtils.getSlotMap(this.element[0])},_decorateTree:function(){var e=this,t=this._getRoot();if(t){this._focusable({element:n(t),applyHighlight:!0,setupHandlers:function(t,n){e._focusInHandler=t,e._focusOutHandler=n}}),t.setAttribute("tabIndex",0),n(t).on("focus",function(){e._focusInHandler(n(e._getItemContent(e._currentItem)))}).on("blur",function(){e._focusOutHandler(n(e._getItemContent(e._currentItem)))}),t.setAttribute("role","tree"),t.setAttribute("aria-labelledby",this.element[0].getAttribute("id"));var s=this.options.selectionMode;"none"!==s?t.setAttribute("aria-multiselectable",this._isMultiSelectionEnabled()||this._isLeafOnlySelectionEnabled()?"true":"false"):t.removeAttribute("aria-multiselectable"),"single"===s&&this.element[0].classList.add(this.constants.OJ_TREEVIEW_SELECT_SINGLE),this.element[0].setAttribute("tabIndex",-1),this.element[0].addEventListener("focus",()=>{this._getRoot().focus()}),this.element[0].addEventListener("blur",()=>{this._getRoot().blur()})}},_isMultiSelectionEnabled:function(){return"multiple"===this.options.selectionMode},_isLeafOnlySelectionEnabled:function(){return"leafOnly"===this.options.selectionMode},_isDefaultCheckBoxesEnabled:function(){return"selector"===this._getOptionDefaults().multipleSelectionAffordance&&(this._isMultiSelectionEnabled()||this._isLeafOnlySelectionEnabled())},_refreshSelectionItems:function(){if("none"!==this.options.selectionMode){var e,t,n=this._getSelected(),s=Array.from(this._getItemsInSelectedKeySet(n));if(n.isAddAll())for(e=0;e<s.length;e++){t=s[e];var i=this._getKey(t);n.has(i)&&this._isActionable(t,"select")?this._setSelected(t):this._setUnselected(t)}else{var a=this._getSelectedItemContents();for(e=a.length-1;e>=0;e--){var r=a[e].parentElement,o=s.indexOf(r);-1!==o?s.splice(o,1):this._setUnselected(r)}for(e=0;e<s.length;e++)t=s[e],this._setSelected(t)}this._isLeafOnlySelectionEnabled()&&this._updateIndeterminateState(this._selectedKeysets.partialParents)}},_getItemsInSelectedKeySet:function(e){var t=[];return e.isAddAll()?this._getItems():(e.values().forEach(e=>{var n=this._getItemByKey(e);n&&this._isActionable(n,"select")&&t.push(n)}),t)},_decorateItem:function(e){var t;e.classList.add(this.constants.OJ_TREEVIEW_ITEM),e.setAttribute("role","treeitem");var n=this._getKey(e),i=this._getItemContent(e);if(!i){if((i=document.createElement("div")).classList.add(this.constants.OJ_TREEVIEW_ITEM_CONTENT),this._isDefaultCheckBoxesEnabled()&&this._isActionable(e,"focus")&&this._isActionable(e,"select")){var a=document.createElement("span");a.classList.add(this.constants.OJ_TREEVIEW_SELECTOR);var r=document.createElement("oj-selector");this._getSelected().has(n)?r.selectedKeys=new h.KeySetImpl([n]):r.selectedKeys=new h.KeySetImpl,r.setAttribute("data-oj-binding-provider","none"),r.setAttribute("selection-mode","multiple"),r.setAttribute("aria-label",p.getTranslatedString("oj-ojTreeView.treeViewSelectorAria",{rowKey:n})),r.addEventListener("selectedKeysChanged",function(e){if("internal"===e.detail.updatedFrom){var t=this._getItemByKey(e.target.rowKey);this._focus(t,e);var n=this._getSelected();n=n.has(e.target.rowKey)?n.delete([e.target.rowKey]):n.add([e.target.rowKey]),this._userSelectedOptionChange(n,e)}}.bind(this)),r.rowKey=n,a.appendChild(r),i.appendChild(a),s.getContext(r).getBusyContext().whenReady().then(()=>{E.disableAllFocusableElements(r)})}if(e.firstChild)do{i.appendChild(e.firstChild)}while(e.childNodes.length>0);e.appendChild(i);var o=i.getElementsByTagName("ul")[0];o&&e.appendChild(o);var l=i.querySelectorAll(this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM_ICON);for(t=0;t<l.length;t++)l[t].classList.add(this.constants.OJ_TREEVIEW_ICON),l[t].classList.add(this.constants.OJ_COMPONENT_ICON)}this._select(e),i.setAttribute("draggable",this._isDnD()?"true":"false");var d=this._getItemDisclosureIcon(i);d||(d=document.createElement("ins"),this._addTreeViewIconClass(d),i.insertBefore(d,i.children[0]));var c=this._getItemSpacer(i);c||(c=document.createElement("span"),this._addTreeviewSpacerClass(c),i.insertBefore(c,d)),this._addIndentation(e,c),this._isDnD()&&(e.classList.add(this.constants.OJ_DRAGGABLE),i.classList.add(this.constants.OJ_DRAGGABLE)),this._isLeaf(e)?this._addTreeviewLeafClass(e):(this._isInitExpanded(n)?this._expand(e,!1):this._collapse(e,!1),this._addDisclosureClasses(d))},_addIndentation:function(e,t){var n=this._getDepth(e);this._isLeaf(e)||(n-=1),n<this.constants.MAX_STYLE_DEPTH?this._appendSpacerClass(n,t):(this._appendSpacerClass(1,t),t.style.width=t.offsetWidth*n+"px")},_removeIndentation:function(e){e.style.removeProperty("width"),e.removeAttribute("class"),e.classList.add(this.constants.OJ_TREEVIEW_SPACER)},_appendSpacerClass:function(e,t){t.classList.add(this.classNames["depth"+e])},_addTreeviewSpacerClass:function(e){e.classList.add(this.constants.OJ_TREEVIEW_SPACER)},_addTreeViewIconClass:function(e){e.classList.add(this.constants.OJ_TREEVIEW_ICON)},_addTreeviewLeafClass:function(e){e.classList.add(this.constants.OJ_TREEVIEW_LEAF)},_removeTreeviewLeafClass:function(e){e.classList.remove(this.constants.OJ_TREEVIEW_LEAF)},_addDisclosureClasses:function(e){e.classList.add(this.constants.OJ_TREEVIEW_DISCLOSURE_ICON),e.classList.add(this.constants.OJ_COMPONENT_ICON),e.classList.add(this.constants.OJ_CLICKABLE_ICON_NOCONTEXT),e.classList.add(this.constants.OJ_DEFAULT)},_removeDisclosureClasses:function(e){e.classList.remove(this.constants.OJ_TREEVIEW_DISCLOSURE_ICON),e.classList.remove(this.constants.OJ_COMPONENT_ICON),e.classList.remove(this.constants.OJ_CLICKABLE_ICON_NOCONTEXT),e.classList.remove(this.constants.OJ_DEFAULT)},_getItems:function(){return this.element[0].querySelectorAll(this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM)},_getKey:function(e){if(!e)return null;var t=e[this.constants.OJ_ITEM_METADATA];return t?t.key:e.getAttribute("id")},_getItemByKey:function(e){for(var n,s=this.element[0].getElementsByTagName("li"),i=0;i<s.length;i++){var a=s[i][this.constants.OJ_ITEM_METADATA];if(a&&t.Object.compareValues(a.key,e)){n=s[i];break}}if(n)return n;if("string"==typeof e){var r=document.getElementById(e),o=this._getRoot();if(o&&r&&o.contains(r))return r}},_getItemContent:function(e){if(!e)return null;for(var t=e.children,n=0;n<t.length;n++)if(e.children[n].classList&&e.children[n].classList.contains(this.constants.OJ_TREEVIEW_ITEM_CONTENT))return e.children[n];return null},_getChildItems:function(e){var t=[],n=e.getElementsByClassName(this.constants.OJ_TREEVIEW_LIST)[0];if(n)for(var s=n.children,i=0;i<s.length;i++)t.push(s[i]);return t},_getParentItem:function(e){var t=this._getParents(e,".oj-treeview-list")[0];return this._getParents(t,this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM)[0]},_getSubtree:function(e){return e.getElementsByClassName(this.constants.OJ_TREEVIEW_LIST)[0]},_getRoot:function(){return this.element[0].getElementsByClassName(this.constants.OJ_TREEVIEW_LIST)[0]},_isLeaf:function(e){if(!e)return null;var t=e[this.constants.OJ_ITEM_METADATA];return!(t?!t.leaf:void 0!==this._getSubtree(e))},_isInitExpanded:function(e,t){var n=null!=t?t:this.options.expanded;return!(!n||!n.has)&&n.has(e)},_isExpanded:function(e){return e.classList.contains(this.constants.OJ_EXPANDED)},_isDisclosing:function(e){return!(!e||!this.m_disclosing)&&this.m_disclosing.indexOf(e)>-1},_setDisclosing:function(e,t){if(null!=e)if(null==this.m_disclosing&&(this.m_disclosing=[]),t)this.m_disclosing.push(e);else for(var n=this.m_disclosing.indexOf(e);n>-1;)this.m_disclosing.splice(n,1),n=this.m_disclosing.indexOf(e)},_expand:function(e,t,n,s){var i=this;if(!(this._isExpanded(e)||this._isLeaf(e)||t&&this._isDisclosing(this._getKey(e)))){if(t&&!this._trigger("beforeExpand",n,this._getEventPayload(e))&&!1!==s)return;this._lastSelectedItem=null;var a=this._getSubtree(e),r=i._getKey(e);if(!a)return this._uiExpanded=this._uiExpanded.add([r]),void this._fetchChildren(r,function(s){if((!i._isExpanded(e)||i._isSkeletonSupported())&&(i._isInitExpanded(r)||i._isInitExpanded(r,i._uiExpanded))){var o=s.values[0];i._truncateIfOverMaxCount(o.value);var l=e.getElementsByClassName(i.constants.OJ_TREEVIEW_SKELETON_CONTAINER).length,d={fetchListResult:o.value,parentElem:e};i._isSkeletonSupported()&&l>0&&s.shouldRemoveSkeleton&&!i._isLeafOnlySelectionEnabled()?i._renderItems(d).then(function(){var t=e.offsetHeight,s=3*t,r=t*o.value.data.length;a=i._getSubtree(e);var l={startMaxHeight:s+"px",endMaxHeight:r+"px"};r>s?i._animateSkeletonRemoval("expand",e,a,l,n):r<s?i._animateSkeletonRemoval("collapse",e,a,l,n):i._animateSkeletonRemoval("fadeIn",e,a,l,n)}):i._isSkeletonSupported()&&l>0?i._renderItems(d).then(function(){i._setExpandedState(i,e,n),i.isReady()&&i._isLeafOnlySelectionEnabled()&&i._initLeafOnlySelectionMode()}):i._renderItems(d).then(function(){i._expandAfterFetch(e,t,n),i.isReady()&&i._isLeafOnlySelectionEnabled()&&i._initLeafOnlySelectionMode()})}});i._expandAfterFetch(e,t,n)}},_initLeafOnlySelectionMode:function(){let e=e=>new Map(e);this.options.data.createOptimizedKeyMap&&(e=e=>this.options.data.createOptimizedKeyMap(e));let t=e=>new Set(e);this.options.data.createOptimizedKeySet&&(t=e=>this.options.data.createOptimizedKeySet(e)),this.treeviewSelectionManager=new f(this._rawData,{keyAttributes:"key",childrenAttribute:"children"},e,t),this._userSelectedOptionChange(this._filterOutParentKeys(this._getSelected()),null,!0);var n=this._getRoot();this._getSkeletonContainer(this.element[0])?this._removeSkeleton(null).then(function(){n&&(n.style.display="block");var e=this._getOptionDefaults();r.fadeIn(n,{duration:e.dataFadeInDuration})}.bind(this)):n&&(n.style.display="block")},_setItemExpanded:function(e){e.classList.remove(this.constants.OJ_COLLAPSED),e.classList.add(this.constants.OJ_EXPANDED),this._setAriaExpanded(e,"true")},_animateSkeletonRemoval:function(e,t,n,s,i){var a=this._getKey(t);this._removeSkeleton(a).then(function(){this._setItemExpanded(t);var o=this,l=this._getOptionDefaults();n.style.display="block",r.fadeIn(n,{duration:l.dataFadeInDuration}).then(function(){var r=this._addBusyState("animating skeleton removal",a);t.classList.add(this.constants.OJ_TREEVIEW_ANIMATED),this._setDisclosing(this._getKey(t),!0),"expand"===e?this._startAnimation(n,"expand",s).then(this._resolveAnimationPromise(o,t,i,r)):"collapse"===e?this._startAnimation(n,"collapse",s).then(this._resolveAnimationPromise(o,t,i,r)):this._resolveAnimationPromise(o,t,i,r)()}.bind(this))}.bind(this))},_expandAfterFetch:function(e,t,n){this._setItemExpanded(e);var s=this._getKey(e),i=this._getSubtree(e);if(i&&(i.style.display="block"),t){var a=this._addBusyState("animating expand",s);e.classList.add(this.constants.OJ_TREEVIEW_ANIMATED),this._setDisclosing(s,!0),this._startAnimation(i,"expand").then(this._resolveAnimationPromise(this,e,n,a))}},_setExpandedState:function(e,t,n){e._setDisclosing(e._getKey(t),!1),t.classList.remove(e.constants.OJ_TREEVIEW_ANIMATED),e._trigger("expand",n,e._getEventPayload(t));var s=e.options.expanded.add([e._getKey(t)]);e._userOptionChange("expanded",s,n)},_resolveAnimationPromise:function(e,t,n,s){return function(){this._setExpandedState(e,t,n),s()}.bind(this)},_collapse:function(e,t,n,s){var i=this,a=this._getKey(e);if(!(e.classList.contains(this.constants.OJ_COLLAPSED)||this._isLeaf(e)||t&&this._isDisclosing(a))){if(e.contains(this._currentItem)){var r=e;this._isActionable(r,"focus")||(r=this._getPreviousActionableItem(e,"focus"))||(r=this._getNextActionableItem(e,"focus")),r?this._focus(r,n):(this.options.currentItem=null,this._resetFocus())}if(t){if(!this._trigger("beforeCollapse",n,this._getEventPayload(e))&&!1!==s)return;this._setDisclosing(a,!0)}e.classList.remove(this.constants.OJ_EXPANDED),e.classList.add(this.constants.OJ_COLLAPSED),this._setAriaExpanded(e,"false"),this._lastSelectedItem=null;var o=this._getSubtree(e);if(t){var l=this._addBusyState("animating collapse",a);e.classList.add(this.constants.OJ_TREEVIEW_ANIMATED),this._uiExpanded=this._uiExpanded.delete([a]),this._startAnimation(o,"collapse").then(function(){i._setDisclosing(a,!1),o.style.display="none",e.classList.remove(i.constants.OJ_TREEVIEW_ANIMATED),i._trigger("collapse",n,i._getEventPayload(e));var t=i.options.expanded.delete([a]);i._userOptionChange("expanded",t,n),l()})}else o&&(o.style.display="none");this._isLeafOnlySelectionEnabled()&&!o&&this._fetchChildren(a,function(t){var n=t.values[0];i._truncateIfOverMaxCount(n.value);var s={fetchListResult:n.value,parentElem:e};i._renderItems(s).then(function(){i.isReady()&&i._isLeafOnlySelectionEnabled()&&i._initLeafOnlySelectionMode()})})}},_startAnimation:function(e,t,n){var s={};null==s[t]&&(s[t]=JSON.parse(this._getOptionDefaults()[t+"Animation"]));var i=s[t];return n&&("expand"!==i.effect&&"collapse"!==i.effect||Object.assign(i,n)),r.startAnimation(e,t,i,this)},_getEventPayload:function(e){return{key:this._getKey(e),item:e}},_isActionable:function(e,t){var n=this.options.item[t+"able"];return!1!==n&&("function"!=typeof n||n(this.getContextByNode(e)))},_isSelected:function(e){var t=this.options.selectionMode,n=this._getSelected();if("none"===t)return!1;var s=this._getKey(e);return n.has(s)},_getSelected:function(){return this._isLeafOnlySelectionEnabled()&&this._selectedKeysets?this._selectedKeysets.selected:this.options.selected},_select:function(e,t){if("none"!==this.options.selectionMode&&this._isActionable(e,"focus")&&this._isActionable(e,"select")){var n=this._isSelected(e);if(t){var s=t.key||t.keyCode,i=t.originalEvent.sourceCapabilities&&t.originalEvent.sourceCapabilities.firesTouchEvents,a=o.isTouchSupported()&&(i||null!=this.touchStartEvent&&this.touchStartEvent.target===t.target),r=o.isMetaKeyPressed(t),l=E.isArrowUpKeyEvent(s)||E.isArrowDownKeyEvent(s),d=this._getKey(e),c=new h.KeySetImpl;if((this._isMultiSelectionEnabled()||this._isLeafOnlySelectionEnabled())&&t.shiftKey&&!l){r?c=this._getSelected():this._clearSelection();for(var _=this._lastSelectedItem,u=_&&_.offsetTop<e.offsetTop?this._getNextActionableItem.bind(this):this._getPreviousActionableItem.bind(this);_&&_!==e;){var p=this._getKey(_);c.has(p)||(c=c.add([p]),this._setSelected(_)),_=u(_,"select")}n=!0,c=c.add([d])}else(this._isMultiSelectionEnabled()||this._isLeafOnlySelectionEnabled())&&(r||a||l)?(n=!n,c=this._getSelected(),c=n?c.add([d]):c.delete([d])):(a||E.isSpaceBarKeyEvent(s))&&n?(n=!1,c=new h.KeySetImpl):(n=!0,c=new h.KeySetImpl([d]));this._userSelectedOptionChange(c,t,!r&&!l&&!a),this._lastSelectedItem=e}n?this._setSelected(e):this._setUnselected(e)}},_getSelectorByItem:function(e){return e.getElementsByTagName("oj-selector")[0]},_updateIndeterminateState:function(e){if(this._isDefaultCheckBoxesEnabled()){var t,n,s=Array.from(this.element[0].getElementsByClassName("oj-indeterminate")),i=Array.from(e.values());for(n=s.length-1;n>=0;n--){var a=(t=s[n].parentElement).rowKey,r=i.indexOf(a);-1!==r?i.splice(r,1):t.indeterminate=!1}for(n=0;n<i.length;n++){var o=this._getItemByKey(i[n]);(t=this._getSelectorByItem(o)).indeterminate=!0}}},_setSelected:function(e){this._getItemContent(e).classList.add(this.constants.OJ_SELECTED),e.setAttribute("aria-selected","true");var t=this._getKey(e);this._setupSelector(t,e,!1)},_setUnselected:function(e){this._getItemContent(e).classList.remove(this.constants.OJ_SELECTED),e.setAttribute("aria-selected","false");var t=this._getKey(e);this._setupSelector(t,e,!0)},_clearSelection:function(){for(var e=this._getSelectedItemContents(),t=e.length-1;t>=0;t--)this._setUnselected(e[t].parentElement)},_setupSelector:function(e,t,n){if(this._isDefaultCheckBoxesEnabled()){var s=this._getSelectorByItem(t),i=n?[]:[e];s&&(s.selectedKeys=new h.KeySetImpl(i))}},_getSelectedItemContents:function(){return this.element[0].querySelectorAll(this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM_CONTENT+this.constants.PERIOD+this.constants.OJ_SELECTED)},_focus:function(e,t){if(this._isActionable(e,"focus")){if(t){var s=this._getEventPayload(e);if(this._currentItem&&(s.previousKey=this._getKey(this._currentItem),s.previousItem=this._currentItem),!this._trigger("beforeCurrentItem",t,s))return;this._userOptionChange("currentItem",this._getKey(e),t)}this._focusOutHandler(n(this._getItemContent(this._currentItem))),this._focusInHandler(n(this._getItemContent(e))),this._setCurrentItem(e)}},_resetFocus:function(){if(this.options.currentItem){var e=this._getItemByKey(this.options.currentItem);if(e)return void this._setCurrentItem(e)}var t=this._getItems()[0];this._isActionable(t,"focus")||(t=this._getNextActionableItem(t,"focus")),this._setCurrentItem(t),this._userOptionChange("currentItem",this._getKey(this._currentItem),null)},_setCurrentItem:function(e){this._currentItem=e;var t=this._getRoot();t&&e&&t.setAttribute("aria-activedescendant",this._getItemId(e))},_getItemId:function(e){return e.getAttribute("id")},_getUniqueItemId:function(){return u.ElementUtils.getUniqueId(this.element[0].getAttribute("id")).concat("_"+this._getTreeViewItemCount())},_getTreeViewItemCount:function(){return this._getItems().length},_addBusyState:function(e,t){var n=s.getContext(this.element[0]).getBusyContext(),i=this.element.attr("id"),a=n.addBusyState({description:"The component identified by '"+i+"', "+e});return this.m_fetching.add(t),function(){this.m_fetching.delete(t),a(),Promise.resolve(this._processEventQueue())}.bind(this)},_userOptionChange:function(e,t,n){this.option(e,t,{_context:{originalEvent:n,writeback:!0,internalSet:!0}})},_userSelectedOptionChange:function(e,t,n){let s=e;if(this._isLeafOnlySelectionEnabled()){let e=n?this._getEmptyKeySet(s):this._getSelected();this._selectedKeysets=this.treeviewSelectionManager.computeSelection(s,e),s=this._selectedKeysets.selectedLeaves}this._userOptionChange("selected",s,t),this._userOptionChange("selection",h.KeySetUtils.toArray(s),t),this._refreshSelectionItems()},_getEmptyKeySet:function(e){return e.isAddAll()?new h.AllKeySetImpl:new h.KeySetImpl},_filterOutParentKeys:function(e){if(e.isAddAll()){let t=new h.AllKeySetImpl,n=[...e.deletedValues()].filter(e=>!this.treeviewSelectionManager.parentKeyNodeMap.has(e));return t=t.delete(n),t}return new h.KeySetImpl([...e.values()].filter(e=>!this.treeviewSelectionManager.parentKeyNodeMap.has(e)))},_getDragOptions:function(){return((this.options.dnd||{}).drag||{}).items||{}},_getDropOptions:function(){return((this.options.dnd||{}).drop||{}).items||{}},_getClosestItem:function(e){return this._closest(e,this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM)},_getClosestItemContent:function(e){return this._closest(e,".oj-treeview-item-content")},_getClosestDisclosureIcon:function(e){return this._closest(e,".oj-treeview-disclosure-icon")},_handleClick:function(e){if(!E.isFromDefaultSelector(e)){var t,n=this._getClosestDisclosureIcon(e.target);if(n){t=this._getClosestItem(n);var s=this._getKey(t);if(this.m_fetching.has(s))return;return this._isExpanded(t)?this._collapse(t,!0,e):this._expand(t,!0,e),void(this.touchStartEvent=null)}var i=this._getClosestItemContent(e.target);if(i)return t=i.parentNode,this._select(t,e),this._focus(t,e),void(this.touchStartEvent=null);"none"!==this.options.selectionMode&&(this._clearSelection(),this._lastSelectedItem=null,this._userSelectedOptionChange(new h.KeySetImpl,e)),this.touchStartEvent=null}},_isDnD:function(){var e=this._getDragOptions();return Object.keys(e).length>0},_handleMouseOver:function(e){if((!o.isTouchSupported()||!this.touchStartEvent)&&("none"!==this.options.selectionMode||this._isDnD())){var t=this._getClosestDisclosureIcon(e.target);t||(t=this._getClosestItemContent(e.target)),t&&(t.classList.remove(this.constants.OJ_DEFAULT),t.classList.add(this.constants.OJ_HOVER))}},_handleMouseOut:function(e){var t=this._getClosestDisclosureIcon(e.target);t&&t.classList.remove(this.constants.OJ_SELECTED),t||(t=this._getClosestItemContent(e.target)),t&&(t.classList.add(this.constants.OJ_DEFAULT),t.classList.remove(this.constants.OJ_HOVER))},_handleMouseDown:function(e){if(!E.isFromDefaultSelector(e)){var t=this._getClosestDisclosureIcon(e.target);t&&t.classList.add(this.constants.OJ_SELECTED)}},_handleMouseUp:function(e){var t=this._getClosestDisclosureIcon(e.target);t&&t.classList.remove(this.constants.OJ_SELECTED)},_handleKeyDown:function(e){var t,n=this._currentItem,s=e.key||e.keyCode;if(E.isArrowUpKeyEvent(s)||E.isArrowDownKeyEvent(s))(t=E.isArrowDownKeyEvent(s)?this._getNextActionableItem(n,"focus"):this._getPreviousActionableItem(n,"focus"))&&(e.preventDefault(),this._isSelected(n)&&e.shiftKey&&this._select(this._isSelected(t)?n:t,e),this._scrollToVisible(t,s),this._focus(t,e));else if(E.isArrowLeftKeyEvent(s)||E.isArrowRightKeyEvent(s)){var i="rtl"===this._GetReadingDirection(),a=!i&&E.isArrowRightKeyEvent(s)||i&&E.isArrowLeftKeyEvent(s);!a||this._isLeaf(n)||this._isExpanded(n)?a||this._isLeaf(n)||!this._isExpanded(n)?(t=a?this._getNextActionableItem(n,"focus"):this._getPreviousActionableItem(n,"focus"))&&(e.preventDefault(),this._focus(t,e)):(e.preventDefault(),this._collapse(n,!0,e)):(e.preventDefault(),this._expand(n,!0,e))}else if(E.isEnterKeyEvent(s)||E.isSpaceBarKeyEvent(s))e.preventDefault(),this._select(n,e);else if(E.isLetterAKeyEvent(s)&&o.isMetaKeyPressed(e)&&(this._isLeafOnlySelectionEnabled()||this._isMultiSelectionEnabled())){e.preventDefault();for(var r=this._getItems(),l=new h.AllKeySetImpl,d=0;d<r.length;d++)this._isActionable(r[d],"select")&&this._setSelected(r[d]);this._userSelectedOptionChange(l,e)}},_scrollToVisible:function(e,t){var n,s=this._getItemSpacer(e).offsetHeight,i=this.element[0],a=i.scrollTop,r=s,o=a,l=a+this.element[0].offsetHeight;n=e.offsetTop-this.element[0].offsetTop,E.isArrowUpKeyEvent(t)&&(n+=r),n<o?i.scrollTop=a+(n-o-1):n>l&&(i.scrollTop=a+(n-l+1))},_getNextItem:function(e){if(!this._isLeaf(e)&&this._isExpanded(e)){var t=this._getChildItems(e)[0];if(t)return t}for(var n=e;n;){var s=this._getNextSibling(n,this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM);if(s)return s;n=this._getParentItem(n)}return null},_getNextActionableItem:function(e,t){for(;null!=e;)if(null!=(e=this._getNextItem(e))&&this._isActionable(e,t))return e;return null},_getPreviousItem:function(e){for(var t=this._getPreviousSibling(e,this.constants.PERIOD+this.constants.OJ_TREEVIEW_ITEM);t;){if(this._isLeaf(t)||!this._isExpanded(t))return t;var n=this._getChildItems(t),s=n[n.length-1];if(!s)return t;t=s}var i=this._getParentItem(e);return i||null},_getPreviousActionableItem:function(e,t){for(;null!=e;)if(null!=(e=this._getPreviousItem(e))&&this._isActionable(e,t))return e;return null},_handleDragStart:function(e){o.isTouchSupported()&&(this.ojTreeViewDragEvent=!0);var n=this,s="rtl"===this._GetReadingDirection(),i=this._getClosestItem(e.target);if(i){var a,r=[];if(this._isSelected(i)){var l=this.options.selection;for(a=0;a<l.length;a++){var d=this._getItemByKey(l[a]);d&&r.push(d)}}else this._select(i,e),r.push(i);var h=this._getDragOptions(),c=e.originalEvent.dataTransfer,_=document.createElement("ul");_.classList.add(this.constants.OJ_TREEVIEW_DRAG_IMAGE),_.classList.add(this.constants.OJ_TREEVIEW_LIST),t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI&&(_.style.position="absolute");var u,E=[],p=1/0,f=1/0;for(r.forEach(function(e){const t=e[n.constants.OJ_ITEM_DATA];t?E.push(t):E.push(e.parentElement.innerHTML);var i=n._getItemSpacer(e),a=e.getBoundingClientRect(),r=a.top,o=void 0===i?0:i.offsetWidth;if(s){for(var l=n._getItemContent(e).children,d=0,h=0;h<l.length;h++)d+=l[h].offsetWidth;o=n._getTreeviewWidth()+a.x-d-o}r+=document.body.scrollTop,o+=document.body.scrollLeft;var c=e.cloneNode(!0);c.style.top=r+"px",c.style.left=o+"px",e.classList.add(n.constants.OJ_TREEVIEW_DRAG_SOURCE),c.classList.add(n.constants.OJ_TREEVIEW_DRAG_IMAGE),c.classList.add(n.constants.OJ_TREEVIEW_DRAG_IMAGE_ITEM);var u=n._getSubtree(c);u&&c.removeChild(u);var m=n._getItemContent(c);n._setUnselected(c),m.classList.remove(n.constants.OJ_FOCUS),m.classList.remove(n.constants.OJ_HOVER),m.classList.remove(n.constants.OJ_FOCUS_HIGHLIGHT),m.classList.remove(n.constants.OJ_DRAGGABLE);var v=c.getElementsByClassName(n.constants.OJ_TREEVIEW_SPACER)[0];if(v){var g=document.createElement("span");n._addTreeviewSpacerClass(g),m.insertBefore(g,v),m.removeChild(v)}if(n._isDefaultCheckBoxesEnabled()&&n._isActionable(e,"focus")&&n._isActionable(e,"select")){var I=c.getElementsByClassName(n.constants.OJ_TREEVIEW_SELECTOR)[0];I.firstChild.selectedKeys=n.options.selected,I.firstChild.rowKey=n._getKey(e)}r<p&&(p=r),o<f&&(f=o),_.appendChild(c)}),a=0;a<_.children.length;a++)(u=_.children[a]).style.top=parseFloat(u.style.top)-p+"px",u.style.left=parseFloat(u.style.left)-f+"px";var m=h.dataTypes,v="string"==typeof m?[m]:m||[];for(a=0;a<v.length;a++)c.setData(v[a],JSON.stringify(E));document.body.appendChild(_),c.setDragImage(_,e.pageX-f,e.pageY-p),setTimeout(function(){_.parentElement.removeChild(_)},0);var g=h.dragStart;g&&g(e.originalEvent,{items:E})}},_handleDragSourceEvent:function(e,t){"dragEnd"===t&&(this._removeGhostElements(),this._dropLine.style.display="none"),"dragEnd"===t&&o.isTouchSupported()&&(this.ojTreeViewDragEvent=!1);var n=this._getDragOptions()[t];n&&n(e.originalEvent)},_getTreeviewWidth:function(){return this.element[0].offsetWidth},_getItemSpacer:function(e){return e.getElementsByClassName(this.constants.OJ_TREEVIEW_SPACER)[0]},_handleDropTargetEvent:function(e,t){var n=this._getDropOptions(),s=n.dataTypes,i="string"==typeof s?[s]:s||[],a=n[t],r=this._getClosestItem(e.target);if(r){var l=this._getItemSpacer(r),d=l.getBoundingClientRect(),h=l.offsetTop+d.height/2,c="inside",_=e.originalEvent.clientY-d.top;_<.25*d.height?c="before":_>.75*d.height&&(c=this._isExpanded(r)?"first":"after"),a&&a(e.originalEvent,{item:r,position:c});for(var u=0;u<i.length;u++){var E=e.originalEvent.dataTransfer.types;if(E&&E.indexOf(i[u])>=0){e.preventDefault();break}}if("dragEnter"!==t&&"dragOver"!==t||!e.originalEvent.defaultPrevented){if("drop"===t&&(this._removeGhostElements(),this._dropLine.style.display="none",this._removeDropClass(r)),"drop"===t&&o.isTouchSupported()&&(this.ojTreeViewDragEvent=!1),"dragLeave"===t){var p=r.offsetWidth;if("DIV"===e.target.nodeName&&e.target.classList.contains(this.constants.OJ_TREEVIEW_ITEM_CONTENT)&&(e.offsetX>=p||e.offsetX<=0))this._dropLine.style.display="none",this._removeDropClass(r);else if(e.offsetY>=r.offsetHeight||e.offsetY<=0){var f=this._getItems();if(f.length>0){var m=f[0];(r===f[f.length-1]&&"after"===c||r===m&&"before"===c)&&(this._dropLine.style.display="none")}else 0===f.length&&(this._dropLine.style.display="none")}"inside"!==c&&this._removeDropClass(r)}}else{var v="rtl"===this._GetReadingDirection(),g=h;if("before"===c?g-=d.height/2:"after"!==c&&"first"!==c||(g+=d.height/2),"inside"!==c){var I,y=this._getParentItem(r);y&&this._isLeaf(r)?(I=d.width,I-=this._getItemDisclosureIcon(y).offsetHeight):y&&!this._isLeaf(r)?(I=d.width,"first"===c&&(I+=this._getItemDisclosureIcon(r).offsetHeight)):y||(I=0,"first"===c&&(I+=this._getItemDisclosureIcon(r).offsetHeight)),this._removeDropClass(r);var S=this._getTreeviewWidth()-parseInt(I,10)+"px",O=v?"0px":I+"px";this._dropLine.style.width=S,this._dropLine.style.left=O,this._dropLine.style.top=g+"px",this._dropLine.style.display=""}else this._dropLine.style.display="none",this._addDropClass(r)}}},_addDropClass:function(e){this._getItemContent(e).classList.add(this.constants.OJ_TREEVIEW_DROP_ZONE)},_removeDropClass:function(e){this._getItemContent(e).classList.remove(this.constants.OJ_TREEVIEW_DROP_ZONE)},_removeGhostElements:function(){for(var e=this.element[0].querySelectorAll(this.constants.PERIOD+this.constants.OJ_TREEVIEW_DRAG_SOURCE),t=e.length-1;t>=0;t--)e[t].classList.remove(this.constants.OJ_TREEVIEW_DRAG_SOURCE)},_NotifyContextMenuGesture:function(e,t,n){if("keyboard"===n){var s=this._currentItem?this._getItemContent(this._currentItem):this.element,i={launcher:this._getRoot(),initialFocus:"menu",position:{my:"start top",at:"start bottom",of:s}};this._OpenContextMenu(t,n,i)}else if(!this.ojTreeViewDragEvent){var a=this._getClosestItem(t.target);a&&(this._setCurrentItem(a),this._userOptionChange("currentItem",this._getKey(this._currentItem),t),this._superApply(arguments))}},refresh:function(){this._super(),this._refreshId+=1,delete this.m_template,delete this.m_engine,delete this.m_dataSource,this._expandedChildrenMap=new Map,this.m_fetching=new Set,this._render()},getNodeBySubId:function(e){if(null==e)return this.element?this.element[0]:null;var t,n=e.key,s=e.subId,i=this._getItemByKey(n);return"oj-treeview-disclosure"===s&&i?t=i.getElementsByClassName(this.constants.OJ_TREEVIEW_DISCLOSURE_ICON)[0]:s===this.constants.OJ_TREEVIEW_ITEM&&i&&(t=i.getElementsByClassName(this.constants.OJ_TREEVIEW_ITEM_CONTENT)[0]),t||null},getSubIdByNode:function(e){if(!this.element[0].contains(e))return null;var t,n=this._getClosestDisclosureIcon(e),s=this._getClosestItem(e);if(n)t="oj-treeview-disclosure";else{if(!s)return null;t=this.constants.OJ_TREEVIEW_ITEM}return{subId:t,key:this._getKey(s)}},getContextByNode:function(e){if(!this.element[0].contains(e))return null;var t,n=this._getClosestItem(e);if(!n)return null;var s=n.parentNode.children,i=[];for(t=0;t<s.length;t++)s[t].classList.contains(this.constants.OJ_TREEVIEW_ITEM)&&i.push(s[t]);var r={subId:this.constants.OJ_TREEVIEW_ITEM,index:i.indexOf(n),parentKey:this._getKey(this._getParentItem(n))};r.component=a.__GetWidgetConstructor(this.element),this._FixRendererContext&&(r=this._FixRendererContext(r));var o=n[this.constants.OJ_ITEM_METADATA];if(o){r.metadata=o,r.data=n[this.constants.OJ_ITEM_DATA],r.datasource=this.options.data;var l=Object.keys(o);for(t=0;t<l.length;t++){var d=l[t];r[d]=o[d]}}else r.key=this._getKey(n),r.leaf=this._isLeaf(n),r.depth=this._getParents(n,".oj-treeview-list").length;return r},_setOption:function(e,t,n){var s,i,a=this;if(this._isLeafOnlySelectionEnabled()&&(!this._isLeafOnlySelectionEnabled()||"selected"===e&&"selection"===e)||this._superApply(arguments),"expanded"===e)for(this._uiExpanded=a._uiExpanded.clear(),this._expandedChildrenMap=new Map,i=this._getItems(),s=0;s<i.length;s++){var r=this._getKey(i[s]);a._isInitExpanded(r)?a._expand(i[s],!0):a._collapse(i[s],!0)}else if("selected"===e){if(this._isLeafOnlySelectionEnabled()){let e=t;e=this._filterOutParentKeys(e);let n=this._getEmptyKeySet(e);this._selectedKeysets=this.treeviewSelectionManager.computeSelection(e,n),t=this._selectedKeysets.selectedLeaves,arguments[1]=t,this._superApply(arguments)}var o=h.KeySetUtils.toArray(t);this._userOptionChange("selection",o,null),this._refreshSelectionItems()}else if("selection"===e){var l=h.KeySetUtils.toKeySet(t);if(this._isLeafOnlySelectionEnabled()){let e=l;e=this._filterOutParentKeys(e);let t=this._getEmptyKeySet(e);this._selectedKeysets=this.treeviewSelectionManager.computeSelection(e,t),l=this._selectedKeysets.selectedLeaves,arguments[1]=h.KeySetUtils.toArray(l),this._superApply(arguments)}this._userOptionChange("selected",l,null),this._refreshSelectionItems()}else"currentItem"===e?this._resetFocus():"data"===e?(this._removeDataProviderEventListeners(),this.options.data=t,this._addDataProviderEventListeners(),this.refresh()):this.refresh()},_SetupResources:function(){this._super(),this._addDataProviderEventListeners()},_ReleaseResources:function(){this._super(),this._removeDataProviderEventListeners()},_destroy:function(){this._removeDataProviderEventListeners(),this._super()},_addDataProviderEventListeners:function(){var e=this.options.data;e&&t.DataProviderFeatureChecker.isTreeDataProvider(e)&&(this.m_handleModelMutateEventListener=this.handleModelMutateEvent.bind(this),this.m_handleModelRefreshEventListener=this.handleModelRefreshEvent.bind(this),e.addEventListener("mutate",this.m_handleModelMutateEventListener),e.addEventListener("refresh",this.m_handleModelRefreshEventListener))},_removeDataProviderEventListeners:function(){var e=this.options.data;e&&t.DataProviderFeatureChecker.isTreeDataProvider(e)&&(e.removeEventListener("mutate",this.m_handleModelMutateEventListener),e.removeEventListener("refresh",this.m_handleModelRefreshEventListener))},handleModelMutateEvent:function(e){this._isLeafOnlySelectionEnabled()?l.error("Mutations are not supported in selectionMode: leafOnly  "):this.isReady()?(null!=e.detail.remove&&this.handleModelRemoveEvent(e),null!=e.detail.add&&this.handleModelAddEvent(e),null!=e.detail.update&&this.handleModelChangeEvent(e),this._processEventQueue()):this._pushToEventQueue(e)},_pushToEventQueue:function(e){null==this.m_eventQueue&&(this.m_eventQueue=[]),this.m_eventQueue.push(e)},_clearEventQueue:function(){null!=this.m_eventQueue&&(this.m_eventQueue.length=0)},_processEventQueue:function(){var e;if(this.isReady()&&null!=this.m_eventQueue&&this.m_eventQueue.length>0){for(var t=0;t<this.m_eventQueue.length;t++)if("refresh"===(e=this.m_eventQueue[t]).type)return void this.handleModelRefreshEvent(e);"mutate"===(e=this.m_eventQueue.shift()).type&&this.handleModelMutateEvent(e)}},isReady:function(){return 0===this.m_fetching.size},handleModelRemoveEvent:function(e){var t=this,n=e.detail.remove.keys,s=[];if(null!=n&&0!==n.size&&(n.forEach(function(n){(!e.detail.add||e.detail.add&&!e.options.detail.add.keys.has(n))&&(s=s.concat(t._removeAllChildrenOfParentKey(n)))}),0!==s.length)){var i=this._getSelected();if(null!=i){var a=i.delete(s);i!==a&&this._userSelectedOptionChange(a,e)}var r=this.options.expanded;if(null!=r){var o=r.delete(s);this._uiExpanded.delete(s),r!==o&&this._userOptionChange("expanded",o,null)}this._resetFocus()}},_changeNodeToLeaf:function(e,t){if(e!==this.element[0]){e.removeChild(t),e[this.constants.OJ_ITEM_METADATA].leaf=!0,e.classList.add(this.constants.OJ_TREEVIEW_LEAF),e.classList.remove(this.constants.OJ_EXPANDED),e.removeAttribute("aria-expanded"),e.classList.remove(this.constants.OJ_COLLAPSED);var n=this._getItemSpacer(e);this._removeIndentation(n),this._addIndentation(e,n);var s=this._getKey(e),i=[];i.push(s);var a=this.options.expanded;if(null!=a){var r=a.delete(i);this._uiExpanded.delete(i),a!==r&&this._userOptionChange("expanded",r,null)}var o=this._getItemDisclosureIcon(e);this._removeDisclosureClasses(o)}},_changeNodeToParent:function(e){e[this.constants.OJ_ITEM_METADATA].leaf=!1,e.classList.remove(this.constants.OJ_TREEVIEW_LEAF),e.classList.add(this.constants.OJ_COLLAPSED),this._setAriaExpanded(e,"false");var t=this._getItemSpacer(e);this._removeIndentation(t),this._addIndentation(e,t);var n=this._getItemDisclosureIcon(e);this._addDisclosureClasses(n)},_setAriaExpanded:function(e,t){e.setAttribute("aria-expanded",t)},_getItemDisclosureIcon:function(e){return e.getElementsByTagName("ins")[0]},_removeAllChildrenOfParentKey:function(e){var t=this,n=[],s=this._getItemByKey(e);if(s){this._getChildItems(s).forEach(function(e){var s=t._getKey(e),i=t._removeAllChildrenOfParentKey(s);n=n.concat(i)});var i=s.parentNode;i.removeChild(s),this._keyList.delete(e),n.push(e),0===i.getElementsByTagName("li").length&&t._changeNodeToLeaf(i.parentNode,i)}return n},_isLeafIcon:function(e){return e.classList.contains(this.constants.OJ_TREEVIEW_LEAF)},handleModelReorder:function(e,t,n){var s=this._getItemByKey(t),i=s.parentElement,a=this._getItemByKey(e),r=a.parentElement,o=a.parentNode;r.removeChild(a),0===r.getElementsByTagName("li").length&&this._changeNodeToLeaf(o.parentNode,o),n?i.insertBefore(a,s.nextSibling):i.insertBefore(a,s)},getLastItemKey(e){return this._getKey(e[e.length-1])},handleModelAddEvent:function(e){var t=e.detail.add;this._truncateIfOverMaxCount(t);var n=t.data,s=t.metadata,i=[],a=t.parentKeys,r=t.indexes,o=0,l=this;e.detail.add.keys.forEach(function(n){if(!e.detail.remove||e.detail.remove&&!e.options.detail.remove.keys.has(n))i.push(n);else if(t.addBeforeKeys&&t.addBeforeKeys[o]&&0!==t.addBeforeKeys.length)this.handleModelReorder(n,t.addBeforeKeys[o],!1);else{var s;if(t.parentKeys&&t.parentKeys[o]&&0!==t.parentKeys.length){var a=this._getItemByKey(t.parentKeys[o]),r=this._getChildItems(a);s=this.getLastItemKey(r)}else{var l=this._getItems();s=this.getLastItemKey(l)}s&&this.handleModelReorder(n,s,!0)}o+=1}.bind(this)),a.forEach(function(e){var t=l._getItemByKey(e);t&&l._isLeafIcon(t)&&l._changeNodeToParent(t)});const d=this._getAllTreeviewKeys(),h=E.getAddEventKeysResult(d,t,!0);if(null!=n&&i.length>0&&n.length>0&&i.length===n.length&&(null==r||r.length===n.length))for(o=0;o<n.length;o++){var c=a[o],_=this._getInsertIndex(s[o].key,c,h);if(null!==_){var u,p=this._getItemByKey(c);null==c?(u=this._getRoot())&&this._renderItem(u,{data:[n[o]],metadata:[s[o]]},0,_):p&&(u=this._getSubtree(p))&&this._renderItem(u,{data:[n[o]],metadata:[s[o]]},0,_)}}},_getInsertIndex:function(e,t,n){let s;if(s=t?this._getItemByKey(t):this.element[0],!s)return null;let i=n.indexOf(e);if(-1===i)return null;let a=this._getChildItems(s),r=a.length;for(let e=0;e<a.length;e++){let t=a[e],s=this._getKey(t);if(n.indexOf(s)>i){r=e;break}}return r},_getAllTreeviewKeys:function(){const e=[],t=this._getItems();for(let n=0;n<t.length;n++)e.push(this._getKey(t[n]));return e},handleModelChangeEvent:function(e){var t=e.detail.update,n=t.data,s=t.metadata,i=[];t.keys.forEach(function(e){i.push(e)});for(var a=0;a<n.length;a++){var r=this._getItemByKey(i[a]);if(null!=r){var o=this._indexToParent(r);this._renderItem(null,{data:[n[a]],metadata:[s[a]]},0,o,!0)}}this._resetFocus()},_indexToParent:function(e){for(var t=0,n=0;n<e.parentNode.children.length;n++)if(e.parentNode.children[n]===e){t=n;break}return t},handleModelRefreshEvent:function(e){this.isReady()?(this._clearEventQueue(),this.refresh()):this._pushToEventQueue(e)},_isSkeletonSupported:function(){return"skeleton"===this._getOptionDefaults().loadIndicator},_getOptionDefaults:function(){if(null==this.defaultOptions){this.defaultOptions={};const e=Object.keys(this.constants.OJ_TREEVIEW_CSS_VARS),t=e.map(e=>this.constants.OJ_TREEVIEW_CSS_VARS[e]),n=i.getCachedCSSVarValues(t);e.forEach((e,t)=>{this.defaultOptions[e]=n[t]})}return this.defaultOptions},_renderChildSkeletons:function(e){var t=this._getItemByKey(e);this._removeExistingSkeletons(t);var n=this._getItemDisclosureIcon(t).offsetWidth,s="rtl"===this._GetReadingDirection(),i=this._buildThreeItemedSkeleton(),a=this._buildSkeletonContainer(),r=n,o=this._getDepth(t);s?a.style.marginRight=r+n/o+"px":a.style.marginLeft=r+n/o+"px",a.appendChild(i),t.appendChild(a)},_renderInitialSkeletons:function(){this._removeExistingSkeletons(this.element[0]);var e=this._buildThreeItemedSkeleton(),t=this._buildTwoItemedSkeleton(),n=this._buildSkeletonContainer();n.appendChild(e),n.appendChild(t),this.element[0].classList.add(this.constants.OJ_COMPLETE),this.element[0].appendChild(n);var s=n.offsetHeight,i=this.element[0].offsetHeight,a=s/5,r=0;if(s<i)do{r%2==0?(s+=3*a,n.appendChild(this._buildThreeItemedSkeleton())):(s+=2*a,n.appendChild(this._buildTwoItemedSkeleton())),r+=1}while(s<=i);if(s>i){var o=n.querySelectorAll(this.constants.PERIOD+this.constants.OJ_TREEVIEW_SKELETON_CONTENT);for(r=o.length-1;r>=0&&(s-=a,n.removeChild(o[r]),!(s<=i));r--);}},_removeExistingSkeletons:function(e){for(var t=e.querySelectorAll(this.constants.PERIOD+this.constants.OJ_TREEVIEW_SKELETON_CONTAINER),n=0;n<t.length;n++)e.removeChild(t[n])},_getSkeletonContainer:function(e){return e.getElementsByClassName(this.constants.OJ_TREEVIEW_SKELETON_CONTAINER)[0]},_removeSkeleton:function(e){return new Promise(function(t){var n,s=this._addBusyState("removing skeleton",e);(n=null===e?this._getSkeletonContainer(this.element[0]):this._getSkeletonContainer(this._getItemByKey(e)))?r.fadeOut(n,{duration:"100ms"}).then(function(){n.parentElement&&n.parentElement.removeChild(n),s(),t()}):(s(),t())}.bind(this))},_buildThreeItemedSkeleton:function(){var e=this._buildTwoItemedSkeleton(),t=this._buildSkeletonLeafContent();return e.appendChild(t),e},_buildTwoItemedSkeleton:function(){var e=new DocumentFragment,t=this._buildSkeletonContent(!1);e.appendChild(t);var n=this._buildSkeletonContent(!0);return e.appendChild(n),e},_buildSkeletonContainer:function(){var e=document.createElement("div");return e.classList.add(this.constants.OJ_TREEVIEW_SKELETON_CONTAINER),e.classList.add(this.constants.OJ_ANIMATION_SKELETON_FADE_IN),e},_buildSkeletonContent:function(e){var t=document.createElement("div");t.classList.add(this.constants.OJ_TREEVIEW_SKELETON_CONTENT);var n=this._buildSkeletonCarrot();return e&&n.classList.add(this.constants.OJ_TREEVIEW_SKELETON_CHILD),t.appendChild(n),t.appendChild(this._buildSkeletonItem()),t},_buildSkeletonCarrot:function(){var e=document.createElement("div");return e.classList.add(this.constants.OJ_TREEVIEW_SKELETON_CARROT),e.classList.add(this.constants.OJ_ANIMATION_SKELETON),e},_buildSkeletonItem:function(){var e=document.createElement("div");return e.classList.add(this.constants.OJ_TREEVIEW_SKELETON_ITEM),e.classList.add(this.constants.OJ_ANIMATION_SKELETON),e},_buildSkeletonLeafContent:function(){var e=document.createElement("div");return e.classList.add(this.constants.OJ_TREEVIEW_SKELETON_CONTENT),e.appendChild(this._buildSkeletonLeafItem()),e},_buildSkeletonLeafItem:function(){var e=document.createElement("div");return e.classList.add(this.constants.OJ_TREEVIEW_SKELETON_LEAF),e.classList.add(this.constants.OJ_ANIMATION_SKELETON),e},_closest:function(e,t){if(!e)return null;if(!e.closest){do{if(this._matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}return e.closest(t)},_getParents:function(e,t){for(var n=[];e&&e!==document;e=e.parentNode)this._matches(e,t)&&n.push(e);return n},_getNextSibling:function(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){if(this._matches(n,t))return n;n=n.nextElementSibling}return null},_getPreviousSibling:function(e,t){var n=e.previousElementSibling;if(!t)return n;for(;n;){if(this._matches(n,t))return n;n=n.previousElementSibling}return null},_matches:function(e,t){return e.matches||(e.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),e.matches(t)}});var m={properties:{currentItem:{type:"any",writeback:!0,readOnly:!0},data:{type:"object",extension:{webelement:{exceptionStatus:[{type:"deprecated",since:"11.0.0",description:"Data sets from a DataProvider cannot be sent to WebDriverJS; use ViewModels or page variables instead."}]}}},dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},drag:{type:"function"},dragEnd:{type:"function"},dragStart:{type:"function"}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"string|Array<string>"},dragEnter:{type:"function"},dragLeave:{type:"function"},dragOver:{type:"function"},drop:{type:"function"}}}}}}},expanded:{type:"KeySet",writeback:!0},item:{type:"object",properties:{focusable:{type:"function"},renderer:{type:"function"},selectable:{type:"function"}}},scrollPolicyOptions:{type:"Object<number>",properties:{maxCount:{type:"number",value:500}}},selected:{type:"KeySet",writeback:!0},selection:{type:"Array<any>",writeback:!0,value:[]},selectionMode:{type:"string",enumValues:["leafOnly","multiple","none","single"],value:"none"},translations:{type:"object",value:{},properties:{treeViewSelectorAria:{type:"string"}}}},methods:{getContextByNode:{},getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeCollapse:{},ojBeforeCurrentItem:{},ojBeforeExpand:{},ojCollapse:{},ojExpand:{}},extension:{}};m.extension._WIDGET_NAME="ojTreeView",t.CustomElementBridge.register("oj-tree-view",{metadata:m})});
//# sourceMappingURL=ojtreeview.js.map;
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
define('components/common/table-of-contents/index',["require", "exports", "preact", "preact/hooks", "ojs/ojcontext", "ojs/ojkeyset", "ojs/ojarraytreedataprovider", "jquery", "./toc-offline.js", "./toc-offline-article.js", "../../../store/screen-range-context", "../../../store/publication-context", "../../../models/components/common/table-of-contents/toc-heading-origin.enum", "../../../translations/common/table-of-contents/translations-helper", "../../../utils/responsive-helper", "../../../utils/html-helper", "../../../utils/link-helper", "../../../utils/publication-content-fetcher", "../../../utils/table-of-contents-helper", "ojs/ojbutton", "ojs/ojtreeview"], function (require, exports, preact_1, hooks_1, Context, ojkeyset_1, ArrayTreeDataProvider, $, tocOffline, tocOfflineArticle, screen_range_context_1, publication_context_1, toc_heading_origin_enum_1, translations_helper_1, responsive_helper_1, html_helper_1, link_helper_1, publication_content_fetcher_1, table_of_contents_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.TableOfContents = void 0;
    class TableOfContents extends preact_1.Component {
        constructor() {
            super();
            this.tocSelectedEntryChanged = false;
            this.catalogFiltersChanged = false;
            this.isBottomOfPage = false;
            this.originalArticleTocData = [];
            // Constants
            this.SOLUTION_TOC_SELECTORS = 'article > h1, article > h2, article > h3, article > h4, article > ul, article > ul > li:has(>span)';
            this.SINLGE_PAGE_TOC_SELECTORS = 'article h2, article h3, article h4, article h5, article h6';
            this.TOC_SELECTORS = 'article > h1, article > h2, article > h3, article > h4, article > header > h1, article > header > h2, ' +
                'article > header > h3, article > header > h4, article > ul, article > div > div > ul, article > div > div > div > ul';
            this.TREE_ITEMS_MAX_COUNT = 500;
            this.ArticleToc = () => {
                if (!this.articleTocDP || this.catalogFiltersChanged) {
                    this.articleTocDP = new ArrayTreeDataProvider(this.state.filteredArticleTocData[0], { keyAttributes: 'href' });
                    this.catalogFiltersChanged = false;
                }
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("oj-tree-view", { id: "treeview", class: "treeview", data: this.articleTocDP, expanded: this.state.expanded, selectionMode: "single", scrollPolicyOptions: this.state.treeItemsMaxCount, selected: this.state.currentItem, onselectedChanged: this.selectedChanged, onojExpand: this.onExpand, onojCollapse: this.onCollapse },
                        preact_1.h("template", { slot: "itemTemplate", render: this.renderTreeItem }))));
            };
            this.selectedChanged = (event, selectedTocEntryHref) => __awaiter(this, void 0, void 0, function* () {
                if ((event === null || event === void 0 ? void 0 : event.detail.updatedFrom) === 'internal' || selectedTocEntryHref) {
                    this.clearPreviousTreeViewSelection(event === null || event === void 0 ? void 0 : event.target);
                    const selectedKey = selectedTocEntryHref || Array.from(event.detail.value.values()).shift();
                    this.tocSelectedEntryChanged = true;
                    this.tocPossibilitiesMatchFromUrl = selectedKey;
                    if (selectedKey && !this.isCustomGuid(selectedKey)) {
                        // TOC business logic for single-page (always single-tree) and multi-page with multi-tree, navigation in same tree (no reload content needed)
                        if (this.publication.isSinglePage ||
                            (this.publication.isMultipage && this.isHeadingOnCurrentPage(selectedKey) && !this.isGuidDuplicated(selectedKey, this.selectedTreeId))) {
                            window.scroll({ top: document.getElementById(selectedKey.split('#')[1]).offsetTop - 1, behavior: 'smooth' });
                        }
                        else if (window.location.protocol === 'file:') {
                            window.location.href = selectedKey;
                        }
                        else {
                            // TOC business logic for multi-page with single-tree or multi-page with multi-tree, navigation in different tree (reload content needed)
                            if (link_helper_1.isExternalLink(selectedKey)) {
                                window.open(selectedKey, link_helper_1.openUrlNewPage(selectedKey) ? '_blank' : '_self');
                                return;
                            }
                            link_helper_1.updateHistory(this.publication.searchSourceParam, selectedKey.replace(/\s+/g, '-'));
                            const content = yield publication_content_fetcher_1.reloadContent(selectedKey);
                            yield this.setPublicationContent(content);
                            if (this.isGuidInPublicationContent(selectedKey.split('#')[1])) {
                                window.scroll({ top: this.getAdjustedScroll(document.getElementById(selectedKey.split('#')[1]).offsetTop), behavior: 'smooth' });
                            }
                            else {
                                window.scroll({ top: this.getAdjustedScroll(document.getElementById('publicationContent').offsetTop), behavior: 'smooth' });
                            }
                        }
                        this.selectedTreeId = selectedKey;
                    }
                    if (selectedTocEntryHref) {
                        window.scroll({ top: 0 });
                    }
                    this.expandCurrentItem(this.treeDataToExpand);
                }
                else if ((event === null || event === void 0 ? void 0 : event.detail.updatedFrom) === 'external') {
                    this.tocPossibilitiesMatchFromUrl = Array.from(event.detail.value.values()).shift();
                }
            });
            this.onExpand = (item) => {
                var _a, _b;
                if ((_a = item === null || item === void 0 ? void 0 : item.detail) === null || _a === void 0 ? void 0 : _a.key) {
                    this.forceExpanded.add((_b = item === null || item === void 0 ? void 0 : item.detail) === null || _b === void 0 ? void 0 : _b.key);
                    if (this.treeChildrenTotal + this.forceExpanded.size >= this.treeItemsTotal) {
                        this.setState({ isAllSelected: true });
                    }
                }
            };
            this.onCollapse = (item) => {
                var _a, _b;
                if ((_a = item === null || item === void 0 ? void 0 : item.detail) === null || _a === void 0 ? void 0 : _a.key) {
                    this.forceExpanded.delete((_b = item === null || item === void 0 ? void 0 : item.detail) === null || _b === void 0 ? void 0 : _b.key);
                }
            };
            this.tocClickEventHandler = (event) => {
                event.preventDefault();
                this.selectedChanged(null, event.target.href);
            };
            this.toggleTreeView = () => {
                this.setState(prevState => ({
                    expanded: (!prevState.isAllSelected ? this.getAll() : new ojkeyset_1.KeySetImpl()),
                    isAllSelected: !prevState.isAllSelected
                }));
            };
            this.closeDrawerPopup = () => this.props.closeDrawerPopup();
            this.checkIfScrolling = () => {
                this.isBottomOfPage = window.innerHeight + window.scrollY >= document.body.offsetHeight;
                if (this.scrollingTimer) {
                    clearTimeout(this.scrollingTimer);
                }
                this.scrollingTimer = setTimeout(() => {
                    this.tocSelectedEntryChanged = false;
                }, 250);
            };
            this.getTreeViewAriaLabel = (topicsLength, index) => {
                var _a;
                if (topicsLength > 1) {
                    return (_a = (index === 0 ? this.state.toc.heading : this.ariaLabelTreeView)) === null || _a === void 0 ? void 0 : _a.trim();
                }
                return null;
            };
            this.state = {
                toc: {
                    heading: '',
                    topics: []
                },
                sixLevelsToc: null,
                filteredArticleTocData: [],
                error: '',
                expanded: new ojkeyset_1.KeySetImpl(),
                isAllSelected: false,
                translations: translations_helper_1.default.getTranslations(),
                currentItem: new ojkeyset_1.KeySetImpl().add([]),
                treeItemsMaxCount: { maxCount: this.TREE_ITEMS_MAX_COUNT }
            };
            this.forceExpanded = new Set();
            this.firstLevel = new Set();
            this.selectedTreeId = '';
            this.treeItemsTotal = 0;
            this.treeChildrenTotal = 0;
            this.tocSelection = { heading: '', parentHeading: '' };
            this.treeHrefs = [];
            this.tocPossibilitiesMatchFromUrl = '';
            this.entryNumberId = 0;
            this.treeDataToExpand = [];
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication, tocSelection: tocSelection, setPublicationTitle, setTableOfContents, setPublicationContent } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            this.setPublicationTitle = setPublicationTitle;
            this.setTableOfContents = setTableOfContents;
            this.setPublicationContent = setPublicationContent;
            this.updateTreeItemSelection(tocSelection);
            return (preact_1.h("div", { class: html_helper_1.getClasses({ 'oj-sm-only-padding-4x-top oj-md-only-padding-6x-top oj-lg-padding-9x-top': !publication.isArticle }, 'oj-sm-only-padding-4x-horizontal oj-md-padding-6x-horizontal toc') }, this.state.toc.topics.length ?
                preact_1.h(preact_1.Fragment, null,
                    preact_1.h("div", { class: 'oj-flex oj-sm-flex-wrap-nowrap oj-sm-width-full oj-sm-justify-content-space-between' },
                        preact_1.h("oj-button", { id: "toggleTreeView", class: "oj-button-sm oj-sm-margin-4x-bottom toggle-tree-view", display: "all", chroming: "outlined", onojAction: this.toggleTreeView, title: this.state.isAllSelected ? this.state.translations.labels.collapse : this.state.translations.labels.expand, "aria-expanded": `${this.state.isAllSelected}`, "aria-controls": "TreeViewListWrapper" },
                            preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-accordion" }),
                            preact_1.h("span", null, this.state.isAllSelected ? this.state.translations.labels.collapse : this.state.translations.labels.expand)),
                        responsive_helper_1.isRangeMDOrLower(screenRange) && !publication.isArticle &&
                            preact_1.h("oj-button", { id: "tocClose", class: "oj-button-sm", display: "icons", chroming: "outlined", onojAction: this.closeDrawerPopup },
                                preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-close" }))),
                    preact_1.h("div", { id: "TreeviewListWrapper", role: "navigation", "aria-label": this.state.translations.ariaLabels.treeViewTableOfContents },
                        this.state.toc.topics.length > 1 && preact_1.h("div", { class: "oj-sm-margin-2x-bottom oj-text-color-secondary toc-heading" }, this.state.toc.heading),
                        this.publication.isArticle ? preact_1.h(this.ArticleToc, null) : this.state.sixLevelsToc.map((treeData, index) => {
                            if (typeof treeData !== 'object') {
                                if (treeData.includes('href')) {
                                    this.ariaLabelTreeView = treeData.replace(new RegExp(/<.*?>/g), '');
                                    return preact_1.h("div", { key: treeData, class: "oj-sm-margin-4x-top oj-sm-margin-2x-bottom oj-text-color-secondary toc-heading", dangerouslySetInnerHTML: { __html: treeData }, onClick: this.tocClickEventHandler });
                                }
                                else {
                                    this.ariaLabelTreeView = treeData;
                                    return (preact_1.h("div", { key: treeData, class: "oj-sm-margin-4x-top oj-sm-margin-2x-bottom oj-text-color-secondary toc-heading" }, treeData));
                                }
                            }
                            else {
                                return (preact_1.h("oj-tree-view", { key: 'treeview' + index, id: 'treeview' + index, class: "treeview", data: treeData, selectionMode: "single", scrollPolicyOptions: this.state.treeItemsMaxCount, expanded: this.state.expanded, selected: this.state.currentItem, onselectedChanged: this.selectedChanged, "aria-label": this.getTreeViewAriaLabel(this.state.toc.topics.length, index), onojExpand: this.onExpand, onojCollapse: this.onCollapse },
                                    preact_1.h("template", { slot: "itemTemplate", render: this.renderTreeItem })));
                            }
                        }))) : this.state.error));
        }
        renderTreeItem(item) {
            return (preact_1.h("li", { class: html_helper_1.getClasses({
                    'oj-sm-margin-4x-top': ((item.depth > 0 && item.index > 0) || (item.depth > 1)),
                    'oj-typography-body-sm': item.depth === 1,
                    'oj-typography-body-xs': item.depth !== 1
                }, 'tree-view-row') },
                preact_1.h("span", { class: "oj-treeview-item-text tree-view-item" }, item.data.title)));
        }
        componentDidMount() {
            window.addEventListener('scroll', this.checkIfScrolling);
            this.getTocJson(this.getTocPath());
        }
        componentDidUpdate(previousProps) {
            if (this.props.selectedCatalogFilters !== previousProps.selectedCatalogFilters) {
                this.filterToc();
                this.catalogFiltersChanged = true;
            }
            Context.getContext(document.getElementById('navigationContainer')).getBusyContext().whenReady().then(() => {
                if (this.props.inNavigation && this.props.isVisible) {
                    table_of_contents_helper_1.scrollToSelectedEntry(table_of_contents_helper_1.NAVIGATION_TABLE_OF_CONTENTS_SELECTOR, table_of_contents_helper_1.NAVIGATION_TABLE_OF_CONTENTS_SELECTED_ENTRY_SELECTOR);
                }
            });
        }
        componentWillUnmount() {
            window.removeEventListener('scroll', this.checkIfScrolling);
        }
        getTocPath() {
            let tocPath = this.publication.paginationLinks.contents !== '' ? this.publication.paginationLinks.contents : 'toc.htm';
            if (this.publication.isArticle) {
                tocPath = this.getArticleCatalogPath();
            }
            return tocPath;
        }
        getArticleCatalogPath() {
            let catalogPath = '../catalog/catalog.';
            if ($('#ssot-metadata').length) {
                const ssotJson = JSON.parse($('#ssot-metadata').text());
                catalogPath += ssotJson.primary.product.short_name + '-';
                catalogPath += ssotJson.primary.release.short_name + '.json';
                catalogPath = catalogPath.replace(/[^a-zA-Z0-9\-_./]/g, '_');
            }
            return catalogPath;
        }
        getTocJson(tocPath) {
            const tocEntry = {
                heading: '',
                topics: []
            };
            $.get(tocPath).done(tocPageHtml => {
                if (this.publication.isArticle) {
                    this.setTocArticle(tocPageHtml, tocEntry);
                }
                else {
                    tocPageHtml = tocPageHtml.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');
                    tocPageHtml = tocPageHtml.replace(/<link rel='stylesheet'[^>]*>/gi, '');
                    const page = $('<div></div>').html(tocPageHtml);
                    this.setState({ toc: this.tocToJson(page, tocEntry) });
                }
                this.setTocContentSelection(tocEntry);
            }).fail(() => {
                if (this.publication.isSinglePage) {
                    this.setState({ toc: this.tocToJsonFallback(tocEntry) });
                    this.setTocContentSelection(tocEntry);
                }
                else if (this.publication.isArticle) {
                    tocOfflineArticle.then((tocJson) => {
                        tocJson = tocJson.toc[0].children;
                        this.setTocArticle(tocJson, tocEntry);
                        this.setTocContentSelection(tocEntry);
                    }).catch(() => {
                        this.setState({ error: 'Unable to load Table of Contents' });
                    });
                }
                else {
                    tocOffline.then((tocJson) => {
                        table_of_contents_helper_1.removeHtmlTagsTitleTocJson(tocJson.topics[0]);
                        this.setState({ sixLevelsToc: this.getSixLevelsToc(tocJson) });
                        this.setState({ toc: tocJson });
                        this.setTocContentSelection(tocEntry);
                    }).catch(() => {
                        this.setState({ error: 'Unable to load Table of Contents' });
                    });
                }
            });
        }
        setTocArticle(tocJson, tocEntry) {
            this.setPublicationTitleForArticle(tocJson[0].publication.publicationDto.title);
            const tocItems = [];
            tocJson.forEach(tocItem => {
                tocItem = JSON.stringify(tocItem);
                tocItem = tocItem.replace(/"label":/g, '"title":');
                tocItem = tocItem.replace(/"url":/g, '"href":');
                tocItems.push(JSON.parse(tocItem));
            });
            tocEntry.topics.push(tocItems);
            this.setState({
                toc: tocEntry,
                sixLevelsToc: this.getSixLevelsToc(tocEntry)
            });
            this.props.updateAvailableCatalogFiltersOptions(table_of_contents_helper_1.getAvailableCatalogFiltersOptions(this.originalArticleTocData));
        }
        setTocContentSelection(tocEntry) {
            this.setTableOfContents(tocEntry.topics);
            this.setTreeItemSelection(true);
            this.expandCurrentItem(this.treeDataToExpand);
        }
        getSixLevelsToc(toc) {
            const sixLevelToc = [];
            toc.topics.forEach((treeData) => {
                if (typeof treeData === 'object') {
                    const parsedTreeData = this.addTocFormat(treeData, 1);
                    if (this.publication.isArticle) {
                        this.setState(prevState => ({
                            filteredArticleTocData: [...prevState.filteredArticleTocData, parsedTreeData]
                        }));
                        this.originalArticleTocData.push(parsedTreeData);
                    }
                    sixLevelToc.push(new ArrayTreeDataProvider(parsedTreeData, { keyAttributes: 'href' }));
                }
                else {
                    sixLevelToc.push(treeData);
                }
            });
            sixLevelToc.forEach(element => {
                if (typeof element === 'object') {
                    this.treeDataToExpand.push(element['treeData']);
                }
            });
            return sixLevelToc;
        }
        getSixLevelsTocFallback(toc) {
            const sixLevelToc = [];
            sixLevelToc.push(new ArrayTreeDataProvider(toc.topics, { keyAttributes: 'href' }));
            return sixLevelToc;
        }
        addTocFormat(treeData, treeLevel, parentId) {
            const MAX_LENGTH_TREE_ITEM = 29;
            const MAX_TREE_LEVEL = 6;
            const FIRST_TREE_LEVEL = 1;
            const SECOND_TREE_LEVEL = 2;
            treeData.forEach((entry) => {
                var _a;
                if (!entry.href) {
                    entry.href = `#${encodeURIComponent(entry.title.trim().replace(/\s+/g, '-'))}-${this.entryNumberId.toString()}`;
                    this.entryNumberId++;
                }
                if ((_a = entry.children) === null || _a === void 0 ? void 0 : _a.length) {
                    const level = treeLevel + 1;
                    level <= MAX_TREE_LEVEL ? this.addTocFormat(entry.children, level, entry.href) : delete entry.children;
                }
                else {
                    this.treeChildrenTotal++;
                }
                if (treeLevel >= SECOND_TREE_LEVEL && entry.title.length >= MAX_LENGTH_TREE_ITEM) {
                    this.setTocStyle(treeLevel, entry.title);
                }
                if (treeLevel > 1) {
                    entry.parentId = parentId;
                }
                if (treeLevel === FIRST_TREE_LEVEL) {
                    this.firstLevel.add(entry.href);
                }
                this.treeHrefs.push(entry.href);
                entry.level = treeLevel;
            });
            this.treeItemsTotal += treeData.length;
            if (this.treeItemsTotal > this.TREE_ITEMS_MAX_COUNT) {
                this.setState({ treeItemsMaxCount: { maxCount: this.treeItemsTotal } });
            }
            return treeData;
        }
        setTocStyle(level, title) {
            Array.from(document.getElementsByClassName('tree-view-item')).forEach(element => {
                if (element.innerText === title) {
                    if (level === 2 || level === 3) {
                        element.style.width = '65%';
                    }
                    else if (level === 4) {
                        element.style.width = '55%';
                    }
                    else if (level === 5 || level === 6) {
                        element.style.width = '50%';
                    }
                }
            });
        }
        setPublicationTitleForArticle(articleTitle) {
            if (articleTitle) {
                document.querySelector('title').innerText = articleTitle;
                this.setPublicationTitle(articleTitle);
            }
        }
        tocToJson(tocPageHtml, tocEntry) {
            let roots;
            let tocJson;
            if ($('html').hasClass('solution')) {
                roots = tocPageHtml.find(this.SOLUTION_TOC_SELECTORS);
                tocJson = this.buildTocJson(roots, tocEntry);
            }
            else {
                roots = tocPageHtml.find(this.TOC_SELECTORS);
                tocJson = this.buildTocJson(roots, tocEntry);
            }
            this.setState({ sixLevelsToc: this.getSixLevelsToc(tocJson) });
            return tocJson;
        }
        tocToJsonFallback(tocEntry) {
            const roots = document.querySelectorAll(this.SINLGE_PAGE_TOC_SELECTORS);
            const tocJson = this.buildTocJsonFallback(roots, tocEntry);
            this.setState({ sixLevelsToc: this.getSixLevelsTocFallback(tocJson) });
            return tocJson;
        }
        buildTocJson(roots, tocEntry) {
            for (const root of roots) {
                if ($(root).is(':header')) {
                    tocEntry.heading === '' ? tocEntry.heading = $(root).html() : tocEntry['topics'].push($(root).html());
                }
                else if ($(root).is('li')) {
                    const li = $(root).find('> span');
                    if (tocEntry.heading === '') {
                        tocEntry.heading = li.prev().text() + li.html();
                    }
                    if (tocEntry.topics.length === 0) {
                        const topics = [];
                        tocEntry['topics'] = topics;
                        this.getChildTopics(li.next('ul'), topics);
                    }
                }
                else {
                    const topics = [];
                    tocEntry['topics'].push(topics);
                    this.getChildTopics($(root), topics);
                }
            }
            return tocEntry;
        }
        buildTocJsonFallback(roots, tocEntry) {
            tocEntry.topics = this.findTopics(roots);
            return tocEntry;
        }
        findTopics(roots) {
            const topics = [];
            const topicsLevels = [];
            topicsLevels[roots[0].nodeName] = topics;
            let previousNodeName = roots[0].nodeName;
            roots.forEach(root => {
                const currentNodeName = root.nodeName;
                const treeViewEntry = {
                    title: root.textContent,
                    href: `#${root.id}`
                };
                this.treeHrefs.push(treeViewEntry.href);
                if (currentNodeName <= previousNodeName) {
                    if (topicsLevels[currentNodeName] === undefined) {
                        topicsLevels[currentNodeName] = [];
                    }
                    topicsLevels[currentNodeName].push(treeViewEntry);
                }
                else {
                    const lastTreeViewEntry = topicsLevels[previousNodeName][topicsLevels[previousNodeName].length - 1];
                    if (lastTreeViewEntry.children === undefined) {
                        lastTreeViewEntry.children = [];
                    }
                    lastTreeViewEntry.children.push(treeViewEntry);
                    topicsLevels[currentNodeName] = lastTreeViewEntry.children;
                }
                previousNodeName = currentNodeName;
            });
            return topics;
        }
        getChildTopics(ul, topics) {
            const self = this;
            const divTitle = document.createElement('textarea');
            ul.find('> li').each(function () {
                const li = $(this);
                if (li.not(':has(> span:not(.wrap))').length) {
                    const topic = {};
                    topics.push(topic);
                    const a = li.find('> a').first();
                    if (a.length !== 0) {
                        divTitle.innerHTML = a.html().trim().replace(/\n/g, '').replace(/<(.|\n)*?>/g, '').replace(/\s+/g, ' ');
                        topic['title'] = divTitle.firstChild ? divTitle.firstChild.nodeValue : '';
                        topic['href'] = a.attr('href');
                    }
                    else {
                        const span = li.find('> span.wrap').first();
                        if (span.length !== 0) {
                            divTitle.innerHTML = span.html().trim().replace(/\n/g, '').replace(/<(.|\n)*?>/g, '').replace(/\s+/g, ' ');
                            topic['title'] = divTitle.firstChild ? divTitle.firstChild.nodeValue : '';
                        }
                        else {
                            divTitle.innerHTML = li.contents().filter(function () {
                                return this.nodeType === 3;
                            }).text().trim().replace(/\n/g, '').replace(/<(.|\n)*?>/g, '').replace(/\s+/g, ' ');
                            topic['title'] = divTitle.firstChild ? divTitle.firstChild.nodeValue : '';
                        }
                    }
                    const childUl = li.find('> ul').first();
                    if (childUl.length !== 0) {
                        const childTopics = [];
                        topic['children'] = childTopics;
                        self.getChildTopics(childUl, childTopics);
                    }
                }
            });
        }
        filterToc() {
            const originalArticleTocDataDeepCopy = table_of_contents_helper_1.deepCopyArticleToc(this.originalArticleTocData);
            const toc = this.props.selectedCatalogFilters.audiences.length || this.props.selectedCatalogFilters.environments.length ?
                originalArticleTocDataDeepCopy.map(tocEntry => {
                    tocEntry.forEach((entry) => {
                        var _a;
                        this.filterTocMatches(entry);
                        if ((_a = entry.children) === null || _a === void 0 ? void 0 : _a.length) {
                            entry.children = entry.children.filter(child => !child.hidden);
                            entry.hidden = !entry.children.length;
                        }
                    });
                    return tocEntry.filter((entry) => !entry.hidden);
                }) : originalArticleTocDataDeepCopy;
            this.setState({ filteredArticleTocData: toc });
        }
        filterTocMatches(entry) {
            var _a;
            if ((_a = entry.children) === null || _a === void 0 ? void 0 : _a.length) {
                entry.children.forEach(child => this.filterTocMatches(child));
                entry.children = entry.children.filter(child => !child.hidden);
                entry.hidden = !entry.children.length;
            }
            else {
                entry.hidden = !this.entryMatchesCatalogFilters(entry['audience'], entry['platform']);
            }
        }
        entryMatchesCatalogFilters(audiences, environments) {
            return ((!audiences || !this.props.selectedCatalogFilters.audiences.length) ||
                audiences.split(',').some(audience => this.props.selectedCatalogFilters.audiences.includes(audience))) &&
                ((!environments || !this.props.selectedCatalogFilters.environments.length) ||
                    environments.split(',').some(environment => this.props.selectedCatalogFilters.environments.includes(environment)));
        }
        getTocPossibilities(tocSelection, tocSelectionOrigin) {
            let tocSelectionFilename;
            let tocSelectionHash;
            if (tocSelection) {
                const tocSelectionTokens = tocSelection.split('#');
                if (tocSelectionTokens.length === 2) {
                    tocSelectionFilename = tocSelectionTokens.shift();
                    tocSelectionHash = `#${tocSelectionTokens.shift()}`;
                }
                else if (tocSelectionOrigin === toc_heading_origin_enum_1.default.SimplePagination) {
                    tocSelectionFilename = tocSelectionTokens.shift();
                }
                else {
                    tocSelectionHash = `#${tocSelectionTokens.shift()}`;
                }
            }
            const fileName = tocSelectionFilename || window.location.pathname.split('/')[window.location.pathname.split('/').length - 1];
            const hash = tocSelectionHash || (window.location.hash.includes('GUID') ? window.location.hash.replace(/^#((?!GUID).+?)-/, '#').split('__').shift() : window.location.hash);
            const tocPossibilities = [`${fileName}${hash}`, fileName, hash, hash.replace('#', ''), `index.html${hash}`, `${window.location.pathname}${hash}`];
            if (this.publication.isLearn) {
                tocPossibilities.push(window.location.pathname);
            }
            tocPossibilities.forEach(guid => {
                var _a;
                const publicationContentGuid = (_a = document.getElementById(guid === null || guid === void 0 ? void 0 : guid.replace('#', ''))) === null || _a === void 0 ? void 0 : _a.previousElementSibling;
                if (publicationContentGuid === null || publicationContentGuid === void 0 ? void 0 : publicationContentGuid.id) {
                    const contentGuid = `#${publicationContentGuid.id}`;
                    tocPossibilities.push(publicationContentGuid.id, `${guid}${contentGuid}`, `${fileName}${contentGuid}`, `index.html${contentGuid}`);
                }
            });
            return [...new Set(tocPossibilities.filter(tocPossibility => !!tocPossibility))];
        }
        setTreeItemSelection(initialSelection, tocPossibilityMatch) {
            if (tocPossibilityMatch) {
                this.setState({ currentItem: new ojkeyset_1.KeySetImpl().add([tocPossibilityMatch]) });
            }
            else if (this.publication.isArticle) {
                this.setState({ currentItem: new ojkeyset_1.KeySetImpl().add([window.location.pathname.replace(/[^\/]*$/, '')]) });
            }
            else {
                this.tocPossibilitiesMatchFromUrl = this.findTocPossibilitiesMatch();
                if (this.tocPossibilitiesMatchFromUrl) {
                    this.setState({ currentItem: new ojkeyset_1.KeySetImpl().add([this.tocPossibilitiesMatchFromUrl]) });
                }
                else if (initialSelection) {
                    this.setState({ currentItem: new ojkeyset_1.KeySetImpl().add(['index.html']) });
                }
            }
        }
        updateTreeItemSelection(tocSelection) {
            var _a;
            if ((tocSelection === null || tocSelection === void 0 ? void 0 : tocSelection.heading) && tocSelection.heading !== ((_a = this.tocSelection) === null || _a === void 0 ? void 0 : _a.heading)) {
                if (!this.tocSelectedEntryChanged) {
                    const tocHeading = this.findTocPossibilitiesMatch(tocSelection.heading, tocSelection.origin);
                    if (tocSelection.origin === toc_heading_origin_enum_1.default.SimplePagination && tocSelection.heading) {
                        this.setTreeItemSelection(false, tocSelection.heading);
                        window.scroll({ top: 0 });
                    }
                    else if (tocHeading) {
                        this.setTreeItemSelection(false, tocHeading);
                    }
                    else if (tocSelection.parentHeading) {
                        const tocParentHeading = this.findTocPossibilitiesMatch(tocSelection.parentHeading, tocSelection.origin);
                        this.setTreeItemSelection(false, tocParentHeading);
                    }
                    setTimeout(() => this.expandCurrentItem(this.treeDataToExpand), 0);
                }
                this.tocSelection = tocSelection;
            }
        }
        findTocPossibilitiesMatch(tocSelectionId, tocSelectionOrigin) {
            const tocPossibilities = this.getTocPossibilities(tocSelectionId, tocSelectionOrigin);
            let tocMatch = tocPossibilities.find(tocEntryPossibility => this.treeHrefs.includes(tocEntryPossibility));
            if (!tocMatch && tocSelectionOrigin === toc_heading_origin_enum_1.default.InternalUrl) {
                const hrefs = new Set(this.treeHrefs.map(href => href.split('#')[0]));
                const hrefMatch = tocPossibilities.find(tocEntryPossibility => hrefs.has(tocEntryPossibility));
                if (hrefMatch) {
                    const elementId = tocSelectionId.split('#')[1];
                    const currentPageIds = this.treeHrefs.filter(href => href.includes(hrefMatch)).map(href => href.split('#')[1]);
                    const parentId = this.getElementParentId(currentPageIds, elementId);
                    const currentPageTitleId = this.getCurrentPageTitleId(currentPageIds);
                    tocMatch = `${tocSelectionId.split('#')[0]}#${parentId ? parentId : currentPageTitleId}`;
                }
            }
            return tocMatch;
        }
        getElementParentId(currentPageIds, elementId) {
            let parentId = '';
            currentPageIds.forEach(pageId => {
                if (!!document.querySelector(`article #${pageId} #${elementId}`)) {
                    parentId = pageId;
                }
            });
            return parentId;
        }
        getCurrentPageTitleId(currentPageIds) {
            let currentPageTitleId = '';
            currentPageIds.forEach(pageId => {
                if (!!document.querySelector(`article header #${pageId}`)) {
                    currentPageTitleId = pageId;
                }
            });
            return currentPageTitleId;
        }
        expandCurrentItem(treeData) {
            const parentIds = [];
            const tree = JSON.stringify(treeData);
            const levelNoChildRegExp = new RegExp(`(${this.tocPossibilitiesMatchFromUrl}","parentId")(.*?)(?=\})`, 'g');
            const levelRegExp = new RegExp(`(${this.tocPossibilitiesMatchFromUrl}","level":)(.*?)(?=\})`, 'g');
            let level = 0;
            let parentId = '';
            if (this.tocPossibilitiesMatchFromUrl) {
                do {
                    const parentIdNoChildRegExp = new RegExp(`("${parentIds.length ? parentId : this.tocPossibilitiesMatchFromUrl}","parentId":")(.*?)(?=\")`, 'g');
                    const parentIdRegExp = new RegExp(`(parentId":"${parentIds.length ? parentId : this.tocPossibilitiesMatchFromUrl}")(.*?)(}],"parentId":")(.*?)(?=\")`, 'g');
                    const parentIdMultiTreeRegExp = new RegExp(`(parentId":"${parentIds.length ? parentId : this.tocPossibilitiesMatchFromUrl}")(.*?)(}],"parentId":")(.*?)(}],"parentId":")(.*?)(?=\")`, 'g');
                    const parentIdNoChildMatches = tree.match(parentIdNoChildRegExp);
                    const parentIdMatches = tree.match(parentIdRegExp);
                    const parentIdMultiTreeMatches = tree.match(parentIdMultiTreeRegExp);
                    if (parentIdNoChildMatches) {
                        if (!parentIds.length) {
                            level = this.getTreeItemLevel(tree, levelNoChildRegExp);
                            if (level === 1) {
                                parentIds.push(this.tocPossibilitiesMatchFromUrl);
                            }
                        }
                        if (level > 1) {
                            parentId = this.getParentId(parentIdNoChildMatches);
                            parentIds.push(parentId);
                        }
                    }
                    else if (parentIdMatches) {
                        if (!parentIds.length) {
                            level = this.getTreeItemLevel(tree, levelRegExp) - 1;
                        }
                        if (level === 1) {
                            parentIds.push(this.tocPossibilitiesMatchFromUrl);
                        }
                        if (level > 1) {
                            parentId = this.getParentId(parentIdMatches);
                            parentId = parentIds.includes(parentId) ? this.getParentId(parentIdMultiTreeMatches) : parentId;
                            parentIds.push(parentId);
                        }
                    }
                    else if (!parentIds.length) {
                        level = 1;
                        parentIds.push(this.tocPossibilitiesMatchFromUrl);
                    }
                    level--;
                } while (level > 0);
            }
            else {
                parentIds.push('index.html');
            }
            this.addToForceExpanded(parentIds);
            this.setState({ expanded: new ojkeyset_1.KeySetImpl().add(this.forceExpanded) });
        }
        getTreeItemLevel(tocData, levelRegExp) {
            let levelMatches = tocData.match(levelRegExp);
            let levelMatchesFinal = levelMatches[levelMatches.length - 1].split(':');
            return Number(levelMatchesFinal[levelMatchesFinal.length - 1]);
        }
        getParentId(parentIdMatches) {
            const parentIdMatch = parentIdMatches[parentIdMatches.length - 1].split(':"');
            return parentIdMatch[parentIdMatch.length - 1];
        }
        getAdjustedScroll(offsetTop) {
            return this.isBottomOfPage ? offsetTop : offsetTop - 1;
        }
        isHeadingOnCurrentPage(selectedKey) {
            return window.location.pathname.includes(selectedKey.split[0]) && this.isGuidInPublicationContent(selectedKey.split('#')[1]);
        }
        isGuidInPublicationContent(guid) {
            return document.querySelector(`#publicationContent [id='${guid}']`) !== null;
        }
        isGuidDuplicated(guid, prevGuid) {
            return guid !== prevGuid && guid.split('#')[1] === prevGuid.split('#')[1];
        }
        isCustomGuid(guid) {
            var _a;
            return ((_a = guid.match(/#\d/)) === null || _a === void 0 ? void 0 : _a.length) > 0;
        }
        getAll() {
            if (this.treeItemsTotal > this.TREE_ITEMS_MAX_COUNT) {
                this.addToForceExpanded(this.firstLevel, true);
            }
            return this.treeItemsTotal > this.TREE_ITEMS_MAX_COUNT ? new ojkeyset_1.KeySetImpl().add(this.forceExpanded) : this.state.expanded.addAll();
        }
        addToForceExpanded(elements, clear = false) {
            if (clear) {
                this.forceExpanded.clear();
            }
            elements.forEach(id => this.forceExpanded.add(id));
        }
        clearPreviousTreeViewSelection(currentTreeView) {
            var _a;
            const currentTreeViewId = (currentTreeView === null || currentTreeView === void 0 ? void 0 : currentTreeView.id) || '';
            const treeViewElement = (_a = document.querySelector('oj-tree-view div.oj-selected')) === null || _a === void 0 ? void 0 : _a.closest('oj-tree-view');
            if (treeViewElement && treeViewElement.id !== currentTreeViewId) {
                treeViewElement.selected = new ojkeyset_1.KeySetImpl().add([]);
            }
        }
    }
    exports.TableOfContents = TableOfContents;
});

define('models/components/common/catalog-filters/type.enum',["require","exports"],(function(require,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.AUDIENCE="audiences",e.ENVIRONMENT="environments"}(n||(n={})),e.default=n}));
define('translations/common/catalog-filters/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{audience:t.getTranslatedString("common.catalogFilters.labels.audience"),environment:t.getTranslatedString("common.catalogFilters.labels.environment"),all:t.getTranslatedString("common.catalogFilters.labels.all"),any:t.getTranslatedString("common.catalogFilters.labels.any")}}}}}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcollapsible',["ojs/ojcore-base","jquery","ojs/ojcomponentcore","ojs/ojcontext","ojs/ojdomutils","ojs/ojcustomelement","ojs/ojanimation","ojs/ojcustomelement-utils"],function(e,t,i,s,n,a,o,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;var l={properties:{disabled:{type:"boolean",value:!1},expandArea:{type:"string",enumValues:["disclosureIcon","header"],value:"header"},expanded:{type:"boolean",writeback:!0,value:!1},translations:{type:"object",value:{}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojBeforeCollapse:{},ojBeforeExpand:{},ojCollapse:{},ojExpand:{}},extension:{}};l.extension._WIDGET_NAME="ojCollapsible",l.extension._CONTROLS_SUBTREE_HIDDEN=!0,e.CustomElementBridge.register("oj-collapsible",{metadata:l}),function(){var a=0,o="oj-collapsible-open-icon",l="oj-collapsible-close-icon";const d="oj-collapsible-header",h="oj-collapsible-transition";e.__registerWidget("oj.ojCollapsible",t.oj.baseComponent,{widgetEventPrefix:"oj",options:{expanded:!1,disabled:!1,expandOn:"click",expandArea:"header",beforeExpand:null,expand:null,beforeCollapse:null,collapse:null},_ComponentCreate:function(){this._super(),this.element.addClass("oj-collapsible oj-component"),this._processPanels(),this._refresh(),this._initialRender=!0;var e=this.element[0];this._expandCollapseHandler(this._createEventObject(e,this.options.expanded?"ojexpand":"ojcollapse")),this._initialRender=void 0},GetFocusElement:function(){return this._isDisabled()?this.element[0]:this._getCollapsibleIcon()[0]},_createEventObject:function(e,i){return{type:i,target:e,currentTarget:e,preventDefault:t.noop}},_NotifyContextMenuGesture:function(e,t,i){this._OpenContextMenu(t,i,{launcher:this._getCollapsibleIcon().first()})},_createIcons:function(){var e=this.options.expanded?o:l;(this._isDisabled()?t("<span>"):t('<a tabindex="0">')).addClass("oj-component-icon oj-clickable-icon-nocontext oj-collapsible-header-icon "+e).attr("aria-labelledby",this.header.attr("id")).prependTo(this.header)},_destroyIcons:function(){this.header.children(".oj-collapsible-header-icon").remove()},_destroy:function(){this._resolveBusyContext(),this._cleanup(),this.element.removeClass("oj-collapsible oj-component oj-expanded oj-collapsed oj-disabled"),this._isDisabled()&&this._findFocusables(this.header).removeAttr("tabIndex"),this.header.removeClass(d).each(this._removeIdAttr(this.id)),this._findFirstFocusableInHeader().removeAttr("role").removeAttr("aria-controls").removeAttr("aria-expanded").removeAttr("aria-disabled"),this._destroyIcons(),this.content.css("display","").removeAttr("aria-hidden").removeAttr("tabIndex").removeClass("oj-component-content oj-collapsible-content").each(this._removeIdAttr(this.id))},_cleanup:function(){this._tearDownEvents(),this.content&&(n.unwrap(this.content),this.wrapper=null)},_isDisabled:function(){return this.element.hasClass("oj-disabled")},_getExpandAreaSelector:function(){return"header"===this.options.expandArea?"> .oj-collapsible-header":"> .oj-collapsible-header > .oj-collapsible-header-icon"},_getCollapsibleIcon:function(){return this.header.find(".oj-collapsible-header-icon")},_setOption:function(e,t,i){if("expanded"!==e){if("disabled"===e)return this._super(e,t,i),void this.refresh();"expandOn"===e||"expandArea"===e?(this._tearDownEvents(),this._super(e,t,i),this._setupEvents()):this._super(e,t,i)}else{if(t===this.options.expanded)return;t?this.expand(!0):this.collapse(!0)}},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode;switch(e.keyCode){case i.SPACE:case i.ENTER:this._toggleHandler(e)}}},refresh:function(){this._super(),this._cleanup(),this._processPanels(),this._destroyIcons(),this._refresh()},_processHeaderSlots:function(){var e,i=this.element[0],s=!1,n=r.CustomElementUtils.getSlotMap(i).header;if(n&&n.length)if(1===n.length)e=n[0];else{var a=t("<span slot='header'></span>");e=a[0];for(var o=0;o<n.length;o++)e.appendChild(n[o]);a.children().attr("slot",""),s=!0}else e=t("<span slot='header'></span>")[0],s=!0;return(s||0!==this.element.children().index(e))&&i.insertBefore(e,i.firstChild),t(e)},_processDefaultSlots:function(){var e,i=this.element[0],s=r.CustomElementUtils.getSlotMap(i)[""];if(s&&1===s.length)e=s[0];else{if(e=t("<div></div>")[0],s&&s.length)for(var n=0;n<s.length;n++)e.appendChild(s[n]);i.appendChild(e)}return t(e)},_processPanels:function(){this._IsCustomElement()?this.header=this._processHeaderSlots():this.header=this.element.children(":first-child"),this.header.addClass(d),this._IsCustomElement()?this.content=this._processDefaultSlots():this.content=this.header.next(),this.content.addClass("oj-collapsible-content oj-component-content"),this.content.wrap("<div></div>"),this.wrapper=this.content.parent().addClass("oj-collapsible-wrapper"),this.options.disabled&&this.element.addClass("oj-disabled"),this._isDisabled()&&this._findFocusables(this.header).attr("tabIndex",-1)},_refresh:function(){var e=this.header,t=this.content,i=this.options,s=this.element.attr("id");s||(s=a+=1);var n="oj-collapsible-"+s;this.collapsibleId=n;var o=e.attr("id"),r=t.attr("id");o||(o=n+"-header",e.attr("id",o)),r||(r=n+"-content",t.attr("id",r)),this._createIcons();var l=this._findFirstFocusableInHeader();l.attr("role","button").attr("aria-controls",r).attr("aria-expanded",i.expanded),this._isDisabled()&&l.attr("aria-disabled","true"),i.expanded?t.removeAttr("aria-hidden"):(this.wrapper.css({"max-height":0,"overflow-y":"hidden",display:"none"}),t.attr("aria-hidden","true")),this._setupEvents()},_setupEvents:function(){var e={keydown:this._keydown},i=this.options.expandOn;if(i){var s=this;t.each(i.split(" "),function(t,i){n.isValidIdentifier(i)&&(e[i]=s._toggleHandler)})}var a=this.element.find(this._getExpandAreaSelector());this._on(a,e),this._on(this.wrapper,{transitionend:this._transitionEndHandler,webkitTransitionEnd:this._transitionEndHandler}),this._isDisabled()||(this._on(this.element,{ojfocus:this._focusHandler,ojfocusout:this._focusHandler}),this._focusable({element:this._getCollapsibleIcon(),applyHighlight:!0}),this._AddHoverable(a),this._AddActiveable(a))},_tearDownEvents:function(){var e=this.element.find(this._getExpandAreaSelector());this._RemoveHoverable(e),this._RemoveActiveable(e),this._off(e),this.wrapper&&this._off(this.wrapper),this._off(this.element.add(this.content))},_toggleHandler:function(e){if(!this._isDisabled()&&!e.isDefaultPrevented()){for(var i=t(e.target);i.length&&i[0]!==this.header[0];i=i.parent())if(i.hasClass("oj-clickthrough-disabled"))return;this.options.expanded?this.collapse(!0,e):this.expand(!0,e),e.preventDefault(),e.stopPropagation(),this._getCollapsibleIcon().focus()}},_calcEffectTime:function(e){for(var t=e.css("transitionProperty"),i=e.css("transitionDelay"),s=e.css("transitionDuration"),n=t.split(","),a=i.split(","),o=s.split(","),r=n.length,l=a.length,d=o.length,h=0,c=0;c<r;c++){var p=o[c%d],u=p.indexOf("ms")>-1?parseFloat(p):1e3*parseFloat(p);if(u>0){var f=a[c%l],_=f.indexOf("ms")>-1?parseFloat(f):1e3*parseFloat(f);h=Math.max(h,_+u)}}return h+100},_resolveTransition:function(e){var t=this;this._transitionTimer=setTimeout(function(){t._transitionEndHandler()},t._calcEffectTime(e))},_expandCollapseHandler:function(e){if((!this._isDisabled()||this._initialRender)&&e.target===this.element[0]&&(this._initialRender||!e.isDefaultPrevented||!e.isDefaultPrevented())){var t=this.element,i=this.content,n=this.wrapper,a="ojexpand"===e.type,r=this;if(e.preventDefault(),this._initialRender||this._changeExpandedOption(a),this._getCollapsibleIcon().toggleClass(o,a).toggleClass(l,!a||!1).end(),this._initialRender||document.hidden||this.element.hasClass("oj-collapsible-skip-animation"))a||(n.css("max-height",0),n.hide()),r._afterExpandCollapse(a,e);else{if(n.contentHeight=n.outerHeight(),!this._animationResolve){var d=s.getContext(t[0]).getBusyContext();this._animationResolve=d.addBusyState({description:"The collapsible id='"+this.element.attr("id")+"' is animating."})}this._transitionEnded=!1,a?(n.show(),setTimeout(function(){n.contentHeight+=i.outerHeight(),n.addClass(h).css({"max-height":n.contentHeight}),r._resolveTransition(n)},0)):(n.removeClass(h),n.css({"max-height":n.contentHeight,"overflow-y":"hidden"}),0===n.contentHeight?r._transitionEndHandler():setTimeout(function(){n.addClass(h).css({"max-height":0}),r._resolveTransition(n)},20))}}},_focusHandler:function(e){this._isDisabled()||("ojfocusout"===e.type?(this._findFirstFocusableInHeader().attr("tabIndex",-1),e.preventDefault(),e.stopPropagation()):"ojfocus"===e.type&&(this._findFirstFocusableInHeader().attr("tabIndex",0).focus(),e.preventDefault(),e.stopPropagation()))},_findFirstFocusableInHeader:function(){return this._findFocusables(this.header).first()},_findFocusables:function(e){return this._isDisabled()?e.find("span"):e.find("a,:input")},expand:function(e,t){if(!this._isDisabled()){var i={header:this.header,content:this.content};e&&!1===this._trigger("beforeExpand",t,i)||this._expandCollapseHandler(this._createEventObject(this.element[0],"ojexpand"))}},collapse:function(e,t){if(!this._isDisabled()){var i={header:this.header,content:this.content};e&&!1===this._trigger("beforeCollapse",t,i)||this._expandCollapseHandler(this._createEventObject(this.element[0],"ojcollapse"))}},_transitionEndHandler:function(e){if(!(this._isDisabled()||e&&e.target!==this.element[0])){var t=!1;e&&e.originalEvent&&(t="max-height"===e.originalEvent.propertyName),t&&this._transitionTimer&&(clearTimeout(this._transitionTimer),this._transitionTimer=void 0),e&&(e.preventDefault(),e.stopImmediatePropagation()),this._transitionEnded||(!t&&e||(this._transitionEnded=!0),this.wrapper&&(this.options.expanded?this.wrapper.css({"max-height":9999,"overflow-y":""}):this.wrapper.hide(),this.wrapper.removeClass(h),this._afterExpandCollapse(this.options.expanded,e)))}},_resolveBusyContext:function(){this._animationResolve&&(this._animationResolve(),this._animationResolve=null)},_afterExpandCollapse:function(e,t){var s=this.element,n=this.wrapper;e?(s.removeClass("oj-collapsed"),s.addClass("oj-expanded"),i.subtreeShown(n[0])):(s.removeClass("oj-expanded"),s.addClass("oj-collapsed"),i.subtreeHidden(n[0])),e?this.content.removeAttr("aria-hidden"):this.content.attr("aria-hidden","true"),this._findFirstFocusableInHeader().attr("aria-expanded",e),this._resolveBusyContext();var a={header:this.header,content:this.content};this._initialRender||(e?this._trigger("expand",t,a):this._trigger("collapse",t,a))},_changeExpandedOption:function(e){this.option("expanded",e,{_context:{writeback:!0,internalSet:!0}})},getNodeBySubId:function(e){if(null==e)return this.element?this.element[0]:null;switch(e.subId){case"oj-collapsible-content":return this.content[0];case d:return this.header[0];case"oj-collapsible-disclosure":case"oj-collapsible-header-icon":return this._getCollapsibleIcon()[0]}return null},getSubIdByNode:function(e){for(var t=this.getNodeBySubId({subId:"oj-collapsible-disclosure"}),i=e;i;){if(i===this.content[0])return{subId:"oj-collapsible-content"};if(i===this.header[0])return{subId:d};if(i===t)return{subId:"oj-collapsible-disclosure"};i=i.parentElement}return null},_removeIdAttr:function(e){/^oj-collapsible/.test(e)&&this.removeAttribute("id")}})}()});
//# sourceMappingURL=ojcollapsible.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojaccordion',["ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojcomponentcore","ojs/ojcollapsible"],function(e,t,i,o,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var a={properties:{expanded:{type:"Array<string>|Array<number>|Array<Object>",writeback:!0},multiple:{type:"boolean",value:!1},translations:{type:"object",value:{}}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojBeforeCollapse:{},ojBeforeExpand:{},ojCollapse:{},ojExpand:{}},extension:{}};a.extension._WIDGET_NAME="ojAccordion",a.extension._TRACK_CHILDREN="nearestCustomElement",e.CustomElementBridge.register("oj-accordion",{metadata:a}),
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
function(){const o="oj-accordion-collapsible";e.__registerWidget("oj.ojAccordion",t.oj.baseComponent,{widgetEventPrefix:"oj",options:{multiple:!1,expanded:null,beforeExpand:null,expand:null,beforeCollapse:null,collapse:null},_ComponentCreate:function(){this._super(),this.element.addClass("oj-accordion oj-component").attr("role","group"),this.options.expanded=this._expandedIndexToId(this.options.expanded),this._refresh()},_NotifyContextMenuGesture:function(e,t,i){this._OpenContextMenu(t,i,{launcher:this.element.find(".oj-collapsible-header-icon").first()})},_destroy:function(){this.element.removeClass("oj-accordion oj-component").removeAttr("role"),this.element.children().removeClass(o),this.element.children(".oj-accordion-created").removeClass("oj-accordion-created").ojCollapsible("destroy")},_setOption:function(e,t,i){if("multiple"===e)!t&&this.options.multiple&&this.element.children(".oj-expanded").first().siblings(".oj-collapsible").ojCollapsible("collapse",!1);else if("expanded"===e)return void this._setExpandedOption(t);this._super(e,t,i)},refresh:function(){this._super(),this._refresh()},_refresh:function(){this._makeCollapsible(),this._internalSetExpanded=!0,this._setExpandedOption(this.options.expanded),this._internalSetExpanded=!1,this._setupEvents()},_makeCollapsible:function(){this.collapsibles=this.element.children().not("oj-menu"),this._IsCustomElement()?this.collapsibles.not("oj-collapsible").ojCollapsible({expandArea:"header"}).addClass("oj-accordion-created").attr("data-oj-internal",""):(this.element.children(":oj-collapsible").each(function(){t(this).ojCollapsible("option","expandArea","header")}),this.collapsibles.not(":oj-ojCollapsible").ojCollapsible({expandArea:"header"}).addClass("oj-accordion-created").attr("data-oj-internal","")),this.collapsibles.addClass(o)},_setupEvents:function(){var e;e=this._IsCustomElement()?{keydown:this._keydown,ojBeforeExpand:this._beforeExpandHandler,ojExpand:this._expandHandler,ojBeforeCollapse:this._beforeCollapseHandler,ojCollapse:this._collapseHandler}:{keydown:this._keydown,ojbeforeexpand:this._beforeExpandHandler,ojexpand:this._expandHandler,ojbeforecollapse:this._beforeCollapseHandler,ojcollapse:this._collapseHandler},this._off(this.collapsibles),this._on(this.collapsibles,e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey&&(t(e.target).hasClass("oj-collapsible-header")||t(e.target).hasClass("oj-collapsible-header-icon"))){var i=t.ui.keyCode,o=this.collapsibles.not(".oj-disabled"),n=o.length,a=t(e.target).closest(".oj-collapsible"),l=o.index(a),s=!1;if(l>=0)switch(e.keyCode){case i.RIGHT:case i.DOWN:s=o[(l+1)%n];break;case i.LEFT:case i.UP:s=o[(l-1+n)%n];break;case i.HOME:s=o[0];break;case i.END:s=o[n-1]}s&&(a&&t(a).trigger("ojfocusout"),t(s).trigger("ojfocus"),e.preventDefault())}},_findTargetSiblings:function(e){if(!this.options.multiple){var i=t(e.target).closest(".oj-collapsible");if(i.parent().is(":oj-ojAccordion"))return i.siblings(".oj-collapsible.oj-expanded").map(function(){return t(this).data("oj-ojCollapsible")})}return t()},_beforeExpandHandler:function(e,i){if(!this._isTargetMyCollapsible(e))return!0;var o;this._expandTarget=t(e.target);var n=null;if(this._findTargetSiblings(e).each(function(){var t={header:(n=this.element).find(".oj-collapsible-header"),content:n.find(".oj-collapsible-content")};return(o=this._trigger("beforeCollapse",e,t))||(this._expandTarget=null),o}),!this.options.multiple){var a=this._initEventData(n,this._expandTarget);o=this._trigger("beforeExpand",e,a)}var l=this;return o&&this._findTargetSiblings(e).each(function(){this.collapse(!1,e,i),l._collapsedCollapsible=this.widget()}),o},_expandHandler:function(e,i){var o=null;if(this._collapsedCollapsible&&(o=this._collapsedCollapsible,this._collapsedCollapsible=null),this._isTargetMyCollapsible(e)&&!this._duringSetExpandedOption){var n,a=this;this._findTargetSiblings(e).each(function(){this.collapse(!1,e,i),n=a._initEventData(this.element,t(e.target))}),n||(n=a._initEventData(o,t(e.target))),this.options.multiple||this._trigger("expand",e,n),this._updateExpanded(),this._expandTarget=null}},_beforeCollapseHandler:function(e,t){var i=t;return!(this._isTargetMyCollapsible(e)&&!this.options.multiple)||(!i&&e.originalEvent instanceof CustomEvent&&(i=e.originalEvent.detail),this._trigger("beforeCollapse",e,this._initCollapseEventData(e,i)))},_collapseHandler:function(e,t){var i=t;if(!this._duringSetExpandedOption&&this._isTargetMyCollapsible(e)){!i&&e.originalEvent instanceof CustomEvent&&(i=e.originalEvent.detail);var o=this._initCollapseEventData(e,i);this.options.multiple||this._trigger("collapse",e,o),this._updateExpanded()}},_initEventData:function(e,t){return{fromCollapsible:e,toCollapsible:t}},_initCollapseEventData:function(e,i){var o;return i.toCollapsible?o=i:e.originalEvent&&e.originalEvent.target&&(o=this._initEventData(t(e.target),this._expandTarget)),!o&&this._expandTarget&&(o=this._initEventData(t(e.target),this._expandTarget)),o},_isTargetMyCollapsible:function(e){return t(e.target).is(this.collapsibles)},_updateExpanded:function(){var i,o,n=[];this.collapsibles.each(function(e){("oj-collapsible"===this.tagName.toLowerCase()?this.expanded:t(this).ojCollapsible("option","expanded"))&&(o={},(i=t(this).attr("id"))&&(o.id=i),o.index=e,n.push(o))}),this.options.expanded&&e.Object._compareArrayIdIndexObject(n,this.options.expanded)||this.option("expanded",n,{_context:{internalSet:!0,writeback:!0}})},_expandedIndexToId:function(e){if(Array.isArray(e)){for(var i,o=[],n=[],a=0;a<e.length;a++){var l=e[a];"number"==typeof l||"string"==typeof l?n.push(l):"number"==typeof l.index?n.push(l.index):"string"==typeof l.id&&n.push(l.id)}return this.element.children().each(function(e){(i=t(this).attr("id"))?-1===n.indexOf(i)&&-1===n.indexOf(e)||o.push({id:i,index:e}):-1!==n.indexOf(e)&&o.push({index:e})}),!this.options.multiple&&o.length>1&&(o=[o[o.length-1]]),o}return null},_setExpandedOption:function(e){var o=e;if(this._internalSetExpanded||(o=this._expandedIndexToId(o)),o){var n,a,l,s,r=this,d=0;this.collapsibles.each(function(e){n=t(this),a=n.attr("id"),l=!1,(s=o[d])&&(a?a===s.id&&(l=!0):e===s.index&&(l=!0),l&&(d+=1));var p="oj-collapsible"===this.tagName.toLowerCase();(p?this.expanded:n.ojCollapsible("option","expanded"))!==l&&(i.warn("JET Accordion: override collapsible "+e+" expanded setting"),r._duringSetExpandedOption=!0,p?this.expanded=l:n.ojCollapsible("option","expanded",l),r._duringSetExpandedOption=!1)})}this._updateExpanded()},getNodeBySubId:function(e){if(null==e)return this.element?this.element[0]:null;var i=e.subId,n=e.index;if("number"!=typeof n||n<0||n>=this.collapsibles.length)return null;var a=this.collapsibles[n];switch(i){case"oj-accordion-content":i="oj-collapsible-content";break;case"oj-accordion-header":i="oj-collapsible-header";break;case"oj-accordion-disclosure":case"oj-accordion-header-icon":i="oj-collapsible-disclosure";break;case o:return a;default:return null}return t(a).ojCollapsible("getNodeBySubId",{subId:i})},getSubIdByNode:function(e){for(var i=-1,n=e;n&&-1===(i=Array.prototype.indexOf.call(this.collapsibles,n));)n=n.parentElement;var a=null;if(-1!==i){var l=t(this.collapsibles[i]).ojCollapsible("getSubIdByNode",e);switch((l=l||{}).subId){case"oj-collapsible-content":a="oj-accordion-content";break;case"oj-collapsible-header":a="oj-accordion-header";break;case"oj-collapsible-disclosure":case"oj-collapsible-header-icon":a="oj-accordion-disclosure";break;default:a=o}}return a?{subId:a,index:i}:null},_CompareOptionValues:function(t,i,o){return"expanded"===t?e.Object.compareValues(i,o):this._super(t,i,o)}})}()});
//# sourceMappingURL=ojaccordion.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidator',["ojs/ojcore"],function(t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const e=function(t){this.Init(t)};return t.Object.createSubclass(e,t.Object,"oj.Validator"),e.prototype.Init=function(t){e.superclass.Init.call(this)},e});
//# sourceMappingURL=ojvalidator.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidation-error',["exports","ojs/ojcore","ojs/ojmessaging"],function(e,r,t){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o=function(e,r){var o={summary:e,detail:r,severity:t.SEVERITY_LEVEL.ERROR};this.Init(o)};o.prototype=new Error,r._registerLegacyNamespaceProp("ValidatorError",o),o.prototype.Init=function(e){var r=e.detail,t=e.summary;this._message=e,this.name="Validator Error",this.message=r||t},o.prototype.getMessage=function(){return this._message};const s=function(e,r){var o={summary:e,detail:r,severity:t.SEVERITY_LEVEL.ERROR};this.Init(o)};s.prototype=new Error,r._registerLegacyNamespaceProp("ConverterError",s),s.prototype.Init=function(e){var r=e.detail,t=e.summary;this._message=e,this.name="Converter Error",this.message=r||t},s.prototype.getMessage=function(){return this._message},e.ConverterError=s,e.ValidatorError=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojvalidation-error.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojvalidator-required',["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error"],function(t,e,o,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i=function(t){this.Init(t)};return t.Object.createSubclass(i,o,"oj.RequiredValidator"),i._BUNDLE_KEY_DETAIL="oj-validator.required.detail",i._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",i.prototype.Init=function(t){i.superclass.Init.call(this),this._options=t},i.prototype.validate=function(t){var o,i,a,n,s,l="";if(null==t||("string"==typeof t||t instanceof Array)&&0===t.length)throw this._options&&(o=this._options.messageDetail||this._options.message||null,n=this._options.messageSummary||null,l=this._options.label||""),s={label:l},a=n?e.applyParameters(n,s):e.getTranslatedString(this._getSummaryKey(),s),i=o?e.applyParameters(o,s):e.getTranslatedString(this._getDetailKey(),s),new r.ValidatorError(a,i)},i.prototype.getHint=function(){var t="";return this._options&&this._options.hint&&(t=e.getTranslatedString(this._options.hint)),t},i.prototype._getSummaryKey=function(){return i._BUNDLE_KEY_SUMMARY},i.prototype._getDetailKey=function(){return i._BUNDLE_KEY_DETAIL},i});
//# sourceMappingURL=ojvalidator-required.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojconverterutils',["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class o{}return o.getConverterInstance=function(o){let r="",a={},n=null;if(o&&("object"==typeof o&&(o.parse&&"function"==typeof o.parse||o.format&&"function"==typeof o.format?n=o:(r=o.type,a=o.options||{})),!n&&(r=r||o,r&&"string"==typeof r))){if(e.Validation&&e.Validation.converterFactory)return e.Validation.converterFactory(r).createConverter(a);t.error('oj.Validation.converterFactory is not available and it is needed to support the deprecated json format for the converters property. Please include the backward compatibility "ojvalidation-base" module.')}return n},o});
//# sourceMappingURL=ojconverterutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojeditablevalue',["exports","ojs/ojcore-base","ojs/ojcomponentcore","jquery","ojs/ojlabel","ojs/ojthemeutils","ojs/ojcontext","ojs/ojlogger","ojs/ojvalidator-required","ojs/ojlabelledbyutils","ojs/ojtranslation","ojs/ojmessaging","ojs/ojconverterutils","ojs/ojvalidation-error","ojs/ojpopup","hammerjs","ojs/ojjquery-hammer","ojs/ojdomutils","ojs/ojanimation","ojs/ojfocusutils"],function(e,t,i,n,s,o,a,r,l,d,h,u,c,_,p,g,f,m,v,C){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,C=C&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C;const y=function(e){this.Init(e)};t.Object.createSubclass(y,t.MessagingStrategy,"BaseInsideLabelStrategy"),y.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},y.prototype._CreateLabel=function(){var e=this.GetComponent(),t=this._GetContainer(e);if(!t)return;var i=e.options,n=e._getRootElement(),s=this._GetFormControlLabelStyleClass();n.classList.add(s),this.GenerateIdIfNeeded(n),this._showUserAssistanceNotInline=e._showUserAssistanceNotInline();let o=i.required&&this._showUserAssistanceNotInline;this._createOjLabelElement(n,e,t,i.labelHint,o,i.helpHints,this._showUserAssistanceNotInline)},y.prototype._createOjLabelElement=function(e,t,i,n,s,o,a){var r=document.createElement("oj-label");r.id=y._getLabelId(e),r.setAttribute("data-oj-binding-provider","none"),r.setAttribute("data-oj-internal",""),r.setAttribute("for",e.id);var l=[t._GetDefaultStyleClass(),"label"].join("-");r.classList.add(l),s&&r.setAttribute("show-required",s),a&&o&&(r.help=o);var d=document.createElement("span");d.id=[e.id,"|hint"].join(""),d.textContent=n,r.appendChild(d),this._InsertOjLabel(r,i,t),this._CreateEventHandlers(d,e,r,t)},y.prototype._GetContainer=function(e){return e._GetFormControlContainer()},y.prototype._CreateEventHandlers=function(e,t,i,n){this._labelHintChangedCallback=y._labelHintChangedHandler.bind(this,e),t.addEventListener("labelHintChanged",this._labelHintChangedCallback),this._requiredChangedCallback=y._requiredChangedHandler.bind(this,i,n),t.addEventListener("requiredChanged",this._requiredChangedCallback),this._helpHintsChangedCallback=y._helpHintsChangedHandler.bind(this,i,n),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},y.prototype._DestroyLabel=function(){var e=this.GetComponent(),t=e.options,i=e._getRootElement(),n=this._GetFormControlLabelStyleClass();i.classList.remove(n);var s=y._getLabelId(i);const o=i.querySelector(`[id='${s}']`);o&&(o.for="",o.parentElement.removeChild(o)),t.labelledBy=void 0,this._DeleteEventHandlers(i)},y.prototype._DeleteEventHandlers=function(e){e.removeEventListener("labelHintChanged",this._labelHintChangedCallback),e.removeEventListener("requiredChanged",this._requiredChangedCallback),e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback,delete this._labelHintChangedCallback,delete this._requiredChangedCallback},y._getLabelId=function(e){return[e.id,"-labelled-by"].join("")},y._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value},y._requiredChangedHandler=function(e,t,i){null==this._showUserAssistanceNotInline&&(this._showUserAssistanceNotInline=t._showUserAssistanceNotInline()),e.showRequired=i.detail.value&&this._showUserAssistanceNotInline},y._helpHintsChangedHandler=function(e,t,i){this._showUserAssistanceNotInline=t._showUserAssistanceNotInline(),this._showUserAssistanceNotInline&&(e.help=i.detail.value)};const E={validationContext:{COMPONENT_CREATE:1,CONVERTER_OPTION_CHANGE:2,DISABLED_OPTION_CHANGE:3,READONLY_OPTION_CHANGE:4,REFRESH_METHOD:5,REQUIRED_OPTION_CHANGE:6,RESET_METHOD:7,USER_ACTION:8,VALIDATE_METHOD:9,VALIDATORS_OPTION_CHANGE:10,VALUE_OPTION_CHANGE:11}};E.validateMethodOptions={doValueChangeCheck:!1,validationContext:E.validationContext.VALIDATE_METHOD},E.converterOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.CONVERTER_OPTION_CHANGE},E.disabledOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.DISABLED_OPTION_CHANGE},E.requiredOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REQUIRED_OPTION_CHANGE},E.readOnlyOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.READONLY_OPTION_CHANGE},E.refreshMethodOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.REFRESH_METHOD},E.validatorsOptionOptions={doValueChangeCheck:!1,doNotClearMessages:!0,validationContext:E.validationContext.VALIDATORS_OPTION_CHANGE};E.VALIDATE_VALUES={VALID:"valid",INVALID:"invalid"},E.getAttributeValue=function(e,t){var i,n={};if(e&&t){var s=e[0];switch(t){case"disabled":i=s.hasAttribute("disabled")?!!s.disabled:void 0;break;case"pattern":i=s.pattern||void 0;break;case"placeholder":i=s.placeholder||void 0;break;case"readonly":i=s.hasAttribute("readonly")?!!s.readOnly:void 0;break;case"required":if(s.hasAttribute("required")){var o=s.required;i=void 0===o||!!o}else i=void 0;break;case"title":i=s.hasAttribute("title")?s.title:void 0;break;case"value":i=e.val()||void 0;break;case"min":case"max":default:i=s.getAttribute(t)||void 0}}return void 0!==i?(n.fromDom=!0,n.value=i):n.fromDom=!1,n},E.initializeOptionsFromDom=function(e,t,i,n){for(var s={},o=0;o<e.length;o++){var a,r,l=e[o],d=l.attribute,h=l.option||d,u=l.coerceDomValue,c=l.validateOption,_=i.element,p=i.options[h];void 0===t[h]&&(p=i.options[h],(r=E.getAttributeValue(_,d)).fromDom&&(a=r.value,u&&("boolean"==typeof u?a=E.coerceDomValueForOption(h,a):"function"==typeof u&&(a=u.call(i,a))),s[h]=a));var g=h in s?s[h]:p;c&&"boolean"==typeof c&&E.validateValueForOption(h,g)}null!=n&&n(s),i.option(s,{_context:{writeback:!0,internalSet:!0}})},E.validateValueForOption=function(e,t){var i=!1;switch(e){case"required":null!==t&&"boolean"!=typeof t&&(i=!0);break;case"readOnly":case"disabled":null!==t&&"boolean"!=typeof t&&(i=!0)}if(i)throw new Error("Option '"+e+"' has invalid value set: "+t)},E.coerceDomValueForOption=function(e,t){var i=t;switch(e){case"required":i=!!t}return i},E.setPickerAttributes=function(e,t){if(e&&t){var i=t.class;if(i)for(var n=i.split(" "),s=0,o=n.length;s<o;++s)e[0].classList.add(n[s]);t.style&&r.error("picker-attributes.style attribute violates the recommended\n        Content Security Policy which disallows inline styles and is therefore ignored.\n        Use the picker-attributes.class attribute instead.")}},E.hasNoLabelFlag=function(e){return e[0].hasAttribute("data-oj-no-labelledby")},E._getOjLabelAriaLabelledBy=function(e,t){var i,n=E._getCustomOjLabelElements(e);if(n){i="";for(var s=0;s<n.length;s++){var o=n[s],a=o.getAttribute("label-id");if(!a){var r=o.querySelector("label");r?a=r.getAttribute("id"):(o.setAttribute("label-id",t),a=t)}i+=a,s+1<n.length&&(i+=" ")}}return i},E._getCustomOjLabelElements=function(e){var t=[];if(e)for(var i=e.split(/\s+/),n=0;n<i.length;n++){var s=i[n],o=document.getElementById(s);o?t.push(o):r.info("Cannot find oj-label with id "+o)}return t},E._initInputIdLabelForConnection=function(e,t,i){t&&(e.setAttribute("id",t+"|input"),i&&this._linkLabelForInputComp(i,e.id)),i&&this._setReadonlyDivLabelledBy(i)},E._labelledByUpdatedForInputComp=function(e,t){e&&(t&&this._linkLabelForInputComp(e,t),this._setReadonlyDivLabelledBy(e)),this._IsRequired()&&this.options.translations.required&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator())},E._linkLabelForInputComp=function(e,t){var i=E._getCustomOjLabelElements(e);i&&E._setDataOjInputIdAttrOnLabel(t,i)},E._setReadonlyDivLabelledBy=function(e){t.Assert.assert(e);let i=this._getReadonlyDiv();i&&i.setAttribute("aria-labelledby",e+"|label")},E._createOrUpdateReadonlyDiv=function(e,t=!0){let i=this._getReadonlyDiv();if(!i&&t){if(i=this._createReadonlyDiv(e),!i)return;this.options.labelledBy&&this._setReadonlyDivLabelledBy(this.options.labelledBy),this._setAriaLabelFromLabelHint()}i&&(i.textContent=this._GetDisplayValue(),E._setTabIndex(e,i))},E._setTabIndex=function(e,t){let i=e.tabIndex;null!==i&&(t.tabIndex=i)},E._setDataOjInputIdAttrOnLabel=function(e,t){if(t)for(var i=0;i<t.length;i++){t[i].setAttribute("data-oj-input-id",e)}},E.validate=function(){var e;if(e=this._SetValue(this._GetDisplayValue(),null,this._VALIDATE_METHOD_OPTIONS),this._IsCustomElement()){if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});e=Promise.resolve(e?"valid":"invalid")}else if(e instanceof Promise)return e.then(function(e){return Promise.resolve(e?"valid":"invalid")});return e},E._refreshRequired=function(e){var t,i,n,s=this._AriaRequiredUnsupported();if(this._refreshTheming("required",e),s||(i=this._GetContentElement(),(n=e)&&i?i[0].setAttribute("aria-required",n):i[0].removeAttribute("aria-required")),!this._IsCustomElement()&&(this.$label||this._createOjLabel(),this.$label&&(this.$label.ojLabel("option","showRequired",e),s))){var o=this._getAriaLabelledByElement(this.element);if(null!==o&&0!==o.length&&(t=o[0].getAttribute("id")),t){let i=t+"_requiredIcon";e?this._describedByUpdated(null,i):this._describedByUpdated(i,null)}}},E._AfterSetOptionRequired=function(e){this._refreshRequired(this._IsRequired()),this._runMixedValidationAfterSetOption(E.requiredOptionOptions)},E._AfterSetOptionValidators=function(){var e;this._ResetAllValidators(),this._hasInvalidMessagesShowing()&&(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.validatorsOptionOptions))},E._AfterSetOptionAsyncValidators=function(){this._AfterSetOptionValidators()},E._AfterSetOptionConverter=function(){this._converter=null,this._converterChangedCounter+=1;var e=this._GetConverter();if(e instanceof Promise){var t=this;this._setBusyStateAsyncConverterLoading();var i=this._converterChangedCounter;this._loadingConverter(e).then(function(){i===t._converterChangedCounter&&t._ResetConverter(),t._clearBusyStateAsyncConverterLoading()})}else this._ResetConverter()},E._AfterCreateConverterCached=function(){this._HasPlaceholderSet()&&(this._SetPlaceholder(this.options.placeholder),this._customPlaceholderSet=!0),this._initComponentMessaging(this._MESSAGING_CONTENT_UPDATE_TYPE.ALL),this._Refresh("value",this.options.value,!1),this.options.messagesShown.length>0&&this._setMessagesOption("messagesShown",this.options.messagesShown,null,!0)},E._ResetConverter=function(){var e;this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT)),this._hasInvalidMessagesShowing()?(this._clearComponentMessages(),e=this._GetDisplayValue(),this._SetValue(e,null,E.converterOptionOptions)):this._Refresh("converter",this.options.converter,!0)},E._GetNormalizedValidatorsFromOption=function(){var e,i,n,s,o,a,l=!0,d=[];if(n=this.options.validators)for(e=0;e<n.length;e++)"object"==typeof(i=n[e])?(i.validate&&"function"==typeof i.validate||(l=!1),l||(a=i.type)&&"string"==typeof a&&(t.Validation&&t.Validation.validatorFactory?o=t.Validation.validatorFactory(a):r.error('oj.Validation.validatorFactory is not available and it is needed to support the deprecated json format for validators property. Please include the backward compatibility "ojvalidation-base" module.'),o&&((s=t.CollectionUtils.copyInto({},i.options)||{}).converter=s.converter||this._GetConverter(),s.label=s.label||this._getLabelText(),i=o.createValidator(s))),d.push(i)):r.error("Unable to parse the validator provided:"+i);return d},E._GetNormalizedAsyncValidatorsFromOption=function(){var e,t,i,n=[];for(i=this.options.asyncValidators,e=0;e<i.length;e++)"object"==typeof(t=i[e])?t.validate&&"function"==typeof t.validate&&n.push(t):r.error("Unable to parse the validator provided:"+t);return n},E._GetConverter=function(){var e,t,i,n=this;if(!this._converter){if((e=this.options.converter)instanceof Promise?i=e:t=c.getConverterInstance(e),i)return i.then(function(e){return n._converter=e,n._converter||null});this._converter=t}return this._converter||null},E._SetBusyState=function(e){void 0===this._resolveBusyStateAsyncMap&&(this._resolveBusyStateAsyncMap=new Map);var t=this._resolveBusyStateAsyncMap.get(e);if(!t){var i=this.element[0],n=a.getContext(i).getBusyContext(),s="The page is waiting for async validators for displayValue "+e;i&&i.id&&(s+=' for "'+i.id+'" '),s+="to finish.",t=n.addBusyState({description:s}),this._resolveBusyStateAsyncMap.set(e,t)}},E._ClearBusyState=function(e){var t;void 0!==this._resolveBusyStateAsyncMap&&(t=this._resolveBusyStateAsyncMap.get(e))&&(t(),this._resolveBusyStateAsyncMap.delete(e))},E._SetBusyStateAsyncValidatorHint=function(e){void 0===this._resolveBusyStateAsyncValidatorHintMap&&(this._resolveBusyStateAsyncValidatorHintMap=new Map);var t=this._resolveBusyStateAsyncValidatorHintMap.get(e);if(!t){var i=this.element[0],n=a.getContext(i).getBusyContext(),s="The page is waiting for async validator hint for counter "+e;i&&i.id&&(s+=' for "'+i.id+'" '),s+="to finish.",t=n.addBusyState({description:s}),this._resolveBusyStateAsyncValidatorHintMap.set(e,t)}},E._ClearBusyStateAsyncValidatorHint=function(e){var t;void 0!==this._resolveBusyStateAsyncValidatorHintMap&&(t=this._resolveBusyStateAsyncValidatorHintMap.get(e))&&(t(),this._resolveBusyStateAsyncValidatorHintMap.delete(e))},E._SetBusyStateAsyncConverterLoading=function(){if(!this._resolveBusyStateAsyncConverterLoading){var e=this.element[0],t=a.getContext(e).getBusyContext(),i="The page is waiting for async converter loading ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to finish.",this._resolveBusyStateAsyncConverterLoading=t.addBusyState({description:i})}},E._ClearBusyStateAsyncConverterLoading=function(){void 0!==this._resolveBusyStateAsyncConverterLoading&&(this._resolveBusyStateAsyncConverterLoading(),delete this._resolveBusyStateAsyncConverterLoading)},E._getShowLoadingDelay=function(){null==this._defaultOptions&&(this._defaultOptions=o.parseJSONFromFontFamily("oj-form-control-option-defaults"));var e=parseInt(this._defaultOptions.showIndicatorDelay,10);return isNaN(e)?0:e},E._SetInputType=function(e){var i="text",n=t.AgentUtils.getAgentInfo();if(n.os===t.AgentUtils.OS.ANDROID||n.os===t.AgentUtils.OS.IOS||n.os===t.AgentUtils.OS.WINDOWSPHONE)if(e.indexOf(this.options.virtualKeyboard)>=0)i=this.options.virtualKeyboard;else{var s=this._GetConverter();if(s&&s.resolvedOptions){var o=s.resolvedOptions();e.indexOf(o.virtualKeyboardHint)>=0&&(i=o.virtualKeyboardHint)}}null==i?this.element[0].removeAttribute("type"):this.element[0].setAttribute("type",i)},E._createReadonlyDiv=function(e){if(this._UseReadonlyDiv()){var t=document.createElement("div");t.classList.add("oj-text-field-readonly-div");var i=document.createElement("div");return i.classList.add("oj-text-field-readonly"),i.setAttribute("role","textbox"),i.setAttribute("aria-readonly",!0),t.appendChild(i),e.parentNode.insertBefore(t,e),i}return null},E._getReadonlyDiv=function(){return this.widget()[0].querySelector(".oj-text-field-readonly")};var S="display",b="display",O="display",A={MESSAGES:["inline"],VALIDATOR_HINT:["notewindow"],CONVERTER_HINT:["placeholder","notewindow"]};t.__registerWidget("oj.editableValue",n.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:{},help:void 0,helpHints:{definition:"",source:""},labelHint:"",labelEdge:void 0,messagesCustom:[],messagesHidden:void 0,messagesShown:void 0,title:"",userAssistanceDensity:"reflow",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(e){var t;if(!(t=this._super(e))&&!this._IsCustomElement()&&"oj-label-help-icon"===e.subId){var i=this._GetLabelElement();i&&(t=i.parent().find(".oj-label-help-icon"))}return t||null},getSubIdByNode:function(e){var t,i,s,o=null;return null!=e&&null!=(t=n(e).closest("a.oj-label-help-icon"))&&null!=(i=t.closest(".oj-label"))&&(s=i.find("label")[0])&&s===this._GetLabelElement()[0]&&(o={subId:"oj-label-help-icon"}),o},isValid:function(){return void 0===this._valid&&(this._valid=!this._hasInvalidMessages()),this._valid},refresh:function(){this._super(),this._doRefresh()},reset:function(){this._clearAllMessages(),this._runDeferredValidation(this._VALIDATION_CONTEXT.RESET_METHOD),this._refreshComponentDisplayValue(this.options.value,!0)},showMessages:function(){var e,t,i,n=[],s=this.options.messagesHidden,o=s.length>0;for(e=0;e<s.length;e++)(t=s[e])instanceof u.ComponentMessage?(t._forceDisplayToShown(),i=t.clone()):i=new u(t.summary,t.detail,t.severity),n.push(i);o&&(this._clearMessages("messagesHidden"),this._updateMessagesOption("messagesShown",n),this._setValidOption("invalidShown",null))},_VALIDATION_MODE:{FULL:1,VALIDATORS_ONLY:2,REQUIRED_VALIDATOR_ONLY:3},_VALIDATION_CONTEXT:E.validationContext,_VALIDATE_METHOD_OPTIONS:E.validateMethodOptions,_InitOptions:function(e,t){this._super(e,t)},_ComponentCreate:function(){var e=this.element,t=this._GetSavedAttributes(e);if(this._super(),this.options.messagesCustom=this.options.messagesCustom||[],this.options.messagesHidden=[],this.options.messagesShown=this.options.messagesCustom.length>0?this._cloneMessagesBeforeSet(this.options.messagesCustom):[],this._SetDisabledDom(e),t&&!this._IsCustomElement()){var i=e[0].tagName.toLowerCase();"input"!==i&&"textarea"!==i||["required","title","pattern"].forEach(function(i){i in t&&e.removeAttr(i)})}},_AfterCreate:function(){var e,t=this;this._super(),this._refreshTheming("disabled",this.options.disabled),this.widget()[0].classList.add("oj-form-control"),this._IsTextFieldComponent()&&(this._IsCustomElement()?this._getRootElement().classList.add("oj-text-field"):this.widget()[0].classList.add("oj-text-field")),this._toggleOjHasNoValueClass(),this.widget().uniqueId(),this._IsCustomElement()?this.options.labelledBy?this._labelledByUpdated(this.options.labelledBy):this._setAriaLabelFromLabelHint():this._createOjLabel(),(e=this.options.describedBy)&&this._describedByUpdated(null,e),this._runDeferredValidation(this._VALIDATION_CONTEXT.COMPONENT_CREATE);var i=this._GetConverter();this._converterChangedCounter=0,i instanceof Promise?(this._setBusyStateAsyncConverterLoading(),this._ResolveLabelEdgeStrategyType(),this._loadingConverter(i).then(function(){t._AfterCreateConverterCached(),t._clearBusyStateAsyncConverterLoading()})):(this._AfterCreateConverterCached(),this._setValidOption(this._determineValidFromMessagesOptions(),null))},_SaveAttributes:function(e){this._IsCustomElement()||this._SaveAllAttributes(e)},_RestoreAttributes:function(e){this._IsCustomElement()||this._RestoreAllAttributes(e)},_AfterSetOption:function(e,t){switch(e){case"disabled":this._AfterSetOptionDisabledReadOnly(e,E.disabledOptionOptions);break;case"displayOptions":this._initComponentMessaging();break;case"labelEdge":this._initComponentMessaging(),this._setAriaLabelFromLabelHint();break;case"labelHint":this._setAriaLabelFromLabelHint();break;case"help":this._IsCustomElement()?this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE)):this._Refresh(e,this.options[e]);break;case"messagesCustom":this._messagesCustomOptionChanged(t),this._setValidOption(this._determineValidFromMessagesOptions(),null);break;case"placeholder":this._SetPlaceholder(this.options.placeholder),this._placeholderOptionChanged(t);break;case"title":this._IsCustomElement()||this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE));break;case"translations":this.refresh();break;case"userAssistanceDensity":this._initComponentMessaging();break;case"value":this._AfterSetOptionValue(e,t)}},_AfterSetOptionDisabledReadOnly:function(e,t){var i=!this.options[e];this._Refresh(e,this.options[e]),i&&this._runMixedValidationAfterSetOption(t)},_AfterSetOptionValue:function(e,t){var i,n=t?t._context:null,s=!1;n&&(s=!!n.originalEvent,i=n.doNotClearMessages||!1),s||(i||this._clearAllMessages(null),this._runDeferredValidation(this._VALIDATION_CONTEXT.VALUE_OPTION_CHANGE)),this._Refresh(e,this.options[e],!0)},_CanSetValue:function(){return!(this.options.disabled||!1)},_destroy:function(){var e,t,s=this._super();if(this._clearAllMessages(null,!0),this.widget().removeUniqueId(),this._getComponentMessaging()._isActive()&&this._getComponentMessaging().deactivate(),this.$label)for(t=this.$label.length,e=0;e<t;e++)this.$label[e]&&null!=i.__GetWidgetConstructor(this.$label[e])&&n(this.$label[e]).ojLabel("destroy");return s},GetFocusElement:function(){return this._GetContentElement()[0]},_setOption:function(e,t,i){var n,s,a,l=!1;switch(e){case"messagesHidden":case"messagesShown":case"rawValue":l=!0;break;case"describedBy":s=this.options.describedBy,a=t,this._describedByUpdated(s,a);break;case"labelledBy":t&&this._labelledByUpdated(t);break;case"readOnly":this._addRemoveOjReadOnlyClassOnLabel(document.getElementById(this.options.labelledBy),t);break;case"displayOptions":var d=t,h=null!==t&&void 0===t.validatorHint&&void 0===t.converterHint&&void 0===t.messages;if(h){"use"===(o.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?(d.validatorHint=b,d.converterHint=O,d.messages=S):(d.validatorHint=A.VALIDATOR_HINT,d.converterHint=A.CONVERTER_HINT,d.messages=A.MESSAGES)}}return l?(r.error(e+" option cannot be set"),this):(n=this._superApply(arguments),this._AfterSetOption(e,i),n)},_GetContentElement:function(){return this.element},_GetLabelElement:function(){if(this._IsCustomElement())return null;var e;if(this.$label)return this.$label;if(E.hasNoLabelFlag(this.widget()))return null;var t=this._getAriaLabelledByElement(this.element);if(null!==t&&0!==t.length)return t;var i=this.element[0].id;return void 0!==i&&0!==(t=n("label[for='"+i+"']")).length||0!==(e=this.element.closest("[aria-labelledby]")).length&&null!==(t=this._getAriaLabelledByElement(e))&&0!==t.length?t:null},_GetElementValue:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this._GetContentElement()},_GetConverter:function(){return null},_GetImplicitValidators:function(){return this._implicitSyncValidators||(this._implicitSyncValidators={}),this._implicitSyncValidators},_GetDisplayValue:function(e){return this._GetContentElement().val()},_GetNormalizedValidatorsFromOption:function(){return[]},_GetNormalizedAsyncValidatorsFromOption:function(){return[]},_GetAllValidatorsFromValidatorsOptionAndImplicit:function(){var e,t,i,n,s=[];if(!this._allValidators){t=this._GetImplicitValidators(),i=[];var o,a=Object.keys(t),r=a.length;if(r>0){for(e=0;e<r;e++)o=a[e],i.push(t[o]);s=s.concat(i)}(n=this._GetNormalizedValidatorsFromOption()).length>0&&n.forEach(function(e){s.push(e)}),this._allValidators=s}return this._allValidators},_ResetAllValidators:function(){this._allValidators&&(this._allValidators.length=0),this._allValidators=null,this._IsCustomElement()?this._updateValidatorMessagingHint():this._getComponentMessaging().update(this._getValidatorHintsMC())},_GetAriaLabelElement:function(){return this._getRootElement()},_addRemoveOjReadOnlyClassOnLabel:function(e,t){if(e&&void 0!==t){const i="oj-read-only";t?e.classList.add(i):e.classList.remove(i)}},_setAriaLabelFromLabelHint:function(){if(this._IsCustomElement()){var e=this._GetAriaLabelElement(),t=e.getAttribute("aria-label");let i=this._getReadonlyDiv();this.options.labelledBy||!this.options.labelHint||"none"!==this.options.labelEdge||t&&t!==this._ariaLabelFromHint||this._getRootElement().getAttribute("aria-labelledby")?this._ariaLabelFromHint&&this._ariaLabelFromHint===t?(e.removeAttribute("aria-label"),i&&i.removeAttribute("aria-label")):t?i&&i.setAttribute("aria-label",t):i&&i.removeAttribute("aria-label"):(e.setAttribute("aria-label",this.options.labelHint),i&&i.setAttribute("aria-label",this.options.labelHint),this._ariaLabelFromHint=this.options.labelHint)}},_getAllAsyncValidatorsWithHint:function(){var e,t,i=this._GetNormalizedAsyncValidatorsFromOption(),n=[];if(this._IsRequired()&&"hint"in(t=this._getImplicitRequiredValidator())&&n.push(t),i.length>0)for(e=0;e<i.length;e++)"hint"in(t=i[e])&&n.push(t);var s=this._GetAllValidatorsFromValidatorsOptionAndImplicit();if(s.length>0)for(e=0;e<s.length;e++)"hint"in(t=s[e])&&n.push(t);return n},_initAsyncValidatorMessagingHint:function(){var e,t,i=this._getAllAsyncValidatorsWithHint(),n=this;this._asyncValidatorHintCounter=0,i.length>0&&(t=this._getValidatorHintsMC(),e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(i,t).then(function(){n._clearBusyStateAsyncValidatorHint(e)}))},_getValidatorHintsMC:function(){return this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS)},_updateValidatorMessagingHint:function(){var e,t=this._getAllAsyncValidatorsWithHint(),i=this._getComponentMessaging(),n=this,s=this._getValidatorHintsMC();t.length>0?(this._asyncValidatorHintCounter+=1,e=this._asyncValidatorHintCounter,this._setBusyStateAsyncValidatorHint(e),this._addAsyncValidatorsHintsMessagingContent(t,s).then(function(){n._clearBusyStateAsyncValidatorHint(e)})):i.update(s)},_addAsyncValidatorsHintsMessagingContent:function(e,t){var i,n=this._asyncValidatorHintCounter,s=this._getComponentMessaging(),o=[],a=this,r=[];for(i=0;i<e.length;i++)r.push(e[i].hint);function l(e){return e.then(function(e){var i,r={};return a._asyncValidatorHintCounter===n?(null!==e&&(o.push(e),r.validatorHint=t.validatorHint.concat(o),s.update(r)),i="resolved"):i="ignore",{v:e,status:i}},function(e){return{e:e,status:"rejected"}})}return new Promise(function(e){Promise.all(r.map(l)).then(function(){e(o)})})},_IsRequired:function(){return!1},_HandleChangeEvent:function(e){var t=this._GetDisplayValue();this._SetValue(t,e)},_SetRawValue:function(e,t){var i={};i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this._CompareOptionValues("rawValue",this.options.rawValue,e)||this.option("rawValue",e,i)},_IsValueEmpty:function(e){return null==e||("string"==typeof e?t.StringUtils.isEmptyOrUndefined(e):"number"==typeof e?isNaN(e):!!Array.isArray(e)&&(0===e.length||1===e.length&&(null===e[0]||void 0===e[0])))},_toggleOjHasNoValueClass:function(e){let t=this._getRootElement();this._IsValueEmpty(e)?t.classList.add("oj-has-no-value"):t.classList.remove("oj-has-no-value")},_Refresh:function(e,t,i){var n,s;switch(e){case"converter":var o=this.options.value;this._refreshComponentDisplayValue(o,i);break;case"disabled":this._refreshTheming("disabled",this.options.disabled);break;case"help":if(!this._IsCustomElement()&&this.$label){n=this.options.help.definition,s=this.options.help.source,this.$label.ojLabel("option","help",{definition:n,source:s});var a=this.$label[0];if(a){let e=a.id;if(e){let t=e+"_helpIcon";null!=s||null!=n?this._describedByUpdated(null,t):this._describedByUpdated(t,null)}}}break;case"value":this._refreshComponentDisplayValue(t,i)}},_NotifyHidden:function(){this._superApply(arguments),this._getComponentMessaging().close()},_NotifyDetached:function(){this._superApply(arguments),this._getComponentMessaging().close()},_ResetComponentState:function(){this.$label&&this.$label.ojLabel("refresh"),this._implicitReqValidator=null,this._converter=null,this._ResetAllValidators()},_SetDisplayValue:function(e){var t=this._GetContentElement();t.val()!==e&&t.val(e)},_SetDisabledDom:function(e){"boolean"==typeof this.options.disabled&&(e[0].disabled=this.options.disabled)},_SetPlaceholder:function(e){var t=this._GetContentElement()[0];t&&(null==e?t.removeAttribute("placeholder"):t.setAttribute("placeholder",e))},_SetPlaceholderOption:function(e){this.options.placeholder=e},_HasPlaceholderSet:function(){return this.options.placeholder},_ClearPlaceholder:function(){this._SetPlaceholderOption(""),this._SetPlaceholder("")},_SetValue:function(e,t,i){var n,s,o,a=!i||"boolean"!=typeof i.doValueChangeCheck||i.doValueChangeCheck,l=this,d=!1;return this._toggleOjHasNoValueClass(e),void 0===e?(r.warn("Attempt to set a value of undefined"),!1):(a&&e===l._getLastDisplayValue()?r.level>r.LEVEL_WARN&&r.info((e.toString,e.toString())):(n=e+"_"+(this._asyncValidatorValidateCounter+1),(s=this._AsyncValidate(e,t,i,n))instanceof Promise?d=s.then(function(e){return o=e,l._afterAsyncValidateUpdateValue(e,t,i)}).then(function(){return l._clearBusyState(n),void 0!==o}):(this._afterAsyncValidateUpdateValue(s,t,i),d=void 0!==s)),d)},_ParseValueShowErrors:function(e,t){var i;this._clearAllMessages(t);try{return this._parseValue(e,t)}catch(e){i=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",i,t),this._setValidOption("invalidShown",t)}},_AsyncValidate:function(e,t,i,n){var s,o,a,l=i&&i.validationMode?i.validationMode:this._VALIDATION_MODE.FULL,d=i&&i.validationContext?i.validationContext:this._VALIDATION_CONTEXT.USER_ACTION,h=i&&i.doNotClearMessages||!1;if(void 0!==e){if(this._CanSetValue()){h||this._clearAllMessages(t);try{return this._asyncValidatorValidateCounter+=1,l===this._VALIDATION_MODE.FULL?(this._setLastDisplayValue(e),o=this._parseValue(e,t,!0)):o=e,(a=this._asyncValidateValue(o,t,d))instanceof Promise?(this._setBusyState(n),a.then(function(e){if("valid"===e)return o})):a}catch(e){s=this._processValidationErrors(e,d),this._updateMessagesOption("messagesShown",s,t),this._setValidOption("invalidShown",t)}}else r.level>r.LEVEL_WARN&&r.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.");return a}r.warn("Attempt to set a value of undefined")},_afterAsyncValidateUpdateValue:function(e,t,i){var n,s=!1;return void 0!==e&&(i&&!0===i.doNotClearMessages?this.isValid()||!this._hasInvalidComponentMessagesShowing():this.isValid())&&(i&&i._context&&(n=i._context),this._updateValueOption(e,t,i&&i.validationContext,n,i),s=!0),s},_CompareOptionValues:function(e,i,n){return"value"===e||"rawValue"===e?t.Object.compareValues(i,n):0===e.indexOf("messages")?this._messagesEquals(i,n):this._superApply(arguments)},_GetDefaultStyleClass:function(){return t.Assert.failedInAbstractFunction(),""},_MESSAGING_CONTENT_UPDATE_TYPE:{INIT:1,VALIDITY_STATE:2,CONVERTER_HINT:3,VALIDATOR_HINTS:4,TITLE:5},_OPTION_TO_CSS_MAPPING:{disabled:"oj-disabled",required:"oj-required"},_clearAllMessages:function(e,t){t?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this._clearMessages("messagesHidden",e),this._clearMessages("messagesShown",e),this._clearMessages("messagesCustom",e))},_clearComponentMessages:function(){var e,t=this.options.messagesShown;e=t.length,this._clearMessages("messagesHidden");for(var i=e-1;i>=0;i--)t[i]instanceof u.ComponentMessage&&t.splice(i,1);t.length!==e&&this._setMessagesOption("messagesShown",t,null,!0)},_setMessagesOption:function(e,t,i,n){var s={},o=0===t.length&&0===this.options[e].length;!n&&o||(s._context={originalEvent:i,writeback:!0,internalSet:!0},"messagesCustom"!==e&&(s._context.readOnly=!0),s.changed=n||!o,this._resetValid(),this.option(e,t,s),this._updateMessagingContent())},_setValidOption:function(e,t){var i={};"pending"===e&&"valid"!==this._determineValidFromMessagesOptions()||e!==this.options.valid&&(i._context={originalEvent:t,writeback:!0,internalSet:!0,readOnly:!0},this.option("valid",e,i))},_clearMessages:function(e,t){this._setMessagesOption(e,[],t)},_cloneMessagesBeforeSet:function(e){var t,i,n,s=[];if(e&&e.length>0)for(t=0;t<e.length;t++)n=e[t],i=new u(n.summary,n.detail,n.severity),i=Object.freeze?Object.freeze(i):i,s.push(i);return s},_createOjLabel:function(){var e,t;this._IsCustomElement()||(this.$label=this._GetLabelElement(),this.$label&&(e=this.options.help.definition,t=this.options.help.source,this.$label.ojLabel({rootAttributes:{class:this._GetDefaultStyleClass()+"-label"},help:{definition:e,source:t}}),this._createDescribedByForLabel()))},_createDescribedByForLabel:function(){var e,t=this.options.help.definition;if(null!=this.options.help.source||null!=t){var i=this.$label[0];i&&(e=i.id),e&&this._describedByUpdated(null,e+"_helpIcon")}},_doRefresh:function(){var e,t=!1;this._ResetComponentState(),this._initComponentMessaging(),this._Refresh("disabled",this.options.disabled),this._hasInvalidMessagesShowing()&&(t=!0),this._clearComponentMessages(),t?(e=this._GetDisplayValue(),this._SetValue(e,null,E.refreshMethodOptions)):(this._IsRequired()&&this._runDeferredValidation(E.refreshMethodOptions.validationContext),this._Refresh("value",this.options.value,!0))},_getLastModelValue:function(){return this._oj_lastModelValue},_getLastDisplayValue:function(){return void 0===this._oj_lastElementValue&&(this._oj_lastElementValue=""),this._oj_lastElementValue},_getAriaLabelledByElement:function(e){if(this._IsCustomElement())return null;var t=e[0].getAttribute("aria-labelledby");return void 0!==t?n("label[id='"+t+"']"):null},_getMessages:function(){var e=[];return this.options.messagesShown&&(e=e.concat(this.options.messagesShown)),this.options.messagesHidden&&(e=e.concat(this.options.messagesHidden)),e},_getLabelText:function(){if(this.$label)return this.$label[0].textContent;var e=E._getCustomOjLabelElements(this.options.labelledBy),t=null;if(e)for(var i=0;i<e.length;i++){i>0&&(t+=" "),t=e[i].textContent}return t},_getValidityState:function(){return this._validityState||(this._validityState=new t.ComponentValidity(this.isValid(),this._getMessages())),this._validityState},_hasValidityState:function(){return!!this._validityState},_hasInvalidMessages:function(){return!u.isValid(this._getMessages())},_hasInvalidMessagesShowing:function(){return!this.isValid()&&this.options.messagesShown.length>0},_hasInvalidComponentMessagesShowing:function(){for(var e,t,i=this.options.messagesShown,n=0;n<i.length;n++)(t=i[n])instanceof u.ComponentMessage&&t._isMessageAddedByComponent()&&(e=e||[]).push(t);return void 0!==e&&!u.isValid(e)},_initComponentMessaging:function(){var e=this._getComponentMessaging(),t=this._GetMessagingLauncherElement(),i=this._GetContentElement(),n=this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.INIT);this._customPlaceholderSet||this._ClearPlaceholder(),e.activate(t,i,n),this._asyncValidatorValidateCounter=0},_messagesCustomOptionChanged:function(e){var t,i,n=e?e._context:null,s=this.options.messagesCustom,o=this.options.messagesShown,a=[];for(t=0;t<o.length;t++)(i=o[t])instanceof u.ComponentMessage&&i._isMessageAddedByComponent()&&a.push(i);for(t=0;t<s.length;t++)a.push(s[t]);this._setMessagesOption("messagesShown",a,n?n.originalEvent:null,e&&e.changed)},_placeholderOptionChanged:function(e){"displayOptions"===this._getResolvedUserAssistance()&&(!(e&&e._context||{}).internalMessagingSet?(this._customPlaceholderSet=!0,this._GetConverter()&&this._initComponentMessaging()):this._customPlaceholderSet=!1)},_setLastModelValue:function(e){this._oj_lastModelValue=e},_setLastDisplayValue:function(e){this._oj_lastElementValue=e},_updateMessagesOption:function(e,t,i){var n,s,o;if("object"==typeof t&&Array.isArray(t))for(o=this.options[e],s=t.length,n=0;n<s;n++)o.push(t[n]);this._setMessagesOption(e,o,i,!0)},_updateMessagingContent:function(){this._getComponentMessaging().update(this._getMessagingContent(this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE))},_updateValueOption:function(e,t,i,n,s){var o,a,r=n||{};switch(t&&(r.originalEvent=t),i){case this._VALIDATION_CONTEXT.CONVERTER_OPTION_CHANGE:case this._VALIDATION_CONTEXT.DISABLED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.READONLY_OPTION_CHANGE:case this._VALIDATION_CONTEXT.REFRESH_METHOD:case this._VALIDATION_CONTEXT.REQUIRED_OPTION_CHANGE:case this._VALIDATION_CONTEXT.VALIDATE_METHOD:case this._VALIDATION_CONTEXT.VALIDATORS_OPTION_CHANGE:r.writeback=!0,r.doNotClearMessages=!0}if(r.internalSet=!0,s&&s.targetOptions){o={},a=!1;for(var l=0;l<s.targetOptions.length;l++)o[s.targetOptions[l]]=e,a=a||"value"===s.targetOptions[l]}else o={value:e},a=!0;this.option(o,{_context:r}),a&&this._AfterSetOptionValue("value",{_context:r})},_resetValid:function(){this._valid=void 0},_determineValidFromMessagesOptions:function(){var e=this.options.messagesHidden,t=this.options.messagesShown,i="valid";return t&&0!==t.length&&!u.isValid(t)?i="invalidShown":e&&0!==e.length&&!u.isValid(e)&&(i="invalidHidden"),i},_formatValue:function(e){var t=e,i=this._GetConverter();return i&&"object"==typeof i&&(i.format&&"function"==typeof i.format?t=i.format(e):r.level>r.LEVEL_WARN&&r.info("converter does not support the format method.")),t},_getComponentMessaging:function(){return this._componentMessaging||(this._componentMessaging=new t.ComponentMessaging(this)),this._componentMessaging},_getHintsFromAllValidatorsWithGetHintFunction:function(e){var t,i,n=[],s="";for(this._IsRequired()&&(i=this._getImplicitRequiredValidator()).getHint&&"function"==typeof i.getHint&&(s=i.getHint())&&n.push(s),t=0;t<e.length;t++)s="","object"==typeof(i=e[t])&&i.getHint&&"function"==typeof i.getHint&&(s=i.getHint())&&n.push(s);return n},_getImplicitRequiredValidator:function(){var e,t={};return null==this._implicitReqValidator&&(e={hint:(t=this.options.translations&&this.options.translations.required||{}).hint||null,label:this._getLabelText(),messageSummary:t.messageSummary||null,messageDetail:t.messageDetail||null},this._implicitReqValidator=new l(e)),this._implicitReqValidator},_getResolvedUserAssistance:function(){let e=o.parseJSONFromFontFamily("oj-form-control-option-defaults");if(e){return"use"===e.useUserAssistanceOptionDefault?this.options.userAssistanceDensity:"displayOptions"}return"displayOptions"},_showUserAssistanceNotInline:function(){let e=this._getResolvedUserAssistance();return"compact"===e||"displayOptions"===e},_getMessagingContent:function(e){var t,i,n={},s="";if((e=e||this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE)!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDITY_STATE||(n.validityState=this._getMessagingContentValidityState()),e!==this._MESSAGING_CONTENT_UPDATE_TYPE.INIT&&e!==this._MESSAGING_CONTENT_UPDATE_TYPE.CONVERTER_HINT||((i=this._GetConverter())&&"object"==typeof i&&i.getHint&&"function"==typeof i.getHint&&(s=i.getHint()||""),n.converterHint=s),e===this._MESSAGING_CONTENT_UPDATE_TYPE.VALIDATOR_HINTS){t=this._GetAllValidatorsFromValidatorsOptionAndImplicit();let e=this._getHintsFromAllValidatorsWithGetHintFunction(t)||[];n.validatorHint=e}if(e===this._MESSAGING_CONTENT_UPDATE_TYPE.INIT||e===this._MESSAGING_CONTENT_UPDATE_TYPE.TITLE){var o;if(this._IsCustomElement()){var a=this.options.help;null!=a&&(o=a.instruction)}else o=this.options.title;n.title=o||""}return n},_getMessagingContentValidityState:function(){let e;return this._hasValidityState()?(e=this._getValidityState(),e.update(this.isValid(),this._getMessages())):e=this._getValidityState(),e},_messagesEquals:function(e,t){var i,s=-1,o=!0,a=n.extend([],e),r=n.extend([],t);return a.length===r.length&&(a.forEach(function(e){e instanceof u?i=e:(i=new u(e.summary,e.detail,e.severity),i=Object.freeze?Object.freeze(i):i),s=-1,r.forEach(function(e,t){u.getSeverityLevel(i.severity)===u.getSeverityLevel(e.severity)&&i.summary===e.summary&&i.detail===e.detail&&(s=t)}),s>-1?r.splice(s,1):o=!1}),o)},_parseValue:function(e,t,i){var n=this._GetConverter(),s=e;if(n&&"object"==typeof n)if(n.parse&&"function"==typeof n.parse)try{i&&this._setValidOption("pending",t),s=n.parse(e)}catch(e){throw e}else r.level>r.LEVEL_WARN&&r.info("converter does not support the parse method.");return s},_addValidationError:function(e,t){var i,n,s,o;e instanceof _.ConverterError||e instanceof _.ValidatorError?(n=(s=e.getMessage()).severity||u.SEVERITY_LEVEL.ERROR,o=s.summary||h.getTranslatedString("oj-message.error"),i=s.detail||h.getTranslatedString("oj-converter.detail")):e.summary||e.detail?(n=u.SEVERITY_LEVEL.ERROR,o=e.summary||h.getTranslatedString("oj-message.error"),i=e.detail||h.getTranslatedString("oj-converter.detail")):(n=u.SEVERITY_LEVEL.ERROR,o=h.getTranslatedString("oj-message.error"),i=e.message||h.getTranslatedString("oj-converter.detail")),t.push({summary:o,detail:i,severity:n})},_processValidationErrors:function(e,t,i){var n,s=[],o=e._messages||[],a={};a.context=t||0,a.display=i||u.ComponentMessage.DISPLAY.SHOWN,0===o.length&&this._addValidationError(e,o);for(var r=0;r<o.length;r++)n=o[r],s.push(this._createComponentMessage(n.summary,n.detail,n.severity,a));return s||null},_createComponentMessage:function(e,t,i,n){var s;return s=new u.ComponentMessage(e,t,i,n),s=Object.seal?Object.seal(s):s},_refreshComponentDisplayValue:function(e,t){var i;return this._toggleOjHasNoValueClass(e),(t||e!==this._getLastModelValue())&&(i=this._UpdateElementDisplayValue(e)),i},_refreshTheming:function(e,t){-1!==Object.keys(this._OPTION_TO_CSS_MAPPING).indexOf(e)&&(t?this.widget()[0].classList.add(this._OPTION_TO_CSS_MAPPING[e]):this.widget()[0].classList.remove(this._OPTION_TO_CSS_MAPPING[e]))},_runDeferredValidation:function(e){var t=this;if(this._CanSetValue()){if(!this._resolveBusyStateDeferredValidation){var i=this.element[0],n=a.getContext(i).getBusyContext(),s="The page is waiting for async deferred validation ";i&&i.id&&(s+='for "'+i.id+'" '),s+="to finish.",this._resolveBusyStateDeferredValidation=n.addBusyState({description:s})}var o=this._validateValueForRequiredOnly(this.options.value,e);if(!(o instanceof Promise))return this._setValidOption(this._determineValidFromMessagesOptions(),null),void(this._resolveBusyStateDeferredValidation&&(this._resolveBusyStateDeferredValidation(),delete this._resolveBusyStateDeferredValidation));o.then(function(){t._resolveBusyStateDeferredValidation&&(t._resolveBusyStateDeferredValidation(),delete t._resolveBusyStateDeferredValidation),t._setValidOption(t._determineValidFromMessagesOptions(),null)})}else r.level>r.LEVEL_WARN&&r.info("Deferred validation skipped as component is readonly or disabled.");this._setValidOption(this._determineValidFromMessagesOptions(),null)},_runMixedValidationAfterSetOption:function(e){var t,i=!1;this._hasInvalidMessagesShowing()&&(i=!0),this._clearComponentMessages(),i&&(t=this._GetDisplayValue(),this._SetValue(t,null,e)),!i&&this._IsRequired()?this._runDeferredValidation(e.validationContext):this._setValidOption(this._determineValidFromMessagesOptions(),null)},_UpdateElementDisplayValue:function(e,t){var i,n;i=e;try{i=this._formatValue(e);try{this._setLastModelValue(e),this._afterConverterFormat(i)}catch(e){throw e}n=i}catch(s){t||this._afterConverterFormatFailure(s),this._setLastModelValue(e),this._afterConverterFormat(i),n=void 0}return n},_SetLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.add("oj-loading"),this._saveAriaLabel=t.getAttribute("aria-label");var i=h.getTranslatedString("oj-ojEditableValue.loading");t.setAttribute("aria-label",i)},_ClearLoading:function(){var e=this.widget()[0],t=this.GetFocusElement();e.classList.remove("oj-loading"),this._saveAriaLabel?t.setAttribute("aria-label",this._saveAriaLabel):t.removeAttribute("aria-label")},_UseReadonlyDiv:function(){return"div"===o.parseJSONFromFontFamily("oj-form-control-option-defaults").readonlyElem},_ShowHelpHints:function(){return this._IsTextFieldComponent()?"focus":"always"},_ShowHelpHintsLocation:function(){return"inline"},_afterConverterFormat:function(e){var t;this._SetDisplayValue(e),t=this._GetDisplayValue(),this._setLastDisplayValue(t),this._SetRawValue(t,null)},_afterConverterFormatFailure:function(e){var t;t=this._processValidationErrors(e),this._updateMessagesOption("messagesShown",t),this._setValidOption("invalidShown",null)},_loadingConverter:function(e){var t=this,i=E._getShowLoadingDelay(),n=this._converterChangedCounter,s=setTimeout(function(){n===t._converterChangedCounter&&t._SetLoading()},i);return e.then(function(e){return t._ClearLoading(),clearTimeout(s),e})},_validateValueForRequiredOnly:function(e,i){var n,s,o=this;if(this._IsRequired()){s=this._getImplicitRequiredValidator();try{this._setValidOption("pending",null);var a=s.validate(t.StringUtils.trim(e));if(a instanceof Promise)return a.then(function(){},function(e){(n=o._processValidationErrors(e,i,u.ComponentMessage.DISPLAY.HIDDEN))&&o._updateMessagesOption("messagesHidden",n)})}catch(e){(n=this._processValidationErrors(e,i,u.ComponentMessage.DISPLAY.HIDDEN))&&this._updateMessagesOption("messagesHidden",n)}}return null},_asyncValidateValue:function(e,i,n){var s,o,a,l,d,h=this._GetNormalizedAsyncValidatorsFromOption(),u=this._GetAllValidatorsFromValidatorsOptionAndImplicit(),c=!1,_=this,p=[],g=this._asyncValidatorValidateCounter,f=[],m=this._IsRequired();if(m&&(l=this._getImplicitRequiredValidator()),(m||h.length>0||u.length>0)&&this._setValidOption("pending",i),l)try{var v=l.validate(t.StringUtils.trim(e));v&&f.push(v)}catch(e){this._addValidationError(e,p),this._setValidOption("invalidShown",i),c=!0}for(s=0;s<h.length;s++){try{d=h[s].validate(e)}catch(e){d=Promise.reject(e)}d instanceof Promise||(d=Promise.resolve(d)),f.push(d)}for(s=0;s<u.length;s++)try{(d=u[s].validate(e))instanceof Promise&&f.push(d)}catch(e){this._addValidationError(e,p),this._setValidOption("invalidShown",i),c=!0}if(p.length>0){let e=new Error;e._messages=p,a=this._processValidationErrors(e,n),this._updateMessagesOption("messagesShown",a,i)}function C(t){return t.then(function(t){var i;return _._asyncValidatorValidateCounter===g?i="resolved":(r.level>r.LEVEL_WARN&&r.info("Validate ignored because new value came in before async validator finished for "+e),i="ignore"),{v:t,status:i}},function(t){var s;return _._asyncValidatorValidateCounter===g?(a=_._processValidationErrors(t,n),_._updateMessagesOption("messagesShown",a,i),c||(_._setValidOption("invalidShown",i),c=!0),s="rejected"):(r.level>r.LEVEL_WARN&&r.info("Validate ignored because new value came in before async validator finished for "+e),s="ignore"),{e:t,status:s}})}return f.length>0?new Promise(function(e){Promise.all(f.map(C)).then(function(t){t.filter(function(e){return"ignore"===e.status}).length>0?o="ignoreValidation":(o=c?"invalidShown":"valid",_._setValidOption(_._determineValidFromMessagesOptions(),i)),e(o)})}):(0===p.length&&this._setValidOption(_._determineValidFromMessagesOptions(),i),0===p.length?e:void 0)},_labelledByUpdated:function(e){var t=E._getCustomOjLabelElements(e);if(t)for(let e=0;e<t.length;e++){var i=t[e];i.classList.add(this._GetDefaultStyleClass()+"-label"),void 0===this.widget().attr("data-oj-internal")&&void 0!==this.options.readOnly&&this._addRemoveOjReadOnlyClassOnLabel(i,this.options.readOnly)}},_describedByUpdated:d._describedByUpdated,_setBusyState:E._SetBusyState,_clearBusyState:E._ClearBusyState,_setBusyStateAsyncValidatorHint:E._SetBusyStateAsyncValidatorHint,_clearBusyStateAsyncValidatorHint:E._ClearBusyStateAsyncValidatorHint,_setBusyStateAsyncConverterLoading:E._SetBusyStateAsyncConverterLoading,_clearBusyStateAsyncConverterLoading:E._ClearBusyStateAsyncConverterLoading,_AfterCreateConverterCached:E._AfterCreateConverterCached,_getReadonlyDiv:E._getReadonlyDiv,_createOrUpdateReadonlyDiv:E._createOrUpdateReadonlyDiv,_createReadonlyDiv:E._createReadonlyDiv,_setReadonlyDivLabelledBy:E._setReadonlyDivLabelledBy,_GetFormControlContainer:function(){if(this._IsCustomElement()){var e="."+[this._GetComponentManagedBaseLabelStyleClass(),"container"].join("-");return this._getRootElement().querySelector(e)}},_IsTextFieldComponent:function(){return!1},_GetComponentManagedBaseLabelStyleClass:function(){return this._IsTextFieldComponent()?"oj-text-field":"oj-form-control"},_CreateMiddleWrapper:function(){var e=document.createElement("div");return e.className="oj-text-field-middle",e},_ResolveLabelEdgeStrategyType:function(){var e=this.options.labelEdge;return this._IsCustomElement()&&"inside"===e&&(this._IsTextFieldComponent()||(e=t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL)),e}},!0),i.setDefaultOptions({editableValue:{displayOptions:i.createDynamicPropertyGetter(function(e){var t;return(t="use"===(o.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).useUserAssistanceOptionDefault?{messages:S,converterHint:O,validatorHint:b}:{messages:e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?["notewindow"]:A.MESSAGES,converterHint:A.CONVERTER_HINT,validatorHint:A.VALIDATOR_HINT})[e.isCustomElement?"helpInstruction":"title"]=["notewindow"],t}),help:i.createDynamicPropertyGetter(function(e){return e.isCustomElement?{instruction:""}:{definition:null,source:null}}),labelEdge:i.createDynamicPropertyGetter(function(e){if(e.isCustomElement)return(o.parseJSONFromFontFamily("oj-form-control-option-defaults")||{}).labelEdge}),userAssistanceDensity:i.createDynamicPropertyGetter(function(e){return e.containers.indexOf("ojDataGrid")>=0||e.containers.indexOf("ojTable")>=0?"compact":"reflow"})}});const T=function(e){this.Init(e)},L={},I={};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.NOTEWINDOW,T),t.Object.createSubclass(T,t.MessagingStrategy,"oj.PopupMessagingStrategy"),T._DEFAULTS_BY_COMPONENT={ojRadioset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojCheckboxset:{position:"launcher",events:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",events:{open:"focusin"}},ojTextArea:{position:"launcher",events:{open:"focusin"}},ojInputPassword:{position:"launcher",events:{open:"focusin"}},ojSwitch:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},ojColorPalette:{position:"launcher",events:{open:"focusin mouseenter",close:"mouseleave"}},default:{position:"launcher-wrapper",events:{open:"focusin"}}},T._SELECTOR_FORMCONTROL_HINT="oj-form-control-hint",T._SELECTOR_FORMCONTROL_HINT_CONVERTER="oj-form-control-hint-converter",T._SELECTOR_FORMCONTROL_HINT_VALIDATOR="oj-form-control-hint-validator",T._SELECTOR_FORMCONTROL_HINT_TITLE="oj-form-control-hint-title",T._OPEN_NAMESPACE=".ojPopupMessagingOpen",T._CLOSE_NAMESPACE=".ojPopupMessagingClose",T.prototype.activate=function(e){T.superclass.activate.call(this,e),this._initMessagingPopup()},T.prototype.reactivate=function(e){T.superclass.reactivate.call(this,e),this._updatePopupIfOpenOrComponentHasFocus()},T.prototype.update=function(){T.superclass.update.call(this),this._updatePopupIfOpenOrComponentHasFocus()},T.prototype.deactivate=function(){this._unregisterLauncherEvents(),this._destroyTooltip(),T.superclass.deactivate.call(this)},T.prototype.close=function(){this._closePopup()},T.prototype._closePopup=function(){this._queueAction(function(e){if(this._isPopupInitialized())return e&&this._setActionResolver(this.$messagingContentRoot,"close",e),void this.$messagingContentRoot.ojPopup("close");e&&e(!0)}.bind(this))},T.prototype._initMessagingPopup=function(){this._openPopupCallback||this._registerLauncherEvents()},T.prototype._addAnimateEventListeners=function(e){var t=function(e,t,i){var n=this.GetComponent();n&&n._trigger&&(t.stopPropagation(),n._trigger(e,null,i)||t.preventDefault())};e.on("ojanimatestart.notewindow",t.bind(this,"animateStart")),e.on("ojanimateend.notewindow",t.bind(this,"animateEnd"))},T.prototype._removeAnimateEventListeners=function(e){e.off("ojanimatestart.notewindow"),e.off("ojanimateend.notewindow")},T.prototype._setBusyState=function(e){var t=this.GetComponent(),i=t?t.element:null,n=i?i[0]:null,s=a.getContext(n).getBusyContext(),o="The page is waiting for note window ";return n&&n.id&&(o+='for "'+n.id+'" '),o+="to "+e,s.addBusyState({description:o})},T.prototype._setActionResolver=function(e,t,i){var n;this._actionCount>1&&(n=e.ojPopup("option","animation"),e.ojPopup("option","animation",null));var s=this._setBusyState(t);e.one("oj"+t,function(){n&&e.ojPopup("option","animation",n),s(),i(!0)})},T.prototype._queueAction=function(e){if(this.GetComponent()._IsCustomElement()){var t=this,i=function(e){var i=new Promise(e);return i.then(function(){t._actionCount-=1}),i};this._actionCount?(this._actionCount+=1,this._actionPromise=this._actionPromise.then(function(){return i(e)})):(this._actionCount=1,this._actionPromise=i(e))}else e(null)},T.prototype._openPopup=function(e){this._queueAction(function(i){var n,s,o;if(this._canOpenPopup()&&(s=this._buildPopupHtml(),!t.StringUtils.isEmptyOrUndefined(s))){var a=this._getPopupElement(),r=a.ojPopup("isOpen");if((n=L.getPopupContentNode(a)).innerHTML="",n.innerHTML=s,!r)return o=this.GetLauncher(),e&&"press"===e.type&&this._openPopupOnPressEvent(o),i&&this._setActionResolver(a,"open",i),void a.ojPopup("open",o);r&&a.ojPopup("refresh")}i&&i(!0)}.bind(this))},T.prototype._openPopupOnPressEvent=function(e){this._inPressEvent=!0,e[0].addEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].addEventListener("change",this._eatChangeAndClickOnPress,!0),e.one("touchend",function(){setTimeout(function(){this._inPressEvent=!1},50)})},T.prototype._eatChangeAndClickOnPress=function(e){this._inPressEvent&&(e.preventDefault(),e.stopPropagation(),"click"===e.type&&(this._inPressEvent=!1))},T.prototype._canOpenPopup=function(){var e=this.GetComponent().options,t=e.disabled||!1,i=e.readOnly||!1;return!(t||i)},T.prototype._updatePopupIfOpenOrComponentHasFocus=function(){var e,t,i,n;null!=this.GetLauncher()&&(i=this.GetLauncher()[0].contains(document.activeElement),this._isPopupInitialized()?(n=this._getPopupElement()).ojPopup("isOpen")&&((e=this._buildPopupHtml())?((t=L.getPopupContentNode(n)).innerHTML="",t.innerHTML=e,n.ojPopup("refresh")):n.ojPopup("close")):i&&(e=this._buildPopupHtml())&&this._openPopup(void 0))},T.prototype._unregisterLauncherEvents=function(){var e=this.GetLauncher();e.off(T._OPEN_NAMESPACE),e.off(T._CLOSE_NAMESPACE),e[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),e[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0),m.isTouchSupported()&&(e.ojHammer().off("press"),e.ojHammer("destroy"),e.off("contextmenu",this._eatContextMenuOnOpenPopupListener),this._eatContextMenuOnOpenPopupListener=null,this._inPressEvent=null),this._openPopupCallback=null,this._closePopupCallback=null},T.prototype._registerLauncherEvents=function(){var e,t,i,n,s,o,a,r,l=this.GetLauncher();(n=(i=T._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?i.events:T._DEFAULTS_BY_COMPONENT.default.events).open&&((a=this._openPopupCallback)||(a=this._openPopup.bind(this),this._openPopupCallback=a),r=n.open.indexOf("press"),o=this._getNamespacedEvents(n.open.replace("press",""),T._OPEN_NAMESPACE),l.on(o,a),m.isTouchSupported()&&-1!==r&&(this._eatContextMenuOnOpenPopupListener=function(){return!1},l.on("contextmenu",this._eatContextMenuOnOpenPopupListener),s={recognizers:[[g.Press,{time:750}]]},l.ojHammer(s).on("press",a))),n.close&&((t=this._closePopupCallback)||(t=this._closePopup.bind(this),this._closePopupCallback=t),e=this._getNamespacedEvents(n.close,T._CLOSE_NAMESPACE),l.on(e,t))},T.prototype._getNamespacedEvents=function(e,t){var i,n,s;if(""===e||""===t)return e;s=(i=e.split(" ")).length,n=[];for(var o=0;o<s;o++)i[o]&&n.push(i[o]+t);return n.join(" ")},T.prototype._getPopupPosition=function(){var e,t,i;return(e=(t=T._DEFAULTS_BY_COMPONENT[this.GetComponent().widgetName])?t.position:T._DEFAULTS_BY_COMPONENT.default.position)&&("launcher"===e?i=this.GetLauncher():"launcher-wrapper"===e&&(i=this.GetLauncher().parent())),i||(i=this.GetComponent().widget()),{my:"start bottom",at:"end top",collision:"flipcenter",of:i}},T.prototype._getPopupElement=function(){var e,t;if(this.$messagingContentRoot)return this.$messagingContentRoot;if(e=L.getNextFreePopup(),t=this._getPopupPosition(),e.ojPopup("option","position",t),e.ojPopup("option","beforeClose",this._popupBeforeCloseCallback.bind(this)),e.ojPopup("option","close",this._popupCloseCallback.bind(this)),e.ojPopup("option","open",this._popupOpenCallback.bind(this)),this.GetComponent()._IsCustomElement()){var i=(o.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).animation;i.actionPrefix="notewindow",e.ojPopup("option","animation",i),this._addAnimateEventListeners(e)}else e.ojPopup("option","animation",null);return this.$messagingContentRoot=e,this.$messagingContentRoot},T.prototype._popupOpenCallback=function(e){var t=n(e.target),s=this;window.setTimeout(function(){i.isComponentInitialized(t,"ojPopup")?t.ojPopup("option","autoDismiss","focusLoss"):delete s.$messagingContentRoot},10)},T.prototype._popupBeforeCloseCallback=function(){this._resolveBusyState=this._setBusyState("close")},T.prototype._popupCloseCallback=function(e){var t=this.GetLauncher(),s=n(e.target);this._removeAnimateEventListeners(s),i.isComponentInitialized(s,"ojPopup")&&(s.ojPopup("option","autoDismiss","none"),s.ojPopup("option","open",null),s.ojPopup("option","close",null),s.ojPopup("option","beforeClose",null)),t&&t[0]&&(t[0].removeEventListener("click",this._eatChangeAndClickOnPress,!0),t[0].removeEventListener("change",this._eatChangeAndClickOnPress,!0)),this.$messagingContentRoot=null,this._inPressEvent=null,L.getPopupContentNode(s).innerHTML="",this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},T.prototype._destroyTooltip=function(){this._closePopup(),L.destroyFreePopup()},T.prototype._buildPopupHtml=function(){var e=!1,t=this.GetComponent().document[0],i=[],n="";return this.ShowMessages()&&i.push(this._buildMessagesHtml(t)),(this.ShowConverterHint()||this.ShowValidatorHint()||this.ShowTitle())&&i.push(this._buildHintsHtml(t)),i.forEach(function(i){i&&(e?n=n.concat(I.getSeparatorHtml(t)):e=!0,n=n.concat(i))}),n},T.prototype._buildMessagesHtml=function(e){var t,i="",n=this.GetMaxSeverity();return this.HasMessages()&&(t=this.GetMessages(),i=I.buildMessagesHtml(e,t,n,!1)),i},T.prototype._buildHintsHtml=function(e){var t,i,n=[],s="";if(this.ShowConverterHint()&&(t=(n=this.GetConverterHint()).length?n[0]:"",s+=I.buildHintHtml(e,T._SELECTOR_FORMCONTROL_HINT_CONVERTER,t,!1,T._SELECTOR_FORMCONTROL_HINT)),this.ShowValidatorHint())for(n=this.GetValidatorHints(),i=0;i<n.length;i++)s+=I.buildHintHtml(e,T._SELECTOR_FORMCONTROL_HINT_VALIDATOR,n[i],!1,T._SELECTOR_FORMCONTROL_HINT);return this.ShowTitle()&&(s+=I.buildHintHtml(e,T._SELECTOR_FORMCONTROL_HINT_TITLE,this.GetTitle(),!0,T._SELECTOR_FORMCONTROL_HINT)),s?"<div class='oj-form-control-hints'>"+s+"</div>":""},T.prototype._isPopupInitialized=function(){return!!this.$messagingContentRoot&&i.isComponentInitialized(this.$messagingContentRoot,"ojPopup")},I.buildHintHtml=function(e,t,i,n,s){var o;if(i){o=e.createElement("div");for(var a=s.split(" "),r=0,l=a.length;r<l;++r)o.classList.add(a[r]);o.classList.add(t),I._appendTextDom(o,I.GetTextDom(e,i,n))}return o?o.outerHTML:""},I.getSeverityTranslatedString=function(e){var t;switch(e){case u.SEVERITY_LEVEL.FATAL:t=h.getTranslatedString("oj-message.fatal");break;case u.SEVERITY_LEVEL.ERROR:t=h.getTranslatedString("oj-message.error");break;case u.SEVERITY_LEVEL.WARNING:t=h.getTranslatedString("oj-message.warning");break;case u.SEVERITY_LEVEL.INFO:t=h.getTranslatedString("oj-message.info");break;case u.SEVERITY_LEVEL.CONFIRMATION:t=h.getTranslatedString("oj-message.confirmation")}return t},I.getSeparatorHtml=function(e){var t;return(t=n(e.createElement("hr")))?t.get(0).outerHTML:""},I.buildMessagesHtml=function(e,t,i,n){var s,o,a,r,l,d,h,c,_="",p=[],g={};for(o=0;o<t.length;o++)l=(r=t[o])instanceof u?r:new u(r.summary,r.detail,r.severity),g[d=u.getSeverityLevel(l.severity)]||(g[d]=[]),g[d].push(l);for(o=i;o>=u.SEVERITY_LEVEL.CONFIRMATION;o--)for(p=g[o]||[],a=0;a<p.length;a++)r=p[a],d=u.getSeverityLevel(r.severity),h=I.getSeverityTranslatedString(d),c=r.summary||h,s=r.detail||"",_=_.concat(I.buildMessageHtml(e,c,s,d,n));return _},I.buildMessageHtml=function(e,t,i,n,s){var a,r,l,d,h,u=I.getSeverityTranslatedString(n);if((l=e.createElement("div")).classList.add(I._SELECTOR_MESSAGE),s)for(var c=I._getSeveritySelector(n).split(" "),_=0,p=c.length;_<p;++_)l.classList.add(c[_]);d=e.createElement("span");for(var g=I._getSeverityIconSelector(n).split(" "),f=0,m=g.length;f<m;++f)d.classList.add(g[f]);if(null==u?d.removeAttribute("title"):d.setAttribute("title",u),d.setAttribute("role","img"),l.appendChild(d),(a=e.createElement("span")).classList.add(I._SELECTOR_MESSAGE_CONTENT),"header"===(o.parseJSONFromFontFamily("oj-messaging-popup-option-defaults")||{}).messageSummaryOptionDefault&&((h=e.createElement("div")).classList.add(I._SELECTOR_MESSAGE_SUMMARY),h.textContent=t,a.appendChild(h)),i){var v=I.GetTextDom(e,i,!0);(r=e.createElement("div")).classList.add(I._SELECTOR_MESSAGE_DETAIL),I._appendTextDom(r,v),a.appendChild(r)}return l.appendChild(a),l.outerHTML},I._getSeverityIconSelector=function(e){var t;switch(e){case u.SEVERITY_LEVEL.FATAL:case u.SEVERITY_LEVEL.ERROR:t=I._SELECTOR_MESSAGE_ERROR_ICON;break;case u.SEVERITY_LEVEL.WARNING:t=I._SELECTOR_MESSAGE_WARNING_ICON;break;case u.SEVERITY_LEVEL.INFO:t=I._SELECTOR_MESSAGE_INFO_ICON;break;case u.SEVERITY_LEVEL.CONFIRMATION:t=I._SELECTOR_MESSAGE_CONFIRMATION_ICON}return I._DEFAULT_STATUS_ICON_SELECTORS+t},I._getSeveritySelector=function(e){var t;switch(e){case u.SEVERITY_LEVEL.FATAL:case u.SEVERITY_LEVEL.ERROR:t=I._SELECTOR_MESSAGE_ERROR;break;case u.SEVERITY_LEVEL.WARNING:t=I._SELECTOR_MESSAGE_WARNING;break;case u.SEVERITY_LEVEL.INFO:t=I._SELECTOR_MESSAGE_INFO;break;case u.SEVERITY_LEVEL.CONFIRMATION:default:t=I._SELECTOR_MESSAGE_CONFIRMATION}return t},I.GetTextDom=function(e,i,n){var s=null;return t.StringUtils.isString(i)&&(n&&m.isHTMLContent(i)?s=m.cleanHtml(i.substring(6,i.length-7)):(s=e.createElement("span")).textContent=i),s},I._appendTextDom=function(e,i){t.StringUtils.isString(i)?e.innerHTML=i:e.appendChild(i)},I._DEFAULT_STATUS_ICON_SELECTORS="oj-component-icon oj-message-status-icon ",I._SELECTOR_MESSAGE="oj-message",I._SELECTOR_MESSAGE_SUMMARY="oj-message-summary",I._SELECTOR_MESSAGE_DETAIL="oj-message-detail",I._SELECTOR_MESSAGE_CONTENT="oj-message-content",I._SELECTOR_MESSAGE_ERROR_ICON="oj-message-error-icon",I._SELECTOR_MESSAGE_WARNING_ICON="oj-message-warning-icon",I._SELECTOR_MESSAGE_INFO_ICON="oj-message-info-icon",I._SELECTOR_MESSAGE_CONFIRMATION_ICON="oj-message-confirmation-icon",I._SELECTOR_MESSAGE_ERROR="oj-message-error",I._SELECTOR_MESSAGE_WARNING="oj-message-warning",I._SELECTOR_MESSAGE_INFO="oj-message-info",I._SELECTOR_MESSAGE_CONFIRMATION="oj-message-confirmation",L.getNextFreePopup=function(){var e,t=L._getPool(),i=t.find("."+L._SELECTOR_MESSAGING);if(0===i.length){(e=n(L._getPopupContentHtml()))[0].style.display="none",e.appendTo(t);e.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})}else e=n(i[0]);return e},L.getPopupContentNode=function(e){return e.find("."+L._SELECTOR_MESSAGING_CONTAINER)[0]},L.destroyFreePopup=function(){var e;if(L._getFreePoolCount()>0){var t=(e=L.getNextFreePopup())[0];e.ojPopup("destroy"),t.parentNode.removeChild(t)}},L._getPool=function(){var e=n("#"+L._MESSAGING_POPUP_POOL_ID);if(e.length>0)return e;var t=(e=n("<div>"))[0];return t.setAttribute("id",L._MESSAGING_POPUP_POOL_ID),t.setAttribute("role","presentation"),document.body.appendChild(t),e},L._getFreePoolCount=function(){return L._getPool().find("."+L._SELECTOR_MESSAGING).length},L._getPopupContentHtml=function(){return'<div class="'+L._SELECTOR_MESSAGING+'"><div class="'+L._SELECTOR_MESSAGING_CONTAINER+'"></div></div>'},L._SELECTOR_MESSAGING_CONTAINER="oj-messaging-popup-container",L._SELECTOR_MESSAGING="oj-messaging-popup",L._MESSAGING_POPUP_POOL_ID="__oj_messaging_popup_pool";const R=function(e,t){this.Init(e),this._userAssistanceDivElement=t};t.Object.createSubclass(R,t.MessagingStrategy,"InlineHelpHintsStrategy"),R.prototype.activate=function(e){R.superclass.activate.call(this,e),this._createInlineHelpHints()},R.prototype.reactivate=function(e,t){R.superclass.reactivate.call(this,e),this._userAssistanceDivElement=t,this._isContainerRootDomInDocument()||this._createInlineHelpHints(),this._setFocusInContentCurrent(!1)},R.prototype.shouldUpdate=function(e){let t=!(!e||void 0===e.title),i=!(!e||void 0===e.validatorHint),n=!(!e||void 0===e.converterHint);return t||i||n},R.prototype.update=function(){R.superclass.update.call(this),this._updateInlineHelpHints(!0)},R.prototype.deactivate=function(){var e=this.GetComponent()._getRootElement(),t=this._getHelpHintsInlineContainer(e);t&&(this.RemoveAriaDescribedByForInlineMessaging(t),t.parentElement.removeChild(t)),this._focusinCallback&&this._deleteFocusEventHandlers(e),this._deleteHelpHintsAttributeEventHandlers(e),R.superclass.deactivate.call(this)},R.prototype._createInlineHelpHints=function(){var e=this.GetComponent();let t=e._ShowHelpHints();"always"===t&&this._addHelpHintsContent(e),"focus"===t&&this._createFocusEventHandlers(e),this._createHelpHintsAttributeEventHandlers(e)},R.prototype._createFocusEventHandlers=function(e){var t=e._getRootElement();this._focusinCallback=R._focusinHandler.bind(this,e),t.addEventListener("focusin",this._focusinCallback),this._focusoutCallback=R._focusoutHandler.bind(this),t.addEventListener("focusout",this._focusoutCallback)},R.prototype._deleteFocusEventHandlers=function(e){e.removeEventListener("focusin",this._focusinCallback),delete this._focusinCallback,e.removeEventListener("focusout",this._focusoutCallback),delete this._focusoutCallback},R.prototype._createHelpHintsAttributeEventHandlers=function(e){var t=e._getRootElement();this._helpHintsChangedCallback=R._helpHintsChangedHandler.bind(this),t.addEventListener("helpHintsChanged",this._helpHintsChangedCallback)},R.prototype._deleteHelpHintsAttributeEventHandlers=function(e){e.removeEventListener("helpHintsChanged",this._helpHintsChangedCallback),delete this._helpHintsChangedCallback},R.prototype._getHelpHintsInlineContainer=function(e){return e.querySelector(".oj-helphints-inline-container")},R.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},R._helpHintsChangedHandler=function(e){this._updateInlineHelpHints()},R.prototype._addHelpHintsContent=function(e){let t,i=e.options.help,s=i?i.instruction:null,o=e.options.helpHints;if(s){let e=I.GetTextDom(document,s,!0);t=e?e.outerHTML:""}if(!t&&this.ShowValidatorHint()){let e=this.GetValidatorHints();e.length>0&&(t=e.join("<br/>"))}if(!t){let e=o?o.definition:null;e&&(t=e)}if(!t&&this.ShowConverterHint()){let e=this.GetConverterHint();e.length>0&&(t=e.join("<br/>"))}let a,r=o?o.source:null;if(r&&(a=this._getHelpSourceDom(r)),(t||a)&&!this.containerRoot){if(this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-helphints-inline-container"),n(this.containerRoot).uniqueId(),this.AddAriaDescribedByForInlineMessaging(this.containerRoot),"inline"===e._ShowHelpHintsLocation())this._userAssistanceDivElement.appendChild(this.containerRoot);else{let t=e._GetFormControlContainer();t.parentElement.insertBefore(this.containerRoot,t)}}return this.containerRoot&&(t&&(t="<div>"+t+"</div>",this.containerRoot.innerHTML=t),a&&this.containerRoot.appendChild(a),t||a||(this.containerRoot.innerHTML="")),this._userAssistanceDivElement&&(t||a?this._userAssistanceDivElement.classList.add("oj-has-helphints"):this._userAssistanceDivElement.classList.remove("oj-has-helphints")),t||a},R.prototype._getHelpSourceDom=function(e){t.Assert.assertString(e);let i=document.createElement("div"),n=document.createElement("a");n.classList.add("oj-helphints-anchor"),n.setAttribute("tabindex","0"),n.setAttribute("target","_blank");try{m.validateURL(e),n.setAttribute("href",e)}catch(t){throw new Error(t+". The source option ("+e+") is invalid.")}let s=h.getTranslatedString("oj-ojEditableValue.helpSourceText");return n.textContent=s,i.appendChild(n),m.makeFocusable({element:n,applyHighlight:!0,component:this.GetComponent()}),i},R.prototype._updateInlineHelpHints=function(e=!1){const t=this.GetComponent();this.containerRoot&&(this.containerRoot.innerHTML=""),"always"===t._ShowHelpHints()||e?this._addHelpHintsContent(t):this._setFocusInContentCurrent(!1)},R.prototype._isFocusInContentCurrent=function(){return this._focusInContentCurrent},R.prototype._setFocusInContentCurrent=function(e){this._focusInContentCurrent=e},R._focusinHandler=function(e,t){let i=t.currentTarget,n=t.relatedTarget;if(!n||!i.contains(n))if(this._focusIn=!0,this._userAssistanceDivElement.classList.add("oj-focus"),this.containerRoot&&this._isFocusInContentCurrent())this._animateOpen();else{let t=this._addHelpHintsContent(e);this._setFocusInContentCurrent(!0),t&&this._animateOpen()}},R._focusoutHandler=function(e){let t=e.currentTarget,i=e.relatedTarget;if(!i||!t.contains(i)){this._focusIn=!1;var n=function(){this._focusIn||this._userAssistanceDivElement.classList.remove("oj-focus")}.bind(this);if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e="close",t=this._getDefaultAnimation().close;this._setBusyState();let i=this;v.startAnimation(this.containerRoot,"inline-hints-"+e,t,this.GetComponent()).then(()=>{n(),i._clearBusyState()})}else n()}},R.prototype._getDefaultAnimation=function(){return R._defaultAnimation||(R._defaultAnimation={open:{effect:"fadeIn",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"},close:{effect:"fadeOut",duration:"200ms",timingFunction:"cubic-bezier(0.4,0,0.2,1)"}}),R._defaultAnimation},R.prototype._animateOpen=function(){if(this.containerRoot&&this.containerRoot.hasChildNodes()){let e=this._getDefaultAnimation().open,t="open";v.startAnimation(this.containerRoot,"inline-hints-"+t,e,this.GetComponent())}},R.prototype._setBusyState=function(){if(!this._resolveBusyState){let e=this.GetComponent()._getRootElement(),t=a.getContext(e).getBusyContext(),i="The page is waiting for inline help hints ";e&&e.id&&(i+='for "'+e.id+'" '),i+="to open/close",this._resolveBusyState=t.addBusyState({description:i})}},R.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)};const H=function(e,t){this.Init(e),this._parentElement=t};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.INLINE,H),t.Object.createSubclass(H,t.MessagingStrategy,"oj.InlineMessagingStrategy"),H.prototype.activate=function(e){H.superclass.activate.call(this,e)},H.prototype.reactivate=function(e,t){H.superclass.reactivate.call(this,e),this._parentElement=t,this._updateInlineMessage()},H.prototype.shouldUpdate=function(e){return!(!e||void 0===e.validityState)},H.prototype.update=function(){H.superclass.update.call(this),this._updateInlineMessage()},H.prototype.deactivate=function(){this._removeMessagingContentRootDom(),H.superclass.deactivate.call(this)},H.prototype._getDefaultAnimation=function(){if(!H._defaultAnimation){var e=(o.parseJSONFromFontFamily("oj-messaging-inline-option-defaults")||{}).animation;H._defaultAnimation=e=e||{}}return H._defaultAnimation},H.prototype._replaceAnimationOptions=function(e,i){var n,s;t.StringUtils.isString(e)?(s=!0,n=e+""):(s=!1,n=JSON.stringify(e));for(var o=Object.keys(i),a=0;a<o.length;a++){var r=o[a];n=n.replace(new RegExp(r,"g"),i[r])}return s?n:JSON.parse(n)},H.prototype._determineAnimation=function(e,t){var i,n,s,o=this._getDefaultAnimation();if(o){var a,r=e[0],l=r.innerHTML,d=r.offsetHeight;r.innerHTML=t,a=r.offsetHeight,r.innerHTML=l,"noanimation"!==(i=a>d?"open":a<d?"close":"noanimation")&&(n=o[i])&&(s=this._replaceAnimationOptions(n,{"#oldHeight":d+"px","#newHeight":a+"px"}))}return{action:i,effect:s}},H.prototype._setBusyState=function(){if(!this._resolveBusyState){var e=this.GetComponent(),t=e?e.element:null,i=t?t[0]:null,n=a.getContext(i).getBusyContext(),s="The page is waiting for inline message ";i&&i.id&&(s+='for "'+i.id+'" '),s+="to open/close",this._resolveBusyState=n.addBusyState({description:s})}},H.prototype._clearBusyState=function(){this._resolveBusyState&&(this._resolveBusyState(),this._resolveBusyState=null)},H.prototype._queueAction=function(e){var t=this,i=this.$messagingContentRoot;if(t._inInlineMessagingAnimation)this._currentContentToShow=e;else{this._currentContentToShow=null,this._setBusyState(),""!==e&&this._addRemoveOjHasMessagesClass(e),this._timeoutId&&clearTimeout(this._timeoutId);var n=this.GetComponent();if(n&&n._NotifyMessagingStrategyQueueAction){var s;if(!this._notifyQueueActionPromise)this._notifyQueueActionPromise=new Promise(function(e){s=e}),this._notifyQueueActionPromiseResolve=function(){this._notifyQueueActionPromise=null,this._notifyQueueActionPromiseResolve=null,s()}.bind(this);n._NotifyMessagingStrategyQueueAction(this._notifyQueueActionPromise)}this._timeoutId=setTimeout(function(){if(t._timeoutId=null,i&&i[0]){var n=t._determineAnimation(i,e),s=n.action,o=n.effect;"noanimation"===s?(i[0].innerHTML=e,t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()):("close"===s?i[0].setAttribute("aria-live","off"):i[0].setAttribute("aria-live","polite"),"open"===s&&(i[0].innerHTML=e),t._inInlineMessagingAnimation=!0,v.startAnimation(i[0],"inline-"+s,o,t.GetComponent()).then(function(){var n;t._inInlineMessagingAnimation=!1,"close"===s&&(i[0].setAttribute("aria-live","polite"),i[0].innerHTML=e),null!==t._currentContentToShow?(n=t._currentContentToShow,t._currentContentToShow=null,t._queueAction(n)):(""===e&&t._addRemoveOjHasMessagesClass(e),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve())}))}else t._addRemoveOjHasMessagesClass(""),t._clearBusyState(),t._notifyQueueActionPromiseResolve&&t._notifyQueueActionPromiseResolve()},0)}},H.prototype._addRemoveOjHasMessagesClass=function(e){this._parentElement&&(e?this._parentElement.classList.add("oj-has-messages"):this._parentElement.classList.remove("oj-has-messages"))},H.prototype._updateInlineMessage=function(){var e;e=this._buildInlineHtml();var t=this._isMessagingContentRootDomInDocument();e&&!t&&this._createInlineMessage(),this.$messagingContentRoot&&this.$messagingContentRoot[0]&&(this.GetComponent()._IsCustomElement()?this._queueAction(e):this.$messagingContentRoot[0].innerHTML=e)},H.prototype._createInlineMessage=function(){this.$messagingContentRoot=n(this._getInlineContentHtml()),this.AddAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]),this._addAriaLive(this.$messagingContentRoot),this._parentElement?this._parentElement.appendChild(this.$messagingContentRoot[0]):this.GetComponent().widget()[0].appendChild(this.$messagingContentRoot[0])},H.prototype._getInlineContentHtml=function(){return"<div class='oj-messaging-inline-container'></div>"},H.prototype._removeMessagingContentRootDom=function(){if(this._isMessagingContentRootDomInDocument()){this.RemoveAriaDescribedByForInlineMessaging(this.$messagingContentRoot[0]);let e=this.$messagingContentRoot[0].parentNode;e&&e.removeChild(this.$messagingContentRoot[0])}this.$messagingContentRoot=null},H.prototype._addAriaLive=function(e){t.Assert.assertPrototype(e,n),e[0].setAttribute("aria-live","polite")},H.prototype._buildInlineHtml=function(){var e;return this.ShowMessages()?(e=this.GetComponent().document[0],this._buildMessagesHtml(e)):""},H.prototype._buildMessagesHtml=function(e){var t,i,n="";return this.HasMessages()&&(i=this.GetMessages(),t=this.GetMaxSeverity(),n=I.buildMessagesHtml(e,i,t,!0)),n},H.prototype._isMessagingContentRootDomInDocument=function(){var e=!1;if(!this.$messagingContentRoot)return!1;{let t=this.$messagingContentRoot[0].id;e=document.getElementById(t)}return null!==e};const V=function(e,t){this.Init(e),this._parentElement=t};t.Object.createSubclass(V,t.MessagingStrategy,"InlineRequiredStrategy"),V.prototype.activate=function(e){V.superclass.activate.call(this,e),null==this.containerRoot&&this._createInlineRequired()},V.prototype.reactivate=function(e,t){V.superclass.reactivate.call(this,e),this._parentElement=t,this._isContainerRootDomInDocument()||this._createInlineRequired()},V.prototype.shouldUpdate=function(e){return!1},V.prototype.update=function(){V.superclass.update.call(this)},V.prototype.deactivate=function(){var e=this._getRequiredInlineContainer();e&&this._parentElement.removeChild(e),this.GetComponent()._getRootElement().removeEventListener("requiredChanged",this._requiredChangedCallback),delete this._requiredChangedCallback,this._parentElement=null,this.containerRoot=null,V.superclass.deactivate.call(this)},V.prototype._createInlineRequired=function(){var e=this.GetComponent();const t=e.options,i=e._getRootElement();if(t.required){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-required-inline-container");let t=h.getTranslatedString("oj-ojEditableValue.requiredText");this.containerRoot.textContent=t,n(this.containerRoot).uniqueId(),this._parentElement.appendChild(this.containerRoot),e._AriaRequiredUnsupported()&&this.AddDescribedByToElement(i,this.containerRoot.id)}this._requiredChangedCallback||(this._requiredChangedCallback=this._requiredChangedHandler.bind(this,e),i.addEventListener("requiredChanged",this._requiredChangedCallback))},V.prototype._getRequiredInlineContainer=function(){return this._parentElement.querySelector(".oj-required-inline-container")},V.prototype._requiredChangedHandler=function(e,t){let i=t.detail.value,n=this._getRequiredInlineContainer();i&&null===n?this._createInlineRequired():i||null===n||n&&this._parentElement.removeChild(n)},V.prototype._isContainerRootDomInDocument=function(){let e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e};var M=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,M),t.Object.createSubclass(M,t.MessagingStrategy,"InlineUserAssistanceStrategy"),M.prototype.activate=function(e){M.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent(),i=t.options,n=t._getRootElement();this._readonlyChangedCallback=this._readonlyChangedHandler.bind(this,t),n.addEventListener("readonlyChanged",this._readonlyChangedCallback),this._disabledChangedCallback=this._disabledChangedHandler.bind(this,t),n.addEventListener("disabledChanged",this._disabledChangedCallback),this._userAssistanceDensityChangedCallback=this._userAssistanceDensityChangedHandler.bind(this,t),n.addEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),null==this.containerRoot&&this._createInlineContainer(),this._isDisabledOrReadonly()||this._activateContainerStrategies(e,i)},M.prototype.reactivate=function(e){M.superclass.reactivate.call(this,e);const t=this.GetComponent().options;this._isDisabledOrReadonly(t)||(this._isContainerRootDomInDocument()||this._createInlineContainer(),this._inlineMessagingStrategy?(this._inlineMessagingStrategy.reactivate(e,this.containerRoot),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.reactivate(e,this.containerRoot),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.reactivate(e,this.containerRoot)):this._activateContainerStrategies(this._componentMessaging,t))},M.prototype.shouldUpdate=function(e){return!this._isDisabledOrReadonly()&&(this._shouldUpdateContent=e,!0)},M.prototype.update=function(){M.superclass.update.call(this),this._inlineMessagingStrategy&&(this._isDisabledOrReadonly()||(this._inlineMessagingStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineMessagingStrategy.update(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineRequiredStrategy.update(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.shouldUpdate(this._shouldUpdateContent)&&this._inlineHelpHintsStrategy.update()))},M.prototype.deactivate=function(){this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),this._removeContainerRootDom(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy;const e=this.GetComponent()._getRootElement();e.removeEventListener("readonlyChanged",this._readonlyChangedCallback),delete this._readonlyChangedCallback,e.removeEventListener("disabledChanged",this._disabledChangedCallback),delete this._disabledChangedCallback,e.removeEventListener("userAssistanceDensityChanged",this._userAssistanceDensityChangedCallback),delete this._userAssistanceDensityChangedCallback,M.superclass.deactivate.call(this)},M.prototype._createInlineContainer=function(){this.containerRoot=document.createElement("div"),this.containerRoot.classList.add("oj-user-assistance-inline-container");const e=this.GetComponent(),t=e.options.userAssistanceDensity;"efficient"===t?this.containerRoot.classList.add("oj-efficient"):"reflow"===t&&this.containerRoot.classList.add("oj-reflow"),n(this.containerRoot).uniqueId(),e.widget()[0].appendChild(this.containerRoot)},M.prototype._removeContainerRootDom=function(){if(this._isContainerRootDomInDocument()){let e=this.containerRoot.parentNode;e&&e.removeChild(this.containerRoot)}this.containerRoot=null},M.prototype._isContainerRootDomInDocument=function(){var e=!1;if(this.containerRoot){let t=this.containerRoot.id;e=document.getElementById(t)}return null!==e},M.prototype._activateContainerStrategies=function(e,t){void 0===this._inlineMessagingStrategy&&(this._inlineMessagingStrategy=new H(this._displayOptions,this.containerRoot),this._inlineMessagingStrategy.activate(e)),void 0!==t.required&&void 0===this._inlineRequiredStrategy&&(this._inlineRequiredStrategy=new V(this._displayOptions,this.containerRoot),this._inlineRequiredStrategy.activate(e)),void 0===this._inlineHelpHintsStrategy&&(this._inlineHelpHintsStrategy=new R(this._displayOptions,this.containerRoot),this._inlineHelpHintsStrategy.activate(e))},M.prototype._userAssistanceDensityChangedHandler=function(e,t){let i=t.detail.value;"efficient"===i?(this.containerRoot.classList.add("oj-efficient"),this.containerRoot.classList.remove("oj-reflow")):"reflow"===i?(this.containerRoot.classList.add("oj-reflow"),this.containerRoot.classList.remove("oj-efficient")):(this.containerRoot.classList.remove("oj-efficient"),this.containerRoot.classList.remove("oj-reflow"))},M.prototype._readonlyChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},M.prototype._disabledChangedHandler=function(e,t){if(t.detail.value)this._deactivateContainerStrategies();else{const t=e.options;this._activateContainerStrategies(this._componentMessaging,t)}},M.prototype._deactivateContainerStrategies=function(){this._inlineMessagingStrategy&&this._inlineMessagingStrategy.deactivate(),this._inlineRequiredStrategy&&this._inlineRequiredStrategy.deactivate(),this._inlineHelpHintsStrategy&&this._inlineHelpHintsStrategy.deactivate(),delete this._inlineMessagingStrategy,delete this._inlineRequiredStrategy,delete this._inlineHelpHintsStrategy},M.prototype._isDisabledOrReadonly=function(e=this.GetComponent().options){var t=e.disabled||!1,i=e.readOnly||!1;return t||i};const N=function(e){this.Init(e)};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,N),t.Object.createSubclass(N,y,"InsideFormControlLabelStrategy"),N.prototype.activate=function(e){N.superclass.activate.call(this,e),this._CreateLabel()},N.prototype.reactivate=function(e){N.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel()},N.prototype.shouldUpdate=function(){return!1},N.prototype.update=function(){N.superclass.update.call(this)},N.prototype.deactivate=function(){this._DestroyLabel(),N.superclass.deactivate.call(this)},N.prototype._GetFormControlLabelStyleClass=function(){return"oj-form-control-label-inside"},N.prototype._InsertOjLabel=function(e,t,i){let n=i._getRootElement();n.insertBefore(e,n.firstElementChild)},N.prototype._CreateEventHandlers=function(e,t,i,n){N.superclass._CreateEventHandlers.call(this,e,t,i,n)},N._labelHintChangedHandler=function(e,t){e.textContent=t.detail.value};const P=function(e){this.Init(e)};t.Object.createSubclass(P,t.MessagingStrategy,"oj.InsideLabelPlaceholderStrategy"),P.prototype.activate=function(e){P.superclass.activate.call(this,e),this._createPlaceholderToggle()},P.prototype.reactivate=function(e){P.superclass.reactivate.call(this,e),this._destroyPlaceholderToggle(),this._createPlaceholderToggle()},P.prototype.deactivate=function(){this._destroyPlaceholderToggle(),P.superclass.deactivate.call(this)},P.prototype.shouldUpdate=function(e){return e&&void 0!==e.converterHint||this.GetComponent().options.placeholder},P.prototype.update=function(){P.superclass.update.call(this),this._placeholderChanged()},P.prototype._destroyPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();this._blurCallback(),t.removeEventListener("focusout",this._blurCallback,!1),delete this._blurCallback,t.removeEventListener("focusin",this._focusCallback,!1),delete this._focusCallback,i.removeEventListener("placeholderChanged",this._placeholderChangedCallback,!1),delete this._placeholderChangedCallback,e._HasPlaceholderSet()&&(e._SetPlaceholder(e.options.placeholder),e._customPlaceholderSet=!0)},P.prototype._createPlaceholderToggle=function(){var e=this.GetComponent(),t=e._GetContentElement()[0],i=e._getRootElement();e._customPlaceholderSet=!0,this._blurCallback=P._blurHandler.bind(this,t),t.addEventListener("focusout",this._blurCallback,!1),this._focusCallback=P._focusHandler.bind(this),t.addEventListener("focusin",this._focusCallback,!1),this._placeholderChangedCallback=this._placeholderChanged.bind(this),i.addEventListener("placeholderChanged",this._placeholderChangedCallback,!1),this._placeholderChanged()},P.prototype._placeholderChanged=function(){var e,t=this.GetComponent()._GetContentElement()[0];e=C.containsFocus(t)?this._focusCallback:this._blurCallback,Promise.resolve(!0).then(function(){e()})},P.ShowConverterHintAsPlaceholder=function(e){var t=e.options.displayOptions;if(!t||"displayOptions"!==e._getResolvedUserAssistance())return!1;var i=t.converterHint;return i instanceof Array?"placeholder"===i[0]:"placeholder"===i},P._focusHandler=function(){var e,t=this.GetComponent();if(P.ShowConverterHintAsPlaceholder(t)){var i=this.GetConverterHint();e=i.length>0?i[0]:null}e||(e=t.options.placeholder),t._SetPlaceholder(e)},P._blurHandler=function(e){if(e.hasAttribute("aria-haspopup")){var t=e.getAttribute("aria-owns"),i=document.getElementById(t);if(C.containsFocus(i))return}var n,s=this.GetComponent();if(P.ShowConverterHintAsPlaceholder(s)){var o=this.GetConverterHint();n=o.length>0?o[0]:null}n||(n=s.options.placeholder),null==n?s._SetPlaceholder(null):s._SetPlaceholder("")};const D=function(e){this.Init(e),this._displayOptions=e};t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._STRATEGY_TYPE.LABEL_EDGE_INSIDE,D),t.Object.createSubclass(D,y,"oj.InsideLabelStrategy"),D.prototype.activate=function(e){D.superclass.activate.call(this,e),this._componentMessaging=e;const t=this.GetComponent()._getRootElement();this._placeholderChangedCallback=this._placeholderChangedHandler.bind(this),t.addEventListener("placeholderChanged",this._placeholderChangedCallback),this._activatePlaceholderStrategyIfNeeded(e),this._CreateLabel()},D.prototype.reactivate=function(e){D.superclass.reactivate.call(this,e),this._DestroyLabel(),this._CreateLabel(),this._placeholderStrategy?this._placeholderStrategy.reactivate(e):this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},D.prototype.shouldUpdate=function(e){return!!this._placeholderStrategy&&this._placeholderStrategy.shouldUpdate(e)},D.prototype.update=function(){this._placeholderStrategy&&this._placeholderStrategy.update()},D.prototype.deactivate=function(){this._placeholderStrategy&&(this._placeholderStrategy.deactivate(),delete this._placeholderStrategy);this.GetComponent()._getRootElement().removeEventListener("placeholderChanged",this._placeholderChangedCallback),delete this._placeholderChangedCallback,this._DestroyLabel(),D.superclass.deactivate.call(this)},D.prototype._activatePlaceholderStrategyIfNeeded=function(e){if(void 0===this._placeholderStrategy){let t=()=>{let t=P;this._placeholderStrategy=new t(this._displayOptions),this._placeholderStrategy.activate(e)};const i=this.GetComponent();(i.options.placeholder||"displayOptions"===i._getResolvedUserAssistance()&&P.ShowConverterHintAsPlaceholder(i))&&t()}},D.prototype._placeholderChangedHandler=function(){this._activatePlaceholderStrategyIfNeeded(this._componentMessaging)},D.prototype._GetContainer=function(e){let t=e._GetFormControlContainer();if(!t)return null;let i="_GetContentWrapper";return e[i]&&(t=e[i]()),t},D.prototype._GetFormControlLabelStyleClass=function(){return[D._BASE_STYLE_CLASS,"label","inside".toLowerCase()].join("-")},D.prototype._InsertOjLabel=function(e,t){t.insertBefore(e,t.firstElementChild)},D._BASE_STYLE_CLASS="oj-text-field",e.EditableValueUtils=E,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojeditablevalue.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojoptgroup',["ojs/ojcore-base","ojs/ojcomponentcore"],function(e,t){"use strict";function o(e){this.updateDOM=function(){var t=e.element.customOptgroupRenderer;t&&"function"==typeof t&&t(e.element)}}var r;e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,(r={properties:{disabled:{type:"boolean",value:!1},label:{type:"string"}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).properties.customOptgroupRenderer={},r.extension._CONSTRUCTOR=o,e.CustomElementBridge.register("oj-optgroup",{metadata:r})});
//# sourceMappingURL=ojoptgroup.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojhighlighttext',["exports","preact","ojs/ojvcomponent"],function(t,e,h){"use strict";var i=function(t,e,h,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,h):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,h,i);else for(var l=t.length-1;l>=0;l--)(r=t[l])&&(s=(n<3?r(s):n>3?r(e,h,s):r(e,h))||s);return n>3&&s&&Object.defineProperty(e,h,s),s};t.HighlightText=class extends e.Component{constructor(){super(...arguments),this._HIGHLIGHT_TOKEN="__@@__"}render(t){const i=this._highlighter(t.text,t.matchText);return e.h(h.Root,{class:"oj-highlighttext"},i)}_highlighter(t,h){if(h){const i=this._escapeRegExp(h),r=t.replace(new RegExp(i,"gi"),this._HIGHLIGHT_TOKEN+"$&"+this._HIGHLIGHT_TOKEN).split(this._HIGHLIGHT_TOKEN).map((t,h)=>h%2==0?t:e.h("span",{class:"oj-highlighttext-highlighter"},t));return e.h("span",null,r)}return e.h("span",null,t)}_escapeRegExp(t){return t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}},t.HighlightText.defaultProps={text:"",matchText:""},t.HighlightText.metadata={properties:{text:{type:"string"},matchText:{type:"string"}}},t.HighlightText=i([h.customElement("oj-highlight-text")],t.HighlightText),Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojhighlighttext.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojprogress-circle',["exports","ojs/ojvcomponent","preact","ojs/ojtranslation"],function(e,r,t,a){"use strict";var s=function(e,r,t,a){var s,l=arguments.length,n=l<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,a);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(n=(l<3?s(n):l>3?s(r,t,n):s(r,t))||n);return l>3&&n&&Object.defineProperty(r,t,n),n};e.ProgressCircle=class extends t.Component{render(e){return-1===e.value?this._renderIndeterminateCircle(e):this._renderDeterminateCircle(e)}_renderIndeterminateCircle(e){return t.h(r.Root,{class:"oj-progress-circle oj-progress-circle-"+e.size,role:"progressbar","aria-valuetext":a.getTranslatedString("oj-ojProgressbar.ariaIndeterminateProgressText")},t.h("div",{class:"oj-progress-circle-indeterminate"},t.h("div",{class:"oj-progress-circle-indeterminate-inner"})))}_renderDeterminateCircle(e){let a=e.max,s=e.value;a<0&&(a=0),s<0&&-1!==s&&(s=0);const l=0===a?0:s>a?1:s/a,n=this._getClipPath(l);return t.h(r.Root,{class:"oj-progress-circle oj-progress-circle-"+e.size,role:"progressbar","aria-valuemin":"0","aria-valuemax":a,"aria-valuenow":s},t.h("div",{class:"oj-progress-circle-tracker"}),t.h("div",{class:"oj-progress-circle-value",style:{clipPath:n}}))}_getClipPath(e){let r;return e<.125?(r=this._calculateTangent(e)+50,`polygon(50% 0, ${r}% 0, 50% 50%)`):e<.375?(r=e<.25?50-this._calculateTangent(.25-e):this._calculateTangent(e-.25)+50,`polygon(50% 0, 100% 0, 100% ${r}%, 50% 50%)`):e<.625?(r=e<.5?50+this._calculateTangent(.5-e):50-this._calculateTangent(e-.5),`polygon(50% 0, 100% 0, 100% 100%, ${r}% 100%, 50% 50%)`):e<.875?(r=e<.75?50+this._calculateTangent(.75-e):50-this._calculateTangent(e-.75),`polygon(50% 0, 100% 0, 100% 100%, 0% 100%, 0% ${r}%, 50% 50%)`):(r=50-this._calculateTangent(1-e),`polygon(50% 0, 100% 0, 100% 100%, 0% 100%, 0% 0%, ${r}% 0%, 50% 50%)`)}_calculateTangent(e){return 50*Math.tan(2*e*Math.PI)}},e.ProgressCircle.defaultProps={max:100,value:0,size:"md"},e.ProgressCircle.metadata={properties:{max:{type:"number"},value:{type:"number"},size:{type:"string",enumValues:["sm","md","lg"]}}},e.ProgressCircle=s([r.customElement("oj-progress-circle")],e.ProgressCircle),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojprogress-circle.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojlistdataproviderview',["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojeventtarget"],function(t,e,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class i{constructor(t,e){this.dataProvider=t,this.options=e,this._noFilterSupport=!1,this.AsyncIterable=class{constructor(t,e){this._parent=t,this._asyncIterator=e,this[Symbol.asyncIterator]=()=>this._asyncIterator}},this.AsyncIterator=class{constructor(t,e,s){this._parent=t,this._nextFunc=e,this._params=s}next(){const t=this._nextFunc(this._params);return Promise.resolve(t)}},this.AsyncIteratorYieldResult=class{constructor(t,e){this._parent=t,this.value=e,this[i._VALUE]=e,this[i._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(t,e){this._parent=t,this.value=e,this[i._VALUE]=e,this[i._DONE]=!0}},this.FetchListResult=class{constructor(t,e,s,r){this._parent=t,this.fetchParameters=e,this.data=s,this.metadata=r,this[i._FETCHPARAMETERS]=e,this[i._DATA]=s,this[i._METADATA]=r}},this.Item=class{constructor(t,e,s){this._parent=t,this.metadata=e,this.data=s,this[i._METADATA]=e,this[i._DATA]=s}},this.ItemMetadata=class{constructor(t,e){this._parent=t,this.key=e,this[i._KEY]=e}},this.FetchListParameters=class{constructor(t,e,s,r,n,h){this._parent=t,this.params=e,this.size=s,this.sortCriteria=r,this.filterCriterion=n,this.attributes=h,e&&Object.keys(e).forEach(t=>{this[t]=e[t]}),this[i._SIZE]=s,r&&(this[i._SORTCRITERIA]=r),n&&(this[i._FILTERCRITERION]=n),h&&(this[i._FETCHATTRIBUTES]=h)}},this.FetchByKeysParameters=class{constructor(t,e,s,r){this._parent=t,this.keys=e,this.params=s,this.attributes=r,s&&Object.keys(s).forEach(t=>{this[t]=s[t]}),e&&(this[i._KEYS]=e),r&&(this[i._FETCHATTRIBUTES]=r)}},this.FetchByOffsetParameters=class{constructor(t,e,s,r,n,h,l){this._parent=t,this.offset=e,this.params=s,this.size=r,this.sortCriteria=n,this.filterCriterion=h,this.attributes=l,s&&Object.keys(s).forEach(t=>{this[t]=s[t]}),r&&(this[i._SIZE]=r),n&&(this[i._SORTCRITERIA]=n),e&&(this[i._OFFSET]=e),h&&(this[i._FILTERCRITERION]=h),l&&(this[i._FETCHATTRIBUTES]=l)}},this.FetchByKeysResults=class{constructor(t,e,s){this._parent=t,this.fetchParameters=e,this.results=s,this[i._FETCHPARAMETERS]=e,this[i._RESULTS]=s}},this.ContainsKeysResults=class{constructor(t,e,s){this._parent=t,this.containsParameters=e,this.results=s,this[i._CONTAINSPARAMETERS]=e,this[i._RESULTS]=s}},this.FetchByOffsetResults=class{constructor(t,e,s,r){this._parent=t,this.fetchParameters=e,this.results=s,this.done=r,this[i._FETCHPARAMETERS]=e,this[i._RESULTS]=s,this[i._DONE]=r}},this[i._FROM]=null==this.options?null:this.options[i._FROM],this[i._OFFSET]=null==this.options?0:this.options[i._OFFSET]>0?this.options[i._OFFSET]:0,this[i._SORTCRITERIA]=null==this.options?null:this.options[i._SORTCRITERIA],this[i._DATAMAPPING]=null==this.options?null:this.options[i._DATAMAPPING],this[i._FETCHATTRIBUTES]=null==this.options?null:this.options[i._FETCHATTRIBUTES],this[i._FILTERCRITERION]=null==this.options?null:this.options[i._FILTERCRITERION],this._addEventListeners(t),t.getCapability&&!t.getCapability("filter")&&(this._noFilterSupport=!0)}containsKeys(t){return this.dataProvider[i._CONTAINSKEYS]?this.dataProvider[i._CONTAINSKEYS](t):this.fetchByKeys(t).then(e=>{const s=new Set;return t[i._KEYS].forEach(t=>{null!=e[i._RESULTS].get(t)&&s.add(t)}),Promise.resolve(new this.ContainsKeysResults(this,t,s))})}fetchByKeys(t){const e=null!=t?t[i._KEYS]:null;let s=null!=t?t[i._FETCHATTRIBUTES]:null;null==s&&(s=this[i._FETCHATTRIBUTES]);const r=new this.FetchByKeysParameters(this,e,t,s);if(this.dataProvider[i._FETCHBYKEYS])return this.dataProvider[i._FETCHBYKEYS](r).then(t=>{const e=t[i._RESULTS],s=new Map;return e.forEach((t,e)=>{const i=this._getMappedItems([t]);s.set(e,i[0])}),new this.FetchByKeysResults(this,r,s)});{const e=new this.FetchListParameters(this,null,i._DEFAULT_SIZE,null,null,s),n=new Map,h=this.dataProvider[i._FETCHFIRST](e)[Symbol.asyncIterator]();return this._fetchNextSet(t,h,n).then(t=>{const e=new Map;return t.forEach((t,s)=>{const i=this._getMappedItems([t]);e.set(s,i[0])}),new this.FetchByKeysResults(this,r,e)})}}fetchByOffset(t){const e=null!=t?t[i._OFFSET]:null,s=null!=t?t[i._SIZE]:null;let r=null!=t?t[i._FETCHATTRIBUTES]:null;null==r&&(r=this[i._FETCHATTRIBUTES]);let n=null!=t?t[i._SORTCRITERIA]:null;null==n&&(n=this[i._SORTCRITERIA]);const h=this._getMappedSortCriteria(n),l=this._combineFilters(t),_=this._getMappedFilterCriterion(l),a=new this.FetchByOffsetParameters(this,e,t,s,h,_,r);return this.dataProvider[i._FETCHBYOFFSET](a).then(t=>{const e=t[i._RESULTS],s=t[i._DONE],r=new Array;return e.forEach(t=>{const e=this._getMappedItems([t]);r.push(e[0])}),new this.FetchByOffsetResults(this,a,r,s)})}fetchFirst(t){const e={};e[i._ITEMS]=[],e[i._DONE]=!1,e[i._STARTINDEX]=0;const s=null!=t?t[i._SIZE]:null;let r=null!=t?t[i._SORTCRITERIA]:null;null==r&&(r=this[i._SORTCRITERIA]);const n=this._getMappedSortCriteria(r),h=this._combineFilters(t),l=this._getMappedFilterCriterion(h);let _=null!=t?t[i._FETCHATTRIBUTES]:null;if(null==_&&(_=this[i._FETCHATTRIBUTES]),null==this[i._FROM]&&this[i._OFFSET]>0){let r=this[i._OFFSET];return new this.AsyncIterable(this,new this.AsyncIterator(this,(t=>()=>{const e=new this.FetchByOffsetParameters(this,r,null,s,n,l,_);return this.dataProvider[i._FETCHBYOFFSET](e).then(e=>{const n=e.results;r+=n.length;const h=this._getMappedItems(n);this._cacheResult(t,h),t[i._DONE]=e[i._DONE];const l=h.map(t=>t[i._DATA]),_=h.map(t=>t[i._METADATA]),a=e[i._FETCHPARAMETERS],E=null!=a?a[i._SORTCRITERIA]:null,T=null!=a?a[i._FILTERCRITERION]:null,o=this._getUnmappedSortCriteria(E),c=this._getUnmappedFilterCriterion(T),u=new this.FetchByOffsetParameters(this,this[i._OFFSET],null,s,o,c);return t[i._DONE]?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,u,l,_))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,u,l,_)))})})(e),t))}{const r=new this.FetchListParameters(this,t,s,n,l,_),h=this.dataProvider[i._FETCHFIRST](r)[Symbol.asyncIterator]();return new this.AsyncIterable(this,new this.AsyncIterator(this,((e,s)=>()=>s.next().then(r=>{const n=r[i._VALUE][i._DATA],h=r[i._VALUE][i._METADATA],_=n.map((t,e)=>new this.Item(this,h[e],n[e]));this._noFilterSupport&&this._filterResult(l,_);const a=this._getMappedItems(_);this._cacheResult(e,a),e[i._DONE]=r[i._DONE];const E=null!=t?t[i._SIZE]:null,T=(null!=t&&t[i._OFFSET],r[i._VALUE][i._FETCHPARAMETERS]),o=null!=T?T[i._SORTCRITERIA]:null,c=null!=T?T[i._FILTERCRITERION]:null,u=this._getUnmappedSortCriteria(o),R=this._getUnmappedFilterCriterion(c),A=new this.FetchListParameters(this,t,E,u,R);return this._fetchUntilKey(A,this[i._FROM],e,s).then(()=>this._fetchUntilOffset(A,this[i._OFFSET]+e[i._STARTINDEX],n.length,e,s))}))(e,h),t))}}getCapability(t){return this.dataProvider.getCapability(t)}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_fetchNextSet(e,s,r){return s.next().then(n=>{const h=n[i._VALUE],l=h[i._DATA],_=h[i._METADATA],a=_.map(t=>t[i._KEY]);let E=!0;return e[i._KEYS].forEach(e=>{r.has(e)||a.map((s,i)=>{t.Object.compareValues(s,e)&&r.set(e,new this.Item(this,_[i],l[i]))}),r.has(e)||(E=!1)}),E||n[i._DONE]?r:this._fetchNextSet(e,s,r)})}_fetchUntilKey(e,s,r,n){if(null!=s){const e=r[i._ITEMS].filter(e=>{if(t.KeyUtils.equals(e[i._METADATA][i._KEY],s))return!0});if(e.length>0){const t=r[i._ITEMS].indexOf(e[0]);r[i._ITEMS]=r[i._ITEMS].slice(t,r[i._ITEMS].length)}else{if(!r[i._DONE])return n.next().then(t=>{const e=t[i._VALUE][i._DATA],s=t[i._VALUE][i._METADATA],h=e.map((t,i)=>new this.Item(this,s[i],e[i])),l=this._getMappedItems(h);return this._cacheResult(r,l),r[i._DONE]=t[i._DONE],this._fetchUntilKey(t[i._FETCHPARAMETERS],l[i._KEYS],r,n)});r[i._ITEMS]=[]}}return Promise.resolve(null)}_fetchUntilOffset(t,e,s,r,n){const h=null!=t&&t[i._SIZE]>0?t[i._SIZE]:s;e=e>0?e:0;const l=r[i._ITEMS].slice(e,e+h);if(this._noFilterSupport){const e=this._getMappedFilterCriterion(t[i._FILTERCRITERION]);this._filterResult(e,l)}return l.length<h&&!r[i._DONE]?n.next().then(s=>{const h=s[i._VALUE][i._DATA],_=s[i._VALUE][i._METADATA],a=h.map((t,e)=>new this.Item(this,_[e],h[e]));if(this._noFilterSupport){const e=this._getMappedFilterCriterion(t[i._FILTERCRITERION]);this._filterResult(e,a)}const E=this._getMappedItems(a);return this._cacheResult(r,E),r[i._DONE]=s[i._DONE],0===h.length?this._createResultPromise(t,r,l):this._fetchUntilOffset(s[i._VALUE][i._FETCHPARAMETERS],e,h.length,r,n)}):this._createResultPromise(t,r,l)}_createResultPromise(t,e,s){e[i._STARTINDEX]=e[i._STARTINDEX]+s.length;const r=s.map(t=>t[i._DATA]),n=s.map(t=>t[i._METADATA]);return 0===r.length?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,t,r,n))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,t,r,n)))}_cacheResult(t,e){e.forEach(e=>{t[i._ITEMS].push(e)})}_filterResult(t,s){if(t){t.filter||(t=e.FilterFactory.getFilter({filterDef:t}));let r=s.length-1;for(;r>=0;)t.filter(s[r][i._DATA])||s.splice(r,1),r--}}_getMappedItems(t){if(null!=this[i._DATAMAPPING]){const e=this[i._DATAMAPPING][i._MAPFIELDS];if(null!=e&&null!=t&&t.length>0){return t.map(t=>e.bind(this)(t))}}return t}_combineFilters(t){const s=[];let r,n=0;return null!=t&&null!=t[i._FILTERCRITERION]&&(s[n]=t[i._FILTERCRITERION],n++),null!=this[i._FILTERCRITERION]&&(s[n]=this[i._FILTERCRITERION]),r=0==s.length?null:1==s.length?s[0]:e.FilterFactory.getFilter({filterDef:{op:"$and",criteria:s}}),r}_getMappedFilterCriterion(t){if(null!=this[i._DATAMAPPING]){const e=this[i._DATAMAPPING][i._MAPFILTERCRITERION];if(null!=e&&null!=t)return e(t)}return t}_getMappedSortCriteria(t){if(null!=this[i._DATAMAPPING]){const e=this[i._DATAMAPPING][i._MAPSORTCRITERIA];if(null!=e&&null!=t&&t.length>0)return e(t)}return t}_getUnmappedSortCriteria(t){if(null!=this[i._DATAMAPPING]){const e=this[i._DATAMAPPING][i._UNMAPSORTCRITERIA];if(null!=e&&null!=t&&t.length>0)return e(t)}return t}_getUnmappedFilterCriterion(t){if(null!=this[i._DATAMAPPING]){const e=this[i._DATAMAPPING][i._UNMAPFILTERCRITERION];if(null!=e&&null!=t)return e(t)}return t}_addEventListeners(t){t[i._ADDEVENTLISTENER](i._REFRESH,t=>{this.dispatchEvent(t)}),t[i._ADDEVENTLISTENER](i._MUTATE,t=>{this.dispatchEvent(t)})}}return i._KEY="key",i._KEYS="keys",i._DATA="data",i._STARTINDEX="startIndex",i._SORT="sort",i._SORTCRITERIA="sortCriteria",i._FILTERCRITERION="filterCriterion",i._METADATA="metadata",i._ITEMS="items",i._FROM="from",i._OFFSET="offset",i._REFRESH="refresh",i._MUTATE="mutate",i._SIZE="size",i._FETCHPARAMETERS="fetchParameters",i._VALUE="value",i._DONE="done",i._DATAMAPPING="dataMapping",i._MAPFIELDS="mapFields",i._MAPSORTCRITERIA="mapSortCriteria",i._MAPFILTERCRITERION="mapFilterCriterion",i._UNMAPSORTCRITERIA="unmapSortCriteria",i._UNMAPFILTERCRITERION="unmapFilterCriterion",i._RESULTS="results",i._CONTAINSPARAMETERS="containsParameters",i._DEFAULT_SIZE=25,i._CONTAINSKEYS="containsKeys",i._FETCHBYKEYS="fetchByKeys",i._FETCHBYOFFSET="fetchByOffset",i._FETCHFIRST="fetchFirst",i._ADDEVENTLISTENER="addEventListener",i._FETCHATTRIBUTES="attributes",s.EventTargetMixin.applyMixin(i),t._registerLegacyNamespaceProp("ListDataProviderView",i),i});
//# sourceMappingURL=ojlistdataproviderview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtreedataproviderview',["ojs/ojcore-base","ojs/ojlistdataproviderview"],function(t,e){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class i{constructor(t,i){this.dataProvider=t,this.options=i,this._listDataProviderView=new e(t,i)}getChildDataProvider(t,e){let r=this.dataProvider.getChildDataProvider(t);return r?new i(r,this.options):null}containsKeys(t){return this._listDataProviderView.containsKeys(t)}fetchByKeys(t){return this._listDataProviderView.fetchByKeys(t)}fetchByOffset(t){return this._listDataProviderView.fetchByOffset(t)}fetchFirst(t){return this._listDataProviderView.fetchFirst(t)}getCapability(t){return this._listDataProviderView.getCapability(t)}getTotalSize(){return this._listDataProviderView.getTotalSize()}isEmpty(){return this._listDataProviderView.isEmpty()}addEventListener(t,e){this._listDataProviderView.addEventListener(t,e)}removeEventListener(t,e){this._listDataProviderView.removeEventListener(t,e)}dispatchEvent(t){return this._listDataProviderView.dispatchEvent(t)}}return t._registerLegacyNamespaceProp("TreeDataProviderView",i),i});
//# sourceMappingURL=ojtreedataproviderview.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojselectcombobox',["ojs/ojeditablevalue","ojs/ojoptgroup","ojs/ojoption","ojs/ojhighlighttext","ojs/ojprogress-circle","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojset","ojs/ojtimerutils","ojs/ojthemeutils","ojs/ojcontext","ojs/ojlistdataproviderview","ojs/ojtreedataproviderview","ojs/ojtranslation","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojcomponentcore"],function(e,t,i,s,o,n,a,r,l,h,c,u,d,p,f,m,v,_){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p;var g={properties:{asyncValidators:{type:"Array<Object>",value:[]},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},filterOnOpen:{type:"string",enumValues:["none","rawValue"],value:"none"},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minLength:{type:"number",value:0},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array",value:[]},value:{type:"any",writeback:!0},valueOption:{type:"object",writeback:!0,properties:{label:{type:"string"},value:{type:"any"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojValueUpdated:{}},extension:{}};!function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}};g.extension._WIDGET_NAME="ojCombobox",g.extension._INNER_ELEM="input",g.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],g.extension._ALIASED_PROPS={readonly:"readOnly"},g.extension._TRACK_CHILDREN="immediate",oj.CustomElementBridge.register("oj-combobox-one",{metadata:oj.CollectionUtils.mergeDeep(g,e)});var t={properties:{asyncValidators:{type:"Array<Object>",value:[]},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minLength:{type:"number",value:0},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"Array<string>",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},noMoreResults:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array",value:[]},value:{type:"Array<any>",writeback:!0},valueOptions:{type:"Array<Object>",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojCombobox",t.extension._INNER_ELEM="input",t.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],t.extension._ALIASED_PROPS={readonly:"readOnly"},t.extension._TRACK_CHILDREN="immediate",oj.CustomElementBridge.register("oj-combobox-many",{metadata:oj.CollectionUtils.mergeDeep(t,e)});var i={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minimumResultsForSearch:{type:"number",value:15},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},searchField:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"any",writeback:!0},valueOption:{type:"object",writeback:!0,properties:{label:{type:"string"},value:{type:"any"}}}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojSelect",i.extension._INNER_ELEM="select",i.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],i.extension._ALIASED_PROPS={readonly:"readOnly"},i.extension._TRACK_CHILDREN="immediate",oj.CustomElementBridge.register("oj-select-one",{metadata:oj.CollectionUtils.mergeDeep(i,e)});var s={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},maximumResultCount:{type:"number",value:15},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},minimumResultsForSearch:{type:"number",value:15},optionRenderer:{type:"function"},options:{type:"Array<Object>|object"},optionsKeys:{type:"object",properties:{childKeys:{type:"object",properties:{childKeys:{type:"object"},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},children:{type:"string"},label:{type:"string"},value:{type:"string"}}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{filterFurther:{type:"string"},moreMatchesFound:{type:"string"},noMatchesFound:{type:"string"},noMoreResults:{type:"string"},oneMatchesFound:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},searchField:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"Array<any>",writeback:!0},valueOptions:{type:"Array<Object>",writeback:!0}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};s.extension._WIDGET_NAME="ojSelect",s.extension._INNER_ELEM="select",s.extension._GLOBAL_TRANSFER_ATTRS=["aria-controls","aria-label","tabindex"],s.extension._ALIASED_PROPS={readonly:"readOnly"},s.extension._TRACK_CHILDREN="immediate",oj.CustomElementBridge.register("oj-select-many",{metadata:oj.CollectionUtils.mergeDeep(s,e)})}();const b={GENERATED_OPTIONS_SELECTOR:"oj-select-options-generated",THEME:{REDWOOD:"redwood"},KEY:{TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,CODE:{KEY_V:"KeyV"},isControl:function(e){switch(e.which||e.keyCode){case b.KEY.SHIFT:case b.KEY.CTRL:case b.KEY.ALT:return!0;default:return!!e.metaKey}},isFunctionKey:function(e){var t=e.which||e.keyCode||e;return t>=112&&t<=123},isPasteAction:function(e){let t=n.AgentUtils.getAgentInfo().os;return e.code===b.KEY.CODE.KEY_V&&(t===n.AgentUtils.OS.MAC&&e.metaKey||t!==n.AgentUtils.OS.MAC&&e.ctrlKey)}},DEFAULT_FETCH_SIZE:15,DEFAULT_FETCH_ALL_SIZE:-1,FILTERING_FETCH_SIZE_MIN:100,FILTERING_FETCH_SIZE_MAX:500,FILTERING_FETCH_SIZE_MRC_TIMES:7,DEFAULT_QUERY_DELAY:70,DEFAULT_LOADING_INDICATOR_DELAY:250,ValueChangeTriggerTypes:{ENTER_PRESSED:"enter_pressed",OPTION_SELECTED:"option_selected",BLUR:"blur",SEARCH_ICON_CLICKED:"search_icon_clicked"},lastMousePosition:{x:0,y:0},nextUid:(y=1,function(){var e=y;return y+=1,e}),scrollBarDimensions:null,isLegacyTheme:function(){return c.parseJSONFromFontFamily("oj-theme-json").behavior!==b.THEME.REDWOOD},each2:function(e,t){for(var i=a.isFunction(e[0])?a(e[0]()):a(e[0]),s=-1,o=e.length;++s<o&&(i.context=i[0]=a.isFunction(e[0])?e[s]():e[s])&&!1!==t.call(i[0],s,i););return e},measureScrollbar:function(){var e=a("<div class='oj-listbox-measure-scrollbar'></div>");e.appendTo("body");var t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t},splitVal:function(e,t){var i,s,o;if(null===e||e.length<1)return[];for(s=0,o=(i=e.split(t)).length;s<o;s++)i[s]=a.trim(i[s]);return i},getSideBorderPadding:function(e){return e.outerWidth(!1)-e.width()},installKeyUpChangeEvent:function(e){var t="keyup-change-value";e.on("keydown",function(){void 0===a.data(e,t)&&a.data(e,t,e.val())}),e.on("keyup",function(i){if((i.which||i.keyCode)!==b.KEY.ENTER){var s=a.data(e,t);void 0!==s&&e.val()!==s&&(a.removeData(e,t),e.trigger("keyup-change"))}else i.preventDefault()})},getSearchText:function(e){var t,i=e.which||e.keyCode;return e&&"keydown"===e.type&&(32===i||i>47&&i<58||i>64&&i<91||i>95&&i<112||i>185&&i<193||i>218&&i<223)&&(null!=e.key?t=e.key:(i>=96&&i<=105&&(i-=48),t=String.fromCharCode(i),e.shiftKey||(t=t.toLowerCase())),e.preventDefault()),t},escapeRegExp:function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")},installFilteredMouseMove:function(e){e.on("mousemove",function(e){var t=b.lastMousePosition;void 0!==t&&t.x===e.pageX&&t.y===e.pageY||(a(e.target).trigger("mousemove-filtered",e),b.lastMousePosition.x=e.pageX,b.lastMousePosition.y=e.pageY)})},thunk:function(e){var t,i=!1;return function(){return!1===i&&(t=e(),i=!0),t}},_focus:function(e,t){if(null!=e._focusTimer&&(e._focusTimer.clear(),delete e._focusTimer),t[0]!==document.activeElement){var i=b._addBusyState(e.container,"setting focus"),s=h.getTimer(40);s.getPromise().then(function(e){if(e){var s,o=t[0],n=t.val().length;t.focus(),t.is(":visible")&&o===document.activeElement&&(o.setSelectionRange?o.setSelectionRange(n,n):o.createTextRange&&((s=o.createTextRange()).collapse(!1),s.select())),i()}else i()}),e._focusTimer=s}},getCursorInfo:function(e){var t=a(e)[0],i=0,s=0;if("selectionStart"in t)i=t.selectionStart,s=t.selectionEnd-i;else if("selection"in document){t.focus();var o=document.selection.createRange();s=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),i=o.text.length-s}return{offset:i,length:s}},killEvent:function(e){e.preventDefault()},local:function(e,t){var i,s,o=e,n=function(e){return""+e.label};a.isArray(o)&&(o={results:s=o}),!1===a.isFunction(o)&&(s=o,o=function(){return s});var r=o();return r&&r.text&&(n=r.text,a.isFunction(n)||(i=r.text,n=function(e){return e[i]})),function(e){var i=e.term,s={results:[]};""!==i||t?(o()&&b.each2(a(o().results),function(i,o){b._processData(e,o,s.results,t,!0,n)}),e.callback(s)):e.callback(o())}},createOptionTag:function(e,t,i,s){var o=a("<option>");return o.addClass("oj-listbox-result oj-listbox-result-selectable oj-listbox-results-depth-"+e),o.attr("role","option"),o.attr("id","oj-listbox-result-label-"+b.nextUid()),o.text(s(i)),o.attr("value",t),o},createOptgroupTag:function(e,t,i){var s=a("<optgroup>");return s.addClass("oj-listbox-results-sub"),s.attr("label",i(t)),e.addClass("oj-listbox-result-with-children"),s},listPopulateResults:function(e,t,i){var s=function(e,t,o){var n,r,l,h;t.each(function(){(r=a(this)).is("li")&&(r.children("ul").length>0?(l=r.contents().filter(function(){return 1!==this.nodeType||"ul"!==this.tagName.toLowerCase()}).text(),n=b.createOptgroupTag(e,l,i),h=r.children("ul"),s(n,h.children(),o+1)):n=b.createOptionTag(o,r.attr("oj-data-value"),r.text(),i),n.appendTo(e))})};s(e,t,0)},ojOptionPopulateResults:function(e,t,i){var s=function(e,t,o){var n,r,l;t.each(function(){(r=a(this)).is("oj-option")?(l=r.text()||r.attr("label"),n=b.createOptionTag(o,r.prop("value"),l,i)):r.is("oj-optgroup")?(l=r.text()||r.attr("label"),n=b.createOptgroupTag(e,l,i),s(n,r.children(),o+1)):r.is("option")&&(n=r),n.appendTo(e)})};s(e,t,0)},lookupOptionKeys:function(e,t,i){return e[t[i]||i]},arrayPopulateResults:function(e,t,i,s){var o=function(e,t,s,n){for(var a,r,l,h,c,u=0,d=t.length;u<d;u++)a=t[u],l=b.lookupOptionKeys(a,n,"children"),h=b.lookupOptionKeys(a,n,"label"),l&&l.length>0?(r=b.createOptgroupTag(e,h,i),o(r,l,s+1,n.childKeys||{})):(c=b.lookupOptionKeys(a,n,"value"),r=b.createOptionTag(s,c,h,i)),r.appendTo(e)};o(e,t,0,s||{})},cleanupResults:function(e){e.children().not("oj-option, oj-optgroup").remove(),e.removeClass("oj-listbox-result-with-children")},_addBusyState:function(e,t){var i={description:"The component identified by '"+e.attr("id")+"' "+t};return u.getContext(e[0]).getBusyContext().addBusyState(i)},_clearBusyState:function(e){e&&e()},isDataProvider:function(e){return!(!e||!n.DataProviderFeatureChecker)&&n.DataProviderFeatureChecker.isDataProvider(e)},isTreeDataProvider:function(e){return!(!e||!n.DataProviderFeatureChecker)&&n.DataProviderFeatureChecker.isTreeDataProvider(e)},getDataProvider:function(e){if(e){var t=e._dataProvider||e.options;if(b.isDataProvider(t))return t}return null},getDataProviderKeySet:function(e,t){let i=b.getDataProvider(e.options);return null!=i&&"function"==typeof i.createOptimizedKeySet?i.createOptimizedKeySet(t):new l(t)},clearDataProviderWrapper:function(e){e.options._dataProvider=null},_findOption:function(e,t){if(n.Object.compareValues(t,e.value))return e;if(e.children)for(var i,s=e.children,o=0;o<s.length;o++)if(i=b._findOption(s[o],t))return i;return null},findOption:function(e,t){if(Array.isArray(e)){for(var i=0,s=e.length;i<s;i++){var o=b._findOption(e[i],t);if(o)return o}return null}return b._findOption(e,t)},findOptions:function(e,t){for(var i=[],s=0;s<t.length;s++){var o=b.findOption(e,t[s]);o&&i.push(o)}return i},findOptionFromResult:function(e,t,i){var s,o=b.getLastQueryResult(e);if(o&&(s=b.findOption(o,t)),e.ojContext.multiple&&!s&&(s=b.getSelectedOptionData(e,t)),s){var n={value:t,label:s.label};return s.data&&s.metadata&&(n.data=s.data,n.metadata=s.metadata),n}return i},mergeValueAndValueOptions:function(e,t){var i=e.options.value,s=!1;if(e.multiple){var o,n=e.options.valueOptions;if(i&&i.length>0)n&&n.length&&(o=b.findOptions(n,i)),o&&o.length===n.length||(s=!0);else n&&b.syncValueWithValueOptions(e,n,i,null,t)}else{var a,r=e.options.valueOption;if(null!=i)r&&(a=b.findOption(r,i)),a||(s=!0);else r&&b.syncValueWithValueOption(e,r,i,null,t)}return s},syncValueWithValueOption:function(e,t,i,s,o){var r,l=!0,h=e._IsCustomElement();if(b.isValueOptionsForPlaceholder(!1,t)?b.isValueForPlaceholder(!1,i)?(r=i,l=!1):r=null:r=h?t?t.value:null:t?[t.value]:null,n.Object.compareValues(r,i)){if(!0===s){var c=e.element[0];a(c.options[c.selectedIndex]).text(b.getLabel(t))}else if(!1===s){var u=e.select||e.combobox;u&&l&&u._updateSelection(t)}}else b._forceSetValue(e,r,o)},syncValueWithValueOptions:function(e,t,i,s,o){var r,l=!0;if(b.isValueOptionsForPlaceholder(!0,t))b.isValueForPlaceholder(!0,i)?(r=i,l=!1):r=b.getValueForPlaceholder(!0),n.Object.compareValues(r,i)||b._forceSetValue(e,r,o);else if(t){r=[];for(var h=0;h<t.length;h++)r.push(t[h].value);if(n.Object.compareValues(r,i)){if(!0===s){var c=0;e.element.find("option").each(function(){if(this.selected){var e=b.getLabel(t[c]);this.text!=e&&a(this).text(e),c+=1}})}else if(!1===s){var u=e.select||e.combobox;u&&l&&u._updateSelection(t)}}else b._forceSetValue(e,r,o)}},_forceSetValue:function(e,t,i){var s=e,o=i||{},n={doNotClearMessages:o.doNotClearMessages,doValueChangeCheck:!1,_context:{doNotClearMessages:o.doNotClearMessages,internalSet:!0,writeback:!0}};s.forceCanSetValue=!0;try{s._SetValue(t,null,n)}finally{delete s.forceCanSetValue}},isPlaceholderSpecified:function(e){return"string"==typeof e.placeholder},getFixupValueOptionsForPlaceholder:function(e){return e?[]:{value:null,label:null}},isValueOptionsForPlaceholder:function(e,t){return null==t||!e&&null==t.value||n.Object.compareValues(t,b.getFixupValueOptionsForPlaceholder(e))},getValueOptionsForPlaceholder:function(e,t){var i=e.multiple;return e._IsCustomElement()&&b.isPlaceholderSpecified(e.options)&&b.isValueOptionsForPlaceholder(i,t)&&(t=b.getFixupValueOptionsForPlaceholder(i)),t},getValueForPlaceholder:function(e){return e?[]:""},isValueForPlaceholder:function(e,t){return null==t||n.Object.compareValues(t,b.getValueForPlaceholder(e))},setValueOptions:function(e,t){var i,s={internalSet:!0,changed:!0,writeback:!0},o=b.getOpts(e),n=!!o&&b.isDataProvider(o.options);if(e.multiple){var a=[],r=[];if(t&&t.length){i=[];for(var l=0;l<t.length;l++)i.push({value:t[l].value,label:t[l].label}),n&&(a.push(t[l].data),r.push(t[l].metadata))}else i=t;s=b.getContextWithExtraData(s,o,a,r),e.option("valueOptions",i,{_context:s}),null!=e.select&&(e.isValueOptionsSetInternally=!0),o&&(o.valueOptions=i)}else{var h=t;Array.isArray(t)&&(h=t[0]),h&&(s=b.getContextWithExtraData(s,o,h.data,h.metadata)),i=h&&!b.isValueOptionsForPlaceholder(e.multiple,h)?{value:h.value,label:h.label}:h,e.option("valueOption",i,{_context:s}),null!=e.select&&(e.isValueOptionsSetInternally=!0),o&&(o.valueOption=i)}},updateValueOptions:function(e){if(e){var t=e.datalist?e.datalist:e.opts.element;e.opts.initSelection.call(null,t,function(t){var i=e.ojContext.multiple,s=t;if(null==s&&"oj-combobox"===e._classNm){var o=e.ojContext.options.value;if(i){s=[];for(var n=0;n<o.length;n++)s.push(e.opts.manageNewEntry(o[n]))}else s=e.opts.manageNewEntry(o)}s&&(e.setValOpts(s),i?e._updateSelection(s):e._updateSelectedOption(s),e._SyncRawValue())})}},applyValueOptions:function(e,t){if(e&&!e.ojContext._resolveValueOptionsLater&&("oj-combobox"===e._classNm||"oj-select"===e._classNm)){var i=e.ojContext.multiple,s=i?t.valueOptions:t.valueOption;if(b.isValueOptionsForPlaceholder(i,s))return!1;if(s)return e._updateSelection(s),!0}return!1},isValueChanged:function(e){return e._valueHasChanged},setValueChanged:function(e,t){e._valueHasChanged=t},hasInvalidComponentMessages:function(e){return!e.isValid()&&e._hasInvalidComponentMessagesShowing()},wrapDataProviderIfNeeded:function(e,t){var i=e.options,s=i.options;if(b.isDataProvider(s)){var o,n=i.optionsKeys||{},a=b.isTreeDataProvider(s);if(a&&!(s instanceof p)||!a&&!(s instanceof d)){var r=function(e){for(var t=e.data,i={data:{}},s=Object.keys(t),o=0;o<s.length;o++){var a=s[o],r=t[a];i.data[a]=r}return null!=n.label?i.data.label=String(t[n.label]):null!=t.label&&(i.data.label=String(t.label)),null!=n.value&&(i.data.value=t[n.value]),i.metadata={key:t[n.value||"value"]},i};o=a?new p(s,{dataMapping:{mapFields:r}}):new d(s,{dataMapping:{mapFields:r}})}o&&(i._dataProvider=o,t&&(t._dataProvider=o))}},getLabel:function(e){if(null!=e)return null!=e.label?e.label:String(e.value)},_handleDataProviderEvents:function(e,t){var i=b._addBusyState(e.widget(),"updating value on dataprovider mutation event");Promise.resolve().then(function(){return e._GetThrottlePromise()}).then(function(){return e._getValueUpdatePromise()}).then(function(){"mutate"===t.type&&b._handleDataProviderMutationEvent(e,t),e._setOption("options",e.options.options),i()})},_handleDataProviderMutationEvent:function(e,t){if(null!=t.detail.remove){for(var i=t.detail.remove.data,s=!1,o=[].concat(e.options.value),n=0;n<i.length;n++){var a=o.indexOf(i[n].value);a>=0&&(o.splice(a,1),s=!0)}s&&e._setOption("value",o)}},addDataProviderEventListeners:function(e){var t=b.getDataProvider(e.options);if(t){b.removeDataProviderEventListeners(e);var i=b._handleDataProviderEvents.bind(null,e);e._saveDataProviderEH=i,t.addEventListener("mutate",i),t.addEventListener("refresh",i)}},removeDataProviderEventListeners:function(e){var t=b.getDataProvider(e.options),i=e._saveDataProviderEH;null!=t&&i&&(t.removeEventListener("mutate",i),t.removeEventListener("refresh",i),e._saveDataProviderEH=void 0)},createLoadingIndicatorElement:function(){let e;return b.isLegacyTheme()?(e=document.createElement("div"),e.setAttribute("role","presentation"),e.setAttribute("class","oj-icon oj-listbox-loading-icon")):(e=document.createElement("oj-progress-circle"),e.setAttribute("class","oj-listbox-loading-progress-circle"),e.setAttribute("data-oj-internal",""),e.setAttribute("data-oj-binding-provider","none"),e.setAttribute("value",-1),e.setAttribute("size","sm")),e},updateDropdownLoadingState:function(e,t){const i=e;if(t){i._dropdownLoadingIndicatorCount+=1,i._dropdownLoadingIndicatorTimer&&(i._dropdownLoadingIndicatorTimer.clear(),delete i._dropdownLoadingIndicatorTimer);const e=h.getTimer(i._loadingIndicatorDelay);e.getPromise().then(function(e){e&&b.addDropdownProgressCircle(i)}),i._dropdownLoadingIndicatorTimer=e}else i._dropdownLoadingIndicatorCount>0&&(i._dropdownLoadingIndicatorCount-=1),0===i._dropdownLoadingIndicatorCount&&(i._dropdownLoadingIndicatorTimer&&(i._dropdownLoadingIndicatorTimer.clear(),delete i._dropdownLoadingIndicatorTimer),b.removeDropdownProgressCircle(i))},addDropdownProgressCircle:function(e){const t=e;if(t._hasDropdownLoadingIndicator)return;const i=t.dropdown.find(".oj-listbox-loader-wrapper");let s=t._dropdownProgressCircleElement;s||(s=b.createLoadingIndicatorElement(),t._dropdownProgressCircleElement=s),i.append(s),t.results.addClass("oj-loading"),t._hasDropdownLoadingIndicator=!0,t._triggerInternalLoadingStateChange("dropdownData",!0)},removeDropdownProgressCircle:function(e){const t=e;t.results.removeClass("oj-loading"),t._hasDropdownLoadingIndicator&&(t._dropdownProgressCircleElement&&a(t._dropdownProgressCircleElement).detach(),t._hasDropdownLoadingIndicator=!1,t._triggerInternalLoadingStateChange("dropdownData",!1))},updateLoadingState:function(e,t){if(!e)return;const i=e;if(t){i._loadingIndicatorTimer&&(i._loadingIndicatorTimer.clear(),delete i._loadingIndicatorTimer);const e=h.getTimer(i._loadingIndicatorDelay);e.getPromise().then(function(e){e&&b.addLoadingIndicator(i)}),i._loadingIndicatorTimer=e}else i._loadingIndicatorTimer&&(i._loadingIndicatorTimer.clear(),delete i._loadingIndicatorTimer),b.removeLoadingIndicator(i)},addLoadingIndicator:function(e){const t=e,i=t.ojContext;t._loadingIndicatorCount+=1,t._hasLoadingIndicator||(i._SetLoading(),t._hasLoadingIndicator=!0,t._triggerInternalLoadingStateChange("textFieldLabel",!0))},removeLoadingIndicator:function(e){const t=e,i=t.ojContext;t._loadingIndicatorCount>0&&(t._loadingIndicatorCount-=1),0===t._loadingIndicatorCount&&t._hasLoadingIndicator&&(i._ClearLoading(),t._hasLoadingIndicator=!1,t._triggerInternalLoadingStateChange("textFieldLabel",!1))},addDropdownMessage:function(e,t,i){if(e._saveDropdownMessage)return;var s=a(document.createElement("div"));s.addClass("oj-listbox-filter-message-box");var o=a(document.createElement("div"));o.addClass("oj-listbox-filter-message-text"),o.attr("role","region");var n=a(document.createElement("div"));n.addClass("oj-listbox-filter-message-separator"),s.append(o),s.append(n),e.prepend(s),o.text(i),e._saveDropdownMessage=s;b.getWidget(t)._updateMatchesCount(i,!0)},removeDropdownMessage:function(e){e._saveDropdownMessage&&(e._saveDropdownMessage.remove(),e._saveDropdownMessage=void 0)},createItemResult:function(e,t){return{label:e.label,value:e.value,disabled:e.disabled,children:e.children,data:e,metadata:t}},fetchFlatData:function(e,t,i,s,o,n){var a=[],r=t.fetchFirst(i)[Symbol.asyncIterator](),l=n>0;return r.next().then(function t(h){if(h){var c=h.value.data,u=h.value.metadata;if(c)for(var d,p,f=0;f<c.length&&(!l||a.length<n);f++)d=c[f],p=u[f],!i.filterCriterion&&s&&s.matcher&&!s.matcher(s.term,b.getLabel(d),d)||a.push(b.createItemResult(d,p));if(o&&b.removeDropdownMessage(o),o&&!h.done&&l&&a.length>=n)b.addDropdownMessage(o,e,e.getTranslatedString("filterFurther")),e._hasMore=!0;else{if(!h.done&&(!l||a.length<n))return r.next().then(t);e._hasMore=!1}}return Promise.resolve(a)})},fetchTreeData:function(e,t,i,s,o,n){var a=n>0,r=i.size;return e._hasMore=!1,o&&b.removeDropdownMessage(o),function t(o){i.size=r;var n=[],l=o.fetchFirst(i)[Symbol.asyncIterator]();return l.next().then(function h(c){var u=c.value.data,d=c.value.metadata;return function i(s){if(s<u.length){if(r>0||!a){var l=u[s],h=d[s],c=o.getChildDataProvider(l.value);return c?t(c).then(function(e){return p(l,h,e),i(s+1)}):(p(l,h,[]),i(s+1))}e._hasMore=!0}return Promise.resolve(n)}(0).then(function(){if(a){if(c.done||r<=0)return c.done||(e._hasMore=!0),Promise.resolve(n)}else if(c.done)return Promise.resolve(n);return l.next().then(h)});function p(e,t,l){var h=!s||!s.matcher||i.filterCriterion||s.matcher(s.term,b.getLabel(e),e),c=null==o.getChildDataProvider(e.value);if(c||(h=!1),h&&0===l.length&&a&&(r-=1),h||l.length>0){var u=b.createItemResult(e,t);e.disabled&&(u.disabled=!0),c&&!u.disabled||(u._jetUnSelectable=!0),l.length>0&&(u.children=l),n.push(u)}}})}(t).then(function(t){return e._hasMore&&o&&b.addDropdownMessage(o,e,e.getTranslatedString("filterFurther")),t})},fetchFilteredData:function(e,t,i,s,o){var a=b.getDataProvider(e.options),r={size:t},l=a.getCapability("filter"),h=n.AttributeFilterOperator.AttributeOperator.$co,c=n.AttributeFilterOperator.AttributeOperator.$regex,u=!1,d=!1;if(l){var p=l.operators;p&&p.length>0&&(p.indexOf(h)>=0||p.indexOf(c)>=0)&&(u=!0,p.indexOf(c)>=0&&(d=!0))}var f=b.isTreeDataProvider(a);if(s&&s.term)if(u){var m,v=e.options.optionsKeys;if(m=v&&v.label?v.label:"label",d){var _=b.escapeRegExp(s.term);r.filterCriterion={op:c,attribute:m,value:new RegExp(_,"i")}}else r.filterCriterion={op:h,attribute:m,value:s.term}}else if(!f)if(i>0){var g=i*b.FILTERING_FETCH_SIZE_MRC_TIMES;(g>b.FILTERING_FETCH_SIZE_MAX||g<b.FILTERING_FETCH_SIZE_MIN)&&(g=b.FILTERING_FETCH_SIZE_MAX),r.size=g}else r.size=i;return f?b.fetchTreeData(e,a,r,s,o,i):b.fetchFlatData(e,a,r,s,o,i)},rejectedError:{},fetchFromDataProvider:function(e,t,i,s){var o=e.ojContext;o._fetchResolveFunc||(o._fetchResolveFunc=b._addBusyState(e.container,"fetching data")),o._saveRejectFunc&&o._saveRejectFunc(b.rejectedError);var n=new Promise(function(e,t){o._saveRejectFunc=t});t.fetchType=null;var a=b._getMaxItems(t),r=s||t.fetchSize||a,l=b.fetchFilteredData(o,r,a,i,e.dropdown).then(function(e){return o._resultCount=e?e.length:0,e});Promise.race([n,l]).then(function(t){o._saveRejectFunc=null,o._resolveSearchBoxLater&&e._showSearchBox(""),i.callback({results:t}),o._fetchResolveFunc&&(o._fetchResolveFunc(),o._fetchResolveFunc=null)},function(e){e!==b.rejectedError&&o._fetchResolveFunc?(i.callback(),o._fetchResolveFunc(),o._fetchResolveFunc=null):e===b.rejectedError&&i.cleanup()})},fetchFirstBlockFromDataProvider:function(e,t,i){var s=b.getDataProvider(t),o=b._addBusyState(e,"fetching selected data"),n=b._getMaxItems(t),a={size:i||n};return b.isTreeDataProvider(s)?b.fetchTreeData({},s,a,null,null,n).then(function(e){if(1===i&&e&&e.length>0){for(var t=e[0];t.children;)t=t.children[0];e=[t]}return b._clearBusyState(o),e},function(){return b._clearBusyState(o),null}):s.fetchFirst(a)[Symbol.asyncIterator]().next().then(function(e){return b._clearBusyState(o),e.value.data},function(){return b._clearBusyState(o),null})},duringFetchByKey:function(e){return e._fetchByKeys},fetchByKeyFromDataProvider:function(e,t,i){var s=b.getDataProvider(t);const o=e instanceof a?null:e,r=null!=o?o.container:e,l=b._addBusyState(r,"fetching selected data");var h;r._fetchByKeys&&r._fetchByKeys.promise&&n.Object.compareValues(i.value,r._fetchByKeys.key)?h=r._fetchByKeys.promise:(h=s.fetchByKeys({keys:new Set(i.value)}),r._fetchByKeys={key:i.value,promise:h}),h.then(function(e){r._fetchByKeys=void 0;var t=[];e.results.forEach(function(e){t.push(b.createItemResult(e.data,e.metadata))}),i.callback({results:t}),b._clearBusyState(l)},function(){r._fetchByKeys=void 0,i.callback(),b._clearBusyState(l)})},validateFromDataProvider:function(e,t,i){return new Promise(function(s,o){b.fetchByKeyFromDataProvider(e,t,{value:Array.isArray(i)?i:[i],callback:function(e){var t=null;if(e&&e.results.length){(t={}).value=[],t.valueOptions=[];for(var i=0;i<e.results.length;i++)t.valueOptions.push(e.results[i]),t.value.push(e.results[i].value)}s(t)}})})},isReadonly:function(e){return e._IsCustomElement()&&(e.options.readOnly||"loading"===e.options.loading)},_getMaxItems:function(e){var t;return void 0!==e.maximumResultCount&&null!==e.maximumResultCount?(t=e.maximumResultCount)<1&&(t=b.DEFAULT_FETCH_ALL_SIZE):t=b.DEFAULT_FETCH_SIZE,t},remote:function(e,t){return function(i){var s={component:this.ojContext};i.value?s.value=i.value:s.term=i.term||"",e(s).then(function(e){var s={results:[]};e&&b.each2(a(e),function(e,o){b._processData(i,o,s.results,t,!1)}),i.callback(s)})}},_processData:function(e,t,i,s,o,n){var r,l=t[0];if(!l.label&&s&&s.label&&(l.label=l[s.label]),!l.value&&s&&s.value&&(l.value=l[s.value]),!l.children&&s&&s.children&&(l.children=l[s.children],delete l[s.children]),l.children){r={};for(var h=Object.keys(l),c=0;c<h.length;c++){var u=h[c];r[u]=l[u]}r.children=[],b.each2(a(l.children),function(t,i){b._processData(e,i,r.children,s&&s.childKeys?s.childKeys:null,o,n)}),(!o||r.children.length&&b._hasLeafNode(r))&&i.push(r)}else o&&!e.matcher(e.term,n(l),l)||i.push(l)},_hasLeafNode:function(e){if(null==e.children)return!0;for(let t=0;t<e.children.length;t++){const i=e.children[t];if(b._hasLeafNode(i))return!0}return!1},checkFormatter:function(e,t){if("function"==typeof e)return!0;if(!e)return!1;throw new Error(t+" must be a function or a false value")},clazz:function(e,t){var i=function(){};return n.Object.createSubclass(i,e,""),i.prototype=a.extend(i.prototype,t),i},LAST_QUERY_RESULT:"last-query-result",getLastQueryResult:function(e){return a.data(e.container,e._classNm+"-"+b.LAST_QUERY_RESULT)},saveLastQueryResult:function(e,t){a.data(e.container,e._classNm+"-"+b.LAST_QUERY_RESULT,t)},getSelectedOptionData:function(e,t){if(e.ojContext.multiple&&e.selection)for(var i,s,o=e.selection.find("."+e._classNm+"-selected-choice"),r=0;r<o.length;r++)if(i=o.get(r),s=a(i).data(e._elemNm),n.Object.compareValues(t,s.value))return s},getContextWithExtraData:function(e,t,i,s){return!(!!t&&b.isDataProvider(t.options))||null==i||Array.isArray(i)&&0===i.length?e:a.extend(e||{},{extraData:{data:i,metadata:s}})},getOpts:function(e){var t;return e&&(e.combobox&&e.combobox.opts?t=e.combobox.opts:e.select&&e.select.opts&&(t=e.select.opts)),t},getNormalizedValueArray:function(e){return Array.isArray(e)?e:null==e?[]:[e]},getWidget:function(e){return null!=e.select?e.select:null!=e.combobox?e.combobox:e.inputSearch},createProxyDropdownElement:function(e){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",t.style.overflow="hidden";const i=document.createElement("div");i.setAttribute("data-oj-containerid",e),i.setAttribute("data-oj-context",""),i.setAttribute("class","oj-listbox-drop"),t.appendChild(i);const s=document.createElement("ul");return s.setAttribute("class","oj-listbox-results"),i.appendChild(s),a(t)}};var y,j={closeOnSelect:!0,openOnEnter:!0,formatNoMatches:function(e){return e.getTranslatedString("noMatchesFound")},formatNoMoreResults:function(e){return e.getTranslatedString("noMoreResults")},formatMoreMatches:function(e,t){return 1===t?e.getTranslatedString("oneMatchesFound"):e.getTranslatedString("moreMatchesFound",{num:""+t})},id:function(e){return e.id},sanitizeData:function(e,t){return e},parseData:function(e){return e},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:","};const x=b.clazz(Object,{_bind:function(e){var t=this;return function(){return e.apply(t,arguments)}},_customOptionRenderer:function(e){var t,i=this;e.each(function(){(t=a(this)).is("oj-option")?t.wrap("<li></li>"):t.is("oj-optgroup")&&(t.wrap("<li></li>"),i._customOptionRenderer(t.children()),t.children().wrapAll("<ul class='oj-listbox-result-sub' role='group'></ul>"))})},_init:function(e){var t,i,s=this._classNm,o=this._elemNm;this.ojContext=e.ojContext;var r=this._prepareOpts(e);this.opts=r,this.id=r.id,this.parseData=r.parseData,this.sanitizeData=r.sanitizeData,this.headerInitialized=!1,this.isOjOption=this.ojContext._IsCustomElement()&&!r.options&&r.element.find("oj-option").length>0,this._loadingIndicatorCount=0,this._hasLoadingIndicator=!1,this._dropdownLoadingIndicatorCount=0,this._hasDropdownLoadingIndicator=!1,this._isAndroidDevice=n.AgentUtils.getAgentInfo().os===n.AgentUtils.OS.ANDROID;const l=this.ojContext.cssOptionDefaults;let h=Number.parseInt(l.loadingIndicatorDelay,10);Number.isNaN(h)&&(h=b.DEFAULT_LOADING_INDICATOR_DELAY),this._loadingIndicatorDelay=h;var u=c.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||"0";this._dropdownVerticalOffset=parseInt(u,10),void 0!==r.element.data(o)&&null!==r.element.data(o)&&r.element.data(o)._destroy(),this._prepareContainer(),this.body=b.thunk(function(){return r.element.closest("body")}),this.dropdown=this.container.find(".oj-listbox-drop"),this.dropdown.data("ojlistbox",this),this._setPickerAttributes(r.pickerAttributes);var d=this.containerId;this.dropdown.attr("data-oj-containerid",d),this._dropdownPositioningProxyContainer=b.createProxyDropdownElement(d),t=this.container.find(".oj-listbox-results"),this.results=t,this.results.on("click",b.killEvent);var p=this._getTransferredAttribute("aria-label");if(null!=p&&this.results.attr("aria-label",p),this._defaultResultsMaxHeight=Number.parseInt(this.results.css("max-height"),10),r.list&&a("#"+r.list).is("ul")){var f=a("#"+r.list);this.dropdownListParent=f.parent(),f.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(f),t=this.container.find(".oj-listbox-results"),this.results=t,this.results.css("display","")}if(this.isOjOption){var m=r.element.children();this._customOptionRenderer(m),this.results.append(r.element.children()),this.datalist=this.results}i="oj-select"===s?this.container.find("input.oj-listbox-input"):this.container.find("input."+s+"-input"),this.search=i,this.queryCount=0,this.resultsPage=0,this.context=null,this._ariaDescribedByAdded=[],this._idsFromDropdown=b.getDataProviderKeySet(r.ojContext),this._initContainer(),this.container.on("click",b.killEvent),b.installFilteredMouseMove(this.results),this.elementTabIndex&&("oj-select"===s?this.selection.attr("tabindex",this.elementTabIndex):this.search.attr("tabindex",this.elementTabIndex)),this._boundHighlightUnderEvent=this._bind(this._highlightUnderEvent),this.ojContext._IsCustomElement()?(this._delegatedDropdownTouchStartListener=function(e){const t=e.currentTarget,i=e.target.closest(".oj-listbox-results");i&&t.contains(i)&&this._boundHighlightUnderEvent(a.Event(e,{currentTarget:i}))}.bind(this),this.dropdown.on("mousemove-filtered touchmove touchend",".oj-listbox-results",this._boundHighlightUnderEvent),this.dropdown[0].addEventListener("touchstart",this._delegatedDropdownTouchStartListener,{passive:!0})):this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".oj-listbox-results",this._boundHighlightUnderEvent),a(this.container).on("change","."+s+"-input",function(e){e.stopPropagation()}),a(this.dropdown).on("change","."+s+"-input",function(e){e.stopPropagation()});var v=this;if(b.installKeyUpChangeEvent(i),i.on("keyup-change input paste",this._bind(this._updateResults)),i.on("focus",function(){i.addClass(s+"-focused"),"oj-select"!==s&&v.container.addClass("oj-focus"),v.isSearchFocused=!0}),i.on("blur",function(){i.removeClass(s+"-focused"),"oj-select"!==s&&v.container.removeClass("oj-focus"),v.isSearchFocused=!1}),this.dropdown.on("mouseup",".oj-listbox-results",this._bind(function(e){a(e.target).closest(".oj-listbox-result-selectable").length>0&&(this._highlightUnderEvent(e),this._selectHighlighted(null,e,!1))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),a.isFunction(this.opts.initSelection)){this.opts.fetchType="init";var _=this.getValOpts();(!this.ojContext.multiple||_&&0!==_.length)&&(this.ojContext.multiple||_)||(_=null),this._initSelection(_)}var g=r.element.prop("readonly");void 0===g&&(g=!1),this._readonly(g);var y=r.element.prop("disabled");if(void 0===y&&(y=!1),this._enable(!y),g){let e=this.container.find(".oj-combobox-input");this.ojContext._createOrUpdateReadonlyDiv(e[0])}b.scrollBarDimensions=b.scrollBarDimensions||b.measureScrollbar(),this.autofocus=r.element.prop("autofocus"),r.element.prop("autofocus",!1),this.autofocus&&this._focus(),b.addDataProviderEventListeners(r.ojContext),this.applyReadonlyState()},_CreateContentElements:function(){return null},_ConfigureSlots:function(){},_RestoreSlots:function(){},_createContainerForWidget:function(){var e=a(document.createElement("div")),t=this._CreateContentElements();return e.attr("class",this._COMPONENT_CLASSLIST),e.append(t),e},_prepareContainer:function(){var e,t,i,s,o;(e=this.ojContext._IsCustomElement()?this._prepareContainerForCustomElement():this._prepareContainerForWidget()).find(".oj-listbox-drop").css("display","none"),i="#"+(t=this._getOrCreateContainerId(e)).replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),o=this.opts.element.attr("tabindex"),s=this._elemNm,this.opts.element.data(s,this).attr("tabindex","-1"),e.data(s,this),this.container=e,this.containerId=t,this.containerSelector=i,this.elementTabIndex=o,this._ConfigureSlots()},_prepareContainerForCustomElement:function(){var e,t=this.ojContext.OuterWrapper,i=this._CreateContentElements(),s=this._COMPONENT_CLASSLIST;return(e=a(t)).addClass(s),e.prepend(i),e},_prepareContainerForWidget:function(){var e,t=this.opts.element,i=this._createContainerForWidget();return t.before(i),i.append(t),(e=this._getAttribute("style"))&&i.attr("style",e),i},_getOrCreateContainerId:function(e){var t;if(this.ojContext._IsCustomElement())(t=this._getAttribute("id"))||(t=this._classNm+"-"+b.nextUid(),e.attr("id",t));else{var i=this.opts.rootAttributes;t=i&&i.id?i.id:"ojChoiceId_"+(this._getAttribute("id")||this._classNm+b.nextUid()),e.attr("id",t)}return t},applyReadonlyState:function(){var t=this.ojContext._GetContentElement();if(b.isReadonly(this.ojContext)){if(this.container.addClass("oj-read-only"),"oj-combobox"===this._classNm)if(this.ojContext.multiple){if(t=null,this.search.removeAttr("tabindex"),this.selection.attr("tabindex",this.elementTabIndex||"0"),this.ojContext.options.labelledBy){var i=this.uuid+"_Label",s=e.EditableValueUtils._getOjLabelAriaLabelledBy(this.ojContext.options.labelledBy,i);s&&this.selection.attr("aria-labelledby",s)}}else t.attr("readonly",!0),this.ojContext._createOrUpdateReadonlyDiv(t[0]);else"oj-select"===this._classNm&&t.attr("aria-readonly","true");t&&(t.removeAttr("role"),t.removeAttr("aria-expanded"))}else this.container.removeClass("oj-read-only"),"oj-combobox"===this._classNm?this.ojContext.multiple?(t=null,null!=this.elementTabIndex&&this.search.attr("tabindex",this.elementTabIndex),this.selection.removeAttr("tabindex"),this.selection.removeAttr("aria-labelledby")):t.removeAttr("readonly",!0):"oj-select"===this._classNm&&t.removeAttr("aria-readonly"),t&&(t.attr("role","combobox"),t.attr("aria-expanded","false"));this._enableInterface()},updateAriaLabelIfNeeded:function(){if(this.ojContext._IsCustomElement()){var e=this._contentElement.attr("aria-label");e?this.results.attr("aria-label",e):this.results.removeAttr("aria-label")}},updateAriaLabelledByIfNeeded:function(e){e?this.results.attr("aria-labelledby",e):this.results.removeAttr("aria-labelledby")},_clickAwayHandler:function(e){var t=this.dropdown;a(e.target).closest(t).length||a(e.target).closest("#"+a.escapeSelector(t.attr("data-oj-containerid"))).length||t.length>0&&this.close(e)},_surrogateRemoveHandler:function(){this.dropdown&&this.dropdown.remove()},_destroy:function(){var e=this._closeDelayTimer;isNaN(e)||(delete this._closeDelayTimer,window.clearTimeout(e));var t=this.opts.element,i=t.data(this._elemNm);this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.opts.list&&this.results?(this._cleanupList(this.results),this.dropdownListParent&&this.dropdownListParent.append(this.results)):this.isOjOption&&this.results&&(this._unwrapOjOptions(this.results),this.opts.element.append(this.results.children())),void 0!==i&&(this.ojContext._IsCustomElement()?this._cleanUpContainerForCustomElement():this._cleanUpContainerForWidget(),t.removeAttr("aria-hidden").removeData(this._elemNm).off("."+this._classNm).prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),this._clearActiveTimers()},_cleanUpContainerForWidget:function(){var e=this.opts.element,t=e.data(this._elemNm);t.container.after(e),t.container.remove(),t.dropdown.remove()},_cleanUpContainerForCustomElement:function(){var e=this.opts.element,t=e.data(this._elemNm);t.dropdown[0].removeEventListener("touchstart",this._delegatedDropdownTouchStartListener,{passive:!0}),delete this._delegatedDropdownTouchStartListener,t.container.empty(),t.container.off("click"),t.container.append(e),this._RestoreSlots()},_unwrapOjOptions:function(e){var t,i=e.children(),s=this;i.each(function(){(t=a(this)).is("li")&&(t.hasClass("oj-listbox-result-with-children")||t.children("oj-optgroup").length>0?(t.hasClass("oj-listbox-result-with-children")&&t.children(".oj-listbox-result-label").remove(),s._unwrapOjOptions(t.find("oj-optgroup").children()),t.find("oj-optgroup").children().children().unwrap(),t.find("oj-optgroup").unwrap()):t.hasClass("oj-listbox-result")?t.find("oj-option").unwrap().unwrap():t.find("oj-option").unwrap())})},_cleanupList:function(e){if(e&&e.is("ul")){e.removeClass("oj-listbox-results oj-listbox-result-sub"),e.removeAttr("role");for(var t=e.children().length-1;t>=0;t--)this._cleanupList(a(e.children()[t]))}else if(e.is("li")){(e.hasClass("oj-listbox-placeholder")||e.hasClass("oj-listbox-no-results"))&&e.remove(),e.attr("class")&&e.attr("class",e.attr("class").replace(/oj-listbox-\S+/g,""));var i=e.children(".oj-listbox-result-label");i&&i.contents().unwrap(),"none"===e.css("display")&&e.css("display",""),this._cleanupList(e.children("ul"))}},_optionToData:function(e){if(e.is("option")||e.is("oj-option"))return{value:e.prop("value")||e.attr("value"),label:e.text().trim()||e.attr("label"),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:"locked"===e.attr("locked")||!0===e.data("locked")};if(e.is("optgroup")||e.is("oj-optgroup"))return{label:e.prop("label")||e.attr("label"),disabled:e.prop("disabled"),children:[],element:e.get(),css:e.attr("class")};if(e.is("li")){var t,i,s,o=null,n=e.children();if(n&&n.length>0&&n.is("ul"))t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.clone().children().remove().end().text().trim(),i=e.attr("oj-data-value"),o=[];else if(n&&n.length>0&&n.is("oj-optgroup"))t=n.prop("label"),s=n.prop("disabled"),o=[];else{var a=e.find("oj-option");t=e.attr("oj-data-label")?e.attr("oj-data-label"):e.text().trim(),i=a.length>0?a.prop("value"):e.attr("oj-data-value"),s=a.length>0?a.prop("disabled"):void 0}return{value:i,label:t,disabled:s,element:e.get(),css:e.attr("class"),children:o}}},_prepareOpts:function(e){var t,i,s=e,o=this;s.options&&Array.isArray(s.options)&&s.optionsKeys&&(s.options=a.extend(!0,[],s.options));var r=(t=s.element).get(0).tagName.toLowerCase();if(s.ojContext._IsCustomElement()?!s.options&&s.element.children().length>0&&(i=a(t),this.datalist=i):"input"===r&&t.attr("list")?(i=a("#"+t.attr("list")),this.datalist=i):"select"===r&&t.children().length>0?(i=t,this.datalist=i):s.list&&(i=a("#"+s.list),this.datalist=i),(s=a.extend({},{populateResults:function(e,t,i,n){var l,h=this.opts.id,c=b.isTreeDataProvider(b.getDataProvider(this.opts)),u=this.opts.optionRenderer;if("function"!=typeof u&&(u=null),this.opts.ojContext._IsCustomElement()&&u){var d=u;u=function(e){var t=d(e);return!t||"OJ-OPTION"!==t.tagName&&"OJ-OPTGROUP"!==t.tagName?t&&t.insert?t.insert:null:(t.hasAttribute("data-oj-binding-provider")||t.setAttribute("data-oj-binding-provider","none"),t)}}(l=function(e,t,n,d,p){var f,m,v,_,g,y,j,x,C=function(e,t){if(t.children&&t.children.length>0){var i=t.element&&a(t.element[0]).is("li")&&a(t.element[0]).children("ul"),s=i?a(t.element[0]).children("ul"):a("<ul></ul>");s.hasClass("oj-listbox-result-sub")||s.addClass("oj-listbox-result-sub"),s.attr("role","group"),l(t,t.children,s,d+1,!1),i||e.append(s)}},O=function(e,t){e.length&&t&&t.length&&e.each(function(){!function e(t,i){var s=a(t).is("OJ-HIGHLIGHT-TEXT"),o=3===t.nodeType;if(s)t.setAttribute("match-text",i);else if(o){var n=t.data;if(""!==n.trim()){var r=document.createElement("oj-highlight-text");r.setAttribute("text",n),r.setAttribute("match-text",i),r.setAttribute("data-oj-internal",""),r.setAttribute("data-oj-binding-provider","none"),t.parentNode.replaceChild(r,t)}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var l=0;l<t.childNodes.length;l++)e(t.childNodes[l],i)}(this,t.toUpperCase())})},S=function(e){if(s.highlightTermInOptions(i)){var t=e.find(".oj-listbox-highlighter-section");t.length||(t=e),O(t,i.term)}},E=function(t,i){var o;if(u){var n=b.isDataProvider(s.options)?i.data:i,a={index:f,depth:d,leaf:!i.children,parent:e,data:n,component:s.ojContext,parentElement:t.get(0)};s.ojContext._FixRendererContext&&(a=s.ojContext._FixRendererContext(a));var r=u.call(s.ojContext,a);null!==r&&(null===r.parentNode||r.parentNode instanceof DocumentFragment)&&(t.get(0).appendChild(r),o=r)}else void 0!==(x=b.getLabel(i))&&(t.text(x),t.attr("aria-label",x));return S(t),o},V=o._getPlaceholder();for(p&&null!==V&&!i.term&&n.find(".oj-listbox-placeholder").length<=0&&("select"!==r||!o.ojContext._IsRequired())&&(v={value:"",label:V},(y=a("<li></li>")).addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),y.attr("role","presentation"),(j=a(document.createElement("div"))).addClass("oj-listbox-result-label"),j.attr("id","oj-listbox-result-label-"+b.nextUid()),j.attr("role","option"),void 0!==(x=b.getLabel(v))&&j.text(x),j.attr("aria-label",x),y.append(j),y.data(o._elemNm,v),n.prepend(y)),f=0,m=t.length;f<m;f++){g=!0===(v=t[f]).disabled,_=c?!v._jetUnSelectable:!g&&null!=h(v)&&null==v.children;var I=v.element&&a(v.element[0]).is("li");if((y=a(I?v.element[0]:"<li></li>")).hasClass("oj-listbox-result"))v.children&&v.children.length>0&&C(y,v),S(a(v.element[0]).children("div")),a(v.element[0]).css("display","");else{y.addClass("oj-listbox-results-depth-"+d),y.addClass("oj-listbox-result"),y.addClass(_?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),g&&y.addClass("oj-disabled"),v.children&&y.addClass("oj-listbox-result-with-children"),y.attr("role","presentation");var A="oj-listbox-result-label-"+b.nextUid();if((j=a(document.createElement("div"))).addClass("oj-listbox-result-label"),j.attr("id",A),j.attr("role","option"),g&&j.attr("aria-disabled","true"),e&&e.ariaLabelledById?v.ariaLabelledById=e.ariaLabelledById+" "+A:v.ariaLabelledById=A,!I){var w=E(j,v);if(y.append(j),w&&("OJ-OPTION"===w.tagName||"OJ-OPTGROUP"===w.tagName)&&(w.getAttribute("disabled")&&(y.removeClass("oj-listbox-result-selectable"),y.addClass("oj-listbox-result-unselectable oj-disabled"),j.attr("aria-disabled","true")),"OJ-OPTGROUP"===w.tagName&&w.hasAttribute("label"))){var P=w.getAttribute("label"),D=document.createTextNode(P);w.insertBefore(D,w.firstChild)}}if(v.children&&v.children.length>0&&C(y,v),y.data(o._elemNm,v),I){var T=a(v.element[0]);if(T.children("oj-optgroup").length>0){var N=T.children("oj-optgroup").prop("label")+"";T.prepend(j.text(N))}else T.children("oj-option").length>0?T.contents().wrapAll(j):T.contents().filter(function(){return"UL"!==this.tagName}).wrapAll(j);S(T.children("div")),T.css("display","")}else n.append(y)}}})(null,t,e,0,n)},highlightTermInOptions:function(e){return!(!0===e.initial)}},j,s)).id=function(e){return e.value},s.sanitizeData=function(e,t){var i=n.CollectionUtils.copyInto({},e);return t&&e.unparsedValue&&(i.value=e.unparsedValue),delete i.unparsedValue,i},s.parseData=function(e){var t,i,s=this.ojContext.multiple,o=(e||{}).value,n={};if(b.isValueForPlaceholder(!1,o))return e;s&&(o=[o]);try{t=this.ojContext._parseValue(o),i=this.ojContext._formatValue(t),n.value=Array.isArray(t)?t[0]:t,n.label=Array.isArray(i)?i[0]:i}catch(t){return e}return n},"select"!==r&&null!==s.manageNewEntry&&(s.manageNewEntry=function(e,t){var i,o={};return o.label=a.trim(e),o.value=o.label,i=o,null!=s.parseData&&(i=s.parseData(o),!0===t&&(i.unparsedValue=o.value)),i}),this.datalist)s.query=this._bind(function(e){var t,i,s={results:[],more:!1},n=e.term;i=function(t,s){var a,r,l=t.children()&&t.children().length>0&&(t.children().is("ul")||t.children().is("oj-optgroup"));t.is("option")||t.is("oj-option")||t.is("li")&&!l?e.matcher(n,t.text()||t.attr("label"),t)&&s.push(o._optionToData(t)):(t.is("optgroup")||t.is("oj-optgroup")||t.is("li")&&l)&&(a=o._optionToData(t),t.is("optgroup")||t.is("oj-optgroup")?r=t.children():t.children("oj-optgroup")?r=t.children().children("ul").children():t.children("ul").children(),b.each2(r,function(e,t){i(t,a.children)}),a.children.length>0&&s.push(a))},t=this.datalist.children(),void 0!==this._getPlaceholder()&&t.length>0&&""===t.first().attr("value")&&(t=t.slice(1)),b.each2(t,function(e,t){i(t,s.results)}),e.callback(s)});else if("options"in s){var l=s.options;b.getDataProvider(s)?s.query=function(e){e.value?b.fetchByKeyFromDataProvider(o,s,e):b.fetchFromDataProvider(o,s,e)}:a.isFunction(l)?s.query=b.remote(l,s.optionsKeys?s.optionsKeys:null):s.query=b.local(l,s.optionsKeys?s.optionsKeys:null)}return s},_createHeader:function(){var e=this.opts.element.find(".oj-listbox-header");if(e.length){this.header=a("<li>",{class:"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"}),this.header.append(e.children()),this._initializeHeaderItems();var t=a("<ul>",{class:"oj-listbox-results-with-header",role:"listbox"});t.append(this.header),t.appendTo(this.results.parent());var i=a("<li>",{role:"presentation"});t.append(i),this.results.attr("role","presentation"),this.results.appendTo(i)}this.headerInitialized=!0},_initializeHeaderItems:function(){this.headerItems=this.header.find("li[role='option'], li:not([role])"),this.headerItems.uniqueId(),this.header.find("ul").attr("role","presentation"),this.header.find("li:not([role])").attr("role","option");this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){a(this).attr("tabIndex",-1)})},_isHeaderItem:function(e){var t=!1;return this.headerItems.each(function(){return a(this).attr("id")!==e||(t=!0,!1)}),t},_getNextHeaderItem:function(e){if(!this.headerItems)return null;if(!e)return this.headerItems.first();var t=!1,i=null;return this.headerItems.each(function(){return t?(i=a(this),!1):(t=a(this).attr("id")===e,!0)}),i},_getPreviousHeaderItem:function(e){if(!this.headerItems)return null;var t=null;return this.headerItems.each(function(){return a(this).attr("id")!==e&&(t=a(this),!0)}),t},_setFocusOnHeaderItem:function(e){var t=e.find(".oj-component .oj-enabled").first();if(0===t.length){0===(t=e.find("a, input, select, textarea, button, object, .oj-component-initnode").first()).length&&(t=e.children().first())}t&&t.addClass("oj-focus oj-focus-highlight oj-focus-only")},_removeHighlightFromHeaderItems:function(){this.headerItems&&this.headerItems.find(".oj-focus").removeClass("oj-focus oj-focus-highlight oj-focus-only")},_triggerSelect:function(e){var t=a.Event(this._elemNm+"-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(t),!t.isDefaultPrevented()},_triggerInternalLoadingStateChange:function(e,t){const i={content:e,isLoading:t},s=a.Event(this._elemNm+"-internal-loading-state-changed",{detail:i});this.opts.element.trigger(s)},_isInterfaceEnabled:function(){return!0===this.enabledInterface},_enableInterface:function(){var e=this._enabled&&!(b.isReadonly(this.ojContext)||this._readonly);return e!==this.enabledInterface&&(b.isReadonly(this.ojContext)||this.container.toggleClass("oj-disabled",!e),this.close(),this.enabledInterface=e,!0)},_enable:function(e){var t=e;void 0===t&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!(t||b.isReadonly(this.ojContext))),this.container.toggleClass("oj-enabled",t),this._enableInterface())},_disable:function(){this._enable(!1)},_readonly:function(e){var t=e;return void 0===t&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this._enableInterface(),!0)},_opened:function(){return this.container.hasClass("oj-listbox-dropdown-open")},_getDropdownPositionElement:function(){return this.container[0].querySelector(".oj-text-field-container")},_usingHandler:function(e,t){if(n.PositionUtils.isAligningPositionClipped(t)){var i=b._addBusyState(this.container,"closing popup");return void(this._closeDelayTimer=window.setTimeout(function(){this.close(),i()}.bind(this),1))}const s=this.container,o=this.dropdown,a=this.results,r=n.PositionUtils.calcAvailablePopupSize(e,t),l=a.outerHeight(),h=o.outerHeight(!0)-l,c=r.height-h,u=Math.min(this._defaultResultsMaxHeight,c);a.css("max-height",u);const d=this._getDropdownPosition(!0);o.position(d),"bottom"===t.vertical?(s.addClass("oj-listbox-drop-above"),o.addClass("oj-listbox-drop-above")):(s.removeClass("oj-listbox-drop-above"),o.removeClass("oj-listbox-drop-above"))},_getDropdownPosition:function(e){var t={my:"start top",at:"start bottom",of:this._getDropdownPositionElement(),collision:"flip",offset:{x:0,y:this._dropdownVerticalOffset}};e||(t.using=this._usingHandler.bind(this));var i="rtl"===r.getReadingDirection(),s=n.PositionUtils.normalizeHorizontalAlignment(t,i);return s=n.PositionUtils.coerceToJet(s),(s=n.PositionUtils.coerceToJqUi(s)).of=t.of,s},_positionDropdown:function(){var e=this.dropdown,t=this._getDropdownPosition(),i=this.container;e.css("width",i.outerWidth());const s=this._dropdownPositioningProxyContainer,o=s.children(),n=o.find(".oj-listbox-results");s.appendTo(this.body()),o.css({width:e.outerWidth()}),n.css({height:n.css("max-height")}),o.position(t),s.detach()},_shouldOpen:function(e){if(this._opened())return!1;if(!1===this._enabled||b.isReadonly(this.ojContext)||!0===this._readonly)return!1;var t={component:this.opts.element};return this.ojContext._trigger("beforeExpand",e,t)},_clearDropdownAlignmentPreference:function(){this.container.removeClass("oj-listbox-drop-above"),this.dropdown.removeClass("oj-listbox-drop-above"),this.results.css("max-height","")},open:function(e,t,i){return!!this._shouldOpen(e)&&(this._opening(e,t,i),!0)},_opening:function(){this.headerInitialized||this._createHeader(),this.container.addClass("oj-listbox-dropdown-open"),this._showDropDown()},_showDropDown:function(){if(!this._opened())return;if("true"===this._getActiveContainer().attr("aria-expanded"))return;this._clearDropdownAlignmentPreference();if(n.ZOrderUtils.getStatus(this.dropdown)===n.ZOrderUtils.STATUS.OPEN)n.PopupService.getInstance().triggerOnDescendents(this.dropdown,n.PopupService.EVENT.POPUP_REFRESH);else{this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.appendTo(this.body()),this.header&&(this.dropdown.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show());var e={};e[n.PopupService.EVENT.POPUP_CLOSE]=a.proxy(this.close,this),e[n.PopupService.EVENT.POPUP_REMOVE]=a.proxy(this._surrogateRemoveHandler,this),e[n.PopupService.EVENT.POPUP_AUTODISMISS]=a.proxy(this._clickAwayHandler,this),e[n.PopupService.EVENT.POPUP_REFRESH]=a.proxy(this._positionDropdown,this);var t={};t[n.PopupService.OPTION.POPUP]=this.dropdown,t[n.PopupService.OPTION.LAUNCHER]=this.opts.element,t[n.PopupService.OPTION.EVENTS]=e,t[n.PopupService.OPTION.POSITION]=this._getDropdownPosition(),t[n.PopupService.OPTION.LAYER_SELECTORS]="oj-listbox-drop-layer",t[n.PopupService.OPTION.CUSTOM_ELEMENT]=this.ojContext._IsCustomElement(),n.PopupService.getInstance().open(t),a("#oj-listbox-drop").removeAttr("id"),this.dropdown.attr("id","oj-listbox-drop");var i=this.containerId;this.dropdown.attr("data-oj-containerid",i)}this._positionDropdown(),this._getActiveContainer().attr("aria-expanded",!0)},close:function(e,t){if(this.shouldReopenOnNewData=!0===t,this._opened()){this.container.removeClass("oj-listbox-dropdown-open");var i=this._getActiveContainer().attr("aria-expanded");if(delete this.ojContext._resolveSearchBoxLater,i&&"false"!==i){var s=this.containerId,o="scroll."+s,r="resize."+s,l="orientationchange."+s;this.container.parents().add(window).each(function(){a(this).off(o).off(r).off(l)}),this._clearDropdownAlignmentPreference();var h={};h[n.PopupService.OPTION.POPUP]=this.dropdown,n.PopupService.getInstance().close(h),this.header&&(this.header.hide(),this.header.appendTo(this.container)),this.dropdown.removeAttr("data-oj-containerid"),this.dropdown.removeAttr("id"),this.opts.list||this.isOjOption?this._removeHighlight():(this.dropdown.detach(),this.results.empty()),this.dropdown.appendTo(this.container),this._getActiveContainer().attr("aria-expanded",!1),this._updateMatchesCount("",!0),"ojcombobox"===this._elemNm&&this._getActiveContainer().removeAttr("aria-activedescendant"),a.removeData(this.container,this._classNm+"-last-term"),delete this.ojContext._resultCount}}},_setPickerAttributes:function(t){e.EditableValueUtils.setPickerAttributes(this.dropdown,t)},_clearSearch:function(){},_ensureHighlightVisible:function(){var e,t,i,s,o,n,r=this.results,l=this._highlight();l<0||(e=this._findHighlightableChoices(),i=(t=a(e[l])).offset().top+t.outerHeight(!0),l===e.length-1&&(n=r.find("li.oj-listbox-more-results")).length>0&&(i=n.offset().top+n.outerHeight(!0)),i>(s=r.offset().top+r.outerHeight(!0))&&r.scrollTop(r.scrollTop()+(i-s)),(o=t.offset().top-r.offset().top)<0&&"none"!==t.css("display")&&r.scrollTop(r.scrollTop()+o))},_findHighlightableChoices:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!==a(this).css("display")})},_moveHighlight:function(e){var t=this._findHighlightableChoices(),i=this._highlight();if(this.header&&(i<=0||i===t.length-1)){var s=this._getActiveContainer().attr("aria-activedescendant"),o=this._isHeaderItem(s);o||(s=null);var n=null;if(e>0&&(i<0||i===t.length-1)?n=this._getNextHeaderItem(s):e<0&&(o&&i<0||0===i)&&(n=this._getPreviousHeaderItem(s)),n)return this._removeHighlight(),this._setFocusOnHeaderItem(n),void this._getActiveContainer().attr("aria-activedescendant",n.attr("id"));o&&e<0&&(i=0)}for(;i>=-1&&i<t.length;){(i+=e)===t.length?i=0:-1===i&&(i=t.length-1);var r=a(t[i]);if(r.hasClass("oj-listbox-result-selectable")&&!r.hasClass("oj-disabled")&&!r.hasClass("oj-selected")){this._highlight(i,!0);break}}},_highlight:function(e,t,i){let s=e;const o=this._findHighlightableChoices();let n,r;if(0===arguments.length){var l=o.filter(".oj-hover");return l.length||(l=o.children(".oj-hover").closest(".oj-listbox-result")),this._updateMatchesCount(l.text()),o.get().indexOf(l[0])}return s>=o.length&&(s=o.length-1),s<0&&(s=0),this._removeHighlight(),n=a(o[s]),r=n,n.hasClass("oj-listbox-result-with-children")&&(r=n.children(".oj-listbox-result-label")),r.addClass("oj-hover"),t&&(r.addClass("oj-listbox-result-keyboard-focus"),i||r.addClass("oj-focus-highlight")),this._updateMatchesCount(r.text()),this._getActiveContainer().attr("aria-activedescendant",n.find(".oj-listbox-result-label").attr("id")),this._ensureHighlightVisible(),0},_removeHighlight:function(){this.results.find(".oj-hover").removeClass("oj-hover oj-listbox-result-keyboard-focus oj-focus-highlight"),this._removeHighlightFromHeaderItems(),"ojcombobox"===this._elemNm&&this._getActiveContainer().removeAttr("aria-activedescendant")},_highlightUnderEvent:function(e){var t=a(e.target).closest(".oj-listbox-result-selectable");if(t.length>0&&!t.is(".oj-hover")){var i=this._findHighlightableChoices();this._highlight(i.index(t))}else 0===t.length&&this._removeHighlight()},_updateMatchesCount:function(e,t){if(!this.dropdown.find(".oj-listbox-filter-message-text").length||!0===t){var i=this.container.find(".oj-listbox-liveregion");i.length&&i.text(e)}},_updateResults:function(e,t){var i=this.search,s=this,o=i.val(),n=a.data(this.container,this._classNm+"-last-term");if((!0===e||!n||o!==n||!0===this.opts.multiple||t)&&(n||o||!e||"input"!==e.type)){a.data(this.container,this._classNm+"-last-term",o);var r=this.opts.minLength||0;o.length>=r?(this._queryTimer&&this._queryTimer.clear(),e&&!0!==e?(this._queryResolveBusyState=b._addBusyState(this.container,"query results"),this._queryTimer=h.getTimer(b.DEFAULT_QUERY_DELAY),this._queryTimer.getPromise().then(function(t){t&&s._queryResults(e)}).then(this._queryResolveBusyState)):this._queryResults(e)):this.close()}},_queryResults:function(e){var t,i,s=this.search,o=this.results,n=this.opts,a=this,r=s.val();function l(){if(a._positionDropdown(),a.header&&a.headerItems.length){var e=a._findHighlightableChoices(),t=a.headerItems.length+e.length;if(a.headerItems.attr("aria-setsize",t),e.length){var i=e.children("[role='option']");i.attr("aria-setsize",t),i.first().attr("aria-posinset",a.headerItems.length+1)}}}(n.minLength||0)>r.length?this.close():(this.open(null,!0),b.updateDropdownLoadingState(this,!0),this.queryCount+=1,i=this.queryCount,this._removeHighlight(),r=null!=(t=this.search.val())&&(!0!==e||n.inputSearch||"rawValue"===n.filterOnOpen||n.minLength>0)?t:"",this.resultsPage=1,n.query({element:n.element,term:r,page:this.resultsPage,context:null,matcher:n.matcher,callback:this._bind(function(t){if(b.updateDropdownLoadingState(this,!1),i!==this.queryCount)return;if(!this._opened())return;n.ojContext._hasMore||b.removeDropdownMessage(a.dropdown),this.results.removeClass("oj-helper-hidden"),this.context=t&&void 0!==t.context?t.context:null;const r=!t||t.results&&0===t.results.length,h=this._isDataSelected(t)&&this.ojContext.isValid(),c=b.checkFormatter(n.formatNoMatches,"formatNoMatches"),u=b.checkFormatter(n.formatNoMoreResults,"formatNoMoreResults");if(r&&c||h&&u){let e;if(e=h?n.formatNoMoreResults(a.ojContext):n.formatNoMatches(a.ojContext),"oj-select"===this._classNm||this.header){if(this._showDropDown(),this._preprocessResults(o),b.addDropdownMessage(a.dropdown,a.ojContext,e),this.results.addClass("oj-helper-hidden"),!this._hasSearchBox()){var d=a.dropdown.find(".oj-listbox-filter-message-separator");d.length&&d.css("display","none")}l()}else this.close(null,!0);this._updateMatchesCount(e)}else b.saveLastQueryResult(this,t.results),this._showDropDown(),this._preprocessResults(o),a.opts.populateResults.call(this,o,t.results,{term:s.val(),page:this.resultsPage,context:null,initial:e},this._showPlaceholder()),this._postprocessResults(t,e),l(),this._updateMatchesCount(n.formatMoreMatches(a.ojContext,this._findHighlightableChoices().length))}),cleanup:this._bind(function(){b.updateDropdownLoadingState(this,!1)})}))},_preprocessResults:function(e){if(this.opts.list||this.isOjOption){var t=e.children();this._hideResultList(t)}else e.empty()},_processAriaLabelForHierarchy:function(){var e=this.results.find(".oj-listbox-result-with-children");if(0!==e.length){var t=this,i=function(e){var i=e.find(".oj-listbox-result-label"),s=e.data(t._elemNm).ariaLabelledById;s&&i&&i.attr("aria-labelledby",s)};b.each2(e,function(e,t){var s=t.find(".oj-listbox-result-selectable:visible");s&&s.length>0&&(i(a(s[0])),s.length>1&&i(a(s[s.length-1])))})}},_normalizeHighlighterLabel:function(e){var t;if((t=e.children("div").children("oj-option").length>0?e.children("div").children("oj-option").find("oj-highlight-text"):e.children("div").children("oj-highlight-text")).length>0)for(var i=0;i<t.length;i++){var s=t[i],o=s.getAttribute("text")||"",n=document.createTextNode(o);s.parentElement.replaceChild(n,s)}},_hideResultList:function(e){for(var t=0;t<e.length;t++){var i,s=a(e[t]);s.is("LI")&&((s.hasClass("oj-listbox-no-results")||s.hasClass("oj-listbox-placeholder"))&&s.remove(),s.css("display","none"),s.hasClass("oj-selected")&&s.removeClass("oj-selected"),this._normalizeHighlighterLabel(s)),(i=s.children("oj-optgroup")?s.children("oj-optgroup").children("ul"):s.children("ul"))&&i.children()&&this._hideResultList(i.children())}},_cancel:function(e){this.close(e)},_focusSearch:function(){b._focus(this,this.search)},_selectHighlighted:function(e,t,i){var s=e;if(this.header){var o=this._getActiveContainer().attr("aria-activedescendant");if(this._isHeaderItem(o)){var n=a("#"+o),r=n.find("a, input, select, textarea, button, object").first();return 0===r.length&&(r=n.children()),r.length&&r[0].click(),void this.close(t)}}var l=this._highlight(),h=this._getHighlightedForSelection(i);if(h){this._highlight(l);var c=this.getVal();(s=s||{}).trigger=b.ValueChangeTriggerTypes.OPTION_SELECTED;var u=this._onSelect(h,s,t);u instanceof Promise?u.then(this._bind(function(e){e&&(this._triggerUpdateEvent(h,s,t),this._triggerValueUpdatedEvent(h,c))})):!1!==u&&(this._triggerUpdateEvent(h,s,t),this._triggerValueUpdatedEvent(h,c)),t&&"keydown"===t.type&&(this.enterKeyEventHandled=!0)}},_getHighlightedForSelection:function(e){let t;return t="oj-select"!==this._classNm&&e?this.results.find(".oj-hover.oj-listbox-result-keyboard-focus"):this.results.find(".oj-hover"),t.closest(".oj-listbox-result").data(this._elemNm)},_getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},_setPlaceholder:function(){var e=this._getPlaceholder();if(this.ojContext.multiple&&"oj-select"===this._classNm){var t=this.selection.find(".oj-select-default");t.length>0?t.text(e):this._clearSearch()}else e?this.search.attr("placeholder",e):this.search.removeAttr("placeholder")},_initContainerWidth:function(){var e=function(){var e,t,i,s,o;if(null!=(e=this._getAttribute("style")))for(s=0,o=(t=e.split(";")).length;s<o;s++)if(null!==(i=t[s].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1];return null}.call(this);null!==e&&this.container.css("width",e)},valHasChanged:function(){var e=this.container;b.duringFetchByKey(e)&&(b.setValueChanged(this.ojContext,!0),this.ojContext.multiple||b.updateLoadingState(this,!1))},getVal:function(){return this.ojContext.option("value")},getRawValue:function(){return this.ojContext.option("rawValue")},setVal:function(e,t,i){this.valHasChanged();var s={doValueChangeCheck:!1};i&&(s._context=i);var o=this.ojContext.multiple;if(!this._skipSetValueOptions)if(b.isValueForPlaceholder(o,e)&&null!==this._getPlaceholder())this.setValOpts(b.getFixupValueOptionsForPlaceholder(o));else{var a,r=b.getLastQueryResult(this);r&&(a=o?b.findOptions(r,e):b.findOption(r,e)),a?this.setValOpts(a):"oj-combobox"===this._classNm?this.ojContext._resolveValueOptionsLater=null!=b.findOption(this.getValOpts(),e):this.ojContext._resolveValueOptionsLater=!0}var l=this.getVal(),h=null;return Array.isArray(e)||this.ojContext._IsCustomElement()?!n.Object.compareValues(l,e)||b.hasInvalidComponentMessages(this.ojContext)?h=this.ojContext._SetValue(e,t,s):"oj-combobox"!==this._classNm||o||this.ojContext._SetDisplayValue(e):!n.Object.compareValues(l,[e])||b.hasInvalidComponentMessages(this.ojContext)?h=this.ojContext._SetValue([e],t,s):"oj-combobox"!==this._classNm||o||this.ojContext._SetDisplayValue([e]),h},getValOpts:function(){var e=this.ojContext;return e.multiple?e.option("valueOptions"):e.option("valueOption")},setValOpts:function(e){var t=this.ojContext,i=t.multiple,s=b.getFixupValueOptionsForPlaceholder(i),o=i?t.options.valueOptions:t.options.valueOption;b.isValueOptionsForPlaceholder(i,e)&&b.isValueOptionsForPlaceholder(i,o)&&b.isPlaceholderSpecified(t.options)?i?t.options.valueOptions=s:t.options.valueOption=s:n.Object.compareValues(e,this.getValOpts())||b.setValueOptions(t,e),i?this.opts.valueOptions=e:this.opts.valueOption=e},_triggerUpdateEvent:function(e,t,i){},_triggerValueUpdatedEvent:function(e,t){},_showPlaceholder:function(){return!1},_getActiveContainer:function(){return this.search},_getAttribute:function(e){return this.opts.ojContext._IsCustomElement()?this.opts.ojContext.OuterWrapper.getAttribute(e):this.opts.element.attr(e)},_getTransferredAttribute:function(e){return this.opts.element.attr(e)},_showSearchBox:function(e){var t=!1,i=this.dropdown.find(".oj-listbox-search");if(i&&(this._hasSearchBox()?(this.dropdown.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),a(i).removeAttr("aria-hidden"),this.search.val(e),t=!0):(this.dropdown.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),a(i).attr("aria-hidden","true"))),b._focus(this,t?this.search:this.selection),t){var s=this;i.find(".oj-listbox-spyglass-box").on("mouseup click",function(e){s.search.focus(),e.preventDefault()})}},_hasSearchBox:function(){if(this._userTyping)return!0;var e,t=this.opts.minimumResultsForSearch;if(this.opts.list)e=a("#"+this.opts.list).find("li").length;else if(b.isDataProvider(this.opts.options)){if(void 0===this.ojContext._resultCount)return this.ojContext._resolveSearchBoxLater=!0,!1;e=this.ojContext._resultCount,delete this.ojContext._resolveSearchBoxLater}else this.datalist?e=this.ojContext._IsCustomElement()?this.datalist.children().find("oj-option").length:this.datalist[0].length:this.opts.options&&(e=this.opts.options.length);return e>t},_hasHiddenSearchBox:function(){return"true"===this.dropdown.find(".oj-listbox-search").attr("aria-hidden")},_isDataSelected:function(e){return!1},_findItem:function(e,t){for(var i=0;i<e.length;i++)if(a(e[i]).data(this._elemNm).value===t)return e[i];return null},_UpdateValueOptionsWithConverter:function(){},_SyncRawValue:function(e,t){},_ShouldToggleDropdown:function(e){return this._isInterfaceEnabled()&&0===e.button},_ShouldCreateNewEntry:function(e){if(!this.opts.manageNewEntry)return!1;const t=e?".oj-hover.oj-listbox-result-keyboard-focus":".oj-hover",i=this.results.find(t);return this.search.val()&&0===i.length},_selectItemByValue:function(e){const t=this.ojContext.options,i={trigger:b.ValueChangeTriggerTypes.ENTER_PRESSED},s=b.getNormalizedValueArray(e);return t.options?(this._idsFromDropdown.clear(),b.isDataProvider(t.options)?this._selectItemFromDataProvider(s,i):this._selectItemFromArray(s,i)):this.isOjOption?(this._idsFromDropdown.clear(),this._selectItemFromOjOptions(s,i)):Promise.reject("Unsupported options")},_selectItemFromDataProvider:function(e,t){const i=b.getDataProvider(this.opts);let s=new Set(e);return i.fetchByKeys({keys:s}).then(this._bind(function(i){const s=i.results;let o=[];return e.forEach(this._bind(function(e){let t;if(s.has(e)){const i=s.get(e),o=i.data,n=i.metadata;t=b.createItemResult(o,n),this._idsFromDropdown.add(e)}else t=this._getItemForCustomInput(e);null!=t&&o.push(t)})),this._InvokeSelection(o,t)}))},_selectItemFromArray:function(e,t){const i=this.ojContext.options.options,s=this.ojContext.options.optionsKeys||{};let o=new Map,n=[];if(!Array.isArray(i))return Promise.reject("Unsupported options");for(let t=0;t<i.length;t++){const n=i[t],a=b.lookupOptionKeys(n,s,"value");if(e.includes(a)&&(o.set(a,n),e.length===o.size))break}return e.forEach(this._bind(function(e){let t;o.has(e)?(t=o.get(e),this._idsFromDropdown.add(e)):t=this._getItemForCustomInput(e),null!=t&&(null!=s.value&&(t.value=t[s.value]),null!=s.label&&(t.label=t[s.label]),n.push(t))})),this._InvokeSelection(n,t)},_selectItemFromOjOptions:function(e,t){const i=this.datalist.find("oj-option");let s=new Map,o=[];return b.each2(i,this._bind(function(t,i){const o=this._optionToData(i);o&&e.includes(this.id(o))&&s.set(this.id(o),o)})),e.forEach(this._bind(function(e){let t;s.has(e)?(t=s.get(e),this._idsFromDropdown.add(e)):t=this._getItemForCustomInput(e),null!=t&&o.push(t)})),this._InvokeSelection(o,t)},_getItemForCustomInput:function(e){return this.opts.manageNewEntry?(this.shouldApplyConverter=!0,this.opts.manageNewEntry(e,!0)):null},_InvokeSelection:function(e,t){},_clearActiveTimers:function(){this._focusTimer&&(this._focusTimer.clear(),delete this._focusTimer),this._loadingIndicatorTimer&&(this._loadingIndicatorTimer.clear(),delete this._loadingIndicatorTimer),this._dropdownLoadingIndicatorTimer&&(this._dropdownLoadingIndicatorTimer.clear(),delete this._dropdownLoadingIndicatorTimer),this._queryTimer&&(this._queryTimer.clear(),delete this._queryTimer)}}),C=b.clazz(x,{applyReadonlyState:function(){C.superclass.applyReadonlyState.apply(this,arguments),b.applyValueOptions(this,this.opts)},_prepareOpts:function(){var e=C.superclass._prepareOpts.apply(this,arguments),t=this,i=e.element.get(0).tagName.toLowerCase();if("input"===i&&e.element.attr("list")||"select"===i&&e.element.children().length>0||e.ojContext._IsCustomElement()&&!e.options||e.list){var s=e.list?"li":"option";e.ojContext._IsCustomElement()&&(s="oj-option"),e.initSelection=function(o,a){var r,l=[];if(t._idsFromDropdown.clear(),t.getVal())for(var h=t.getVal(),c=0;c<h.length;c++){var u=h[c];if((r=o.find(s).filter(function(){var e;return"li"===s?e=this.getAttribute("oj-data-value"):"option"!==s&&"oj-option"!==s||(e=this.value),n.Object.compareValues(e,u)}))&&r.length){let i=t._optionToData(r);l.push(i),t._idsFromDropdown.add(e.id(i))}else"ojcombobox"===t._elemNm&&l.push(e.parseData({value:u,label:u}))}else"select"!==i&&(r=o.find(s).filter(function(){return"option"===s?this.selected:"li"===s?!0===this.getAttribute("oj-data-selected"):"oj-option"===s&&!0===this.getAttribute("selected")}),b.each2(r,function(i,s){let o=t._optionToData(s);l.push(o),t._idsFromDropdown.add(e.id(o))}));a(l)}}else"options"in e&&(b.isDataProvider(e.options)||a.isFunction(e.options)?e.initSelection=function(i,s){var o=function(t,i){for(var s=[],n=0,r=t.length;n<r;n++){var l=t[n];if(i.indexOf(e.id(l))>=0&&s.push(l),l.children){var h=o(l.children,i);h&&h.length&&a.merge(s,h)}}return s},r=t.getVal(),l=[];t._idsFromDropdown.clear();var h=b.getLastQueryResult(t);h&&(l=o(h,r));var c=function(){for(var i=[],o=0;o<r.length;o++){for(var a=r[o],h=!1,c=0;c<l.length;c++){var u=l[c];if(n.Object.compareValues(a,e.id(u))){i.push(u),t._idsFromDropdown.add(e.id(u)),l.splice(c,1),h=!0;break}}if(!h){var d=t.currentItem;if(d&&d.length)for(var p=0;p<d.length;p++)if(n.Object.compareValues(a,e.id(d[p]))){i.push(d[p]),h=!0;break}h||"ojcombobox"!==t._elemNm||i.push(e.parseData({value:a,label:a}))}}s(i)};t.valueChangeTrigger?c():(b.updateLoadingState(t,!0),e.query({value:r,callback:function(i){if(b.updateLoadingState(t,!1),i&&i.results){var s=o(i.results,r);if(s&&s.length){var h=s;if(b.isDataProvider(e.options)){h=[];var u=t.getVal();if(n.Object.compareValues(r,u)&&!b.isValueChanged(t.ojContext))h=s;else{var d,p,f=t.getValOpts();u.forEach(function(e){for(p=!1,d=0;d<f.length;d++)if(n.Object.compareValues(f[d].value,e)){p=!0,h.push(f[d]);break}if(!p)for(d=0;d<s.length;d++)if(n.Object.compareValues(s[d].value,e)){h.push({value:s[d].value,label:s[d].label});break}}),r=u,b.setValueOptions(t.ojContext,h)}}a.merge(l,h)}}b.setValueChanged(t.ojContext,void 0),c()},cleanup:a.noop}))}:e.initSelection=function(i,s){var o=t.getVal();if(o&&0!==o.length){var r=[];t._idsFromDropdown.clear(),e.query({matcher:function(t,i,s){var l=a.grep(o,function(t){return n.Object.compareValues(t,e.id(s))}).length;return l&&r.push(s),l},callback:a.isFunction(s)?function(){for(var i=[],a=0;a<o.length;a++){for(var l=o[a],h=!1,c=0;c<r.length;c++){var u=r[c];if(n.Object.compareValues(l,e.id(u))){i.push(u),t._idsFromDropdown.add(e.id(u)),r.splice(c,1),h=!0;break}}h||"ojcombobox"!==t._elemNm||i.push(e.parseData({value:l,label:l}))}s(i)}:a.noop,cleanup:a.noop})}});return e},_selectChoice:function(e){var t=this.container.find("."+this._classNm+"-selected-choice.oj-focus"),i=t&&t.length>0,s=e&&e.length>0;(!i&&s||i&&!s||i&&s&&e[0]!==t[0])&&(i&&(this.opts.element.trigger("choice-deselected",t),t.removeClass("oj-focus")),s&&(this.close(),e.addClass("oj-focus"),this.container.find("."+this._classNm+"-description").text(e.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.opts.element.trigger("choice-selected",e)))},_destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.container.off("mousedown"),C.superclass._destroy.apply(this,arguments)},_initContainer:function(){var e,t="."+this._classNm+"-accessible-container",i=b.nextUid(),s=this._getTransferredAttribute("aria-label"),o=this._getTransferredAttribute("aria-controls");this.searchContainer=this.container.find("."+this._classNm+"-search-field");var n=this.container.find(t);this.selection=n;var r=this;this.selection.on("click","."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)",function(){"ojcombobox"===r._elemNm&&r.search[0].focus(),r._selectChoice(a(this))}),"ojselect"===this._elemNm&&this.selection.on("blur",function(){r._selectChoice(null)}),this._contentElement="ojcombobox"===this._elemNm?this.search:this.selection,n.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+i),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+i),this._contentElement.attr("aria-owns",this.results.attr("id")),this.ojContext._IsCustomElement()||((e=a("label[for='"+this._getAttribute("id")+"']")).attr("id")||e.attr("id",this._classNm+"-label-"+i),this._contentElement.attr("aria-labelledby",e.attr("id")),this.opts.element.attr("aria-labelledby",e.attr("id")),this.search.attr("id")&&e.attr("for",this.search.attr("id"))),s&&this._contentElement.attr("aria-label",s),o&&this._contentElement.attr("aria-controls",o),this.elementTabIndex&&this._contentElement.attr("tabindex",this.elementTabIndex),this.keydowns=0,"ojselect"===this._elemNm&&(this.selection.on("keydown",this._bind(this._containerKeydownHandler)),this.selection.on("keyup",this._bind(function(){this.keydowns=0}))),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup",this._bind(function(){this.keydowns=0})),this.search.on("compositionstart",this._bind(function(){this.ojContext._isComposing=!0})),this.search.on("compositionend",this._bind(function(e){this.ojContext._isComposing=!1,this._onSearchInputHandler(e)})),this.search.on("input",this._bind(function(e){this.ojContext._isComposing&&!this._isAndroidDevice||this._onSearchInputHandler(e)})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(this._ShouldCreateNewEntry("keyup"===e.type)){this.shouldApplyConverter=!0;var t=this.opts.manageNewEntry(this.search.val(),!0),i={trigger:"blur"===e.type?b.ValueChangeTriggerTypes.BLUR:b.ValueChangeTriggerTypes.ENTER_PRESSED},s=this._onSelect(t,i,e);s instanceof Promise?s.then(this._bind(function(){delete this.shouldApplyConverter,this._clearSearchOnBlur()})):(delete this.shouldApplyConverter,this._clearSearchOnBlur())}this._selectChoice(null),"blur"===e.type&&(this.isSearchFocused=!1,this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")),e.stopImmediatePropagation()}})),this.container.on("mousedown",".oj-text-field-container",this._bind(this._mouseDownHandler)),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._clearSearch()},_mouseDownHandler:function(e){this._ShouldToggleDropdown(e)&&(this.selection.removeClass("oj-focus-highlight"),this.container.removeClass("oj-focus-highlight"),a(e.target).closest("."+this._classNm+"-selected-choice").length>0||(this._selectChoice(null),this._opened()?(this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch()):(this.open(e),("ojcombobox"===this._elemNm||this._hasSearchBox())&&this._focusSearch())))},_onSearchInputHandler:function(e){this._SyncRawValue(e,!0)},_containerKeydownHandler:function(e){if(!this._isInterfaceEnabled())return;this.keydowns+=1;var t=this.selection.find("."+this._classNm+"-selected-choice.oj-focus"),i=t.prev("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),s=t.next("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)"),o="ojselect"!==this._elemNm||this._userTyping?b.getCursorInfo(this.search):b.getCursorInfo(this.selection);const n=e.which||e.keyCode;if(t.length&&(n===b.KEY.LEFT||n===b.KEY.RIGHT||n===b.KEY.BACKSPACE||n===b.KEY.DELETE||n===b.KEY.ENTER)){var a=t;return n===b.KEY.LEFT&&i.length?a=i:n===b.KEY.RIGHT?a=s.length?s:null:n===b.KEY.BACKSPACE?(this._unselect(t.first(),e),this._resetSearchWidth(),a=i.length?i:s):n===b.KEY.DELETE?(this._unselect(t.first(),e),this._resetSearchWidth(),a=s.length?s:null):n===b.KEY.ENTER&&(a=null),this._selectChoice(a),e.preventDefault(),void(a&&a.length||this.open(e))}if(this._isBackNavAllowed()&&0===o.offset&&!o.length&&(n===b.KEY.BACKSPACE&&1===this.keydowns||n===b.KEY.LEFT))return this._selectChoice(this.selection.find("."+this._classNm+"-selected-choice:not(."+this._classNm+"-locked)").last()),void e.preventDefault();if(this._selectChoice(null),!b.KEY.isControl(e)&&!b.KEY.isFunctionKey(e)){switch(n){case b.KEY.UP:case b.KEY.DOWN:return this._opened()?this._moveHighlight(n===b.KEY.UP?-1:1):this.open(e),void e.preventDefault();case b.KEY.PAGE_UP:case b.KEY.PAGE_DOWN:return void e.preventDefault();case b.KEY.ENTER:return this._opened()&&(this._selectHighlighted(null,e,!0),e.stopPropagation()),void e.preventDefault();case b.KEY.TAB:return void this.close(e);case b.KEY.ESC:return this._cancel(e),void e.preventDefault()}this._userTyping=!0}},_isBackNavAllowed:function(){return"ojselect"!==this._elemNm||document.activeElement!==this.search[0]},_enableInterface:function(){C.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!(this._isInterfaceEnabled()||b.isReadonly(this.ojContext)))},_initSelection:function(e){var t=this.getVal();if(null!==t&&0!==t.length||"oj-select"!==this._classNm&&""!==this.opts.element.text().trim()||(this._updateSelection(e||[]),this.close(),this._clearSearch()),this.datalist||null!==this.getVal()&&this.getVal().length){var i,s=this;i=this.datalist?this.datalist:this.opts.element,b.applyValueOptions(this,this.opts)||this.opts.initSelection.call(null,i,function(e){null!=e&&0!==e.length&&(s._updateSelection(e),s.close(),s._clearSearch())})}},_focus:function(){this.close(),this.search.focus()},_updateSelection:function(e){var t,i=[],s=[],o=this;a(e).each(function(){i.indexOf(o.id(this))<0&&(i.push(o.id(this)),s.push(this))}),s&&s.length>0&&("oj-combobox"===this._classNm||"oj-select"===this._classNm)&&("init"!==this.opts.fetchType&&this._skipSetValueOptions?b.isDataProvider(this.opts.options)&&(s=b.findOptions(this.opts.valueOptions,i)):this.setValOpts(s)),this.selection.find("."+this._classNm+"-selected-choice").remove(),this.selection.find(".oj-select-default").remove(),this._updateAriaDescribedBy(null,!0),t=s.length-1,a(s).each(function(e,i){var s=e===t;o._addSelectedChoice(i,s)}),this.currentItem=s,this.currentValue=i,o._postprocessResults()},_updateAriaDescribedBy:function(e,t){var i=this._contentElement,s=this.selection,o=i.attr("aria-describedby")||"",n=!1,a=o;t&&(this._ariaDescribedByAdded.forEach(function(e){a=a.replace(e,""),n=!0}),a=a.trim().replace(/\s\s+/g," "),this._ariaDescribedByAdded=[]),e&&(a=(a+" "+e).trim(),this._ariaDescribedByAdded.push(e),n=!0),n&&(i.attr("aria-describedby",a),"oj-combobox"===this._classNm&&s.attr("aria-describedby",a))},_onSelect:function(e,t,i){if(!this._triggerSelect(e))return!1;var s;t&&t.trigger&&(s={optionMetadata:{trigger:t.trigger}});var o=this.getVal()?this.getVal().slice(0):[],n=this.getValOpts()?this.getValOpts().slice(0):[],a=n.slice(0),r="oj-combobox"===this._classNm||"oj-select"===this._classNm;this.ojContext.isValid()||(o=this.currentValue.slice(0),a=this.currentItem.slice(0),this.forceApplyConverter=!0);var l,h,c,u,d,p,f=[],m=[],v=b.getOpts(this.ojContext),_=!!v&&b.isDataProvider(v.options),g=null,y=null,j=this.hasUncommittedValue;if(_)for(var x=0;x<a.length;x++)d=a[x],c=this.id(d),a[x]=b.findOptionFromResult(this,c,d),f.push(a[x].data),m.push(a[x].metadata);if(h=this.sanitizeData(e,!0),l=this.sanitizeData(e),c=this.id(h),u=this.id(l),b.getDataProviderKeySet(this.ojContext,o).has(u)||""===c||(o.push(c),r&&(p=b.findOptionFromResult(this,u,l),a.push(p),this.shouldApplyConverter&&l===p||this._idsFromDropdown.add(u),_&&(f.push(p.data),m.push(p.metadata)))),r&&(this._skipSetValueOptions=!0,this.setValOpts(a)),s=b.getContextWithExtraData(s,v,f,m),this.hasUncommittedValue=!1,(g=this.setVal(o,i,s))instanceof Promise)y=g.then(this._bind(function(t){return this._afterOnSelectSetVal(t,e,n,j),t}));else{var C=!1!==g;this._afterOnSelectSetVal(C,e,n,j),y=g}return this.opts.closeOnSelect&&this.close(i),t&&t.trigger===b.ValueChangeTriggerTypes.BLUR||"ojcombobox"!==this._elemNm||this._focusSearch(),y},_afterOnSelectSetVal:function(e,t,i,s){var o="oj-combobox"===this._classNm||"oj-select"===this._classNm;!1===e&&(this.hasUncommittedValue=s,o&&this.setValOpts(i)),this._skipSetValueOptions=!1,delete this.forceApplyConverter,!this.select&&this.opts.closeOnSelect||this._postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect&&this.ojContext.isValid()&&this._resetSearchWidth()},_cancel:function(e){this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch()},_createChoice:function(e,t,i){var s;if(e)if(t){if(s=a("<li class='"+this._classNm+"-selected-choice'>    <div></div></li>"),!i){var o=f.getTranslatedString("oj-converter.plural-separator"),n=a("<span class='"+this._classNm+"-selected-choice-separator'></span>");n.text(o),s.append(n)}}else s=a("<li class='"+this._classNm+"-selected-choice'>    <div></div>    <span role='button' aria-label='remove' class='"+this._classNm+"-clear-entry       oj-component-icon oj-default oj-clickable-icon-nocontext "+this._classNm+"-clear-entry-icon' tabindex='-1'>    </span></li>");else s=a("<li class='"+this._classNm+"-selected-choice "+this._classNm+"-locked'><div></div></li>");return s},_addSelectedChoice:function(e,t){var i,s=!e.locked,o=this.ojContext.options.readOnly,n=this._createChoice(s,o,t);if(void 0!==(i=b.getLabel(e))){var r=this._classNm+"-selected-choice-label-"+b.nextUid();n.find("div").addClass(this._classNm+"-selected-choice-label").text(i).attr("id",r),n.find("."+this._classNm+"-clear-entry").attr("aria-label",i+" remove"),n.attr("valueText",i),n.attr("aria-labelledby",r),this._updateAriaDescribedBy(r,!1)}s&&!o&&n.find("."+this._classNm+"-clear-entry").on("mousedown",b.killEvent).on("click dblclick",this._bind(function(e){if(this._isInterfaceEnabled()){var t=b._addBusyState(this.container,"unselecting "+i);a(e.target).closest("."+this._classNm+"-selected-choice").fadeOut("fast",this._bind(function(){this._unselect(a(e.target),e),this.selection.find("."+this._classNm+"-selected-choice.oj-focus").removeClass("oj-focus"),this.close(e),"ojcombobox"===this._elemNm&&this._focusSearch(),t()})).dequeue(),b.killEvent(e),e.stopPropagation()}})),n.data(this._elemNm,e),"ojcombobox"===this._elemNm?n.insertBefore(this.searchContainer):this.selection.find(".oj-select-choices").append(n)},_syncValueOptions:function(e,t,i){var s,o=[],a=[],r=[],l=b.getOpts(this.ojContext),h=!!l&&b.isDataProvider(l.options);if(t&&i){for(var c=0;c<t.length;c++)for(var u=0;u<i.length;u++){var d=i[u];n.Object.compareValues(d.value,t[c])&&(h&&(s=this.id(d),d=b.findOptionFromResult(this,s,d),a.push(d.data),r.push(d.metadata)),o.push(d))}b.setValueOptions(e,o),this.currentItem=o}return b.getContextWithExtraData(null,l,a,r)},_unselect:function(e,t){var i=(this.getVal()||[]).slice(0),s=(this.getValOpts()||[]).slice(0),o=e.closest("."+this._classNm+"-selected-choice");if(0===o.length)throw new Error("Invalid argument: "+o+". Must be ."+this._classNm+"-selected-choice");var n=o.data(this._elemNm);if(n){var a,r,l;this.ojContext.isValid()?a=(this.getValOpts()||[]).slice(0):(i=this.currentValue.slice(0),a=this.currentItem.slice(0),this.forceApplyConverter=!0);var h=i.indexOf(this.id(n));-1!==h&&(i.splice(h,1),this._idsFromDropdown.delete(this.id(n)),r=this._syncValueOptions(this.ojContext,i,a),this._skipSetValueOptions=!0,(l=this.setVal(i,t,r))instanceof Promise?l.then(this._bind(function(e){this._afterUnselectSetValue(e,o,s)})):this._afterUnselectSetValue(l,o,s))}},_afterUnselectSetValue:function(e,t,i){("oj-combobox"===this._classNm||"oj-select"===this._classNm)&&!1===e&&this.setValOpts(i),this._skipSetValueOptions=!1,delete this.forceApplyConverter,!1!==e&&this.select&&this._postprocessResults(),t.remove()},_postprocessResults:function(e,t,i){if(this.ojContext.isValid()){var s=this.getVal(),o=this.results.find(".oj-listbox-result"),n=this.results.find(".oj-listbox-result-with-children"),a=this;b.each2(o,function(e,t){var i=a.id(t.data(a._elemNm));s&&s.indexOf(i)>=0&&(t.addClass("oj-selected"),t.find(".oj-listbox-result-selectable").addClass("oj-selected"))}),b.each2(n,function(e,t){t.is(".oj-listbox-result-selectable")||0!==t.find(".oj-listbox-result-selectable:not(.oj-selected)").length||t.addClass("oj-selected")}),this._processAriaLabelForHierarchy(),!o.filter(".oj-listbox-result:not(.oj-selected)").length>0&&"oj-select"!==this._classNm&&this.close(null,!0)}},_isDataSelected:function(e){var t=this.getVal();if(!t||0===t.length)return!1;for(var i=e.results,s=0;s<i.length;s++)if(-1===t.indexOf(this.id(i[s])))return!1;return!0},_resetSearchWidth:function(){},setVal:function(e,t,i){var s=[],o=e;this.valHasChanged(),"string"==typeof e&&(o=b.splitVal(e,this.opts.separator));for(var a=0;a<o.length;a++)s.indexOf(o[a])<0&&s.push(o[a]);var r={doValueChangeCheck:!1};if(i&&(r._context=i),!this._skipSetValueOptions){var l,h=b.getLastQueryResult(this);h&&(l=b.findOptions(h,o)),l&&l.length&&b.setValueOptions(this.ojContext,l)}var c=this.getVal(),u=null;return n.Object.compareValues(c,s)&&!b.hasInvalidComponentMessages(this.ojContext)||(u=this.ojContext._SetValue(s,t,r)),u instanceof Promise?u.then(this._bind(function(e){this._afterSetValue(s)})):(this._afterSetValue(s),u)},_afterSetValue:function(e){(this.ojContext.isValid()||0===e.length)&&(this.currentValue=e),this.search.attr("aria-activedescendant",this.opts.element.attr("id"))},_getSelectionData:function(){var e=null,t=this,i=null,s=this.container.find("."+this._classNm+"-selected-choice");return s&&(e=[],s.each(function(){null!=(i=a(this).data(t._elemNm))&&e.push(i)})),e},_clearSearchOnBlur:function(){!this._opened()&&"oj-select"!==this._classNm&&this.ojContext.isValid()&&this._clearSearch()},_GetContentWrapper:function(){return this.container[0].querySelector(".oj-text-field-container")},_InvokeSelection:function(e,t){const i=b.getOpts(this.ojContext),s=!!i&&b.isDataProvider(i.options),o=[],n=[],a=[],r=[];e.forEach(function(e){o.push(this.id(e)),n.push({label:e.label,value:this.id(e)}),s&&(a.push(e.data),r.push(e.metadata))}.bind(this));let l={optionMetadata:{trigger:t.trigger}};l=b.getContextWithExtraData(l,i,a,r),this.setValOpts(n),this._skipSetValueOptions=!0;const h=this.setVal(o,null,l);return h instanceof Promise?h.then(this._bind(function(){this._skipSetValueOptions=!1})):(this._skipSetValueOptions=!1,Promise.resolve(h))}}),O=b.clazz(C,{_elemNm:"ojcombobox",_classNm:"oj-combobox",_COMPONENT_CLASSLIST:"oj-combobox oj-combobox-multi oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container' role='presentation'> ","<ul class='oj-combobox-choices oj-combobox-accessible-container'>","  <li class='oj-combobox-search-field'><span class='oj-helper-hidden'>&nbsp;</span>","    <input type='text' role='combobox' aria-expanded='false' aria-autocomplete='list'","           autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='oj-combobox-input'>","  </li>","</ul>","</div>","<div class='oj-combobox-description oj-helper-hidden-accessible'></div>","<div class='oj-listbox-drop oj-listbox-drop-multi'>","   <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_opening:function(e,t){this._resizeSearch(),O.superclass._opening.apply(this,arguments),this._focusSearch(),t||this._updateResults(!0),this.search.focus()},_setPlaceholder:function(){const e=this.ojContext.isValid(),t=b.isValueForPlaceholder(!0,this.getVal())&&b.isValueOptionsForPlaceholder(!0,this.getValOpts()),i=b.isValueForPlaceholder(!0,this.currentValue)&&b.isValueOptionsForPlaceholder(!0,this.currentItem);(e&&t||!e&&i)&&(O.superclass._setPlaceholder.apply(this,arguments),this._resizeSearch())},_clearSearch:function(){var e=this._getPlaceholder(),t=this._getMaxSearchWidth();null!=e&&b.isValueForPlaceholder(!0,this.getVal())&&b.isValueOptionsForPlaceholder(!0,this.getValOpts())?(this.search.attr("placeholder",e),this.search.val("").width(t>0?t:this.container.css("width")),this.searchContainer.width("100%")):(this.search.attr("placeholder",""),this.search.val("").width(10),this.searchContainer.width("auto"))},_resetSearchWidth:function(){this.search.width(10)},_getMaxSearchWidth:function(){return this.selection.width()-b.getSideBorderPadding(this.search)},_textWidth:function(e){var t=document.createElement("span"),i=document.createTextNode(e);t.style.display="none",t.appendChild(i),a("body").append(t);var s=a("body").find("span:last").width();return a("body").find("span:last").remove(),s},_resizeSearch:function(){var e,t,i,s,o=b.getSideBorderPadding(this.search);e=this._textWidth(this.search.val())+10,t=this.search.offset().left,(s=(i=this.selection.width())-(t-this.selection.offset().left)-o)<e&&(s=i-o),s<40&&(s=i-o),s<=0&&(s=e),this.search.width(Math.floor(s))},_UpdateValueOptionsWithConverter:function(){if(!this._skipSetValueOptions){var e=(this.getValOpts()||[]).slice(),t=[];if(0!==e.length){for(var i=0;i<e.length;i++){var s=e[i];this._idsFromDropdown.has(this.id(s))?t.push(s):t.push(this.parseData(s))}this.setValOpts(t)}}},_SyncRawValue:function(e,t){let i=(this.getValOpts()||[]).slice(0),s=this.search.val(),o=i.map(function(e){return e.label});null!=s&&""!==s&&o.push(s),!0===t&&(this.hasUncommittedValue=!0),this.ojContext._SetRawValue(o,e)}}),S=b.clazz(x,{_enableInterface:function(){S.superclass._enableInterface.apply(this,arguments)&&this.search.prop("disabled",!(this._isInterfaceEnabled()||b.isReadonly(this.ojContext)))},_focus:function(){this.close()},_destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),S.superclass._destroy.apply(this,arguments)},_clear:function(e){if(this.selection.data(this._elemNm)){e||m.warn("Event should not be null when user modified the value in UI");var t=this.ojContext._IsCustomElement()?"":[];"oj-select"===this._classNm&&this.ojContext._IsRequired()||this.setVal(t,e),this.search.val(""),this.selection.removeData(this._elemNm)}this._setPlaceholder()},_initSelection:function(){if(!b.applyValueOptions(this,this.opts)){var e=this.datalist?this.datalist:this.opts.element;this.opts.initSelection.call(null,e,this._bind(this._updateSelectedOption))}},_containerKeydownHandler:function(e){if(!this._isInterfaceEnabled())return;const t=e.which||e.keyCode;if(t!==b.KEY.PAGE_UP&&t!==b.KEY.PAGE_DOWN){switch(t){case b.KEY.UP:case b.KEY.DOWN:return this._opened()?this._moveHighlight(t===b.KEY.UP?-1:1):this.open(e),void e.preventDefault();case b.KEY.ENTER:return this._opened()&&e.stopPropagation(),this._selectHighlighted(null,e,!0),e.preventDefault(),void(this._opened()||(this._userTyping=!1));case b.KEY.TAB:return this.close(e),void(this._userTyping=!1);case b.KEY.ESC:return this._opened()&&e.preventDefault(),this._cancel(e),void(this._userTyping=!1)}this._userTyping=!0}else e.preventDefault()},_containerKeyupHandler:function(e){this._isInterfaceEnabled()&&(this._opened()||this.open(e))},_initContainer:function(){var e=this.container,t=this.opts.rootAttributes,i=t&&t.id?t.id:this._getAttribute("id")||b.nextUid(),s=this._getTransferredAttribute("aria-label"),o=this._getTransferredAttribute("aria-controls"),n=e.find("."+this._classNm+"-choice");this.selection=n,this._contentElement="ojcombobox"===this._elemNm?this.search:this.selection,n.attr("id",this._classNm+"-choice-"+i),n.find("."+this._classNm+"-input").attr("id",this._classNm+"-input-"+i),this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+i);var r=e.find(".oj-listbox-liveregion");if(r.length&&r.attr("id","oj-listbox-live-"+i),"oj-select"!==this._classNm&&this.search.attr("aria-owns",this.results.attr("id")),!this.ojContext._IsCustomElement()){var l=a("label[for='"+this._getAttribute("id")+"']");l.attr("id")||l.attr("id",this._classNm+"-label-"+i),this.search.attr("aria-labelledby",l.attr("id")),this.opts.element.attr("aria-labelledby",l.attr("id")),this.search.attr("id")&&l.attr("for",this.search.attr("id"))}s&&this._contentElement.attr("aria-label",s),o&&this._contentElement.attr("aria-controls",o),n.on("keydown",this._bind(this._containerKeydownHandler)),n.on("mousedown",this._bind(function(e){if(this._ShouldToggleDropdown(e)){this.opts.element.prop("disabled")&&b.killEvent(e),n.removeClass("oj-focus-highlight"),this.container.removeClass("oj-focus-highlight"),this._opened()?this.close(e):this._isInterfaceEnabled()&&this.open(e);var t=this.search.parent().attr("aria-hidden");t&&"true"===t?this.selection.focus():this.search.focus(),a(e.target).hasClass("oj-combobox-open-icon")&&b.killEvent(e),this.container.addClass("oj-active")}})),n.on("mouseup",this._bind(function(){this.container.removeClass("oj-active")})),n.on("focus",this._bind(function(e){b.killEvent(e)})),this.search.on("compositionstart",this._bind(function(){this.ojContext._isComposing=!0})),this.search.on("compositionend",this._bind(function(e){this.ojContext._isComposing=!1,this._onSearchInputHandler(e)})),this.search.on("input",this._bind(function(e){this.ojContext._isComposing&&!this._isAndroidDevice||this._onSearchInputHandler(e)})),this.search.on("focus",this._bind(function(){this._previousDisplayValue=this.search.val()})),this.search.on("blur keyup",this._bind(function(e){if("keyup"!==e.type||10===e.keyCode||13===e.keyCode){if(this._ShouldCreateNewEntry("keyup"===e.type)&&("keyup"!==e.type||!this.enterKeyEventHandled)){var t=this.search.val();this.shouldApplyConverter=!0;var i=this.opts.manageNewEntry(t,!0),s={trigger:"blur"===e.type?b.ValueChangeTriggerTypes.BLUR:b.ValueChangeTriggerTypes.ENTER_PRESSED},o=this.selection.data(this._elemNm),n=this.getVal();if(!o&&""!==t||o&&o.label!==t||!this.ojContext.isValid()&&t!==this._previousDisplayValue){var a=this._onSelect(i,s,e);"blur"!==e.type&&(a instanceof Promise?a.then(this._bind(function(t){delete this.shouldApplyConverter,t&&(this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,n))})):(delete this.shouldApplyConverter,!1!==a&&(this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,n))))}else"keyup"===e.type&&(o&&o.label===t&&(i=o),this.close(e),this._triggerUpdateEvent(i,s,e),this._triggerValueUpdatedEvent(i,n))}"blur"===e.type&&(this.search.removeClass(this._classNm+"-focused"),this.container.removeClass("oj-focus")),this.enterKeyEventHandled=!1}})),this._initContainerWidth(),this.opts.element.hide().attr("aria-hidden",!0),this._setPlaceholder()},_onSearchInputHandler:function(e){this._SyncRawValue(e,!0)},_prepareOpts:function(){var e=S.superclass._prepareOpts.apply(this,arguments),t=this,i=e.element.get(0).tagName.toLowerCase();if("input"===i&&e.element.attr("list")||"select"===i&&e.element.children().length>0||e.ojContext._IsCustomElement()&&!e.options||e.list){var s=e.list?"li":"option";e.ojContext._IsCustomElement()&&(s="oj-option"),e.initSelection=function(o,r){var l,h=t.getVal();t._idsFromDropdown.clear(),Array.isArray(h)&&!e.ojContext._IsCustomElement()&&(h=h[0]),null!=h&&(l=t._optionToData(o.find(s).filter(function(){var e;return"li"===s?e=this.getAttribute("oj-data-value"):"option"!==s&&"oj-option"!==s||(e=this.value),n.Object.compareValues(e,h)})),"select"===i&&void 0===l&&(h=null)),null==h&&(l=t._optionToData(o.find(s).filter(function(){return"li"===s?!0===this.getAttribute("oj-data-selected"):"option"===s&&this.selected})),"oj-select"===t._classNm&&void 0===l&&e.ojContext._IsCustomElement()&&(l=t._optionToData(a(o.find(s)[0])),m.info("Select identified by "+t.container.attr("id")+" defaults to first option because the value is not set."))),null!=l&&t._idsFromDropdown.add(e.id(l)),r(l)},e.validate=function(e,i){var o;return null!=i&&(o=t._optionToData(e.find(s).filter(function(){var e;return"li"===s?e=this.getAttribute("oj-data-value"):"option"!==s&&"oj-option"!==s||(e=this.value),n.Object.compareValues(e,i)}))),!!o}}else("options"in e||this.getVal()&&this.getVal().length>0)&&(b.isDataProvider(e.options)||a.isFunction(e.options)?e.initSelection=function(s,o){var r=function(t,i){for(var s=0,o=t.length;s<o;s++){var a=t[s];if(n.Object.compareValues(i,e.id(a)))return a;if(a.children){var l=r(a.children,i);if(l)return l}}return null},l=t._getValueItem(),h=null;if(t._idsFromDropdown.clear(),null!=l){var c=b.getLastQueryResult(t);if(c&&(h=r(c,l)),!h){var u=t.currentItem;u&&u.length&&n.Object.compareValues(l,e.id(u[0]))&&(h=u[0],m.info("Select identified by "+t.container.attr("id")+" defaults to first option due to invalid value."))}if(h||t.valueChangeTrigger)null!=h&&t._idsFromDropdown.add(e.id(h)),o(h);else{b.updateLoadingState(t,!0);const i=function(){b.updateLoadingState(t,!1)};e.query({value:[l],callback:"function"!=typeof o?i:function(s){i(),(!b.isDataProvider(e.options)||n.Object.compareValues(l,t.getVal())&&!b.isValueChanged(t.ojContext))&&(s&&s.results&&null!=(h=r(s.results,l))&&t._idsFromDropdown.add(e.id(h)),o(h),b.setValueChanged(t.ojContext,void 0))},cleanup:a.noop})}}else"select"!==i||t.ojContext._HasPlaceholderSet()?o(h):b.fetchFirstBlockFromDataProvider(t.container,e,1).then(function(e){var i=null!=t._getValueItem();e&&e.length>0&&!i&&(o(e[0]),m.info("Select identified by "+t.container.attr("id")+" defaults to first option because the value is not set."))})}:(e.initSelection=function(s,o){var r=t._getValueItem(),l="select"===i&&t.ojContext._HasPlaceholderSet()&&!t.ojContext._IsRequired(),h=l?t._getPlaceholder():null,c=null;t._idsFromDropdown.clear(),e.query({matcher:function(t,i,s){var o=n.Object.compareValues(r,e.id(s));return o&&(c=s),null==h&&(h=s),o},callback:a.isFunction(o)?function(){null!=c&&t._idsFromDropdown.add(e.id(c)),c||"select"!==i||t.ojContext._isOptionDataPending()||(c=h,m.info("Select identified by "+t.container.attr("id")+" defaults to "+(l?"placeholder":"first option")+" due to invalid value.")),o(c)}:a.noop,cleanup:a.noop})},e.validate=function(t,i){var s=i,o=null;return e.query({matcher:function(t,i,a){var r=n.Object.compareValues(s,e.id(a));return r&&(o=a),r},callback:a.noop,cleanup:a.noop}),!!o}));return e},_postprocessResults:function(e,t,i){var s,o=-1,a=this;s=this._findHighlightableChoices(),b.each2(s,function(e,t){var i=a._getValueItem();return null==i||!n.Object.compareValues(i,a.id(t.data(a._elemNm)))||(o=e,!1)}),!1!==i&&!0===t&&o>=0&&this._highlight(o,!0,!0),this._processAriaLabelForHierarchy()},_onSelect:function(e,t,i){if(!this._triggerSelect(e))return!1;var s,o,n=b.getOpts(this.ojContext);t&&t.trigger&&(s={optionMetadata:{trigger:t.trigger}}),s=b.getContextWithExtraData(s,n,e.data,e.metadata),this.close(i);var a,r=this.sanitizeData(e,!0),l=this.sanitizeData(e),h=this.getValOpts(),c=l,u=this.hasUncommittedValue,d=null,p=null,f=this.id(r),m=this.id(l);if(this._idsFromDropdown.clear(),0===f.length?(o=this.ojContext._IsCustomElement()?b.getValueForPlaceholder(!1):[],c=b.getFixupValueOptionsForPlaceholder(!1),a=b.findOptionFromResult(this,o,c)):(o=f,a=b.findOptionFromResult(this,m,c),this.shouldApplyConverter&&c===a||this._idsFromDropdown.add(m)),"oj-combobox"!==this._classNm&&"oj-select"!==this._classNm||(this._skipSetValueOptions=!0,this.setValOpts(a)),this.hasUncommittedValue=!1,(d=this.setVal(o,i,s))instanceof Promise)p=d.then(this._bind(function(e){return this._afterOnSelectSetVal(e,h,u),e}));else{var v=!1!==d;this._afterOnSelectSetVal(v,h,u),p=d}return t&&t.trigger===b.ValueChangeTriggerTypes.BLUR||"ojcombobox"!==this._elemNm||this._focusSearch(),p},_afterOnSelectSetVal:function(e,t,i){var s="oj-combobox"===this._classNm||"oj-select"===this._classNm;!1===e&&(this.hasUncommittedValue=i,s&&this.setValOpts(t)),this._skipSetValueOptions=!1,delete this.shouldApplyConverter},_clearSearch:function(){this.search.val("")},_getValueItem:function(){var e=null,t=this.getVal();return null!=t&&(e=!this.ojContext._IsCustomElement()&&t.length?t[0]:t),e},_getSelectionData:function(){return this.selection.data(this._elemNm)},_GetContentWrapper:function(){return this.container[0].querySelector(".oj-text-field-middle")},_ShouldCreateNewEntry:function(e){if(!this.opts.manageNewEntry)return!1;const t=e?".oj-hover.oj-listbox-result-keyboard-focus":".oj-hover",i=this.results.find(t);return void 0!==this.search.val()&&0===i.length},_ShouldToggleDropdown:function(e){const t=S.superclass._ShouldToggleDropdown.apply(this,arguments),i="end"===e.target.getAttribute("slot")||a(this._endSlot).find(e.target).length>0;return t&&!i},_InvokeSelection:function(e,t){if(!e.length)return Promise.resolve(!1);const i=e[0];return new Promise(this._bind(function(e,s){const o=this._onSelect(i,t,null);o instanceof Promise?o.then(e,s).catch(s):e(o)}))}}),E=b.clazz(S,{_elemNm:"ojcombobox",_classNm:"oj-combobox",_COMPONENT_CLASSLIST:"oj-combobox oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container oj-text-field-has-end-slot' role='presentation'>","  <div class='oj-combobox-choice oj-combobox-accessible-container' tabindex='-1' role='presentation'>","   <div class='oj-text-field-middle'>","     <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","       spellcheck='false' class='oj-combobox-input' role='combobox' aria-expanded='false' aria-autocomplete='list' />","   </div>","   <abbr class='oj-combobox-clear-entry' role='presentation'></abbr>","   <span class='oj-combobox-divider' role='presentation'></span>","   <span class='oj-text-field-end'>","     <a class='oj-combobox-arrow oj-combobox-icon oj-component-icon oj-clickable-icon-nocontext oj-combobox-open-icon'","       role='presentation' aria-label='expand'></a>","   </span>","  </div>","</div>","<div class='oj-listbox-drop' role='presentation'>","   <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_ConfigureSlots:function(){if(null!=this.container&&this.ojContext._IsCustomElement()){var e=this.container,t=v.CustomElementUtils.getSlotMap(e[0]).end;t&&(e.find(".oj-combobox-divider").remove(),e.find(".oj-combobox-arrow").remove(),e.find(".oj-combobox-choice").append(t),this._endSlot=t)}},_RestoreSlots:function(){var e=this._endSlot;null!=e&&null!=this.container&&this.ojContext._IsCustomElement()&&this.container.append(e),this._endSlot=null},_triggerValueUpdatedEvent:function(e,t){if(this.ojContext._IsCustomElement()){var i=this.id(e);if(null==i&&(i=e.label?e.label:""),this.ojContext.isValid()){var s={},o=this.ojContext.OuterWrapper;s.value=i,s.previousValue=t;var n=new CustomEvent("ojValueUpdated",{detail:s});o.dispatchEvent(n)}}},_enable:function(e){E.superclass._enable.apply(this,arguments),this._enabled?this.container.find(".oj-combobox-arrow").removeClass("oj-disabled"):this.container.find(".oj-combobox-arrow").addClass("oj-disabled")},_opening:function(e,t){E.superclass._opening.apply(this,arguments),this._focusSearch(),t||this._updateResults(!0)},_containerKeydownHandler:function(e){"end"===e.target.getAttribute("slot")||a(this._endSlot).find(e.target).length>0||b.KEY.isControl(e)||b.KEY.isFunctionKey(e)||E.superclass._containerKeydownHandler.apply(this,arguments)},_updateSelection:function(e){var t,i,s=[];if(this.selection.data(this._elemNm,e),null!==e&&0!==e.length?(void 0!==(t=b.getLabel(e))&&this.search.val()!==t&&this.search.val(t),this.search.removeClass(this._classNm+"-default"),s.push(e),i=t):(this.search.val(""),this._setPlaceholder(),i=""),this.ojContext.options.readOnly){let e=this.ojContext._getReadonlyDiv();e&&(e.textContent=i)}this.currentItem=s},_updateSelectedOption:function(e){if(null!=e)this._updateSelection(e),this.setValOpts(e);else{var t,i,s=this.getVal();null==s?t=null:Array.isArray(s)?s.length?t={label:s=s[0],value:s}:(s=null,t=null):t={label:s,value:s},i=this.parseData(t),this._updateSelection(i),b.isValueForPlaceholder(!1,s)?this.setValOpts(e):this.setValOpts(i)}},_UpdateValueOptionsWithConverter:function(){if(!this._skipSetValueOptions){var e=this.getValOpts();null==e||this._idsFromDropdown.has(this.id(e))||this.setValOpts(this.parseData(e))}},_SyncRawValue:function(e,t){!0===t&&(this.hasUncommittedValue=!0),this.ojContext._SetRawValue(this.search.val(),e)}});n.__registerWidget("oj.ojCombobox",a.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",options:{asyncValidators:[],converter:null,filterOnOpen:"none",labelledBy:null,placeholder:null,options:null,optionsKeys:{},pickerAttributes:null,optionRenderer:null,minLength:0,maximumResultCount:15,rawValue:null,required:!1,readOnly:!1,validators:[],valueOption:null,valueOptions:null,valueUpdated:null},widget:function(){return this.combobox.container},_ComponentCreate:function(){this._super(),b.wrapDataProviderIfNeeded(this,null),this._setup()},_AfterCreate:function(){if(this._super(),this._IsCustomElement()){const t=this._GetContentElement()[0],i=this.OuterWrapper.id,s=this.options.labelledBy;this._initInputIdLabelForConnection(t,i,s),s&&this._labelledByUpdatedForInputComp(s,t.id);var e=this._getRootElement();this._focusable({element:e,applyHighlight:!1,afterToggle:this._handleAfterFocusToggle.bind(this,e)}),this.combobox&&"none"===this.options.labelEdge&&this.combobox.updateAriaLabelIfNeeded()}},_handleAfterFocusToggle:function(e,t){"focusout"===t&&(this._getDropdown()&&e.classList.add("oj-focus"))},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),this.multiple=this._IsCustomElement()?"OJ-COMBOBOX-MANY"===this.OuterWrapper.nodeName:this.options.multiple,void 0===this.options.value)this._IsCustomElement()||(this.options.value=void 0!==this.element.attr("value")?b.splitVal(this.element.val(),","):null);else{var s=this.options.value;Array.isArray(s)?this._IsCustomElement()||(s=s.slice(0)):"string"==typeof s&&(!0===this.multiple?s=b.splitVal(s,","):this._IsCustomElement()||(s=[s])),this.options.value=s}},_IsRequired:function(){return this.options.required},_labelledByUpdatedForInputComp:function(t,i){e.EditableValueUtils._labelledByUpdatedForInputComp.apply(this,arguments);const s=e.EditableValueUtils._getOjLabelAriaLabelledBy(t,this.uuid+"_Label");this.combobox.updateAriaLabelledByIfNeeded(s)},_initInputIdLabelForConnection:e.EditableValueUtils._initInputIdLabelForConnection,_linkLabelForInputComp:e.EditableValueUtils._linkLabelForInputComp,_createOrUpdateReadonlyDiv:e.EditableValueUtils._createOrUpdateReadonlyDiv,_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_AfterSetOptionAsyncValidators:e.EditableValueUtils._AfterSetOptionAsyncValidators,_AfterSetOptionConverter:e.EditableValueUtils._AfterSetOptionConverter,_ResetConverter:e.EditableValueUtils._ResetConverter,_GetConverter:e.EditableValueUtils._GetConverter,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_GetNormalizedAsyncValidatorsFromOption:e.EditableValueUtils._GetNormalizedAsyncValidatorsFromOption,_setup:function(){var e={},t=this.multiple;e.element=this.element,e.ojContext=this,b.isValueForPlaceholder(t,this.options.value)&&(t?this.options.valueOptions=b.getValueOptionsForPlaceholder(this,this.options.valueOptions):this.options.valueOption=b.getValueOptionsForPlaceholder(this,this.options.valueOption)),e=a.extend(this.options,e),this.cssOptionDefaults=c.parseJSONFromFontFamily("oj-combobox-option-defaults")||{},this.combobox=t?new O:new E,this.combobox._init(e),this._refreshRequired(this.options.required);this._resolveValueOptionsLater=b.mergeValueAndValueOptions(this,{doNotClearMessages:!0})},_refreshRequired:e.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},_destroy:function(){this.combobox._destroy(),this._super()},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this.combobox._GetContentWrapper()},refresh:function(){this._super(),this.combobox._destroy(),this._setup(),this._SetRootAttributes(),this._initComponentMessaging()},_setOptions:function(e,t){var i;this._processSetOptions||(this._processSetOptions=[]),this._processSetOptions.push({}),this._super(e,t),(i=this._processSetOptions.pop()).messagesCustom&&i.messagesCustom()},_setOption:function(e,t,i){var s=t,o=this.multiple,n=this._super,a=(this._processSetOptions||[]).slice(-1)[0];if("value"===e&&(Array.isArray(s)?this._IsCustomElement()||(s=s.slice(0)):"string"==typeof s&&(!0===o?s=b.splitVal(s,","):this._IsCustomElement()||(s=[s])),i&&i._context&&i._context.optionMetadata?this.combobox.valueChangeTrigger=i._context.optionMetadata.trigger:this.combobox.valueChangeTrigger=null,"string"==typeof this.options.placeholder&&(null==s||s&&0===s.length||this._IsCustomElement()&&b.isValueForPlaceholder(o,s))))return b.setValueOptions(this,b.getFixupValueOptionsForPlaceholder(o)),void this._super(e,s,i);if("options"===e)b.removeDataProviderEventListeners(this),b.clearDataProviderWrapper(this);else if("optionsKeys"===e)b.clearDataProviderWrapper(this);else if("valueOption"===e&&!0!==o)s=b.getValueOptionsForPlaceholder(this,s),this.combobox.opts.valueOption=s;else if("valueOptions"===e&&!0===o)s=b.getValueOptionsForPlaceholder(this,s),this.combobox.opts.valueOptions=s;else if("messagesCustom"===e&&null!=a)return void(a.messagesCustom=n.bind(this,e,s,i));if(this._super(e,s,i),"valueOption"===e&&!0!==o)b.syncValueWithValueOption(this,s,this.options.value,!1);else if("valueOptions"===e&&!0===o)b.syncValueWithValueOptions(this,s,this.options.value,!1);else if("value"===e)b.updateValueOptions(this.combobox);else if("options"===e)b.isDataProvider(s)&&(b.wrapDataProviderIfNeeded(this,this.combobox?this.combobox.opts:null),b.addDataProviderEventListeners(this)),this.combobox.opts.options=s,this.combobox.opts=this.combobox._prepareOpts(this.combobox.opts),(this.combobox.isSearchFocused&&this.combobox.shouldReopenOnNewData||this.combobox._opened())&&this.combobox._updateResults(!1,!0);else if("optionsKeys"===e)b.wrapDataProviderIfNeeded(this,this.combobox?this.combobox.opts:null);else if("disabled"===e)s?this.combobox._disable():this.combobox._enable();else if("readOnly"===e)this.combobox.applyReadonlyState();else if("labelledBy"===e){if(this.options.labelledBy){var r=this._GetContentElement()[0].id;this._labelledByUpdatedForInputComp(this.options.labelledBy,r)}}else"maximumResultCount"===e&&(this.combobox.opts.maximumResultCount=s)},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e);break;case"converter":this.isValid()||(this._handleConverterChangeWithInvalidValue=!0),this._handleConverterChange=!0,this._AfterSetOptionConverter(e);break;case"asyncValidators":this._AfterSetOptionAsyncValidators(e);break;case"labelHint":case"labelEdge":this.combobox&&this.combobox.updateAriaLabelIfNeeded()}},_NotifyDetached:function(){this._superApply(arguments),this.combobox.close()},_NotifyHidden:function(){this._superApply(arguments),this.combobox.close()},_VerifyConnectedForSetup:function(){return!0},_SetDisplayValue:function(e){this._handleConverterChange&&this.combobox._UpdateValueOptionsWithConverter(),b.applyValueOptions(this.combobox,this.options)?this.multiple&&this.combobox._clearSearch():this.combobox._initSelection(),this._resolveValueOptionsLater=!1,this._handleConverterChange=!1},_GetDisplayValue:function(){var e=null,t=this.combobox._getSelectionData();if(null!=t)if(this.multiple)if(e=[],Array.isArray(t))for(var i=0;i<t.length;i++)e.push(b.getLabel(t[i]));else e.push(b.getLabel(t));else e=Array.isArray(t)&&t.length>0?b.getLabel(t[0]):b.getLabel(t);else e=this._super();return e},_SetPlaceholder:function(e){this.combobox&&(this.combobox.opts.placeholder=e,this.combobox._setPlaceholder&&this.combobox._setPlaceholder())},_parseValue:function(e,t,i){var s,o=e;if(!this.combobox.shouldApplyConverter&&!this.combobox.forceApplyConverter&&!this._handleConverterChangeWithInvalidValue)return e;if("string"==typeof o&&(!0===this.multiple?o=b.splitVal(o,","):this._IsCustomElement()||(o=[o])),Array.isArray(o)){if(this.combobox.forceApplyConverter||this._handleConverterChangeWithInvalidValue){delete this._handleConverterChangeWithInvalidValue,s=[];for(let e=0;e<o.length;e++){let n=o[e];if(this.combobox._idsFromDropdown.has(n))s.push(n);else{let e=this._super(n,t,i);s.push(e)}}}else if((s=o.slice()).length>0){let e=s.slice(-1)[0],o=this._super(e,t,i);s.splice(-1,1,o)}}else delete this._handleConverterChangeWithInvalidValue,s=this._super(o,t,i);return s},_formatValue:function(e){var t;if(Array.isArray(e)){t=[];for(var i=0;i<e.length;i++){var s=this._super(e[i]);t.push(s)}}else t=this._super(e);return t},_GetMessagingLauncherElement:function(){return this.combobox.search},_NotifyContextMenuGesture:function(e,t,i){var s=this._GetMessagingLauncherElement();this._OpenContextMenu(t,i,{launcher:s})},_GetContentElement:function(){return this.combobox.search},_GetAriaLabelElement:function(){return this._GetContentElement()[0]},_GetDefaultStyleClass:function(){return"oj-combobox"},_SetLoading:function(){this._super(),this.combobox.applyReadonlyState()},_ClearLoading:function(){this._super(),this.combobox.applyReadonlyState()},validate:function(){var e,t,i=this._getDisplayValueForSetValue(),s=this.combobox,o=i;if(s.hasUncommittedValue){var n=null;if(this.multiple){var a=i[i.length-1],r=(s.getVal()||[]).slice(0),l=this._getValueOptionCandidateFromRawValue(a),h=s.id(l),c=(s.getValOpts()||[]).slice(0);n=c.slice(0),-1===r.indexOf(h)&&(n.push(l),r.push(h),e=c),o=r}else n=this._getValueOptionCandidateFromRawValue(i),o=s.id(n);s._skipSetValueOptions=!0,s.shouldApplyConverter=!0,s.setValOpts(n),s.hasUncommittedValue=!1}return t=this._SetValue(o,null,this._VALIDATE_METHOD_OPTIONS),this._IsCustomElement()&&(t instanceof Promise?t=t.then(function(t){return s._skipSetValueOptions=!1,delete s.shouldApplyConverter,!t&&e&&(s.setValOpts(e),s.hasUncommittedValue=!0),Promise.resolve(t?"valid":"invalid")}):(s._skipSetValueOptions=!1,delete s.shouldApplyConverter,!t&&e&&(s.setValOpts(e),s.hasUncommittedValue=!0),t=Promise.resolve(t?"valid":"invalid"))),t},_SetValue:function(e,t,i){var s=this._super(e,t,i);(!s||s instanceof Promise)&&((this._IsCustomElement()?b.isValueForPlaceholder(this.multiple,e):null==e||""===e||n.Object.compareValues(e,[]))||i===this._VALIDATE_METHOD_OPTIONS||this._SetDisplayValue(e));return s},_CanSetValue:function(){return!!this.forceCanSetValue||this._super()},_getValueOptionCandidateFromRawValue:function(e){var t=this.combobox.opts.manageNewEntry(e);return b.findOptionFromResult(this.combobox,e,t)},_getDisplayValueForSetValue:function(){var e=null,t=null,i=this.combobox.hasUncommittedValue;if(!0!==this.multiple){if(i)e=this.combobox.getRawValue();else{const t=this.combobox.currentItem||[];e=null,t.length>0&&null!=t[0]&&(e=t[0].value)}t=this._IsCustomElement()?e:null==e||""===e?[]:[e]}else{var s=this.combobox.currentValue?this.combobox.currentValue.slice(0):[];null==(e=this.combobox.search.val())||""===e||s.push(e),t=s}return t},_getValueUpdatePromise:function(){return Promise.resolve()},_getDropdown:function(){if(this.combobox&&this.combobox._opened())for(var e=a(".oj-listbox-drop"),t=0;t<e.length;t++)if("oj-listbox-drop"===a(e[t]).attr("id")&&a(e[t]).attr("data-oj-containerid")===this.combobox.containerId)return a(e[t]);return null},_findItem:function(e,t){for(var i=0;i<e.length;i++)if(a(e[i]).data("ojcombobox").value===t)return e[i];return null},getNodeBySubId:function(e){var t,i=null;if(null==e)return this.combobox.container?this.combobox.container[0]:null;if(!(i=this._super(e))){"oj-combobox-drop"===(t=e.subId)&&(t="oj-listbox-drop"),"oj-combobox-results"===t&&(t="oj-listbox-results"),"oj-combobox-selection"===t&&(t="oj-combobox-selected-choice");var s=this._getDropdown();switch(t){case"oj-combobox-input":case"oj-combobox-arrow":i=this.widget().find("."+t)[0];break;case"oj-listitem":if(s){var o=s.find(".oj-listbox-result");i=this._findItem(o,e.value)}break;case"oj-combobox-remove":var n=this.widget().find(".oj-combobox-selected-choice"),r=this._findItem(n,e.value);i=r?a(r).find(".oj-combobox-clear-entry-icon")[0]:null;break;case"oj-listbox-drop":s&&(i=s[0]);break;case"oj-listbox-results":s&&(i=s.find("."+t)[0]);break;case"oj-combobox-selected-choice":i=this.widget().find("."+t).toArray()}}return i||null},getSubIdByNode:function(e){var t=null;if(null!=e){var i=a(e);t=i.hasClass("oj-combobox-input")?{subId:"oj-combobox-input"}:i.hasClass("oj-combobox-arrow")?{subId:"oj-combobox-arrow"}:i.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:i.data("ojcombobox").value}:i.hasClass("oj-combobox-clear-entry-icon")?{subId:"oj-combobox-remove",value:i.closest(".oj-combobox-selected-choice").data("ojcombobox").value}:this._super(e)}return t}});const V=b.clazz(E,{_elemNm:"ojinputsearch",_classNm:"oj-inputsearch",_COMPONENT_CLASSLIST:"oj-inputsearch oj-component",_getDropdownPositionElement:function(){return this.container.children().first()},_CreateContentElements:function(){var e=a(["<div class='oj-inputsearch-choice' tabindex='-1' role='presentation'>","   <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","       spellcheck='false' class='oj-inputsearch-input' role='combobox' aria-expanded='false' aria-autocomplete='list' />","   <a class='oj-inputsearch-search-button oj-inputsearch-search-icon oj-component-icon oj-clickable-icon-nocontext'","       role='button' aria-label='search'></a>","</div>","<div class='oj-listbox-drop' role='presentation'>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div role='region' class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join("")),t=e.find(".oj-inputsearch-search-button");return this._attachSearchIconClickHandler(t),e},_attachSearchIconClickHandler:function(e){var t=this;e.on("click",function(e){if(t._isInterfaceEnabled()){if(t.opts.manageNewEntry){var i=t.search.val(),s=t.opts.manageNewEntry(i),o={trigger:b.ValueChangeTriggerTypes.SEARCH_ICON_CLICKED},n=t.selection.data(t._elemNm);!n&&""!==i||n&&n.label!==i||!t.ojContext.isValid()&&i!==t._previousDisplayValue?(t._onSelect(s,o,e),t._triggerUpdateEvent(s,o,e)):(n&&n.label===i&&(s=n),t._triggerUpdateEvent(s,o,e))}return!1}}).on("mousedown",function(e){return e.stopPropagation(),!1})},_enable:function(e){V.superclass._enable.apply(this,arguments),this._enabled?this.container.find(".oj-inputsearch-search-button").removeClass("oj-disabled"):this.container.find(".oj-inputsearch-search-button").addClass("oj-disabled")},_triggerUpdateEvent:function(e,t,i){var s;t&&(s=t.trigger);var o={_context:{optionMetadata:{trigger:s}}},n=this.id(e);if(n&&0!==n.length||(n=e.label?e.label:[]),void 0!==this.ojContext._AsyncValidate(n,i,o)&&this.ojContext.isValid()){"string"==typeof n&&(n=[n]);var a={value:n,optionMetadata:{trigger:s}};this.ojContext._trigger("update",i,a)}},_prepareOpts:function(e){var t=V.superclass._prepareOpts.apply(this,arguments);return t.highlightTermInOptions=function(){return!0},t}});n.__registerWidget("oj.ojInputSearch",a.oj.editableValue,{defaultElement:"<input>",widgetEventPrefix:"oj",options:{placeholder:void 0,required:!1,list:void 0,options:null,optionsKeys:null,pickerAttributes:null,optionRenderer:null,minLength:0,beforeExpand:null,rawValue:void 0,optionChange:null,update:null,validators:void 0},widget:function(){return this.inputSearch.container},_ComponentCreate:function(){this._super(),this._setup()},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),void 0===this.options.value)this.options.value=void 0!==this.element.attr("value")?b.splitVal(this.element.val(),","):null;else{var s=this.options.value;Array.isArray(s)?s=s.slice(0):"string"==typeof s&&(s=[s]),this.options.value=s}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"validators":this._AfterSetOptionValidators(e)}},_IsRequired:function(){return this.options.required},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_AfterSetOptionValidators:e.EditableValueUtils._AfterSetOptionValidators,_refreshRequired:e.EditableValueUtils._refreshRequired,_GetNormalizedValidatorsFromOption:e.EditableValueUtils._GetNormalizedValidatorsFromOption,_AriaRequiredUnsupported:function(){return!1},_setup:function(){var e={};e.element=this.element,e.ojContext=this,e.inputSearch=!0,e=a.extend(this.options,e),this.cssOptionDefaults={},this.inputSearch=new V,this.inputSearch._init(e),this._refreshRequired(this.options.required)},_destroy:function(){this.inputSearch._destroy(),this._super()},refresh:function(){this._super(),this.inputSearch._destroy(),this._setup(),this._SetRootAttributes()},_setOption:function(e,t,i){var s=t;"value"===e&&(null!=s&&(Array.isArray(s)?s=s.slice(0):"string"==typeof s?s=[s]:m.error("ojInputSearch value has to be an array of string or a string.")),i&&i._context&&i._context.optionMetadata?this.inputSearch.valueChangeTrigger=i._context.optionMetadata.trigger:this.inputSearch.valueChangeTrigger=null),this._super(e,s,i),"options"===e&&(this.inputSearch.opts.options=s,this.inputSearch.opts=this.inputSearch._prepareOpts(this.inputSearch.opts)),"disabled"===e&&(s?this.inputSearch._disable():this.inputSearch._enable())},_NotifyDetached:function(){this._superApply(arguments),this.inputSearch.close()},_NotifyHidden:function(){this._superApply(arguments),this.inputSearch.close()},_SetDisplayValue:function(e){this.inputSearch._initSelection()},_SetPlaceholder:function(e){this.inputSearch&&(this.inputSearch.opts.placeholder=e,this.inputSearch._setPlaceholder&&this.inputSearch._setPlaceholder())},validate:function(){var e=this.inputSearch.search.val(),t=null,i=[];return this.isValid()&&(i=this.inputSearch.getVal()),t=null==e||""===e?i:[e],this._SetValue(t,null,this._VALIDATE_METHOD_OPTIONS)},_parseValue:function(e){var t,i=[];if(null==e)return i;if(Array.isArray(e))for(var s=0;s<e.length;s++)t=this._super(e[s]),i.push(t.toString());else"string"==typeof e?(t=this._super(e),i.push(t.toString())):m.error("ojInputSearch value has to be an array of string or a string.");return i},_GetMessagingLauncherElement:function(){return this.inputSearch.search},_GetContentElement:function(){return this.inputSearch.search},_GetDefaultStyleClass:function(){return"oj-inputsearch"},_getValueUpdatePromise:function(){return Promise.resolve()},_getDropdown:function(){if(this.inputSearch&&this.inputSearch._opened())for(var e=a(".oj-listbox-drop"),t=0;t<e.length;t++)if("oj-listbox-drop"===a(e[t]).attr("id")&&a(e[t]).attr("data-oj-containerid")===this.inputSearch.containerId)return a(e[t]);return null},expand:function(){this.inputSearch.open()},collapse:function(){this.inputSearch.close()},getNodeBySubId:function(e){var t,i=null;if(null===e)return this.inputSearch.container?this.inputSearch.container[0]:null;if(!(i=this._super(e)))switch("oj-inputsearch-search"===(t=e.subId)&&(t="oj-inputsearch-search-button"),t){case"oj-inputsearch-input":case"oj-inputsearch-search-button":i=this.widget().find("."+t)[0];break;case"oj-listitem":var s=this._getDropdown();if(s){var o=s.find(".oj-listbox-result");i=this.inputSearch._findItem(o,e.value)}}return i||null},getSubIdByNode:function(e){var t=null;if(null!=e){var i=a(e);t=i.hasClass("oj-inputsearch-input")?{subId:"oj-inputsearch-input"}:i.hasClass("oj-inputsearch-search-button")?{subId:"oj-inputsearch-search"}:i.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:i.data("ojinputsearch").value}:this._super(e)}return t}});const I=b.clazz(C,{_elemNm:"ojselect",_classNm:"oj-select",_userTyping:!1,_COMPONENT_CLASSLIST:"oj-select oj-select-multi oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container' role='presentation'>","  <div class='oj-select-accessible-container' tabindex='0' role='combobox'","       aria-autocomplete='none' aria-expanded='false'>","    <ul class='oj-select-choices'>","    </ul>","  </div>","</div>","<div class='oj-select-description oj-helper-hidden-accessible'></div>","<div class='oj-listbox-drop' role='dialog'>","  <div class='oj-listbox-search-wrapper'>","    <div class='oj-text-field'>","      <div class='oj-text-field-container oj-text-field-has-end-slot'>","        <div class='oj-listbox-search oj-text-field-middle'>","          <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","                 spellcheck='false' class='oj-listbox-input oj-text-field-input' title='Search field' ","                 role='combobox' aria-expanded='false' aria-autocomplete='list' />","        </div>","        <span class='oj-listbox-spyglass-box oj-text-field-end'>","          <span class='oj-component-icon oj-clickable-icon-nocontext oj-fwk-icon-magnifier oj-listbox-search-icon' role='presentation'></span>","        </span>","      </div>","    </div>","  </div>","  <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_enable:function(e){if(I.superclass._enable.apply(this,arguments),this._enabled){var t=this.elementTabIndex?this.elementTabIndex:"0";this.selection.attr("tabindex",t)}else this.selection.removeAttr("tabindex")},_containerKeydownHandler:function(e){if(b.KEY.isPasteAction(e)&&(this._userTyping=!0,this._opened()||this.open(e,!1,!0),this._hasHiddenSearchBox()&&this._showSearchBox(""),!r.isAncestorOrSelf(this.search.get(0),e.currentTarget)))return this.search.focus(),void this.search.trigger(e);if(I.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping){if(!this._opened())return void this.open(e);if(this._hasHiddenSearchBox()){var t=b.getSearchText(e);t&&(this._showSearchBox(t),this._updateResults())}}},_opening:function(e,t,i){I.superclass._opening.apply(this,arguments);var s=null;i||(s=b.getSearchText(e),this._showSearchBox(s)),t||(s?this._updateResults():this._updateResults(!0))},_showDropDown:function(){var e="true"!==this.selection.attr("aria-expanded");I.superclass._showDropDown.apply(this,arguments),e&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",this.results.attr("id")))},close:function(e){!0===this._userTyping&&(this._userTyping=!1);var t=e?e.originalEvent:null,i=t instanceof MouseEvent||t instanceof FocusEvent,s=e&&(!i||e.target===this.selection||e.target===this.search||this.dropdown.has(e.target).length>0);I.superclass.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this.ojContext.hasAfterToggleHandlerAddedFocusClass&&!s&&(this.ojContext._getRootElement().classList.remove("oj-focus"),this.ojContext.hasAfterToggleHandlerAddedFocusClass=!1),s&&b._focus(this,this.selection),this.search.val("")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_clearSearch:function(){var e=this._getPlaceholder();if(null!=e&&b.isValueForPlaceholder(!0,this.getVal())&&b.isValueOptionsForPlaceholder(!0,this.getValOpts())){var t=a("<li></li>");t.addClass("oj-select-default"),t.text(e),this.selection.find(".oj-select-choices").append(t)}}}),A=b.clazz(S,{_elemNm:"ojselect",_classNm:"oj-select",_userTyping:!1,_COMPONENT_CLASSLIST:"oj-select oj-component",_CreateContentElements:function(){return a(["<div class='oj-text-field-container' role='presentation'>","  <div class='oj-select-choice oj-select-accessible-container' tabindex='0' role='combobox' ","     aria-autocomplete='none' aria-expanded='false'>","   <div class='oj-text-field-middle'>","      <span class='oj-select-chosen'></span>","   </div>","   <abbr class='oj-select-search-choice-close' role='presentation'></abbr>","   <span class='oj-text-field-end'>","     <a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'>","     </a>","   </span>","  </div>","</div>","<div class='oj-listbox-drop' role='dialog'>","  <div class='oj-listbox-search-wrapper'>","    <div class='oj-text-field'>","      <div class='oj-text-field-container oj-text-field-has-end-slot'>","        <div class='oj-listbox-search oj-text-field-middle'>","          <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off'","                 spellcheck='false' class='oj-listbox-input oj-text-field-input' title='Search field' ","                 role='combobox' aria-expanded='false' aria-autocomplete='list' />","        </div>","        <span class='oj-listbox-spyglass-box oj-text-field-end'>","          <span class='oj-component-icon oj-clickable-icon-nocontext oj-fwk-icon-magnifier oj-listbox-search-icon' role='presentation'></span>","        </span>","      </div>","    </div>","  </div>","  <div class='oj-listbox-loader-wrapper'></div>","   <ul class='oj-listbox-results' role='listbox'>","   </ul>","</div>","<div class='oj-helper-hidden-accessible oj-listbox-liveregion' aria-live='polite'></div>"].join(""))},_enable:function(e){if(A.superclass._enable.apply(this,arguments),this._enabled){var t=this.elementTabIndex?this.elementTabIndex:"0";this.selection.attr("tabindex",t),this.container.find(".oj-select-arrow").removeClass("oj-disabled")}else this.selection.removeAttr("tabindex"),this.container.find(".oj-select-arrow").addClass("oj-disabled")},close:function(e){if(this._opened()){var t=e?e.originalEvent:null,i=t instanceof MouseEvent||t instanceof FocusEvent,s=e&&(!i||e.target===this.selection||e.target===this.search||this.dropdown.has(e.target).length>0);A.superclass.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this._testClear(e)||this._clearSearch(),this.ojContext.hasAfterToggleHandlerAddedFocusClass&&!s&&(this.ojContext._getRootElement().classList.remove("oj-focus"),this.ojContext.hasAfterToggleHandlerAddedFocusClass=!1),s&&b._focus(this,this.selection),this.container.find(".oj-listbox-spyglass-box").off("mouseup click")}},_opening:function(e,t,i){A.superclass._opening.apply(this,arguments);var s=null;i||(s=b.getSearchText(e),this._showSearchBox(s)),t||(s?this._updateResults():this._updateResults(!0))},_showDropDown:function(){if(this._opened()){var e="true"!==this.selection.attr("aria-expanded");A.superclass._showDropDown.apply(this,arguments),e&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",this.results.attr("id")+" "+this.container.find(".oj-listbox-liveregion").attr("id")))}},_initContainer:function(){var e=this.containerId+"_selected";this.text=this.container.find(".oj-select-chosen").attr("id",e),A.superclass._initContainer.apply(this,arguments),this.selection.attr({"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":e}),this.search.on("keydown",this._bind(this._containerKeydownHandler)),this.search.on("keyup-change input",this._bind(this._containerKeyupHandler)),this.search.attr("title",this.ojContext.getTranslatedString("searchField"));var t=this;this.selection.on("blur",function(e){t._testClear(e)})},_initSelection:function(){this._isPlaceholderOptionSelected()?(this._updateSelection(null),this.close(),this._setPlaceholder()):A.superclass._initSelection.apply(this,arguments)},_updateSelectedOption:function(e){if(null!=e){var t,i=this.getVal();Array.isArray(i)&&!this.ojContext._IsCustomElement()&&(i=i[0]),void 0===(t=this.opts.id(e))&&(t=null),n.Object.compareValues(i,t)||this.ojContext._setInitialSelectedValue(t),this.setValOpts(e),this._updateSelection(e),this.close()}else this.setValOpts(null)},_updateSelection:function(e){this.selection.data(this._elemNm,e),null!==e&&this.text.text("string"==typeof e?e:b.getLabel(e)),e&&""!==e.id&&this.text.removeClass(this._classNm+"-default")},_getActiveContainer:function(){return this.search.attr("aria-expanded")&&this._hasSearchBox()?this.search:this.selection},_isPlaceholderOptionSelected:function(){if(null===this._getPlaceholder())return!1;var e=this.getVal();return e=Array.isArray(e)?e[0]:e,b.isValueForPlaceholder(!1,e)},_getPlaceholder:function(){return this.opts.placeholder},_showPlaceholder:function(){return this.opts.placeholder=this.ojContext.options.placeholder,!0},_setPlaceholder:function(){var e=this._getPlaceholder();this._isPlaceholderOptionSelected()&&void 0!==e&&this.text.text(e).addClass(this._classNm+"-default")},setVal:function(e,t,i){var s=A.superclass.setVal.call(this,e,t,i);return s instanceof Promise?s.then(this._bind(function(t){!1!==t&&this.selection.data("selectVal",e)})):(!1!==s&&this.selection.data("selectVal",e),s)},_containerKeydownHandler:function(e){const t=e.which||e.keyCode;if(b.KEY.isPasteAction(e)&&(this._userTyping=!0,this._opened()||this.open(e,!0,!0),this._hasHiddenSearchBox()&&this._showSearchBox(""),!r.isAncestorOrSelf(this.search.get(0),e.currentTarget)))return this.search.focus(),void this.search.trigger(e);if(!(b.KEY.isControl(e)&&t!==b.KEY.SHIFT||t===b.KEY.SHIFT||b.KEY.isFunctionKey(e))){switch(t){case b.KEY.TAB:return this.close(e),this.selection.focus(),void this._testClear(e);case b.KEY.ENTER:if(e.target===this.selection[0]&&!this._opened())return this.open(e),void e.preventDefault()}if(A.superclass._containerKeydownHandler.apply(this,arguments),this._userTyping&&(this.open(e),this._opened())){var i=this.dropdown.find(".oj-listbox-search");if("true"===a(i).attr("aria-hidden")){var s=b.getSearchText(e);s&&(this._showSearchBox(s),this._updateResults())}}}},_testClear:function(e){return""===this.text.text()&&(!(this.datalist&&this.selection.data(this._elemNm)&&this.selection.data(this._elemNm).value||!b.isValueForPlaceholder(!1,this.ojContext.options.value))&&(this._clear(e),!0))}});n.__registerWidget("oj.ojSelect",a.oj.editableValue,{defaultElement:"<select>",widgetEventPrefix:"oj",options:{labelledBy:null,maximumResultCount:15,minimumResultsForSearch:15,placeholder:null,optionRenderer:null,options:null,optionsKeys:{},pickerAttributes:null,required:!1,readOnly:!1,renderMode:"jet",valueOption:null,valueOptions:null},widget:function(){return this.select?this.select.container:this.element.parent().parent()},_ComponentCreate:function(){this._super(),b.wrapDataProviderIfNeeded(this,null),this._setup()},_AfterCreate:function(){if(this._super(),this._IsCustomElement()){this.options.labelledBy&&this._labelledByUpdatedForSelectComp();var e=this._getRootElement();this._focusable({element:e,applyHighlight:!0,afterToggle:this._handleAfterFocusToggle.bind(this,e)}),this.select&&"none"===this.options.labelEdge&&this.select.updateAriaLabelIfNeeded()}},_handleAfterFocusToggle:function(e,t){(this.hasAfterToggleHandlerAddedFocusClass=!1,"focusout"===t)&&(this._getDropdown()&&(e.classList.add("oj-focus"),this.hasAfterToggleHandlerAddedFocusClass=!0))},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e);break;case"labelHint":case"labelEdge":this.select&&this.select.updateAriaLabelIfNeeded()}},_IsRequired:function(){return this.options.required},_labelledByUpdatedForSelectComp:function(){const t=this.options.labelledBy,i=this.options.translations.required;if(!t)return;const s=e.EditableValueUtils._getOjLabelAriaLabelledBy(t,this.uuid+"_Label");!s||this.multiple&&b.isReadonly(this)||this._GetContentElement().attr("aria-labelledby",s),this._IsRequired()&&i&&(this._implicitReqValidator=null,this._getImplicitRequiredValidator()),this.select&&this.select.updateAriaLabelledByIfNeeded(s)},_AfterSetOptionRequired:e.EditableValueUtils._AfterSetOptionRequired,_nativeSetDisabled:function(e){e?(this.element.attr("disabled",""),this.element.parent().parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().parent().removeClass("oj-disabled").addClass("oj-enabled"))},_nativeChangeHandler:function(e){var t=[],i=[],s=!this._IsRequired()&&this._HasPlaceholderSet();a(e.target).find("option").each(function(){this.selected&&(this.value||s&&""===this.value)&&(t.push(this.value),i.push({value:this.value,label:this.text}))}),b.duringFetchByKey(this.element)&&b.setValueChanged(this,!0),this._IsCustomElement()&&!0!==this.multiple?(this._SetValue(t[0],e,{doValueChangeCheck:!1,_context:{internalSet:!0}}),b.setValueOptions(this,i[0])):(this._SetValue(t,e,{doValueChangeCheck:!1,_context:{internalSet:!0}}),b.setValueOptions(this,i))},_nativeQueryCallback:function(e){if(e){var t=this.element;b.arrayPopulateResults(t,e,this._formatValue.bind(this),b.isDataProvider(this.options.options)?null:this.options.optionsKeys),t.addClass(b.GENERATED_OPTIONS_SELECTOR)}},_nativeSetSelected:function(e){var t=null;if(e)t=e;else if(this._HasPlaceholderSet()&&(this.options.required&&(t=this._nativeFindFirstEnabledOptionValue()),this._SetPlaceholder(this.options.placeholder)),null===t){var i=this._nativeFindFirstEnabledOption();t=this._nativeFindFirstEnabledOptionValue(i),b.setValueOptions(this,{value:t,label:i.text()})}this._setInitialSelectedValue(t)},_nativeFetchFromDataProvider:function(){var e=this;b.fetchFirstBlockFromDataProvider(this.element,e.options).then(function(t){if(e._nativeQueryCallback(t),t.length){var i=e.options.value;i?b.validateFromDataProvider(e.element,e.options,i).then(function(t){var i,s;if(b.isValueChanged(e)&&!1===e.multiple)b.setValueChanged(e,void 0);else if(b.isValueChanged(e)&&e.multiple&&(s=e.options.valueOptions,i=e.options.value,b.setValueChanged(e,void 0)),t){var o=t.valueOptions;Array.isArray(o)&&o.length&&b.setValueOptions(e,s?o.concat(s):o);var n=t.value;if(Array.isArray(n)&&n.length){i=i?n.concat(i):n;var a=e.multiple?i:n[0];e._nativeSetSelected(a),e.multiple&&1!==a.length||(e.element[0].value=a)}}}):e._nativeSetSelected()}})},_nativeSetup:function(){var e=this.element;if(this._IsCustomElement()?a(this.OuterWrapper).addClass("oj-select-native oj-component oj-select oj-form-control"):e.wrap("<div>").parent().addClass("oj-select-native oj-component oj-select oj-form-control"),e.addClass("oj-select-select oj-component-initnode"),e.wrap('<div class="oj-text-field-container" role="presentation">'),this.multiple?(e[0].multiple||(e[0].multiple=!0),e.parent().prepend("<a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-multiple-open-icon' role='presentation'></a>")):e.parent().prepend("<a class='oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role='presentation'></a>"),this._nativeSetDisabled(this.options.disabled),this.options.list)b.listPopulateResults(e,a("#"+this.options.list).children(),this._formatValue.bind(this)),e.addClass(b.GENERATED_OPTIONS_SELECTOR);else if(this.options.options)b.getDataProvider(this.options)?this._nativeFetchFromDataProvider():this._nativeQueryCallback(this.options.options);else if(this._IsCustomElement()){var t=e.children();1===t.length&&t.hasClass("oj-listbox-placeholder")||(b.ojOptionPopulateResults(e,t,this._formatValue.bind(this)),e.addClass(b.GENERATED_OPTIONS_SELECTOR))}this._focusable({element:e,applyHighlight:!0}),this.options.value||this._HasPlaceholderSet()||b.getDataProvider(this.options)||this._setInitialSelectedValue(this._nativeFindFirstEnabledOptionValue()),e.change(this._nativeChangeHandler.bind(this)),b.addDataProviderEventListeners(this),"top"===this._ResolveLabelEdgeStrategyType()&&this._initComponentMessaging()},_ResolveLabelEdgeStrategyType:function(){var e=this._superApply(arguments);return this._IsCustomElement()&&this._isNative()&&"inside"===e&&(e="top"),e},_jetSetup:function(){var e={};e.element=this.element,e.ojContext=this,e=a.extend(this.options,e),this.cssOptionDefaults=c.parseJSONFromFontFamily("oj-select-option-defaults")||{},this.select=this.multiple?new I:new A,this.select._init(e),this.select.container.addClass("oj-select-jet oj-form-control"),this._focusable({element:this.select.selection,applyHighlight:!0})},_setInitialSelectedValue:function(e){var t;t=this._IsCustomElement()||Array.isArray(e)?e:[e],this._SetValue(t,null,{doValueChangeCheck:!1,_context:{internalSet:!0,writeback:!0},changed:!0})},_setup:function(){b.isValueForPlaceholder(this.multiple,this.options.value)&&(this.multiple?this.options.valueOptions=b.getValueOptionsForPlaceholder(this,this.options.valueOptions):this.options.valueOption=b.getValueOptionsForPlaceholder(this,this.options.valueOption));this._resolveValueOptionsLater=b.mergeValueAndValueOptions(this,{doNotClearMessages:!0}),this._isNative()?this._nativeSetup():this._jetSetup(),this._refreshRequired(this.options.required)},_IsTextFieldComponent:function(){return!0},_GetContentWrapper:function(){if(this._IsCustomElement())return this.select._GetContentWrapper()},refresh:function(){this._super(),this._cleanup(),this._setup(),this._isNative()&&this.options.value&&this.element.val(this.options.value),this._SetRootAttributes(),this._initComponentMessaging()},_refreshRequired:e.EditableValueUtils._refreshRequired,_AriaRequiredUnsupported:function(){return!1},_destroy:function(){this._cleanup(),this._super()},_NotifyDetached:function(){this._superApply(arguments),this.select&&this.select.close()},_NotifyHidden:function(){this._superApply(arguments),this.select&&this.select.close()},_VerifyConnectedForSetup:function(){return!0},_SetPlaceholder:function(e){if(this._isNative()&&null!=e){var t=a(this.element.children("option:first-child"));t&&""===t.attr("value")?(t.text(this.options.placeholder),t.attr("value","")):((t=b.createOptionTag(0,"",e,this._formatValue.bind(this))).addClass("oj-listbox-placeholder"),this._hidePlaceholder(t,this._IsRequired()),t.prependTo(this.element))}else if(this.select){var i=e,s=this.options.placeholder,o=this.multiple;"inside"===this.options.labelEdge&&(i=e||!o&&null==s?e:""),this.select.opts.placeholder=i,this.select._setPlaceholder()}},_HasPlaceholderSet:function(){return b.isPlaceholderSpecified(this.options)},_ClearPlaceholder:function(){this._SetPlaceholderOption(null),this._SetPlaceholder(null)},_InitOptions:function(t,i){if(this._super(t,i),e.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"placeholder"},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"title"}],i,this),this.multiple=this._IsCustomElement()?"OJ-SELECT-MANY"===this.OuterWrapper.nodeName:this.options.multiple,void 0===this.options.value)this._IsCustomElement()?this.options.value=null:this.options.value=void 0!==this.element.attr("value")?b.splitVal(this.element.val(),","):null;else{var s=this.options.value;Array.isArray(s)&&(this._IsCustomElement()||(s=s.slice(0))),this.options.value=s}},_SetDisplayValue:function(e){if(this.select)b.applyValueOptions(this.select,this.options)||this.select._initSelection(),this._resolveValueOptionsLater=!1;else{var t;if(this._setPlaceholderStyle(e)&&(this.element[0].selectedIndex=0),null==e)this._resolveValueOptionsLater&&b.setValueOptions(this,b.getFixupValueOptionsForPlaceholder(this.multiple));else{var i,s=!1,o=e;if(this.multiple||(Array.isArray(e)&&(o=e[0]),null===(i=this._nativeFindLabel(o))&&(m.warn("JET select: selected value not found"),this.element[0].options&&this.element[0].options.length>0?(this.element[0].selectedIndex=0,o=this.element[0].value,i=this.element[0].text,s=!0):i=String(e))),s||this.element.val(e),e=o,this._resolveValueOptionsLater){if(this.multiple){var n=0;t=[],this.element.find("option").each(function(){this.selected&&(t.push({value:e[n],label:this.text}),n+=1)})}else t={value:e,label:i};b.setValueOptions(this,t)}}this._resolveValueOptionsLater=!1}},_GetDisplayValue:function(){var e=null;if(this.select){var t=this.select._getSelectionData();if(null!=t)if(this.multiple)if(e=[],Array.isArray(t))for(var i=0;i<t.length;i++)e.push(b.getLabel(t[i]));else e.push(b.getLabel(t));else e=Array.isArray(t)&&t.length>0?b.getLabel(t[0]):b.getLabel(t);else e=this._super()}else e=this._super();return e},validate:function(){var e,t=null;if(this.select)if(!0===this.multiple){var i=this.select.search.val(),s=this.select.getVal()?this.select.getVal():[];null==i||""===i||s.push(i),t=s}else t=this.select.getVal();else this._isNative()&&(t=this.options.value);return e=this._SetValue(t,null,this._VALIDATE_METHOD_OPTIONS),this._IsCustomElement()&&(e=Promise.resolve(e?"valid":"invalid")),e},_CanSetValue:function(){return!!this.forceCanSetValue||this._super()},_nativeFindFirstEnabledOption:function(){var e=this.element.find("option:not(:disabled)");return e.length>0?a(e[0]):null},_nativeFindFirstEnabledOptionValue:function(e){return e||(e=this._nativeFindFirstEnabledOption()),e?this._IsCustomElement()?e.attr("value"):[e.attr("value")]:null},_nativeSetOptions:function(e){var t=this.options.value,i=this.element;if(i.hasClass(b.GENERATED_OPTIONS_SELECTOR))b.cleanupResults(i);else{var s=i.children();s.length>0&&s.remove()}if(b.isDataProvider(e))this._nativeFetchFromDataProvider();else{b.arrayPopulateResults(i,e,this._formatValue.bind(this),this.options.optionsKeys);var o=null;this._HasPlaceholderSet()&&(this.options.required&&(o=this._nativeFindFirstEnabledOptionValue()),this._SetPlaceholder()),null===o&&(o=this._nativeFindFirstEnabledOptionValue()),this.options.value=o,this.option("value",t)}i.addClass(b.GENERATED_OPTIONS_SELECTOR)},_removePlaceholderInMultiValues:function(e){for(var t,i=[],s=0;s<e.length;s++)null!=(t=e[s])&&(t.length>0?(1===i.length&&""===i[0]&&i.pop(),i.push(t)):0===i.length&&i.push(t));return i},_nativeFindLabel:function(e){var t=this.element[0].options;if(t&&t.length>0)for(var i=0;i<t.length;i++)if(t[i].value===e)return a(t[i]).text();return null},_setPlaceholderStyle:function(e){var t=this.multiple;return(null==e||""===e)&&this._HasPlaceholderSet()||!this._IsCustomElement()&&Array.isArray(e)&&1===e.length&&""===e[0]||this._IsCustomElement()&&this._HasPlaceholderSet()&&b.isValueForPlaceholder(t,e)?(this.element.addClass("oj-select-default"),!0):(this.element.removeClass("oj-select-default"),!1)},_setOptions:function(e,t){var i,s,o;if(this._processSetOptions||(this._processSetOptions=[]),this._processSetOptions.push({}),this._super(e,t),(i=this._processSetOptions.pop()).value&&(s=i.value()),i.validateValue){var n=function(){var e,t=this._resolveValueOptionsLater;return this.isValueOptionsSetInternally&&(this._resolveValueOptionsLater=!0),e=i.validateValue(),this._resolveValueOptionsLater=t,e}.bind(this);o=s instanceof Promise?s.then(n):n()}if(i.messagesCustom){const e=o||s;e instanceof Promise?e.then(i.messagesCustom):i.messagesCustom()}},_setOption:function(e,t,i){var s,o,n=t,r=this,l=this._super,h=this.multiple,c=!1,u=(this._processSetOptions||[]).slice(-1)[0];if("value"!==e){if("placeholder"===e)this.select?(this.select.opts.placeholder=n,b.isValueForPlaceholder(h,this.options.value)&&this.select._setPlaceholder()):(s=this.options.value)&&0!==s.length&&s[0]||(this.element[0].selectedIndex=0);else if("maximumResultCount"===e)this.select?this.select.opts.maximumResultCount=n:c=!0;else if("minimumResultsForSearch"===e)this.select&&(this.select.opts.minimumResultsForSearch=n);else if("renderMode"===e)this._cleanup(),c=!0;else if("messagesCustom"===e&&null!=u)return void(u.messagesCustom=l.bind(this,e,n,i));if("options"===e?(b.removeDataProviderEventListeners(this),b.clearDataProviderWrapper(this)):"optionsKeys"===e?b.clearDataProviderWrapper(this):"valueOption"===e&&!0!==h?(n=b.getValueOptionsForPlaceholder(this,n),this.select&&(this.select.opts.valueOption=n),this.isValueOptionsSetInternally=!1):"valueOptions"===e&&!0===h&&(n=b.getValueOptionsForPlaceholder(this,n),this.select&&(this.select.opts.valueOptions=n),this.isValueOptionsSetInternally=!1),this._super(e,n,i),c&&this.refresh(),"disabled"===e)this.select?n?this.select._disable():this.select._enable():this._nativeSetDisabled(n);else if("readOnly"===e)this.select&&this.select.applyReadonlyState(),"native"===this.options.renderMode&&this.refresh();else if("valueOption"===e&&!0!==h)b.syncValueWithValueOption(this,n,this.options.value,this._isNative());else if("valueOptions"===e&&!0===h)b.syncValueWithValueOptions(this,n,this.options.value,this._isNative());else if("options"===e)if(b.isDataProvider(n)&&(b.wrapDataProviderIfNeeded(this,this.select?this.select.opts:null),b.addDataProviderEventListeners(this)),this.select)if(s=this.select.getVal(),o=h?s&&0!==s.length:this._IsCustomElement()?null!=s:s&&null!=s[0],b.getDataProvider(this.options)&&o){var d=function(){if(b.applyValueOptions(this.select,this.options))return this.select.opts.options=n,this.select.opts=r.select._prepareOpts(this.select.opts),Promise.resolve();let e;const t=new Promise(function(t){e=t});var i=this.select.container,s=this.options,o=this.options.value;return b.validateFromDataProvider(i,s,o).then(function(t){var i=t?t.value:null,s=Promise.resolve();if(i){var a=t.valueOptions;Array.isArray(a)&&a.length&&b.setValueOptions(r,a),Array.isArray(i)&&i.length&&l.call(r,"value",h?i:i[0])}else{var c=null!=r.options.placeholder,u=function(){r.select.setValOpts(null),l.call(r,"value",null),h||c||r.select.text.text("")};h||c?u():s=b.fetchFirstBlockFromDataProvider(r.select.container,r.options,1).then(function(e){var t=o!==r.select.getVal();e&&e.length>0&&!t?r.select._updateSelectedOption(e[0]):t||u()})}r.select.opts.options=n,r.select.opts=r.select._prepareOpts(r.select.opts),s.then(e)}),t}.bind(this);null!=u?u.validateValue=d:d()}else this.select.opts.options=n,this.select.opts=this.select._prepareOpts(this.select.opts),h&&!o||(this.select.setValOpts(null),this._super("value",s));else this._nativeSetOptions(n);else if("optionsKeys"===e)b.wrapDataProviderIfNeeded(this,this.select?this.select.opts:null);else if("required"===e&&this._isNative()){var p=a(this.element.find(".oj-listbox-placeholder"));p&&""===p.attr("value")&&this._hidePlaceholder(p,n)}else"multiple"!==e||this._IsCustomElement()?"labelledBy"===e&&this._labelledByUpdatedForSelectComp():this.multiple=n}else{var f=function(){this._valueUpdatePromise=null;var t=function(t){l.call(this,e,t,i)}.bind(this);if(this._setPlaceholderForValue(n,t))return Promise.resolve();if(n=this._treatValueForSetValue(n),b.getDataProvider(this.options)&&n){var s,o=new Promise(function(e){s=e}),a=function(e){if(e){var i=e.valueOptions;Array.isArray(i)&&i.length&&b.setValueOptions(this,i);var o=e.value;if(Array.isArray(o)&&o.length){var n=h?o:o[0];t(n),this._isNative()&&(this.element[0].value=n)}}s()}.bind(this);return this._validateFromDataProviderAndSetValue(n,a),this._valueUpdatePromise=o,o}return this._validateFromOptionsAndSetValue(n,t),Promise.resolve()}.bind(this);null!=u?u.value=f:f()}},_isOptionDataPending:function(){var e=this.options.options,t=this.select.datalist;if(t){if(0===t.children().length)return!0}else{if(b.isDataProvider(e))return!0;if(!e||0===e.length)return!0}return!1},_validateFromDataProviderAndSetValue:function(e,t){var i=this._isNative()?this.element:this.select.container,s=this.options;this.select&&(this.select.opts.options=s.options),b.validateFromDataProvider(i,s,e).then(t)},_validateFromOptionsAndSetValue:function(e,t){var i=this.multiple;if(this._IsCustomElement()&&!i)this._isValidValue(e)&&(t(e),b.updateValueOptions(this.select));else{for(var s=[],o=0;o<e.length;o++)this.select?this._isValidValue(e[o])&&s.push(e[o]):this.element.find("option[value='"+e[o]+"']").length>0&&s.push(e[o]);(s.length>0||i)&&(this._isNative()?this._nativeSetSelected(s):(t(s),b.updateValueOptions(this.select)))}},_isValidValue:function(e){var t;return this.select&&((t=this.select.datalist)||(t=this.select.opts.element)),!(this.select&&this.select.opts.validate)||this.select.opts.validate(t,e)||this._isOptionDataPending()},_treatValueForSetValue:function(e){var t=this.multiple,i=this._IsCustomElement()&&!t,s=e;return Array.isArray(s)||i||(s=[s]),this._isNative()&&(i||(s=this._removePlaceholderInMultiValues(s)),this._setPlaceholderStyle(s)),s},_setPlaceholderForValue:function(e,t){var i=this.multiple;return!(!this._HasPlaceholderSet()&&!i||!(null!=e&&0===e.length||this._IsCustomElement()&&b.isValueForPlaceholder(i,e)))&&(b.setValueOptions(this,b.getFixupValueOptionsForPlaceholder(i)),t(e),!0)},_getValueUpdatePromise:function(){return this._valueUpdatePromise instanceof Promise?this._valueUpdatePromise:Promise.resolve()},_getDropdown:function(){if(this.select&&this.select._opened()){var e=this.select.dropdown;if(e&&e.attr("data-oj-containerid")===this.select.containerId)return e}return null},_hidePlaceholder:function(e,t){t?(e.attr("disabled",""),e.attr("hidden","")):(e.removeAttr("disabled"),e.removeAttr("hidden"))},_isNative:function(){return"native"===this.options.renderMode&&!b.isReadonly(this)},_cleanup:function(){this.element.parent().parent().hasClass("oj-select-native")?(this.element.off("change"),this.element.hasClass(b.GENERATED_OPTIONS_SELECTOR)&&b.cleanupResults(this.element),this.element.parent().hasClass("oj-text-field-container")&&this.element.unwrap(),this.element.parent().children(".oj-select-arrow").remove(),this._IsCustomElement()||this.element.unwrap(),this.element.removeClass("oj-select-select oj-component-initnode"),this.element.attr({"aria-labelledby":""})):this.select&&(this.select._destroy(),this.select=void 0)},getNodeBySubId:function(e){var t,i=null;if(null==e){var s=this.widget();return s?s[0]:null}if(this._isNative())return null;if(!(i=this._super(e))){var o=this._getDropdown();switch(t=e.subId){case"oj-select-drop":o&&(i=o[0]);break;case"oj-select-results":o&&(i=o.find(".oj-listbox-results")[0]);break;case"oj-select-search":o&&(i=o.find(".oj-listbox-search")[0]);break;case"oj-select-input":case"oj-listbox-input":o&&(i=o.find(".oj-listbox-input")[0]);break;case"oj-select-choice":case"oj-select-chosen":case"oj-select-arrow":i=this.widget().find("."+t)[0];break;case"oj-listitem":if(o){var n=o.find(".oj-listbox-result");i=this.select._findItem(n,e.value)}break;case"oj-select-remove":var r=this.widget().find(".oj-select-selected-choice"),l=this.select._findItem(r,e.value);i=l?a(l).find(".oj-select-clear-entry-icon")[0]:null;break;case"oj-listbox-result-label":if(o){var h=a("#"+this.select.results.attr("id")).children(),c=e.index;h.length&&c<h.length&&(i=h.eq(c).find("."+t)[0])}}}return i||null},getSubIdByNode:function(e){if(this._isNative())return this._super(e);var t=null;if(null!=e){var i=a(e);t=i.hasClass("oj-listbox-input")?{subId:"oj-select-input"}:i.hasClass("oj-select-arrow")?{subId:"oj-select-arrow"}:i.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:i.data("ojselect").value}:i.hasClass("oj-select-clear-entry-icon")?{subId:"oj-select-remove",value:i.closest(".oj-select-selected-choice").data("ojselect").value}:this._super(e)}return t},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element},_GetContentElement:function(){return this.select?this.select.selection:this.element},_GetAriaLabelElement:function(){return this._GetContentElement()[0]}}),_.setDefaultOptions({ojSelect:{displayOptions:{converterHint:["none"]},renderMode:_.createDynamicPropertyGetter(function(){return(c.parseJSONFromFontFamily("oj-select-option-defaults")||{}).renderMode})}})});
//# sourceMappingURL=ojselectcombobox.js.map;
define('components/common/catalog-filters/index',["require", "exports", "preact", "preact/hooks", "ojs/ojarraydataprovider", "../../../store/screen-range-context", "../../../store/publication-context", "../../../models/components/common/catalog-filters/type.enum", "../../../translations/common/catalog-filters/translations-helper", "../../../utils/responsive-helper", "../../../utils/link-helper", "ojs/ojaccordion", "ojs/ojcollapsible", "ojs/ojselectcombobox"], function (require, exports, preact_1, hooks_1, ArrayDataProvider, screen_range_context_1, publication_context_1, type_enum_1, translations_helper_1, responsive_helper_1, link_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.CatalogFilters = void 0;
    class CatalogFilters extends preact_1.Component {
        constructor() {
            super();
            this.closeDrawerPopup = () => this.props.closeDrawerPopup();
            this.audienceSelectionChangedHandler = (event) => {
                if (event.detail.updatedFrom === 'internal') {
                    this.setState({ selectedAudiences: event.detail.value });
                    this.props.selectedCatalogFiltersChanged(type_enum_1.default.AUDIENCE, event.detail.value);
                    this.updateUrl(event.detail.value, this.state.selectedEnvironments);
                }
            };
            this.environmentSelectionChangedHandler = (event) => {
                if (event.detail.updatedFrom === 'internal') {
                    this.setState({ selectedEnvironments: event.detail.value });
                    this.props.selectedCatalogFiltersChanged(type_enum_1.default.ENVIRONMENT, event.detail.value);
                    this.updateUrl(this.state.selectedAudiences, event.detail.value);
                }
            };
            this.selectedStatus = (filter) => {
                const optionsLength = {
                    'audiences': this.props.availableCatalogFiltersOptions.audiences.length,
                    'environments': this.props.availableCatalogFiltersOptions.environments.length
                };
                const selectedLength = {
                    'audiences': this.state.selectedAudiences.length,
                    'environments': this.state.selectedEnvironments.length
                };
                if (selectedLength[filter] === 0) {
                    return `(${this.state.translations.labels.any})`;
                }
                return optionsLength[filter] === selectedLength[filter] ? `(${this.state.translations.labels.all})` : '';
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                audienceOptionsDP: this.audienceOptionsDP,
                environmentOptionsDP: this.environmentOptionsDP,
                selectedAudiences: [],
                selectedEnvironments: []
            };
        }
        render() {
            var _a, _b;
            const { publication } = hooks_1.useContext(publication_context_1.default);
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            this.publication = publication;
            return (preact_1.h("div", { class: "oj-sm-only-padding-4x-horizontal oj-md-padding-6x-horizontal oj-sm-only-padding-4x-top oj-md-only-padding-6x-top oj-lg-padding-9x-top oj-sm-width-full" },
                preact_1.h("div", { class: 'oj-flex oj-sm-flex-wrap-nowrap oj-sm-margin-4x-bottom oj-sm-width-full oj-sm-justify-content-space-between' },
                    preact_1.h("div", { class: 'oj-sm-width-full' },
                        !!((_a = this.props.availableCatalogFiltersOptions) === null || _a === void 0 ? void 0 : _a.audiences.length) &&
                            preact_1.h("oj-accordion", { id: "audienceCatalogAccordion" },
                                preact_1.h("oj-collapsible", { id: "audienceCatalogCollapsible" },
                                    preact_1.h("h3", { slot: "header" },
                                        this.state.translations.labels.audience,
                                        " ",
                                        this.selectedStatus(type_enum_1.default.AUDIENCE)),
                                    preact_1.h("oj-checkboxset", { id: "audienceCatalogFilter", class: "oj-sm-width-full", value: this.state.selectedAudiences, options: this.state.audienceOptionsDP, onvalueChanged: this.audienceSelectionChangedHandler }))),
                        !!((_b = this.props.availableCatalogFiltersOptions) === null || _b === void 0 ? void 0 : _b.environments.length) &&
                            preact_1.h("oj-accordion", { id: "environmentCatalogAccordion", class: "oj-sm-margin-4x-top" },
                                preact_1.h("oj-collapsible", { id: "environmentCatalogCollapsible" },
                                    preact_1.h("h3", { slot: "header" },
                                        this.state.translations.labels.environment,
                                        " ",
                                        this.selectedStatus(type_enum_1.default.ENVIRONMENT)),
                                    preact_1.h("oj-checkboxset", { id: "environmentCatalogFilter", class: "oj-sm-width-full", value: this.state.selectedEnvironments, options: this.state.environmentOptionsDP, onvalueChanged: this.environmentSelectionChangedHandler })))),
                    responsive_helper_1.isRangeMDOrLower(screenRange) &&
                        preact_1.h("oj-button", { id: "tocClose", class: "oj-sm-only-margin-4x-start oj-md-margin-6x-start oj-button-sm", display: "icons", chroming: "outlined", onojAction: this.closeDrawerPopup },
                            preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-close" })))));
        }
        componentDidUpdate(previousProps) {
            if (previousProps.availableCatalogFiltersOptions !== this.props.availableCatalogFiltersOptions) {
                this.setState((_, props) => ({
                    audienceOptionsDP: new ArrayDataProvider(this.getCatalogFiltersOptions(props.availableCatalogFiltersOptions.audiences), { keyAttributes: 'value' }),
                    selectedAudiences: this.getSelectedCatalogFilters(type_enum_1.default.AUDIENCE),
                    environmentOptionsDP: new ArrayDataProvider(this.getCatalogFiltersOptions(props.availableCatalogFiltersOptions.environments), { keyAttributes: 'value' }),
                    selectedEnvironments: this.getSelectedCatalogFilters(type_enum_1.default.ENVIRONMENT)
                }));
            }
            if (!previousProps.isDrawerPopupOpen && this.props.isDrawerPopupOpen) {
                this.setState({
                    selectedAudiences: this.getSelectedCatalogFilters(type_enum_1.default.AUDIENCE),
                    selectedEnvironments: this.getSelectedCatalogFilters(type_enum_1.default.ENVIRONMENT)
                });
            }
        }
        getCatalogFiltersOptions(optionsStringArray) {
            return optionsStringArray.map(optionString => {
                return {
                    label: optionString,
                    value: optionString
                };
            });
        }
        getSelectedCatalogFilters(filterType) {
            var _a;
            const filtersFromUrlParams = (_a = new URL(window.location.toString()).searchParams.get(filterType.substring(0, 3))) === null || _a === void 0 ? void 0 : _a.split(',');
            let selectedCatalogFilters = [];
            if (filtersFromUrlParams === null || filtersFromUrlParams === void 0 ? void 0 : filtersFromUrlParams.length) {
                selectedCatalogFilters = filtersFromUrlParams.filter(filter => this.props.availableCatalogFiltersOptions[filterType].includes(filter));
                this.props.selectedCatalogFiltersChanged(filterType, selectedCatalogFilters);
            }
            else {
                selectedCatalogFilters = this.props.availableCatalogFiltersOptions[filterType];
            }
            return selectedCatalogFilters;
        }
        updateUrl(selectedAudiences, selectedEnvironments) {
            const selectedAudiencesStr = selectedAudiences === null || selectedAudiences === void 0 ? void 0 : selectedAudiences.join();
            const selectedEnvironmentsStr = selectedEnvironments === null || selectedEnvironments === void 0 ? void 0 : selectedEnvironments.join();
            const url = new URL(window.location.toString());
            if (selectedAudiencesStr) {
                url.searchParams.set('aud', selectedAudiencesStr);
            }
            else {
                url.searchParams.delete('aud');
            }
            if (selectedEnvironmentsStr) {
                url.searchParams.set('env', selectedEnvironmentsStr);
            }
            else {
                url.searchParams.delete('env');
            }
            link_helper_1.updateHistory(this.publication.searchSourceParam, url.toString());
        }
    }
    exports.CatalogFilters = CatalogFilters;
});

define('components/navigation/index',["require", "exports", "preact", "preact/hooks", "ojs/ojresponsiveutils", "../common/toggle-table-of-contents/index", "../common/download-pdf/index", "../common/table-of-contents/index", "../common/catalog-filters/index", "../../models/components/common/catalog-filters/type.enum", "../../store/publication-context", "../../utils/responsive-helper", "ojs/ojbutton", "ojs/ojdrawerlayout"], function (require, exports, preact_1, hooks_1, ojresponsiveutils_1, index_1, index_2, index_3, index_4, type_enum_1, publication_context_1, responsive_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Navigation = void 0;
    class Navigation extends preact_1.Component {
        constructor() {
            super();
            this.updateAvailableCatalogFiltersOptions = (catalogFiltersOptions) => this.setState({ catalogFiltersOptions });
            this.selectedCatalogFiltersChanged = (filterType, selectedFilters) => {
                this.setState(prevState => {
                    var _a, _b;
                    return ({
                        selectedCatalogFilters: {
                            audiences: filterType === type_enum_1.default.AUDIENCE ? selectedFilters : (((_a = prevState.selectedCatalogFilters) === null || _a === void 0 ? void 0 : _a.audiences) || []),
                            environments: filterType === type_enum_1.default.ENVIRONMENT ? selectedFilters : (((_b = prevState.selectedCatalogFilters) === null || _b === void 0 ? void 0 : _b.environments) || [])
                        }
                    });
                });
            };
            this.toggleDrawer = () => this.setState(prevState => ({ startOpened: !prevState.startOpened }));
            this.state = {
                startOpened: responsive_helper_1.getScreenRange(window.innerWidth) === ojresponsiveutils_1.SCREEN_RANGE.XL,
                catalogFiltersOptions: { audiences: [], environments: [] },
                selectedCatalogFilters: { audiences: [], environments: [] }
            };
            this.toggleDrawer = this.toggleDrawer.bind(this);
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", { id: "navigationContainer", class: "oj-flex oj-flex-item oj-md-flex-wrap-nowrap oj-bg-neutral-30 navigation-container sticky", role: 'complementary', "aria-label": 'Primary' },
                preact_1.h("div", { class: "oj-sm-padding-3x-horizontal navigation-side-bar" },
                    preact_1.h("div", { role: 'list' },
                        !publication.isAcmsSinglePage &&
                            preact_1.h("div", { role: 'listitem' },
                                preact_1.h(index_1.ToggleTableOfContents, { isNavigation: true, isExpanded: this.state.startOpened, action: this.toggleDrawer })),
                        index_2.shouldRenderDownloadPDF(publication) &&
                            preact_1.h("div", { role: 'listitem' },
                                preact_1.h(index_2.DownloadPDF, null)))),
                !publication.isAcmsSinglePage &&
                    preact_1.h("oj-drawer-layout", { id: "navigationDrawer", class: "oj-text-lg oj-bg-neutral-10 navigation-drawer", startOpened: this.state.startOpened },
                        preact_1.h("div", { class: "toc-container", slot: "start" },
                            publication.isArticle && preact_1.h(index_4.CatalogFilters, { availableCatalogFiltersOptions: this.state.catalogFiltersOptions, selectedCatalogFiltersChanged: this.selectedCatalogFiltersChanged }),
                            preact_1.h(index_3.TableOfContents, { inNavigation: true, isVisible: this.state.startOpened, updateAvailableCatalogFiltersOptions: this.updateAvailableCatalogFiltersOptions, selectedCatalogFilters: this.state.selectedCatalogFilters })))));
        }
    }
    exports.Navigation = Navigation;
});

define('translations/pre-content/machine-translation-notice/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{bannerMessage:t.getTranslatedString("preContent.machineTranslationNotice.labels.bannerMessage")}}}}}));
/*!
 * Knockout JavaScript library v3.5.1
 * (c) The Knockout.js team - http://knockoutjs.com/
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

(function() {(function(n){var A=this||(0,eval)("this"),w=A.document,R=A.navigator,v=A.jQuery,H=A.JSON;v||"undefined"===typeof jQuery||(v=jQuery);(function(n){"function"===typeof define&&define.amd?define('knockout',["exports","require"],n):"object"===typeof exports&&"object"===typeof module?n(module.exports||exports):n(A.ko={})})(function(S,T){function K(a,c){return null===a||typeof a in W?a===c:!1}function X(b,c){var d;return function(){d||(d=a.a.setTimeout(function(){d=n;b()},c))}}function Y(b,c){var d;return function(){clearTimeout(d);
d=a.a.setTimeout(b,c)}}function Z(a,c){c&&"change"!==c?"beforeChange"===c?this.pc(a):this.gb(a,c):this.qc(a)}function aa(a,c){null!==c&&c.s&&c.s()}function ba(a,c){var d=this.qd,e=d[r];e.ra||(this.Qb&&this.mb[c]?(d.uc(c,a,this.mb[c]),this.mb[c]=null,--this.Qb):e.I[c]||d.uc(c,a,e.J?{da:a}:d.$c(a)),a.Ja&&a.gd())}var a="undefined"!==typeof S?S:{};a.b=function(b,c){for(var d=b.split("."),e=a,f=0;f<d.length-1;f++)e=e[d[f]];e[d[d.length-1]]=c};a.L=function(a,c,d){a[c]=d};a.version="3.5.1";a.b("version",
a.version);a.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1};a.a=function(){function b(a,b){for(var c in a)f.call(a,c)&&b(c,a[c])}function c(a,b){if(b)for(var c in b)f.call(b,c)&&(a[c]=b[c]);return a}function d(a,b){a.__proto__=b;return a}function e(b,c,d,e){var l=b[c].match(q)||[];a.a.D(d.match(q),function(b){a.a.Na(l,b,e)});b[c]=l.join(" ")}var f=Object.prototype.hasOwnProperty,g={__proto__:[]}instanceof Array,h="function"===typeof Symbol,m={},k={};m[R&&/Firefox\/2/i.test(R.userAgent)?
"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];m.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");b(m,function(a,b){if(b.length)for(var c=0,d=b.length;c<d;c++)k[b[c]]=a});var l={propertychange:!0},p=w&&function(){for(var a=3,b=w.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:n}(),q=/\S+/g,t;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],
D:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},A:"function"==typeof Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Lb:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d];return n},Pa:function(b,c){var d=a.a.A(b,c);0<d?b.splice(d,1):0===d&&b.shift()},wc:function(b){var c=[];b&&a.a.D(b,function(b){0>a.a.A(c,b)&&c.push(b)});return c},Mb:function(a,
b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)d.push(b.call(c,a[e],e));return d},jb:function(a,b,c){var d=[];if(a)for(var e=0,l=a.length;e<l;e++)b.call(c,a[e],e)&&d.push(a[e]);return d},Nb:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;c<d;c++)a.push(b[c]);return a},Na:function(b,c,d){var e=a.a.A(a.a.bc(b),c);0>e?d&&b.push(c):d||b.splice(e,1)},Ba:g,extend:c,setPrototypeOf:d,Ab:g?d:c,P:b,Ga:function(a,b,c){if(!a)return a;var d={},e;for(e in a)f.call(a,e)&&(d[e]=
b.call(c,a[e],e,a));return d},Tb:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Yb:function(b){b=a.a.la(b);for(var c=(b[0]&&b[0].ownerDocument||w).createElement("div"),d=0,e=b.length;d<e;d++)c.appendChild(a.oa(b[d]));return c},Ca:function(b,c){for(var d=0,e=b.length,l=[];d<e;d++){var k=b[d].cloneNode(!0);l.push(c?a.oa(k):k)}return l},va:function(b,c){a.a.Tb(b);if(c)for(var d=0,e=c.length;d<e;d++)b.appendChild(c[d])},Xc:function(b,c){var d=b.nodeType?[b]:b;if(0<d.length){for(var e=d[0],
l=e.parentNode,k=0,f=c.length;k<f;k++)l.insertBefore(c[k],e);k=0;for(f=d.length;k<f;k++)a.removeNode(d[k])}},Ua:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);for(;1<a.length&&a[a.length-1].parentNode!==b;)a.length--;if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)a.push(c),c=c.nextSibling;a.push(d)}}return a},Zc:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},Db:function(a){return null===a||a===n?"":a.trim?
a.trim():a.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},vd:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(1!==a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;return!!a},Sb:function(b){return a.a.vd(b,b.ownerDocument.documentElement)},kd:function(b){return!!a.a.Lb(b,a.a.Sb)},R:function(a){return a&&
a.tagName&&a.tagName.toLowerCase()},Ac:function(b){return a.onError?function(){try{return b.apply(this,arguments)}catch(c){throw a.onError&&a.onError(c),c;}}:b},setTimeout:function(b,c){return setTimeout(a.a.Ac(b),c)},Gc:function(b){setTimeout(function(){a.onError&&a.onError(b);throw b;},0)},B:function(b,c,d){var e=a.a.Ac(d);d=l[c];if(a.options.useOnlyNativeEvents||d||!v)if(d||"function"!=typeof b.addEventListener)if("undefined"!=typeof b.attachEvent){var k=function(a){e.call(b,a)},f="on"+c;b.attachEvent(f,
k);a.a.K.za(b,function(){b.detachEvent(f,k)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else b.addEventListener(c,e,!1);else t||(t="function"==typeof v(b).on?"on":"bind"),v(b)[t](c,e)},Fb:function(b,c){if(!b||!b.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var d;"input"===a.a.R(b)&&b.type&&"click"==c.toLowerCase()?(d=b.type,d="checkbox"==d||"radio"==d):d=!1;if(a.options.useOnlyNativeEvents||!v||d)if("function"==typeof w.createEvent)if("function"==
typeof b.dispatchEvent)d=w.createEvent(k[c]||"HTMLEvents"),d.initEvent(c,!0,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,b),b.dispatchEvent(d);else throw Error("The supplied element doesn't support dispatchEvent");else if(d&&b.click)b.click();else if("undefined"!=typeof b.fireEvent)b.fireEvent("on"+c);else throw Error("Browser doesn't support triggering events");else v(b).trigger(c)},f:function(b){return a.O(b)?b():b},bc:function(b){return a.O(b)?b.v():b},Eb:function(b,c,d){var l;c&&("object"===typeof b.classList?
(l=b.classList[d?"add":"remove"],a.a.D(c.match(q),function(a){l.call(b.classList,a)})):"string"===typeof b.className.baseVal?e(b.className,"baseVal",c,d):e(b,"className",c,d))},Bb:function(b,c){var d=a.a.f(c);if(null===d||d===n)d="";var e=a.h.firstChild(b);!e||3!=e.nodeType||a.h.nextSibling(e)?a.h.va(b,[b.ownerDocument.createTextNode(d)]):e.data=d;a.a.Ad(b)},Yc:function(a,b){a.name=b;if(7>=p)try{var c=a.name.replace(/[&<>'"]/g,function(a){return"&#"+a.charCodeAt(0)+";"});a.mergeAttributes(w.createElement("<input name='"+
c+"'/>"),!1)}catch(d){}},Ad:function(a){9<=p&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},wd:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Pd:function(b,c){b=a.a.f(b);c=a.a.f(c);for(var d=[],e=b;e<=c;e++)d.push(e);return d},la:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(a[c]);return b},Da:function(a){return h?Symbol(a):a},Zd:6===p,$d:7===p,W:p,Lc:function(b,c){for(var d=a.a.la(b.getElementsByTagName("input")).concat(a.a.la(b.getElementsByTagName("textarea"))),
e="string"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},l=[],k=d.length-1;0<=k;k--)e(d[k])&&l.push(d[k]);return l},Nd:function(b){return"string"==typeof b&&(b=a.a.Db(b))?H&&H.parse?H.parse(b):(new Function("return "+b))():null},hc:function(b,c,d){if(!H||!H.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");
return H.stringify(a.a.f(b),c,d)},Od:function(c,d,e){e=e||{};var l=e.params||{},k=e.includeFields||this.Jc,f=c;if("object"==typeof c&&"form"===a.a.R(c))for(var f=c.action,h=k.length-1;0<=h;h--)for(var g=a.a.Lc(c,k[h]),m=g.length-1;0<=m;m--)l[g[m].name]=g[m].value;d=a.a.f(d);var p=w.createElement("form");p.style.display="none";p.action=f;p.method="post";for(var q in d)c=w.createElement("input"),c.type="hidden",c.name=q,c.value=a.a.hc(a.a.f(d[q])),p.appendChild(c);b(l,function(a,b){var c=w.createElement("input");
c.type="hidden";c.name=a;c.value=b;p.appendChild(c)});w.body.appendChild(p);e.submitter?e.submitter(p):p.submit();setTimeout(function(){p.parentNode.removeChild(p)},0)}}}();a.b("utils",a.a);a.b("utils.arrayForEach",a.a.D);a.b("utils.arrayFirst",a.a.Lb);a.b("utils.arrayFilter",a.a.jb);a.b("utils.arrayGetDistinctValues",a.a.wc);a.b("utils.arrayIndexOf",a.a.A);a.b("utils.arrayMap",a.a.Mb);a.b("utils.arrayPushAll",a.a.Nb);a.b("utils.arrayRemoveItem",a.a.Pa);a.b("utils.cloneNodes",a.a.Ca);a.b("utils.createSymbolOrString",
a.a.Da);a.b("utils.extend",a.a.extend);a.b("utils.fieldsIncludedWithJsonPost",a.a.Jc);a.b("utils.getFormFields",a.a.Lc);a.b("utils.objectMap",a.a.Ga);a.b("utils.peekObservable",a.a.bc);a.b("utils.postJson",a.a.Od);a.b("utils.parseJson",a.a.Nd);a.b("utils.registerEventHandler",a.a.B);a.b("utils.stringifyJson",a.a.hc);a.b("utils.range",a.a.Pd);a.b("utils.toggleDomNodeCssClass",a.a.Eb);a.b("utils.triggerEvent",a.a.Fb);a.b("utils.unwrapObservable",a.a.f);a.b("utils.objectForEach",a.a.P);a.b("utils.addOrRemoveItem",
a.a.Na);a.b("utils.setTextContent",a.a.Bb);a.b("unwrap",a.a.f);Function.prototype.bind||(Function.prototype.bind=function(a){var c=this;if(1===arguments.length)return function(){return c.apply(a,arguments)};var d=Array.prototype.slice.call(arguments,1);return function(){var e=d.slice(0);e.push.apply(e,arguments);return c.apply(a,e)}});a.a.g=new function(){var b=0,c="__ko__"+(new Date).getTime(),d={},e,f;a.a.W?(e=function(a,e){var f=a[c];if(!f||"null"===f||!d[f]){if(!e)return n;f=a[c]="ko"+b++;d[f]=
{}}return d[f]},f=function(a){var b=a[c];return b?(delete d[b],a[c]=null,!0):!1}):(e=function(a,b){var d=a[c];!d&&b&&(d=a[c]={});return d},f=function(a){return a[c]?(delete a[c],!0):!1});return{get:function(a,b){var c=e(a,!1);return c&&c[b]},set:function(a,b,c){(a=e(a,c!==n))&&(a[b]=c)},Ub:function(a,b,c){a=e(a,!0);return a[b]||(a[b]=c)},clear:f,Z:function(){return b++ +c}}};a.b("utils.domData",a.a.g);a.b("utils.domData.clear",a.a.g.clear);a.a.K=new function(){function b(b,c){var d=a.a.g.get(b,e);
d===n&&c&&(d=[],a.a.g.set(b,e,d));return d}function c(c){var e=b(c,!1);if(e)for(var e=e.slice(0),k=0;k<e.length;k++)e[k](c);a.a.g.clear(c);a.a.K.cleanExternalData(c);g[c.nodeType]&&d(c.childNodes,!0)}function d(b,d){for(var e=[],l,f=0;f<b.length;f++)if(!d||8===b[f].nodeType)if(c(e[e.length]=l=b[f]),b[f]!==l)for(;f--&&-1==a.a.A(e,b[f]););}var e=a.a.g.Z(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{za:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},yb:function(c,
d){var f=b(c,!1);f&&(a.a.Pa(f,d),0==f.length&&a.a.g.set(c,e,n))},oa:function(b){a.u.G(function(){f[b.nodeType]&&(c(b),g[b.nodeType]&&d(b.getElementsByTagName("*")))});return b},removeNode:function(b){a.oa(b);b.parentNode&&b.parentNode.removeChild(b)},cleanExternalData:function(a){v&&"function"==typeof v.cleanData&&v.cleanData([a])}}};a.oa=a.a.K.oa;a.removeNode=a.a.K.removeNode;a.b("cleanNode",a.oa);a.b("removeNode",a.removeNode);a.b("utils.domNodeDisposal",a.a.K);a.b("utils.domNodeDisposal.addDisposeCallback",
a.a.K.za);a.b("utils.domNodeDisposal.removeDisposeCallback",a.a.K.yb);(function(){var b=[0,"",""],c=[1,"<table>","</table>"],d=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,"<select multiple='multiple'>","</select>"],f={thead:c,tbody:c,tfoot:c,tr:[2,"<table><tbody>","</tbody></table>"],td:d,th:d,option:e,optgroup:e},g=8>=a.a.W;a.a.ua=function(c,d){var e;if(v)if(v.parseHTML)e=v.parseHTML(c,d)||[];else{if((e=v.clean([c],d))&&e[0]){for(var l=e[0];l.parentNode&&11!==l.parentNode.nodeType;)l=l.parentNode;
l.parentNode&&l.parentNode.removeChild(l)}}else{(e=d)||(e=w);var l=e.parentWindow||e.defaultView||A,p=a.a.Db(c).toLowerCase(),q=e.createElement("div"),t;t=(p=p.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&f[p[1]]||b;p=t[0];t="ignored<div>"+t[1]+c+t[2]+"</div>";"function"==typeof l.innerShiv?q.appendChild(l.innerShiv(t)):(g&&e.body.appendChild(q),q.innerHTML=t,g&&q.parentNode.removeChild(q));for(;p--;)q=q.lastChild;e=a.a.la(q.lastChild.childNodes)}return e};a.a.Md=function(b,c){var d=a.a.ua(b,
c);return d.length&&d[0].parentElement||a.a.Yb(d)};a.a.fc=function(b,c){a.a.Tb(b);c=a.a.f(c);if(null!==c&&c!==n)if("string"!=typeof c&&(c=c.toString()),v)v(b).html(c);else for(var d=a.a.ua(c,b.ownerDocument),e=0;e<d.length;e++)b.appendChild(d[e])}})();a.b("utils.parseHtmlFragment",a.a.ua);a.b("utils.setHtml",a.a.fc);a.aa=function(){function b(c,e){if(c)if(8==c.nodeType){var f=a.aa.Uc(c.nodeValue);null!=f&&e.push({ud:c,Kd:f})}else if(1==c.nodeType)for(var f=0,g=c.childNodes,h=g.length;f<h;f++)b(g[f],
e)}var c={};return{Xb:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"\x3c!--[ko_memo:"+b+"]--\x3e"},bd:function(a,b){var f=c[a];if(f===n)throw Error("Couldn't find any memo with ID "+a+". Perhaps it's already been unmemoized.");try{return f.apply(null,b||[]),!0}finally{delete c[a]}},cd:function(c,e){var f=
[];b(c,f);for(var g=0,h=f.length;g<h;g++){var m=f[g].ud,k=[m];e&&a.a.Nb(k,e);a.aa.bd(f[g].Kd,k);m.nodeValue="";m.parentNode&&m.parentNode.removeChild(m)}},Uc:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();a.b("memoization",a.aa);a.b("memoization.memoize",a.aa.Xb);a.b("memoization.unmemoize",a.aa.bd);a.b("memoization.parseMemoText",a.aa.Uc);a.b("memoization.unmemoizeDomNodeAndDescendants",a.aa.cd);a.na=function(){function b(){if(f)for(var b=f,c=0,d;h<f;)if(d=e[h++]){if(h>b){if(5E3<=
++c){h=f;a.a.Gc(Error("'Too much recursion' after processing "+c+" task groups."));break}b=f}try{d()}catch(p){a.a.Gc(p)}}}function c(){b();h=f=e.length=0}var d,e=[],f=0,g=1,h=0;A.MutationObserver?d=function(a){var b=w.createElement("div");(new MutationObserver(a)).observe(b,{attributes:!0});return function(){b.classList.toggle("foo")}}(c):d=w&&"onreadystatechange"in w.createElement("script")?function(a){var b=w.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;w.documentElement.removeChild(b);
b=null;a()};w.documentElement.appendChild(b)}:function(a){setTimeout(a,0)};return{scheduler:d,zb:function(b){f||a.na.scheduler(c);e[f++]=b;return g++},cancel:function(a){a=a-(g-f);a>=h&&a<f&&(e[a]=null)},resetForTesting:function(){var a=f-h;h=f=e.length=0;return a},Sd:b}}();a.b("tasks",a.na);a.b("tasks.schedule",a.na.zb);a.b("tasks.runEarly",a.na.Sd);a.Ta={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.$({read:b,write:function(e){clearTimeout(d);d=a.a.setTimeout(function(){b(e)},
c)}})},rateLimit:function(a,c){var d,e,f;"number"==typeof c?d=c:(d=c.timeout,e=c.method);a.Hb=!1;f="function"==typeof e?e:"notifyWhenChangesStop"==e?Y:X;a.ub(function(a){return f(a,d,c)})},deferred:function(b,c){if(!0!==c)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");b.Hb||(b.Hb=!0,b.ub(function(c){var e,f=!1;return function(){if(!f){a.na.cancel(e);e=a.na.zb(c);try{f=!0,b.notifySubscribers(n,"dirty")}finally{f=
!1}}}}))},notify:function(a,c){a.equalityComparer="always"==c?null:K}};var W={undefined:1,"boolean":1,number:1,string:1};a.b("extenders",a.Ta);a.ic=function(b,c,d){this.da=b;this.lc=c;this.mc=d;this.Ib=!1;this.fb=this.Jb=null;a.L(this,"dispose",this.s);a.L(this,"disposeWhenNodeIsRemoved",this.l)};a.ic.prototype.s=function(){this.Ib||(this.fb&&a.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)};a.ic.prototype.l=function(b){this.Jb=b;a.a.K.za(b,this.fb=this.s.bind(this))};
a.T=function(){a.a.Ab(this,D);D.qb(this)};var D={qb:function(a){a.U={change:[]};a.sc=1},subscribe:function(b,c,d){var e=this;d=d||"change";var f=new a.ic(e,c?b.bind(c):b,function(){a.a.Pa(e.U[d],f);e.hb&&e.hb(d)});e.Qa&&e.Qa(d);e.U[d]||(e.U[d]=[]);e.U[d].push(f);return f},notifySubscribers:function(b,c){c=c||"change";"change"===c&&this.Gb();if(this.Wa(c)){var d="change"===c&&this.ed||this.U[c].slice(0);try{a.u.xc();for(var e=0,f;f=d[e];++e)f.Ib||f.lc(b)}finally{a.u.end()}}},ob:function(){return this.sc},
Dd:function(a){return this.ob()!==a},Gb:function(){++this.sc},ub:function(b){var c=this,d=a.O(c),e,f,g,h,m;c.gb||(c.gb=c.notifySubscribers,c.notifySubscribers=Z);var k=b(function(){c.Ja=!1;d&&h===c&&(h=c.nc?c.nc():c());var a=f||m&&c.sb(g,h);m=f=e=!1;a&&c.gb(g=h)});c.qc=function(a,b){b&&c.Ja||(m=!b);c.ed=c.U.change.slice(0);c.Ja=e=!0;h=a;k()};c.pc=function(a){e||(g=a,c.gb(a,"beforeChange"))};c.rc=function(){m=!0};c.gd=function(){c.sb(g,c.v(!0))&&(f=!0)}},Wa:function(a){return this.U[a]&&this.U[a].length},
Bd:function(b){if(b)return this.U[b]&&this.U[b].length||0;var c=0;a.a.P(this.U,function(a,b){"dirty"!==a&&(c+=b.length)});return c},sb:function(a,c){return!this.equalityComparer||!this.equalityComparer(a,c)},toString:function(){return"[object Object]"},extend:function(b){var c=this;b&&a.a.P(b,function(b,e){var f=a.Ta[b];"function"==typeof f&&(c=f(c,e)||c)});return c}};a.L(D,"init",D.qb);a.L(D,"subscribe",D.subscribe);a.L(D,"extend",D.extend);a.L(D,"getSubscriptionsCount",D.Bd);a.a.Ba&&a.a.setPrototypeOf(D,
Function.prototype);a.T.fn=D;a.Qc=function(a){return null!=a&&"function"==typeof a.subscribe&&"function"==typeof a.notifySubscribers};a.b("subscribable",a.T);a.b("isSubscribable",a.Qc);a.S=a.u=function(){function b(a){d.push(e);e=a}function c(){e=d.pop()}var d=[],e,f=0;return{xc:b,end:c,cc:function(b){if(e){if(!a.Qc(b))throw Error("Only subscribable things can act as dependencies");e.od.call(e.pd,b,b.fd||(b.fd=++f))}},G:function(a,d,e){try{return b(),a.apply(d,e||[])}finally{c()}},qa:function(){if(e)return e.o.qa()},
Va:function(){if(e)return e.o.Va()},Ya:function(){if(e)return e.Ya},o:function(){if(e)return e.o}}}();a.b("computedContext",a.S);a.b("computedContext.getDependenciesCount",a.S.qa);a.b("computedContext.getDependencies",a.S.Va);a.b("computedContext.isInitial",a.S.Ya);a.b("computedContext.registerDependency",a.S.cc);a.b("ignoreDependencies",a.Yd=a.u.G);var I=a.a.Da("_latestValue");a.ta=function(b){function c(){if(0<arguments.length)return c.sb(c[I],arguments[0])&&(c.ya(),c[I]=arguments[0],c.xa()),this;
a.u.cc(c);return c[I]}c[I]=b;a.a.Ba||a.a.extend(c,a.T.fn);a.T.fn.qb(c);a.a.Ab(c,F);a.options.deferUpdates&&a.Ta.deferred(c,!0);return c};var F={equalityComparer:K,v:function(){return this[I]},xa:function(){this.notifySubscribers(this[I],"spectate");this.notifySubscribers(this[I])},ya:function(){this.notifySubscribers(this[I],"beforeChange")}};a.a.Ba&&a.a.setPrototypeOf(F,a.T.fn);var G=a.ta.Ma="__ko_proto__";F[G]=a.ta;a.O=function(b){if((b="function"==typeof b&&b[G])&&b!==F[G]&&b!==a.o.fn[G])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");
return!!b};a.Za=function(b){return"function"==typeof b&&(b[G]===F[G]||b[G]===a.o.fn[G]&&b.Nc)};a.b("observable",a.ta);a.b("isObservable",a.O);a.b("isWriteableObservable",a.Za);a.b("isWritableObservable",a.Za);a.b("observable.fn",F);a.L(F,"peek",F.v);a.L(F,"valueHasMutated",F.xa);a.L(F,"valueWillMutate",F.ya);a.Ha=function(b){b=b||[];if("object"!=typeof b||!("length"in b))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");b=a.ta(b);a.a.Ab(b,
a.Ha.fn);return b.extend({trackArrayChanges:!0})};a.Ha.fn={remove:function(b){for(var c=this.v(),d=[],e="function"!=typeof b||a.O(b)?function(a){return a===b}:b,f=0;f<c.length;f++){var g=c[f];if(e(g)){0===d.length&&this.ya();if(c[f]!==g)throw Error("Array modified during remove; cannot remove item");d.push(g);c.splice(f,1);f--}}d.length&&this.xa();return d},removeAll:function(b){if(b===n){var c=this.v(),d=c.slice(0);this.ya();c.splice(0,c.length);this.xa();return d}return b?this.remove(function(c){return 0<=
a.a.A(b,c)}):[]},destroy:function(b){var c=this.v(),d="function"!=typeof b||a.O(b)?function(a){return a===b}:b;this.ya();for(var e=c.length-1;0<=e;e--){var f=c[e];d(f)&&(f._destroy=!0)}this.xa()},destroyAll:function(b){return b===n?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.A(b,c)}):[]},indexOf:function(b){var c=this();return a.a.A(c,b)},replace:function(a,c){var d=this.indexOf(a);0<=d&&(this.ya(),this.v()[d]=c,this.xa())},sorted:function(a){var c=this().slice(0);
return a?c.sort(a):c.sort()},reversed:function(){return this().slice(0).reverse()}};a.a.Ba&&a.a.setPrototypeOf(a.Ha.fn,a.ta.fn);a.a.D("pop push reverse shift sort splice unshift".split(" "),function(b){a.Ha.fn[b]=function(){var a=this.v();this.ya();this.zc(a,b,arguments);var d=a[b].apply(a,arguments);this.xa();return d===a?this:d}});a.a.D(["slice"],function(b){a.Ha.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.Pc=function(b){return a.O(b)&&"function"==typeof b.remove&&"function"==
typeof b.push};a.b("observableArray",a.Ha);a.b("isObservableArray",a.Pc);a.Ta.trackArrayChanges=function(b,c){function d(){function c(){if(m){var d=[].concat(b.v()||[]),e;if(b.Wa("arrayChange")){if(!f||1<m)f=a.a.Pb(k,d,b.Ob);e=f}k=d;f=null;m=0;e&&e.length&&b.notifySubscribers(e,"arrayChange")}}e?c():(e=!0,h=b.subscribe(function(){++m},null,"spectate"),k=[].concat(b.v()||[]),f=null,g=b.subscribe(c))}b.Ob={};c&&"object"==typeof c&&a.a.extend(b.Ob,c);b.Ob.sparse=!0;if(!b.zc){var e=!1,f=null,g,h,m=0,
k,l=b.Qa,p=b.hb;b.Qa=function(a){l&&l.call(b,a);"arrayChange"===a&&d()};b.hb=function(a){p&&p.call(b,a);"arrayChange"!==a||b.Wa("arrayChange")||(g&&g.s(),h&&h.s(),h=g=null,e=!1,k=n)};b.zc=function(b,c,d){function l(a,b,c){return k[k.length]={status:a,value:b,index:c}}if(e&&!m){var k=[],p=b.length,g=d.length,h=0;switch(c){case "push":h=p;case "unshift":for(c=0;c<g;c++)l("added",d[c],h+c);break;case "pop":h=p-1;case "shift":p&&l("deleted",b[h],h);break;case "splice":c=Math.min(Math.max(0,0>d[0]?p+d[0]:
d[0]),p);for(var p=1===g?p:Math.min(c+(d[1]||0),p),g=c+g-2,h=Math.max(p,g),U=[],L=[],n=2;c<h;++c,++n)c<p&&L.push(l("deleted",b[c],c)),c<g&&U.push(l("added",d[n],c));a.a.Kc(L,U);break;default:return}f=k}}}};var r=a.a.Da("_state");a.o=a.$=function(b,c,d){function e(){if(0<arguments.length){if("function"===typeof f)f.apply(g.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}g.ra||
a.u.cc(e);(g.ka||g.J&&e.Xa())&&e.ha();return g.X}"object"===typeof b?d=b:(d=d||{},b&&(d.read=b));if("function"!=typeof d.read)throw Error("Pass a function that returns the value of the ko.computed");var f=d.write,g={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:d.read,nb:c||d.owner,l:d.disposeWhenNodeIsRemoved||d.l||null,Sa:d.disposeWhen||d.Sa,Rb:null,I:{},V:0,Ic:null};e[r]=g;e.Nc="function"===typeof f;a.a.Ba||a.a.extend(e,a.T.fn);a.T.fn.qb(e);a.a.Ab(e,C);d.pure?(g.wb=!0,g.J=!0,a.a.extend(e,da)):
d.deferEvaluation&&a.a.extend(e,ea);a.options.deferUpdates&&a.Ta.deferred(e,!0);g.l&&(g.jc=!0,g.l.nodeType||(g.l=null));g.J||d.deferEvaluation||e.ha();g.l&&e.ja()&&a.a.K.za(g.l,g.Rb=function(){e.s()});return e};var C={equalityComparer:K,qa:function(){return this[r].V},Va:function(){var b=[];a.a.P(this[r].I,function(a,d){b[d.Ka]=d.da});return b},Vb:function(b){if(!this[r].V)return!1;var c=this.Va();return-1!==a.a.A(c,b)?!0:!!a.a.Lb(c,function(a){return a.Vb&&a.Vb(b)})},uc:function(a,c,d){if(this[r].wb&&
c===this)throw Error("A 'pure' computed must not be called recursively");this[r].I[a]=d;d.Ka=this[r].V++;d.La=c.ob()},Xa:function(){var a,c,d=this[r].I;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a],this.Ia&&c.da.Ja||c.da.Dd(c.La)))return!0},Jd:function(){this.Ia&&!this[r].rb&&this.Ia(!1)},ja:function(){var a=this[r];return a.ka||0<a.V},Rd:function(){this.Ja?this[r].ka&&(this[r].sa=!0):this.Hc()},$c:function(a){if(a.Hb){var c=a.subscribe(this.Jd,this,"dirty"),d=a.subscribe(this.Rd,
this);return{da:a,s:function(){c.s();d.s()}}}return a.subscribe(this.Hc,this)},Hc:function(){var b=this,c=b.throttleEvaluation;c&&0<=c?(clearTimeout(this[r].Ic),this[r].Ic=a.a.setTimeout(function(){b.ha(!0)},c)):b.Ia?b.Ia(!0):b.ha(!0)},ha:function(b){var c=this[r],d=c.Sa,e=!1;if(!c.rb&&!c.ra){if(c.l&&!a.a.Sb(c.l)||d&&d()){if(!c.jc){this.s();return}}else c.jc=!1;c.rb=!0;try{e=this.zd(b)}finally{c.rb=!1}return e}},zd:function(b){var c=this[r],d=!1,e=c.wb?n:!c.V,d={qd:this,mb:c.I,Qb:c.V};a.u.xc({pd:d,
od:ba,o:this,Ya:e});c.I={};c.V=0;var f=this.yd(c,d);c.V?d=this.sb(c.X,f):(this.s(),d=!0);d&&(c.J?this.Gb():this.notifySubscribers(c.X,"beforeChange"),c.X=f,this.notifySubscribers(c.X,"spectate"),!c.J&&b&&this.notifySubscribers(c.X),this.rc&&this.rc());e&&this.notifySubscribers(c.X,"awake");return d},yd:function(b,c){try{var d=b.Wc;return b.nb?d.call(b.nb):d()}finally{a.u.end(),c.Qb&&!b.J&&a.a.P(c.mb,aa),b.sa=b.ka=!1}},v:function(a){var c=this[r];(c.ka&&(a||!c.V)||c.J&&this.Xa())&&this.ha();return c.X},
ub:function(b){a.T.fn.ub.call(this,b);this.nc=function(){this[r].J||(this[r].sa?this.ha():this[r].ka=!1);return this[r].X};this.Ia=function(a){this.pc(this[r].X);this[r].ka=!0;a&&(this[r].sa=!0);this.qc(this,!a)}},s:function(){var b=this[r];!b.J&&b.I&&a.a.P(b.I,function(a,b){b.s&&b.s()});b.l&&b.Rb&&a.a.K.yb(b.l,b.Rb);b.I=n;b.V=0;b.ra=!0;b.sa=!1;b.ka=!1;b.J=!1;b.l=n;b.Sa=n;b.Wc=n;this.Nc||(b.nb=n)}},da={Qa:function(b){var c=this,d=c[r];if(!d.ra&&d.J&&"change"==b){d.J=!1;if(d.sa||c.Xa())d.I=null,d.V=
0,c.ha()&&c.Gb();else{var e=[];a.a.P(d.I,function(a,b){e[b.Ka]=a});a.a.D(e,function(a,b){var e=d.I[a],m=c.$c(e.da);m.Ka=b;m.La=e.La;d.I[a]=m});c.Xa()&&c.ha()&&c.Gb()}d.ra||c.notifySubscribers(d.X,"awake")}},hb:function(b){var c=this[r];c.ra||"change"!=b||this.Wa("change")||(a.a.P(c.I,function(a,b){b.s&&(c.I[a]={da:b.da,Ka:b.Ka,La:b.La},b.s())}),c.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var b=this[r];b.J&&(b.sa||this.Xa())&&this.ha();return a.T.fn.ob.call(this)}},ea={Qa:function(a){"change"!=
a&&"beforeChange"!=a||this.v()}};a.a.Ba&&a.a.setPrototypeOf(C,a.T.fn);var N=a.ta.Ma;C[N]=a.o;a.Oc=function(a){return"function"==typeof a&&a[N]===C[N]};a.Fd=function(b){return a.Oc(b)&&b[r]&&b[r].wb};a.b("computed",a.o);a.b("dependentObservable",a.o);a.b("isComputed",a.Oc);a.b("isPureComputed",a.Fd);a.b("computed.fn",C);a.L(C,"peek",C.v);a.L(C,"dispose",C.s);a.L(C,"isActive",C.ja);a.L(C,"getDependenciesCount",C.qa);a.L(C,"getDependencies",C.Va);a.xb=function(b,c){if("function"===typeof b)return a.o(b,
c,{pure:!0});b=a.a.extend({},b);b.pure=!0;return a.o(b,c)};a.b("pureComputed",a.xb);(function(){function b(a,f,g){g=g||new d;a=f(a);if("object"!=typeof a||null===a||a===n||a instanceof RegExp||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var h=a instanceof Array?[]:{};g.save(a,h);c(a,function(c){var d=f(a[c]);switch(typeof d){case "boolean":case "number":case "string":case "function":h[c]=d;break;case "object":case "undefined":var l=g.get(d);h[c]=l!==
n?l:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.values=[]}a.ad=function(c){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(c,function(b){for(var c=0;a.O(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.ad(b);return a.a.hc(b,c,d)};d.prototype={constructor:d,save:function(b,c){var d=a.a.A(this.keys,
b);0<=d?this.values[d]=c:(this.keys.push(b),this.values.push(c))},get:function(b){b=a.a.A(this.keys,b);return 0<=b?this.values[b]:n}}})();a.b("toJS",a.ad);a.b("toJSON",a.toJSON);a.Wd=function(b,c,d){function e(c){var e=a.xb(b,d).extend({ma:"always"}),h=e.subscribe(function(a){a&&(h.s(),c(a))});e.notifySubscribers(e.v());return h}return"function"!==typeof Promise||c?e(c.bind(d)):new Promise(e)};a.b("when",a.Wd);(function(){a.w={M:function(b){switch(a.a.R(b)){case "option":return!0===b.__ko__hasDomDataOptionValue__?
a.a.g.get(b,a.c.options.$b):7>=a.a.W?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case "select":return 0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex]):n;default:return b.value}},cb:function(b,c,d){switch(a.a.R(b)){case "option":"string"===typeof c?(a.a.g.set(b,a.c.options.$b,n),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c):(a.a.g.set(b,a.c.options.$b,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"===
typeof c?c:"");break;case "select":if(""===c||null===c)c=n;for(var e=-1,f=0,g=b.options.length,h;f<g;++f)if(h=a.w.M(b.options[f]),h==c||""===h&&c===n){e=f;break}if(d||0<=e||c===n&&1<b.size)b.selectedIndex=e,6===a.a.W&&a.a.setTimeout(function(){b.selectedIndex=e},0);break;default:if(null===c||c===n)c="";b.value=c}}}})();a.b("selectExtensions",a.w);a.b("selectExtensions.readValue",a.w.M);a.b("selectExtensions.writeValue",a.w.cb);a.m=function(){function b(b){b=a.a.Db(b);123===b.charCodeAt(0)&&(b=b.slice(1,
-1));b+="\n,";var c=[],d=b.match(e),p,q=[],h=0;if(1<d.length){for(var x=0,B;B=d[x];++x){var u=B.charCodeAt(0);if(44===u){if(0>=h){c.push(p&&q.length?{key:p,value:q.join("")}:{unknown:p||q.join("")});p=h=0;q=[];continue}}else if(58===u){if(!h&&!p&&1===q.length){p=q.pop();continue}}else if(47===u&&1<B.length&&(47===B.charCodeAt(1)||42===B.charCodeAt(1)))continue;else 47===u&&x&&1<B.length?(u=d[x-1].match(f))&&!g[u[0]]&&(b=b.substr(b.indexOf(B)+1),d=b.match(e),x=-1,B="/"):40===u||123===u||91===u?++h:
41===u||125===u||93===u?--h:p||q.length||34!==u&&39!==u||(B=B.slice(1,-1));q.push(B)}if(0<h)throw Error("Unbalanced parentheses, braces, or brackets");}return c}var c=["true","false","null","undefined"],d=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),f=/[\])"'A-Za-z0-9_$]+$/,g={"in":1,"return":1,"typeof":1},
h={};return{Ra:[],wa:h,ac:b,vb:function(e,f){function l(b,e){var f;if(!x){var k=a.getBindingHandler(b);if(k&&k.preprocess&&!(e=k.preprocess(e,b,l)))return;if(k=h[b])f=e,0<=a.a.A(c,f)?f=!1:(k=f.match(d),f=null===k?!1:k[1]?"Object("+k[1]+")"+k[2]:f),k=f;k&&q.push("'"+("string"==typeof h[b]?h[b]:b)+"':function(_z){"+f+"=_z}")}g&&(e="function(){return "+e+" }");p.push("'"+b+"':"+e)}f=f||{};var p=[],q=[],g=f.valueAccessors,x=f.bindingParams,B="string"===typeof e?b(e):e;a.a.D(B,function(a){l(a.key||a.unknown,
a.value)});q.length&&l("_ko_property_writers","{"+q.join(",")+" }");return p.join(",")},Id:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},eb:function(b,c,d,e,f){if(b&&a.O(b))!a.Za(b)||f&&b.v()===e||b(e);else if((b=c.get("_ko_property_writers"))&&b[d])b[d](e)}}}();a.b("expressionRewriting",a.m);a.b("expressionRewriting.bindingRewriteValidators",a.m.Ra);a.b("expressionRewriting.parseObjectLiteral",a.m.ac);a.b("expressionRewriting.preProcessBindings",a.m.vb);a.b("expressionRewriting._twoWayBindings",
a.m.wa);a.b("jsonExpressionRewriting",a.m);a.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",a.m.vb);(function(){function b(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(d,e){for(var f=d,h=1,g=[];f=f.nextSibling;){if(c(f)&&(a.a.g.set(f,k,!0),h--,0===h))return g;g.push(f);b(f)&&h++}if(!e)throw Error("Cannot find closing comment tag to match: "+d.nodeValue);return null}function e(a,b){var c=d(a,b);return c?
0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=w&&"\x3c!--test--\x3e"===w.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,m={ul:!0,ol:!0},k="__ko_matchedEndComment__";a.h={ea:{},childNodes:function(a){return b(a)?d(a):a.childNodes},Ea:function(c){if(b(c)){c=a.h.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.Tb(c)},va:function(c,d){if(b(c)){a.h.Ea(c);for(var e=
c.nextSibling,f=0,k=d.length;f<k;f++)e.parentNode.insertBefore(d[f],e)}else a.a.va(c,d)},Vc:function(a,c){var d;b(a)?(d=a.nextSibling,a=a.parentNode):d=a.firstChild;d?c!==d&&a.insertBefore(c,d):a.appendChild(c)},Wb:function(c,d,e){e?(e=e.nextSibling,b(c)&&(c=c.parentNode),e?d!==e&&c.insertBefore(d,e):c.appendChild(d)):a.h.Vc(c,d)},firstChild:function(a){if(b(a))return!a.nextSibling||c(a.nextSibling)?null:a.nextSibling;if(a.firstChild&&c(a.firstChild))throw Error("Found invalid end comment, as the first child of "+
a);return a.firstChild},nextSibling:function(d){b(d)&&(d=e(d));if(d.nextSibling&&c(d.nextSibling)){var f=d.nextSibling;if(c(f)&&!a.a.g.get(f,k))throw Error("Found end comment without a matching opening comment, as child of "+d);return null}return d.nextSibling},Cd:b,Vd:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Sc:function(d){if(m[a.a.R(d)]){var f=d.firstChild;if(f){do if(1===f.nodeType){var k;k=f.firstChild;var h=null;if(k){do if(h)h.push(k);else if(b(k)){var g=e(k,!0);g?k=
g:h=[k]}else c(k)&&(h=[k]);while(k=k.nextSibling)}if(k=h)for(h=f.nextSibling,g=0;g<k.length;g++)h?d.insertBefore(k[g],h):d.appendChild(k[g])}while(f=f.nextSibling)}}}}})();a.b("virtualElements",a.h);a.b("virtualElements.allowedBindings",a.h.ea);a.b("virtualElements.emptyNode",a.h.Ea);a.b("virtualElements.insertAfter",a.h.Wb);a.b("virtualElements.prepend",a.h.Vc);a.b("virtualElements.setDomNodeChildren",a.h.va);(function(){a.ga=function(){this.nd={}};a.a.extend(a.ga.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=
b.getAttribute("data-bind")||a.j.getComponentNameForNode(b);case 8:return a.h.Cd(b);default:return!1}},getBindings:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b):null;return a.j.tc(d,b,c,!1)},getBindingAccessors:function(b,c){var d=this.getBindingsString(b,c),d=d?this.parseBindingsString(d,c,b,{valueAccessors:!0}):null;return a.j.tc(d,b,c,!0)},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute("data-bind");case 8:return a.h.Vd(b);default:return null}},
parseBindingsString:function(b,c,d,e){try{var f=this.nd,g=b+(e&&e.valueAccessors||""),h;if(!(h=f[g])){var m,k="with($context){with($data||{}){return{"+a.m.vb(b,e)+"}}}";m=new Function("$context","$element",k);h=f[g]=m}return h(c,d)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+b+"\nMessage: "+l.message,l;}}});a.ga.instance=new a.ga})();a.b("bindingProvider",a.ga);(function(){function b(b){var c=(b=a.a.g.get(b,z))&&b.N;c&&(b.N=null,c.Tc())}function c(c,d,e){this.node=c;this.yc=
d;this.kb=[];this.H=!1;d.N||a.a.K.za(c,b);e&&e.N&&(e.N.kb.push(c),this.Kb=e)}function d(a){return function(){return a}}function e(a){return a()}function f(b){return a.a.Ga(a.u.G(b),function(a,c){return function(){return b()[c]}})}function g(b,c,e){return"function"===typeof b?f(b.bind(null,c,e)):a.a.Ga(b,d)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function m(b,c){var d=a.h.firstChild(c);if(d){var e,f=a.ga.instance,l=f.preprocessNode;if(l){for(;e=d;)d=a.h.nextSibling(e),l.call(f,e);
d=a.h.firstChild(c)}for(;e=d;)d=a.h.nextSibling(e),k(b,e)}a.i.ma(c,a.i.H)}function k(b,c){var d=b,e=1===c.nodeType;e&&a.h.Sc(c);if(e||a.ga.instance.nodeHasBindings(c))d=p(c,null,b).bindingContextForDescendants;d&&!u[a.a.R(c)]&&m(d,c)}function l(b){var c=[],d={},e=[];a.a.P(b,function ca(f){if(!d[f]){var k=a.getBindingHandler(f);k&&(k.after&&(e.push(f),a.a.D(k.after,function(c){if(b[c]){if(-1!==a.a.A(e,c))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+e.join(", "));
ca(c)}}),e.length--),c.push({key:f,Mc:k}));d[f]=!0}});return c}function p(b,c,d){var f=a.a.g.Ub(b,z,{}),k=f.hd;if(!c){if(k)throw Error("You cannot apply bindings multiple times to the same element.");f.hd=!0}k||(f.context=d);f.Zb||(f.Zb={});var g;if(c&&"function"!==typeof c)g=c;else{var p=a.ga.instance,q=p.getBindingAccessors||h,m=a.$(function(){if(g=c?c(d,b):q.call(p,b,d)){if(d[t])d[t]();if(d[B])d[B]()}return g},null,{l:b});g&&m.ja()||(m=null)}var x=d,u;if(g){var J=function(){return a.a.Ga(m?m():
g,e)},r=m?function(a){return function(){return e(m()[a])}}:function(a){return g[a]};J.get=function(a){return g[a]&&e(r(a))};J.has=function(a){return a in g};a.i.H in g&&a.i.subscribe(b,a.i.H,function(){var c=(0,g[a.i.H])();if(c){var d=a.h.childNodes(b);d.length&&c(d,a.Ec(d[0]))}});a.i.pa in g&&(x=a.i.Cb(b,d),a.i.subscribe(b,a.i.pa,function(){var c=(0,g[a.i.pa])();c&&a.h.firstChild(b)&&c(b)}));f=l(g);a.a.D(f,function(c){var d=c.Mc.init,e=c.Mc.update,f=c.key;if(8===b.nodeType&&!a.h.ea[f])throw Error("The binding '"+
f+"' cannot be used with virtual elements");try{"function"==typeof d&&a.u.G(function(){var a=d(b,r(f),J,x.$data,x);if(a&&a.controlsDescendantBindings){if(u!==n)throw Error("Multiple bindings ("+u+" and "+f+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=f}}),"function"==typeof e&&a.$(function(){e(b,r(f),J,x.$data,x)},null,{l:b})}catch(k){throw k.message='Unable to process binding "'+f+": "+g[f]+'"\nMessage: '+k.message,
k;}})}f=u===n;return{shouldBindDescendants:f,bindingContextForDescendants:f&&x}}function q(b,c){return b&&b instanceof a.fa?b:new a.fa(b,n,n,c)}var t=a.a.Da("_subscribable"),x=a.a.Da("_ancestorBindingInfo"),B=a.a.Da("_dataDependency");a.c={};var u={script:!0,textarea:!0,template:!0};a.getBindingHandler=function(b){return a.c[b]};var J={};a.fa=function(b,c,d,e,f){function k(){var b=p?h():h,f=a.a.f(b);c?(a.a.extend(l,c),x in c&&(l[x]=c[x])):(l.$parents=[],l.$root=f,l.ko=a);l[t]=q;g?f=l.$data:(l.$rawData=
b,l.$data=f);d&&(l[d]=f);e&&e(l,c,f);if(c&&c[t]&&!a.S.o().Vb(c[t]))c[t]();m&&(l[B]=m);return l.$data}var l=this,g=b===J,h=g?n:b,p="function"==typeof h&&!a.O(h),q,m=f&&f.dataDependency;f&&f.exportDependencies?k():(q=a.xb(k),q.v(),q.ja()?q.equalityComparer=null:l[t]=n)};a.fa.prototype.createChildContext=function(b,c,d,e){!e&&c&&"object"==typeof c&&(e=c,c=e.as,d=e.extend);if(c&&e&&e.noChildContext){var f="function"==typeof b&&!a.O(b);return new a.fa(J,this,null,function(a){d&&d(a);a[c]=f?b():b},e)}return new a.fa(b,
this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)},e)};a.fa.prototype.extend=function(b,c){return new a.fa(J,this,null,function(c){a.a.extend(c,"function"==typeof b?b(c):b)},c)};var z=a.a.g.Z();c.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)};c.prototype.sd=function(b){a.a.Pa(this.kb,b);!this.kb.length&&this.H&&this.Cc()};c.prototype.Cc=function(){this.H=!0;this.yc.N&&!this.kb.length&&(this.yc.N=
null,a.a.K.yb(this.node,b),a.i.ma(this.node,a.i.pa),this.Tc())};a.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(b,c,d,e,f){var k=a.a.g.Ub(b,z,{});k.Fa||(k.Fa=new a.T);f&&f.notifyImmediately&&k.Zb[c]&&a.u.G(d,e,[b]);return k.Fa.subscribe(d,e,c)},ma:function(b,c){var d=a.a.g.get(b,z);if(d&&(d.Zb[c]=!0,d.Fa&&d.Fa.notifySubscribers(b,c),c==a.i.H))if(d.N)d.N.Cc();else if(d.N===n&&d.Fa&&d.Fa.Wa(a.i.pa))throw Error("descendantsComplete event not supported for bindings on this node");
},Cb:function(b,d){var e=a.a.g.Ub(b,z,{});e.N||(e.N=new c(b,e,d[x]));return d[x]==e?d:d.extend(function(a){a[x]=e})}};a.Td=function(b){return(b=a.a.g.get(b,z))&&b.context};a.ib=function(b,c,d){1===b.nodeType&&a.h.Sc(b);return p(b,c,q(d))};a.ld=function(b,c,d){d=q(d);return a.ib(b,g(c,d,b),d)};a.Oa=function(a,b){1!==b.nodeType&&8!==b.nodeType||m(q(a),b)};a.vc=function(a,b,c){!v&&A.jQuery&&(v=A.jQuery);if(2>arguments.length){if(b=w.body,!b)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?");
}else if(!b||1!==b.nodeType&&8!==b.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");k(q(a,c),b)};a.Dc=function(b){return!b||1!==b.nodeType&&8!==b.nodeType?n:a.Td(b)};a.Ec=function(b){return(b=a.Dc(b))?b.$data:n};a.b("bindingHandlers",a.c);a.b("bindingEvent",a.i);a.b("bindingEvent.subscribe",a.i.subscribe);a.b("bindingEvent.startPossiblyAsyncContentBinding",a.i.Cb);a.b("applyBindings",a.vc);a.b("applyBindingsToDescendants",a.Oa);
a.b("applyBindingAccessorsToNode",a.ib);a.b("applyBindingsToNode",a.ld);a.b("contextFor",a.Dc);a.b("dataFor",a.Ec)})();(function(b){function c(c,e){var k=Object.prototype.hasOwnProperty.call(f,c)?f[c]:b,l;k?k.subscribe(e):(k=f[c]=new a.T,k.subscribe(e),d(c,function(b,d){var e=!(!d||!d.synchronous);g[c]={definition:b,Gd:e};delete f[c];l||e?k.notifySubscribers(b):a.na.zb(function(){k.notifySubscribers(b)})}),l=!0)}function d(a,b){e("getConfig",[a],function(c){c?e("loadComponent",[a,c],function(a){b(a,
c)}):b(null,null)})}function e(c,d,f,l){l||(l=a.j.loaders.slice(0));var g=l.shift();if(g){var q=g[c];if(q){var t=!1;if(q.apply(g,d.concat(function(a){t?f(null):null!==a?f(a):e(c,d,f,l)}))!==b&&(t=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.");}else e(c,d,f,l)}else f(null)}var f={},g={};a.j={get:function(d,e){var f=Object.prototype.hasOwnProperty.call(g,d)?g[d]:b;f?f.Gd?a.u.G(function(){e(f.definition)}):
a.na.zb(function(){e(f.definition)}):c(d,e)},Bc:function(a){delete g[a]},oc:e};a.j.loaders=[];a.b("components",a.j);a.b("components.get",a.j.get);a.b("components.clearCachedDefinition",a.j.Bc)})();(function(){function b(b,c,d,e){function g(){0===--B&&e(h)}var h={},B=2,u=d.template;d=d.viewModel;u?f(c,u,function(c){a.j.oc("loadTemplate",[b,c],function(a){h.template=a;g()})}):g();d?f(c,d,function(c){a.j.oc("loadViewModel",[b,c],function(a){h[m]=a;g()})}):g()}function c(a,b,d){if("function"===typeof b)d(function(a){return new b(a)});
else if("function"===typeof b[m])d(b[m]);else if("instance"in b){var e=b.instance;d(function(){return e})}else"viewModel"in b?c(a,b.viewModel,d):a("Unknown viewModel value: "+b)}function d(b){switch(a.a.R(b)){case "script":return a.a.ua(b.text);case "textarea":return a.a.ua(b.value);case "template":if(e(b.content))return a.a.Ca(b.content.childNodes)}return a.a.Ca(b.childNodes)}function e(a){return A.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function f(a,b,c){"string"===typeof b.require?
T||A.require?(T||A.require)([b.require],function(a){a&&"object"===typeof a&&a.Xd&&a["default"]&&(a=a["default"]);c(a)}):a("Uses require, but no AMD loader is present"):c(b)}function g(a){return function(b){throw Error("Component '"+a+"': "+b);}}var h={};a.j.register=function(b,c){if(!c)throw Error("Invalid configuration for "+b);if(a.j.tb(b))throw Error("Component "+b+" is already registered");h[b]=c};a.j.tb=function(a){return Object.prototype.hasOwnProperty.call(h,a)};a.j.unregister=function(b){delete h[b];
a.j.Bc(b)};a.j.Fc={getConfig:function(b,c){c(a.j.tb(b)?h[b]:null)},loadComponent:function(a,c,d){var e=g(a);f(e,c,function(c){b(a,e,c,d)})},loadTemplate:function(b,c,f){b=g(b);if("string"===typeof c)f(a.a.ua(c));else if(c instanceof Array)f(c);else if(e(c))f(a.a.la(c.childNodes));else if(c.element)if(c=c.element,A.HTMLElement?c instanceof HTMLElement:c&&c.tagName&&1===c.nodeType)f(d(c));else if("string"===typeof c){var h=w.getElementById(c);h?f(d(h)):b("Cannot find element with ID "+c)}else b("Unknown element type: "+
c);else b("Unknown template value: "+c)},loadViewModel:function(a,b,d){c(g(a),b,d)}};var m="createViewModel";a.b("components.register",a.j.register);a.b("components.isRegistered",a.j.tb);a.b("components.unregister",a.j.unregister);a.b("components.defaultLoader",a.j.Fc);a.j.loaders.push(a.j.Fc);a.j.dd=h})();(function(){function b(b,e){var f=b.getAttribute("params");if(f){var f=c.parseBindingsString(f,e,b,{valueAccessors:!0,bindingParams:!0}),f=a.a.Ga(f,function(c){return a.o(c,null,{l:b})}),g=a.a.Ga(f,
function(c){var e=c.v();return c.ja()?a.o({read:function(){return a.a.f(c())},write:a.Za(e)&&function(a){c()(a)},l:b}):e});Object.prototype.hasOwnProperty.call(g,"$raw")||(g.$raw=f);return g}return{$raw:{}}}a.j.getComponentNameForNode=function(b){var c=a.a.R(b);if(a.j.tb(c)&&(-1!=c.indexOf("-")||"[object HTMLUnknownElement]"==""+b||8>=a.a.W&&b.tagName===c))return c};a.j.tc=function(c,e,f,g){if(1===e.nodeType){var h=a.j.getComponentNameForNode(e);if(h){c=c||{};if(c.component)throw Error('Cannot use the "component" binding on a custom element matching a component');
var m={name:h,params:b(e,f)};c.component=g?function(){return m}:m}}return c};var c=new a.ga;9>a.a.W&&(a.j.register=function(a){return function(b){return a.apply(this,arguments)}}(a.j.register),w.createDocumentFragment=function(b){return function(){var c=b(),f=a.j.dd,g;for(g in f);return c}}(w.createDocumentFragment))})();(function(){function b(b,c,d){c=c.template;if(!c)throw Error("Component '"+b+"' has no template");b=a.a.Ca(c);a.h.va(d,b)}function c(a,b,c){var d=a.createViewModel;return d?d.call(a,
b,c):b}var d=0;a.c.component={init:function(e,f,g,h,m){function k(){var a=l&&l.dispose;"function"===typeof a&&a.call(l);q&&q.s();p=l=q=null}var l,p,q,t=a.a.la(a.h.childNodes(e));a.h.Ea(e);a.a.K.za(e,k);a.o(function(){var g=a.a.f(f()),h,u;"string"===typeof g?h=g:(h=a.a.f(g.name),u=a.a.f(g.params));if(!h)throw Error("No component name specified");var n=a.i.Cb(e,m),z=p=++d;a.j.get(h,function(d){if(p===z){k();if(!d)throw Error("Unknown component '"+h+"'");b(h,d,e);var f=c(d,u,{element:e,templateNodes:t});
d=n.createChildContext(f,{extend:function(a){a.$component=f;a.$componentTemplateNodes=t}});f&&f.koDescendantsComplete&&(q=a.i.subscribe(e,a.i.pa,f.koDescendantsComplete,f));l=f;a.Oa(d,e)}})},null,{l:e});return{controlsDescendantBindings:!0}}};a.h.ea.component=!0})();var V={"class":"className","for":"htmlFor"};a.c.attr={update:function(b,c){var d=a.a.f(c())||{};a.a.P(d,function(c,d){d=a.a.f(d);var g=c.indexOf(":"),g="lookupNamespaceURI"in b&&0<g&&b.lookupNamespaceURI(c.substr(0,g)),h=!1===d||null===
d||d===n;h?g?b.removeAttributeNS(g,c):b.removeAttribute(c):d=d.toString();8>=a.a.W&&c in V?(c=V[c],h?b.removeAttribute(c):b[c]=d):h||(g?b.setAttributeNS(g,c,d):b.setAttribute(c,d));"name"===c&&a.a.Yc(b,h?"":d)})}};(function(){a.c.checked={after:["value","attr"],init:function(b,c,d){function e(){var e=b.checked,f=g();if(!a.S.Ya()&&(e||!m&&!a.S.qa())){var k=a.u.G(c);if(l){var q=p?k.v():k,z=t;t=f;z!==f?e&&(a.a.Na(q,f,!0),a.a.Na(q,z,!1)):a.a.Na(q,f,e);p&&a.Za(k)&&k(q)}else h&&(f===n?f=e:e||(f=n)),a.m.eb(k,
d,"checked",f,!0)}}function f(){var d=a.a.f(c()),e=g();l?(b.checked=0<=a.a.A(d,e),t=e):b.checked=h&&e===n?!!d:g()===d}var g=a.xb(function(){if(d.has("checkedValue"))return a.a.f(d.get("checkedValue"));if(q)return d.has("value")?a.a.f(d.get("value")):b.value}),h="checkbox"==b.type,m="radio"==b.type;if(h||m){var k=c(),l=h&&a.a.f(k)instanceof Array,p=!(l&&k.push&&k.splice),q=m||l,t=l?g():n;m&&!b.name&&a.c.uniqueName.init(b,function(){return!0});a.o(e,null,{l:b});a.a.B(b,"click",e);a.o(f,null,{l:b});
k=n}}};a.m.wa.checked=!0;a.c.checkedValue={update:function(b,c){b.value=a.a.f(c())}}})();a.c["class"]={update:function(b,c){var d=a.a.Db(a.a.f(c()));a.a.Eb(b,b.__ko__cssValue,!1);b.__ko__cssValue=d;a.a.Eb(b,d,!0)}};a.c.css={update:function(b,c){var d=a.a.f(c());null!==d&&"object"==typeof d?a.a.P(d,function(c,d){d=a.a.f(d);a.a.Eb(b,c,d)}):a.c["class"].update(b,c)}};a.c.enable={update:function(b,c){var d=a.a.f(c());d&&b.disabled?b.removeAttribute("disabled"):d||b.disabled||(b.disabled=!0)}};a.c.disable=
{update:function(b,c){a.c.enable.update(b,function(){return!a.a.f(c())})}};a.c.event={init:function(b,c,d,e,f){var g=c()||{};a.a.P(g,function(g){"string"==typeof g&&a.a.B(b,g,function(b){var k,l=c()[g];if(l){try{var p=a.a.la(arguments);e=f.$data;p.unshift(e);k=l.apply(e,p)}finally{!0!==k&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(g+"Bubble")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.c.foreach={Rc:function(b){return function(){var c=b(),d=a.a.bc(c);
if(!d||"number"==typeof d.length)return{foreach:c,templateEngine:a.ba.Ma};a.a.f(c);return{foreach:d.data,as:d.as,noChildContext:d.noChildContext,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.ba.Ma}}},init:function(b,c){return a.c.template.init(b,a.c.foreach.Rc(c))},update:function(b,c,d,e,f){return a.c.template.update(b,a.c.foreach.Rc(c),d,e,f)}};a.m.Ra.foreach=!1;a.h.ea.foreach=
!0;a.c.hasfocus={init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var f=b.ownerDocument;if("activeElement"in f){var g;try{g=f.activeElement}catch(l){g=f.body}e=g===b}f=c();a.m.eb(f,d,"hasfocus",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var f=e.bind(null,!0),g=e.bind(null,!1);a.a.B(b,"focus",f);a.a.B(b,"focusin",f);a.a.B(b,"blur",g);a.a.B(b,"focusout",g);b.__ko_hasfocusLastValue=!1},update:function(b,c){var d=!!a.a.f(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===
d||(d?b.focus():b.blur(),!d&&b.__ko_hasfocusLastValue&&b.ownerDocument.body.focus(),a.u.G(a.a.Fb,null,[b,d?"focusin":"focusout"]))}};a.m.wa.hasfocus=!0;a.c.hasFocus=a.c.hasfocus;a.m.wa.hasFocus="hasfocus";a.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.fc(b,c())}};(function(){function b(b,d,e){a.c[b]={init:function(b,c,h,m,k){var l,p,q={},t,x,n;if(d){m=h.get("as");var u=h.get("noChildContext");n=!(m&&u);q={as:m,noChildContext:u,exportDependencies:n}}x=(t=
"render"==h.get("completeOn"))||h.has(a.i.pa);a.o(function(){var h=a.a.f(c()),m=!e!==!h,u=!p,r;if(n||m!==l){x&&(k=a.i.Cb(b,k));if(m){if(!d||n)q.dataDependency=a.S.o();r=d?k.createChildContext("function"==typeof h?h:c,q):a.S.qa()?k.extend(null,q):k}u&&a.S.qa()&&(p=a.a.Ca(a.h.childNodes(b),!0));m?(u||a.h.va(b,a.a.Ca(p)),a.Oa(r,b)):(a.h.Ea(b),t||a.i.ma(b,a.i.H));l=m}},null,{l:b});return{controlsDescendantBindings:!0}}};a.m.Ra[b]=!1;a.h.ea[b]=!0}b("if");b("ifnot",!1,!0);b("with",!0)})();a.c.let={init:function(b,
c,d,e,f){c=f.extend(c);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.let=!0;var Q={};a.c.options={init:function(b){if("select"!==a.a.R(b))throw Error("options binding applies only to SELECT elements");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return a.a.jb(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(c,d){if(x&&l)a.i.ma(b,a.i.H);else if(t.length){var e=
0<=a.a.A(t,a.w.M(d[0]));a.a.Zc(d[0],e);x&&!e&&a.u.G(a.a.Fb,null,[b,"change"])}}var h=b.multiple,m=0!=b.length&&h?b.scrollTop:null,k=a.a.f(c()),l=d.get("valueAllowUnset")&&d.has("value"),p=d.get("optionsIncludeDestroyed");c={};var q,t=[];l||(h?t=a.a.Mb(e(),a.w.M):0<=b.selectedIndex&&t.push(a.w.M(b.options[b.selectedIndex])));k&&("undefined"==typeof k.length&&(k=[k]),q=a.a.jb(k,function(b){return p||b===n||null===b||!a.a.f(b._destroy)}),d.has("optionsCaption")&&(k=a.a.f(d.get("optionsCaption")),null!==
k&&k!==n&&q.unshift(Q)));var x=!1;c.beforeRemove=function(a){b.removeChild(a)};k=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(k=function(b,c){g(0,c);a.u.G(d.get("optionsAfterRender"),null,[c[0],b!==Q?b:n])});a.a.ec(b,q,function(c,e,g){g.length&&(t=!l&&g[0].selected?[a.w.M(g[0])]:[],x=!0);e=b.ownerDocument.createElement("option");c===Q?(a.a.Bb(e,d.get("optionsCaption")),a.w.cb(e,n)):(g=f(c,d.get("optionsValue"),c),a.w.cb(e,a.a.f(g)),c=f(c,d.get("optionsText"),g),
a.a.Bb(e,c));return[e]},c,k);if(!l){var B;h?B=t.length&&e().length<t.length:B=t.length&&0<=b.selectedIndex?a.w.M(b.options[b.selectedIndex])!==t[0]:t.length||0<=b.selectedIndex;B&&a.u.G(a.a.Fb,null,[b,"change"])}(l||a.S.Ya())&&a.i.ma(b,a.i.H);a.a.wd(b);m&&20<Math.abs(m-b.scrollTop)&&(b.scrollTop=m)}};a.c.options.$b=a.a.g.Z();a.c.selectedOptions={init:function(b,c,d){function e(){var e=c(),f=[];a.a.D(b.getElementsByTagName("option"),function(b){b.selected&&f.push(a.w.M(b))});a.m.eb(e,d,"selectedOptions",
f)}function f(){var d=a.a.f(c()),e=b.scrollTop;d&&"number"==typeof d.length&&a.a.D(b.getElementsByTagName("option"),function(b){var c=0<=a.a.A(d,a.w.M(b));b.selected!=c&&a.a.Zc(b,c)});b.scrollTop=e}if("select"!=a.a.R(b))throw Error("selectedOptions binding applies only to SELECT elements");var g;a.i.subscribe(b,a.i.H,function(){g?e():(a.a.B(b,"change",e),g=a.o(f,null,{l:b}))},null,{notifyImmediately:!0})},update:function(){}};a.m.wa.selectedOptions=!0;a.c.style={update:function(b,c){var d=a.a.f(c()||
{});a.a.P(d,function(c,d){d=a.a.f(d);if(null===d||d===n||!1===d)d="";if(v)v(b).css(c,d);else if(/^--/.test(c))b.style.setProperty(c,d);else{c=c.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var g=b.style[c];b.style[c]=d;d===g||b.style[c]!=g||isNaN(d)||(b.style[c]=d+"px")}})}};a.c.submit={init:function(b,c,d,e,f){if("function"!=typeof c())throw Error("The value for a submit binding must be a function");a.a.B(b,"submit",function(a){var d,e=c();try{d=e.call(f.$data,b)}finally{!0!==d&&(a.preventDefault?
a.preventDefault():a.returnValue=!1)}})}};a.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Bb(b,c())}};a.h.ea.text=!0;(function(){if(A&&A.navigator){var b=function(a){if(a)return parseFloat(a[1])},c=A.navigator.userAgent,d,e,f,g,h;(d=A.opera&&A.opera.version&&parseInt(A.opera.version()))||(h=b(c.match(/Edge\/([^ ]+)$/)))||b(c.match(/Chrome\/([^ ]+)/))||(e=b(c.match(/Version\/([^ ]+) Safari/)))||(f=b(c.match(/Firefox\/([^ ]+)/)))||(g=a.a.W||b(c.match(/MSIE ([^ ]+)/)))||
(g=b(c.match(/rv:([^ )]+)/)))}if(8<=g&&10>g)var m=a.a.g.Z(),k=a.a.g.Z(),l=function(b){var c=this.activeElement;(c=c&&a.a.g.get(c,k))&&c(b)},p=function(b,c){var d=b.ownerDocument;a.a.g.get(d,m)||(a.a.g.set(d,m,!0),a.a.B(d,"selectionchange",l));a.a.g.set(b,k,c)};a.c.textInput={init:function(b,c,k){function l(c,d){a.a.B(b,c,d)}function m(){var d=a.a.f(c());if(null===d||d===n)d="";L!==n&&d===L?a.a.setTimeout(m,4):b.value!==d&&(y=!0,b.value=d,y=!1,v=b.value)}function r(){w||(L=b.value,w=a.a.setTimeout(z,
4))}function z(){clearTimeout(w);L=w=n;var d=b.value;v!==d&&(v=d,a.m.eb(c(),k,"textInput",d))}var v=b.value,w,L,A=9==a.a.W?r:z,y=!1;g&&l("keypress",z);11>g&&l("propertychange",function(a){y||"value"!==a.propertyName||A(a)});8==g&&(l("keyup",z),l("keydown",z));p&&(p(b,A),l("dragend",r));(!g||9<=g)&&l("input",A);5>e&&"textarea"===a.a.R(b)?(l("keydown",r),l("paste",r),l("cut",r)):11>d?l("keydown",r):4>f?(l("DOMAutoComplete",z),l("dragdrop",z),l("drop",z)):h&&"number"===b.type&&l("keydown",r);l("change",
z);l("blur",z);a.o(m,null,{l:b})}};a.m.wa.textInput=!0;a.c.textinput={preprocess:function(a,b,c){c("textInput",a)}}})();a.c.uniqueName={init:function(b,c){if(c()){var d="ko_unique_"+ ++a.c.uniqueName.rd;a.a.Yc(b,d)}}};a.c.uniqueName.rd=0;a.c.using={init:function(b,c,d,e,f){var g;d.has("as")&&(g={as:d.get("as"),noChildContext:d.get("noChildContext")});c=f.createChildContext(c,g);a.Oa(c,b);return{controlsDescendantBindings:!0}}};a.h.ea.using=!0;a.c.value={init:function(b,c,d){var e=a.a.R(b),f="input"==
e;if(!f||"checkbox"!=b.type&&"radio"!=b.type){var g=[],h=d.get("valueUpdate"),m=!1,k=null;h&&("string"==typeof h?g=[h]:g=a.a.wc(h),a.a.Pa(g,"change"));var l=function(){k=null;m=!1;var e=c(),f=a.w.M(b);a.m.eb(e,d,"value",f)};!a.a.W||!f||"text"!=b.type||"off"==b.autocomplete||b.form&&"off"==b.form.autocomplete||-1!=a.a.A(g,"propertychange")||(a.a.B(b,"propertychange",function(){m=!0}),a.a.B(b,"focus",function(){m=!1}),a.a.B(b,"blur",function(){m&&l()}));a.a.D(g,function(c){var d=l;a.a.Ud(c,"after")&&
(d=function(){k=a.w.M(b);a.a.setTimeout(l,0)},c=c.substring(5));a.a.B(b,c,d)});var p;p=f&&"file"==b.type?function(){var d=a.a.f(c());null===d||d===n||""===d?b.value="":a.u.G(l)}:function(){var f=a.a.f(c()),g=a.w.M(b);if(null!==k&&f===k)a.a.setTimeout(p,0);else if(f!==g||g===n)"select"===e?(g=d.get("valueAllowUnset"),a.w.cb(b,f,g),g||f===a.w.M(b)||a.u.G(l)):a.w.cb(b,f)};if("select"===e){var q;a.i.subscribe(b,a.i.H,function(){q?d.get("valueAllowUnset")?p():l():(a.a.B(b,"change",l),q=a.o(p,null,{l:b}))},
null,{notifyImmediately:!0})}else a.a.B(b,"change",l),a.o(p,null,{l:b})}else a.ib(b,{checkedValue:c})},update:function(){}};a.m.wa.value=!0;a.c.visible={update:function(b,c){var d=a.a.f(c()),e="none"!=b.style.display;d&&!e?b.style.display="":!d&&e&&(b.style.display="none")}};a.c.hidden={update:function(b,c){a.c.visible.update(b,function(){return!a.a.f(c())})}};(function(b){a.c[b]={init:function(c,d,e,f,g){return a.c.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,f,g)}}})("click");
a.ca=function(){};a.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};a.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};a.ca.prototype.makeTemplateSource=function(b,c){if("string"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error("Cannot find template with ID "+b);return new a.C.F(d)}if(1==b.nodeType||8==b.nodeType)return new a.C.ia(b);throw Error("Unknown template type: "+b);};a.ca.prototype.renderTemplate=
function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,d,e)};a.ca.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data("isRewritten")};a.ca.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data("isRewritten",!0)};a.b("templateEngine",a.ca);a.kc=function(){function b(b,c,d,h){b=a.m.ac(b);for(var m=a.m.Ra,k=0;k<b.length;k++){var l=b[k].key;if(Object.prototype.hasOwnProperty.call(m,
l)){var p=m[l];if("function"===typeof p){if(l=p(b[k].value))throw Error(l);}else if(!p)throw Error("This template engine does not support the '"+l+"' binding within its templates");}}d="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+a.m.vb(b,{valueAccessors:!0})+" } })()},'"+d.toLowerCase()+"')";return h.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,
d=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.kc.Ld(b,c)},d)},Ld:function(a,f){return a.replace(c,function(a,c,d,e,l){return b(l,c,d,f)}).replace(d,function(a,c){return b(c,"\x3c!-- ko --\x3e","#comment",f)})},md:function(b,c){return a.aa.Xb(function(d,h){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.ib(m,b,h)})}}}();a.b("__tr_ambtns",a.kc.md);(function(){a.C={};a.C.F=function(b){if(this.F=b){var c=
a.a.R(b);this.ab="script"===c?1:"textarea"===c?2:"template"==c&&b.content&&11===b.content.nodeType?3:4}};a.C.F.prototype.text=function(){var b=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[b];var c=arguments[0];"innerHTML"===b?a.a.fc(this.F,c):this.F[b]=c};var b=a.a.g.Z()+"_";a.C.F.prototype.data=function(c){if(1===arguments.length)return a.a.g.get(this.F,b+c);a.a.g.set(this.F,b+c,arguments[1])};var c=a.a.g.Z();a.C.F.prototype.nodes=function(){var b=this.F;
if(0==arguments.length){var e=a.a.g.get(b,c)||{},f=e.lb||(3===this.ab?b.content:4===this.ab?b:n);if(!f||e.jd){var g=this.text();g&&g!==e.bb&&(f=a.a.Md(g,b.ownerDocument),a.a.g.set(b,c,{lb:f,bb:g,jd:!0}))}return f}e=arguments[0];this.ab!==n&&this.text("");a.a.g.set(b,c,{lb:e})};a.C.ia=function(a){this.F=a};a.C.ia.prototype=new a.C.F;a.C.ia.prototype.constructor=a.C.ia;a.C.ia.prototype.text=function(){if(0==arguments.length){var b=a.a.g.get(this.F,c)||{};b.bb===n&&b.lb&&(b.bb=b.lb.innerHTML);return b.bb}a.a.g.set(this.F,
c,{bb:arguments[0]})};a.b("templateSources",a.C);a.b("templateSources.domElement",a.C.F);a.b("templateSources.anonymousTemplate",a.C.ia)})();(function(){function b(b,c,d){var e;for(c=a.h.nextSibling(c);b&&(e=b)!==c;)b=a.h.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var e=c[0],f=c[c.length-1],g=e.parentNode,h=a.ga.instance,m=h.preprocessNode;if(m){b(e,f,function(a,b){var c=a.previousSibling,d=m.call(h,a);d&&(a===e&&(e=d[0]||b),a===f&&(f=d[d.length-1]||c))});c.length=0;if(!e)return;e===f?c.push(e):
(c.push(e,f),a.a.Ua(c,g))}b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.vc(d,b)});b(e,f,function(b){1!==b.nodeType&&8!==b.nodeType||a.aa.cd(b,[d])});a.a.Ua(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,m){m=m||{};var n=(b&&d(b)||f||{}).ownerDocument,B=m.templateEngine||g;a.kc.xd(f,B,n);f=B.renderTemplate(f,h,m,n);if("number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");n=!1;switch(e){case "replaceChildren":a.h.va(b,
f);n=!0;break;case "replaceNode":a.a.Xc(b,f);n=!0;break;case "ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e);}n&&(c(f,h),m.afterRender&&a.u.G(m.afterRender,null,[f,h[m.as||"$data"]]),"replaceChildren"==e&&a.i.ma(b,a.i.H));return f}function f(b,c,d){return a.O(b)?b():"function"===typeof b?b(c,d):b}var g;a.gc=function(b){if(b!=n&&!(b instanceof a.ca))throw Error("templateEngine must inherit from ko.templateEngine");g=b};a.dc=function(b,c,h,m,t){h=h||{};if((h.templateEngine||g)==
n)throw Error("Set a template engine before calling renderTemplate");t=t||"replaceChildren";if(m){var x=d(m);return a.$(function(){var g=c&&c instanceof a.fa?c:new a.fa(c,null,null,null,{exportDependencies:!0}),n=f(b,g.$data,g),g=e(m,t,n,g,h);"replaceNode"==t&&(m=g,x=d(m))},null,{Sa:function(){return!x||!a.a.Sb(x)},l:x&&"replaceNode"==t?x.parentNode:x})}return a.aa.Xb(function(d){a.dc(b,c,h,d,"replaceNode")})};a.Qd=function(b,d,g,h,m){function x(b,c){a.u.G(a.a.ec,null,[h,b,u,g,r,c]);a.i.ma(h,a.i.H)}
function r(a,b){c(b,v);g.afterRender&&g.afterRender(b,a);v=null}function u(a,c){v=m.createChildContext(a,{as:z,noChildContext:g.noChildContext,extend:function(a){a.$index=c;z&&(a[z+"Index"]=c)}});var d=f(b,a,v);return e(h,"ignoreTargetNode",d,v,g)}var v,z=g.as,w=!1===g.includeDestroyed||a.options.foreachHidesDestroyed&&!g.includeDestroyed;if(w||g.beforeRemove||!a.Pc(d))return a.$(function(){var b=a.a.f(d)||[];"undefined"==typeof b.length&&(b=[b]);w&&(b=a.a.jb(b,function(b){return b===n||null===b||
!a.a.f(b._destroy)}));x(b)},null,{l:h});x(d.v());var A=d.subscribe(function(a){x(d(),a)},null,"arrayChange");A.l(h);return A};var h=a.a.g.Z(),m=a.a.g.Z();a.c.template={init:function(b,c){var d=a.a.f(c());if("string"==typeof d||"name"in d)a.h.Ea(b);else if("nodes"in d){d=d.nodes||[];if(a.O(d))throw Error('The "nodes" option must be a plain, non-observable array.');var e=d[0]&&d[0].parentNode;e&&a.a.g.get(e,m)||(e=a.a.Yb(d),a.a.g.set(e,m,!0));(new a.C.ia(b)).nodes(e)}else if(d=a.h.childNodes(b),0<d.length)e=
a.a.Yb(d),(new a.C.ia(b)).nodes(e);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g=c();c=a.a.f(g);d=!0;e=null;"string"==typeof c?c={}:(g="name"in c?c.name:b,"if"in c&&(d=a.a.f(c["if"])),d&&"ifnot"in c&&(d=!a.a.f(c.ifnot)),d&&!g&&(d=!1));"foreach"in c?e=a.Qd(g,d&&c.foreach||[],c,b,f):d?(d=f,"data"in c&&(d=f.createChildContext(c.data,{as:c.as,noChildContext:c.noChildContext,exportDependencies:!0})),
e=a.dc(g,d,c,b)):a.h.Ea(b);f=e;(c=a.a.g.get(b,h))&&"function"==typeof c.s&&c.s();a.a.g.set(b,h,!f||f.ja&&!f.ja()?n:f)}};a.m.Ra.template=function(b){b=a.m.ac(b);return 1==b.length&&b[0].unknown||a.m.Id(b,"name")?null:"This template engine does not support anonymous templates nested within its templates"};a.h.ea.template=!0})();a.b("setTemplateEngine",a.gc);a.b("renderTemplate",a.dc);a.a.Kc=function(a,c,d){if(a.length&&c.length){var e,f,g,h,m;for(e=f=0;(!d||e<d)&&(h=a[f]);++f){for(g=0;m=c[g];++g)if(h.value===
m.value){h.moved=m.index;m.moved=h.index;c.splice(g,1);e=g=0;break}e+=g}}};a.a.Pb=function(){function b(b,d,e,f,g){var h=Math.min,m=Math.max,k=[],l,p=b.length,q,n=d.length,r=n-p||1,v=p+n+1,u,w,z;for(l=0;l<=p;l++)for(w=u,k.push(u=[]),z=h(n,l+r),q=m(0,l-1);q<=z;q++)u[q]=q?l?b[l-1]===d[q-1]?w[q-1]:h(w[q]||v,u[q-1]||v)+1:q+1:l+1;h=[];m=[];r=[];l=p;for(q=n;l||q;)n=k[l][q]-1,q&&n===k[l][q-1]?m.push(h[h.length]={status:e,value:d[--q],index:q}):l&&n===k[l-1][q]?r.push(h[h.length]={status:f,value:b[--l],index:l}):
(--q,--l,g.sparse||h.push({status:"retained",value:d[q]}));a.a.Kc(r,m,!g.dontLimitMoves&&10*p);return h.reverse()}return function(a,d,e){e="boolean"===typeof e?{dontLimitMoves:e}:e||{};a=a||[];d=d||[];return a.length<d.length?b(a,d,"added","deleted",e):b(d,a,"deleted","added",e)}}();a.b("utils.compareArrays",a.a.Pb);(function(){function b(b,c,d,h,m){var k=[],l=a.$(function(){var l=c(d,m,a.a.Ua(k,b))||[];0<k.length&&(a.a.Xc(k,l),h&&a.u.G(h,null,[d,l,m]));k.length=0;a.a.Nb(k,l)},null,{l:b,Sa:function(){return!a.a.kd(k)}});
return{Y:k,$:l.ja()?l:n}}var c=a.a.g.Z(),d=a.a.g.Z();a.a.ec=function(e,f,g,h,m,k){function l(b){y={Aa:b,pb:a.ta(w++)};v.push(y);r||F.push(y)}function p(b){y=t[b];w!==y.pb.v()&&D.push(y);y.pb(w++);a.a.Ua(y.Y,e);v.push(y)}function q(b,c){if(b)for(var d=0,e=c.length;d<e;d++)a.a.D(c[d].Y,function(a){b(a,d,c[d].Aa)})}f=f||[];"undefined"==typeof f.length&&(f=[f]);h=h||{};var t=a.a.g.get(e,c),r=!t,v=[],u=0,w=0,z=[],A=[],C=[],D=[],F=[],y,I=0;if(r)a.a.D(f,l);else{if(!k||t&&t._countWaitingForRemove){var E=
a.a.Mb(t,function(a){return a.Aa});k=a.a.Pb(E,f,{dontLimitMoves:h.dontLimitMoves,sparse:!0})}for(var E=0,G,H,K;G=k[E];E++)switch(H=G.moved,K=G.index,G.status){case "deleted":for(;u<K;)p(u++);H===n&&(y=t[u],y.$&&(y.$.s(),y.$=n),a.a.Ua(y.Y,e).length&&(h.beforeRemove&&(v.push(y),I++,y.Aa===d?y=null:C.push(y)),y&&z.push.apply(z,y.Y)));u++;break;case "added":for(;w<K;)p(u++);H!==n?(A.push(v.length),p(H)):l(G.value)}for(;w<f.length;)p(u++);v._countWaitingForRemove=I}a.a.g.set(e,c,v);q(h.beforeMove,D);a.a.D(z,
h.beforeRemove?a.oa:a.removeNode);var M,O,P;try{P=e.ownerDocument.activeElement}catch(N){}if(A.length)for(;(E=A.shift())!=n;){y=v[E];for(M=n;E;)if((O=v[--E].Y)&&O.length){M=O[O.length-1];break}for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M)}for(E=0;y=v[E];E++){y.Y||a.a.extend(y,b(e,g,y.Aa,m,y.pb));for(f=0;u=y.Y[f];M=u,f++)a.h.Wb(e,u,M);!y.Ed&&m&&(m(y.Aa,y.Y,y.pb),y.Ed=!0,M=y.Y[y.Y.length-1])}P&&e.ownerDocument.activeElement!=P&&P.focus();q(h.beforeRemove,C);for(E=0;E<C.length;++E)C[E].Aa=d;q(h.afterMove,D);
q(h.afterAdd,F)}})();a.b("utils.setDomNodeChildrenFromArrayMapping",a.a.ec);a.ba=function(){this.allowTemplateRewriting=!1};a.ba.prototype=new a.ca;a.ba.prototype.constructor=a.ba;a.ba.prototype.renderTemplateSource=function(b,c,d,e){if(c=(9>a.a.W?0:b.nodes)?b.nodes():null)return a.a.la(c.cloneNode(!0).childNodes);b=b.text();return a.a.ua(b,e)};a.ba.Ma=new a.ba;a.gc(a.ba.Ma);a.b("nativeTemplateEngine",a.ba);(function(){a.$a=function(){var a=this.Hd=function(){if(!v||!v.tmpl)return 0;try{if(0<=v.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();
this.renderTemplateSource=function(b,e,f,g){g=g||w;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=v.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[e.$data];e=v.extend({koBindingContext:e},f.templateOptions);e=v.tmpl(h,b,e);e.appendTo(g.createElement("div"));v.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+
a+" })()) }}"};this.addTemplate=function(a,b){w.write("<script type='text/html' id='"+a+"'>"+b+"\x3c/script>")};0<a&&(v.tmpl.tag.ko_code={open:"__.push($1 || '');"},v.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};a.$a.prototype=new a.ca;a.$a.prototype.constructor=a.$a;var b=new a.$a;0<b.Hd&&a.gc(b);a.b("jqueryTmplTemplateEngine",a.$a)})()})})();})();

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojhtmlutils',["exports"],function(e){"use strict";const t={};t.stringToNodeArray=function(e){var t,r,n,o,a,i=["table","caption","colgroup","col","thead","tfoot","th","tbody","tr","td","template","p"];for(t=0;t<i.length;t++)r=i[t],n=e,o=void 0,a=void 0,o=new RegExp("<"+r+"(?=\\s|>)","gi"),a=new RegExp("</"+r+"(?=\\s|>)","gi"),e=n.replace(o,"<oj-bind-replace-"+r).replace(a,"</oj-bind-replace-"+r);var l=document.createElement("div");l.innerHTML=e,-1!==e.indexOf("<oj-bind-replace-")&&function e(t){for(var r=t.childNodes,n=r.length,o=0;o<n;o++){var a=r[o];e(a);var i,l,d,c=a.nodeName.toLowerCase();const n="oj-bind-replace-";if(c.substr(0,16)===n){var s=c.substr(16);for(d=document.createElement(s),i=0;i<a.attributes.length;i++)l=a.attributes[i],d.setAttribute(l.name,l.value);var p=d.content?d.content:d;for(i=0;a.childNodes.length>0;)p.appendChild(a.childNodes[0]);t.replaceChild(d,a)}else if("script"===c||"style"===c){for(d=document.createElement(c),i=0;i<a.attributes.length;i++)l=a.attributes[i],d.setAttribute(l.name,l.value);var u=a.innerHTML;d.innerHTML=u.replace(new RegExp(n,"g"),""),t.replaceChild(d,a)}else if(8===a.nodeType){var f=a.nodeValue;a.nodeValue=f.replace(new RegExp(n,"g"),"")}}}(l);for(var d=[];l.firstChild;)d.push(l.firstChild),l.removeChild(l.firstChild);return d},t.getTemplateContent=function(e){var t=[];if(1!==e.nodeType||"template"!==e.tagName.toLowerCase())throw new Error("Invalid template node "+e);var r=e.content;return r?t.push(document.importNode(r,!0)):Array.prototype.forEach.call(e.childNodes,function(e){t.push(e.cloneNode(!0))}),t};const r=t.stringToNodeArray,n=t.getTemplateContent;e.getTemplateContent=n,e.stringToNodeArray=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojhtmlutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojkoshared',["ojs/ojcore-base","knockout","ojs/ojconfig","ojs/ojlogger"],function(e,t,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const i=function(){this.Init()};function o(e,r){return function(i,o,s,a){var u=n.getExpressionEvaluator();return u?function(e,n,r,i){var o=i[e];if(!o){var s=t.expressionRewriting.preProcessBindings(e,n);o=r.createEvaluator("{"+s+"}").evaluate,i[e]=o}return o}(i,a,u,r)([o.$data||{},o,{$element:s}]):e(i,o,s,a)}}e.Object.createSubclass(i,e.Object,"ComponentBinding.GlobalChangeQueue"),i.prototype.Init=function(){i.superclass.Init.call(this),this._trackers=[],this._queue=[]},i.prototype.registerComponentChanges=function(t){-1===this._trackers.indexOf(t)&&(this._trackers.push(t),this._delayTimer||(this._delayTimer=setTimeout(e.Object.createCallback(this,this._deliverChangesImpl),1),this._delayPromise=new Promise(function(e){this._delayPromiseResolver=e}.bind(this))))},i.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},i.prototype.getThrottlePromise=function(){return this._delayPromise||Promise.resolve()},i.prototype._deliverChangesImpl=function(){this._delayTimer=null,this._resolveDelayPromise();var e=this._trackers;this._trackers=[];for(var t=0;t<e.length;t++){var n=e[t];this._queue.push({tracker:n,changes:n.flushChanges()})}for(;this._queue.length>0;){var r=this._queue.shift();r.tracker.applyChanges(r.changes)}},i.prototype._resolveDelayPromise=function(){this._delayPromise&&(this._delayPromiseResolver(),this._delayPromiseResolver=null,this._delayPromise=null)};return(new function(){var e=new WeakMap,s={},a={},u={},c=new i;function l(e){var t,r=n.getExpressionEvaluator();if(r){var i=r.createEvaluator(e).evaluate;return function(e,t){return i([e,e.$data||{},{$element:t}])}}try{t=new Function("$context","$element","with($context.$data||{}){with($context){return "+e+"}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return t}function d(t,n,r){if(!r)return t(n,r);var i,o=e,s=r._ojCacheScope||r;(i=o.get(s))||(i={},o.set(s,i));var a=i[n];return a||(a=t(n,r),i[n]=a),a}function p(e,t,n){var r=t.getBindingsString;if(r)return r.call(t,e,n);switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:var i=e.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return i?i[1]:null;default:return null}}this.install=function(){var e=t.bindingProvider,n=e.instance;if(!n.getBindingAccessors)return r.error("JET's Knockout bindings are not compatible with the current binding provider since it does not implement getBindingAccessors()"),this;var i={getWrapped:function(){return n}};e.instance=i;var c,h,f,g=[];return g.push("getBindingAccessors","nodeHasBindings","getBindings"),g.forEach(function(e){i[e]=function(e,n,r){var i="nodeHasBindings"===n;return function(o){if(i){var a=o.nodeType;if(1!==a&&8!==a)return!1}var u=r(n,e[n]),c=u?u.apply(e,arguments):null,l=s[n];if(null!=l){var d=arguments;l.forEach(function(n){var r=Array.prototype.slice.call(d);r.push(c,e),c=t.ignoreDependencies(n,null,r)})}return c}}(n,e,function(e,r){return"getBindingAccessors"!==e?r:function(e,n){return function(r,i){if(i._ojExtended){var o=p(r,n,i),s=o?function(e,n){return d(function(e){return l("{"+t.expressionRewriting.preProcessBindings(e,{valueAccessors:!0})+"}")},e,n)}(o,i)(i,r):null;if(1===r.nodeType&&t.components.isRegistered(r.tagName.toLowerCase())){var a=e.call(n,r,i).component;a&&((s=s||{}).component=a)}return s}return e.call(n,r,i)}}(r,n)})}),i.preprocessNode=function(e){var n=e.preprocessNode;return function(r){var i,o,s=null;return 1===r.nodeType&&(i=a[r.nodeName.toLowerCase()]),i||(i=n,s=e),i&&(o=t.ignoreDependencies(i,s,[r])),Array.isArray(o)&&(o=function(e,n){var r=t.bindingProvider.instance,i=n.slice(0),o=n[0],s=0,a=0;for(;s>=0;){var u=t.virtualElements.nextSibling(o);if(o!==e){var c=r.preprocessNode(o);Array.isArray(c)&&(i.splice.apply(i,[a,1].concat(c)),a+=c.length-1)}a+=1;var l=s+1;s=(o=u)?n.indexOf(o,l):-1,a+=s-l}return i}(r,o)),o}}(n),c=t.nativeTemplateEngine.prototype,f=c[h="renderTemplateSource"],c[h]=function(e,t,n,r){return f.call(this,e,t,n,r||document)},function(){const e=t.templateSources.domElement.prototype,n=e.nodes;e.nodes=function(){const e=n.apply(this,arguments);return e&&11===e.nodeType?document.importNode(e,!0):e}}(),t.components.loaders.unshift({loadTemplate:function(e,n,r){if("string"==typeof n){var i=t.utils.parseHtmlFragment(n,document);t.components.defaultLoader.loadTemplate(e,i,r)}else r(null)}}),function(e){var n,i=t.bindingProvider.instance;for(;i&&!n;){var s=i.parseBindingsString;s?(n=!0,i.parseBindingsString=o(s.bind(i),e)):i=i.getWrapped?i.getWrapped():null}n||r.error("Unable to patch KO expression evaluation implementation. If you have a custom binding provider, make sure it implements the getWrapped() method that returns the default binding provider instance.")}(u),this},this.addPostprocessor=function(e){Object.keys(e).forEach(function(t){s[t]=s[t]||[],s[t].push(e[t])})},this.registerPreprocessor=function(e,t){a[e]=t},this.getBindingsString=function(e,t,n){return p(e,t,n)},this.extendBindingContext=function(e,t,n,r,i){var o={$current:t,$root:void 0,$parent:void 0,$parents:void 0};return n&&(o[n]=t),r&&(o[r]=t),e?o=e.extend(o):o.$data={},Object.defineProperty(o,"_ojCacheScope",{value:i}),Object.defineProperty(o,"_ojExtended",{value:!0}),o},this.createBindingExpressionEvaluator=function(e,t){if(t._ojExtended)return l(e);var r,i=n.getExpressionEvaluator();if(i){var o=i.createEvaluator(e).evaluate;return function(e){return o([e.$data||{},e])}}try{r=new Function("$context","with($context){with($data||{}){return "+e+";}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return r},this.createEvaluator=function(e,t){return d(this.createBindingExpressionEvaluator,e,t)},this.getGlobalChangeQueue=function(){return c}}).install()});
//# sourceMappingURL=ojkoshared.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojtemplateengine',["knockout","ojs/ojcore","ojs/ojkoshared","ojs/ojhtmlutils","ojs/ojlogger","ojs/ojcustomelement-utils","preact","ojs/ojcore-base","ojs/ojcontext"],function(e,t,n,r,o,s,a,i,c){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;const l=Symbol("row");class u{static executeVDomTemplate(t,n){const r=c.getContext(t).getBusyContext(),o=e.pureComputed({read:()=>t.render(n.$current)}).extend({rateLimit:{timeout:0,method:(e,t)=>{let n;return()=>{if(!n){const o=r.addBusyState({description:"pending changes for the template element"});n=setTimeout(()=>{n=void 0,e(),o()},t)}}}}}),s=o();u._extendTemplate(t,u._ROW_CACHE_FACTORY,e=>{t._cachedRows.forEach(t=>{let n=e(t.currentContext);u._renderNodes(n,t)})});const a=document.createElement("div"),i={currentContext:n.$current,template:t,parentStub:a,computedVNode:o,vnode:void 0,nodes:void 0};return u._renderNodes(s,i),t._cachedRows.push(i),o.subscribe(e=>{const n=t._cachedRows.find(e=>e.computedVNode===o);u._renderNodes(e,n)}),i.nodes}static _renderNodes(e,t){const n=t.parentStub;let r=()=>Array.from(n.childNodes);t.nodes&&(r=u._getRetrieveNodesFunction(t.nodes)),a.render(e,n);const o=r();o.forEach(e=>{var n;null===(n=e.classList)||void 0===n||n.add("oj-vdom-template-root"),e[l]=t,e[s.CACHED_BINDING_PROVIDER]="preact"}),t.vnode=e,t.nodes=o}static clean(e){const t=e[l];if(!t.cleaned){t.cleaned=!0;const e=u._getInsertNodesFunction(t.nodes);a.render(null,t.parentStub),e(t.nodes),t.computedVNode.dispose();const n=t.template,r=n._cachedRows.indexOf(t);n._cachedRows.splice(r,1)}}static _getInsertNodesFunction(e){const t=e[e.length-1],n=t.parentNode,r=t.nextSibling;return e=>{e.forEach(e=>n.insertBefore(e,r))}}static _getRetrieveNodesFunction(e){const t=e[0],n=e[e.length-1],r=t.parentNode,o=t.previousSibling,s=n.nextSibling;return()=>{const e=[];for(let t=o?o.nextSibling:r.firstChild;t!==s;t=t.nextSibling)e.push(t);return e}}static resolveVDomTemplateProps(e,t,n,r,o,s,a){const[i,c]=u._extendTemplate(e,u._COMPUTED_PROPS_CACHE_FACTORY,e=>{for(const t of i)t.recalculateValue(e)}),l=new d(e=>u._computeProps(e,n,r,o,a),t,s,c);return i.add(l),l}static _computeProps(e,t,n,r,o){const s=e(r),a=(Array.isArray(s)?s:[s]).find(e=>e.type===t);if(!a)throw new Error("Item template must contain an element named {elementTagName}");const i={},c=a.props;return Object.keys(c).forEach(e=>{n.has(e)&&(i[e]=a.props[e])}),i}static _extendTemplate(e,t,n){if(!e._cachedRows){let r=e.render;Object.defineProperties(e,{_cachedRows:{writable:!0,value:t()},render:{enumerable:!0,get:()=>r,set(e){r=e,e&&n(e)}}})}return e._cachedRows}}u._COMPUTED_PROPS_CACHE_FACTORY=()=>{const e=new Set;return[e,e.delete.bind(e)]},u._ROW_CACHE_FACTORY=()=>[];class d{constructor(e,t,n,r){this._calculate=e,this._defaultProps=n,this._disposeCallback=r,this._value=e(t),this._merged=this._getMergedValue(this._value)}peek(){return this._merged}subscribe(e){if(this._sub)throw new Error("Resolved property observable does not support multiple subscribers");this._sub=e}dispose(){this._disposeCallback(this)}recalculateValue(e){const t=this._calculate(e),n=this._value;this._value=t,this._sub&&!i.Object.compareValues(t,n)&&(this._merged=this._getMergedValue(t),this._sub(this._merged))}_getMergedValue(e){return Object.assign({},this._defaultProps,e)}}return new function(){this.execute=function(t,n,r,o,a){var i=n.getAttribute("data-oj-as"),d=l(t,n,r,o,i);if(n.render)return u.executeVDomTemplate(n,d);var p=c(n,a);let f=p.childNodes;for(let e=0;e<f.length;e++){f[e][s.CACHED_BINDING_PROVIDER]="knockout"}return e.applyBindingsToDescendants(d,p),Array.prototype.slice.call(f,0)},this.clean=function(t){let n=t&&t.getElementsByClassName?Array.from(t.getElementsByClassName("oj-vdom-template-root")):[];return t&&t.matches&&t.matches(".oj-vdom-template-root")&&n.push(t),n.forEach(e=>{u.clean(e)}),0===n.length?e.cleanNode(t):null},this.resolveProperties=function(r,o,d,p,f,h,m,_){const g=o.render;if(g){const e=this._getResolvedDefaultProps(d,p);return u.resolveVDomTemplateProps(o,g,d,p,f,e,m)}var v=o.getAttribute("data-oj-as"),b=l(r,o,f,h,v);return function(n,r,o){return s=e.pureComputed(function(){var s={};n.evalMap.forEach(function(t,n){var a=e.utils.unwrapObservable(t(r));o&&o(n,a),s[n[0]]=function(e,t,n){if(t.length<2)return n;for(var r=e[t[0]]||{},o=r,s=t.length-1,a=1;a<s;a++){var i=t[a],c=o[i]||{};o[i]=c,o=c}return o[t[s]]=n,r}(s,n,a)});var a=t.CollectionUtils.copyInto,i=a({},n.staticMap,null,!0);return i=a(i,s,null,!0)}),a=["peek","subscribe","dispose"],i={},a.forEach(function(e){i[e]=s[e].bind(s)}),i;var s,a,i}(function(e,t,r,o,l){var u=a.get(e);if(!u){u={},a.set(e,u);var d=c(e).querySelector(r);u.evalMap=function(e,t,r){for(var o=new Map,a=e?e.attributes:[],i=0;i<a.length;i++){var c=a[i],l=s.AttributeUtils.attributeToPropertyName(c.name).split(".");if(t.has(l[0])){var u=s.AttributeUtils.getExpressionInfo(c.value).expr;u&&o.set(l,n.createBindingExpressionEvaluator(u,r))}}return o}(d,o,t),u.staticMap=i(d,o,l)}return u}(o,b,d,p,_||r),b,m)},this.defineTrackableProperty=function(t,n,r,o){!function(t,n,r,o){var s=e.observable(r);Object.defineProperty(t,n,{get:function(){return s()},set:function(e){s(e),o&&o(e)},enumerable:!0})}(t,n,r,o)};var a=new WeakMap;function i(e,t,n){var r={};if(e){var o=e.style;o.display="none",o.position="absolute",e.setAttribute("data-oj-binding-provider","none"),n.appendChild(e),t.forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),n.removeChild(e)}return r}function c(e,t){var n=document.createElement("div");t&&(n._ojReportBusy=t);for(var o=r.getTemplateContent(e),s=0;s<o.length;s++)n.appendChild(o[s]);return n}function l(t,r,s,a,i){var c=r.__ojBindingContext?r.__ojBindingContext:e.contextFor(r);return c||(o.info("Binding context not found when processing template for element with id: "+t.id+". Using binding context for element instead."),c=e.contextFor(t)),n.extendBindingContext(c,s,a,i,t)}this._getResolvedDefaultProps=function(e,t){let n=this._defaultProps.get(e);if(!n){n=i(document.createElement(e),t,document.body),this._defaultProps.set(e,n)}return n},this._defaultProps=new Map}});
//# sourceMappingURL=ojtemplateengine.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcomposite-knockout',["ojs/ojcore-base","knockout","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojkoshared","ojs/ojlogger","ojs/ojtemplateengine"],function(e,o,t,n,l,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;const s={};e._registerLegacyNamespaceProp("CompositeTemplateRenderer",s),s.renderTemplate=function(t,n,l){var r=s._storeNodes(n,l);o.virtualElements.setDomNodeChildren(n,l),s.invokeViewModelMethod(n,t.viewModel,"attached",[t.viewModelContext]),s.invokeViewModelMethod(n,t.viewModel,"connected",[t.viewModelContext]);var i=s._getKoBindingContext().createChildContext(t.viewModel,void 0,function(o){o[e.Composite.__COMPOSITE_PROP]=n,o.__oj_slots=t.slotMap,o.__oj_nodestorage=r,o.$slotNodeCounts=t.slotNodeCounts,o.$slotCounts=t.slotNodeCounts,o.$props=t.props,o.$properties=t.props,o.$unique=t.unique,o.$uniqueId=t.uniqueId,o.$parent=null,o.$parentContext=null,o.$parents=null,o.$provided=null});o.applyBindingsToDescendants(i,n),s.invokeViewModelMethod(n,t.viewModel,"bindingsApplied",[t.viewModelContext])},s.getEnclosingComposite=function(t){for(var n=null,l=o.contextFor(t);l&&!n;l=l.$parentContext)n=l[e.Composite.__COMPOSITE_PROP];return n},s.createTracker=function(){return o.observable()},s.invokeViewModelMethod=function(e,t,n,l){if(null!=t){var r=t[n];if("function"==typeof r)try{return o.ignoreDependencies(r,t,l)}catch(o){throw new Error("Error while invoking "+n+" callback for "+e.tagName.toLowerCase()+" with id '"+e.id+"'.")}}},s._storeNodes=function(o,t){var l,r=o.childNodes;if(r){(l=document.createElement("div")).setAttribute("data-bind","_ojNodeStorage_"),l.style.display="none",t.push(l);for(var i=[],s=0;s<r.length;s++){var a=r[s];n.CustomElementUtils.isSlotable(a)&&i.push(a)}i.forEach(function(e){l.appendChild(e)}),e.Components&&e.Components.subtreeHidden(l)}return l},s._getKoBindingContext=function(){if(!s._BINDING_CONTEXT){var e=document.createElement("div");o.applyBindings(null,e),s._BINDING_CONTEXT=o.contextFor(e),o.cleanNode(e)}return s._BINDING_CONTEXT},s._BINDING_CONTEXT=null,function(){function e(e,t){var n,l,r=["name","slot"];t?(r.push("data"),r.push("as"),l="ko _ojBindTemplateSlot_:{"):(r.push("index"),l="ko _ojBindSlot_:{");for(var i=[],s=0;s<r.length;s++){var a=r[s],d=o(e.getAttribute(a));d&&i.push(a+":"+d)}l+=i.join(","),l+="}";var u=document.createComment(l),p=document.createComment("/ko");n=[u];var c=e.parentNode;for(c.insertBefore(u,e);e.childNodes.length>0;){var m=e.childNodes[0];c.insertBefore(m,e),n.push(m)}return n.push(p),c.replaceChild(p,e),n}function o(e){if(null!=e){var o=n.AttributeUtils.getExpressionInfo(e).expr;return null==o&&(o="'"+e+"'"),o}return null}l.registerPreprocessor("oj-bind-slot",e),l.registerPreprocessor("oj-slot",e),l.registerPreprocessor("oj-bind-template-slot",function(o){return e(o,!0)})}(),o.bindingHandlers._ojNodeStorage_={init:function(){return{controlsDescendantBindings:!0}}};const a={};e._registerLegacyNamespaceProp("SlotUtils",a),a.cleanup=function(t,n){var l=n.__oj_nodestorage;if(l)for(var r=o.virtualElements.firstChild(t);r;){var i=o.virtualElements.nextSibling(r);null!=r.__oj_slots&&(l.appendChild(r),e.Components&&1===r.nodeType&&e.Components.subtreeHidden(r)),r=i}},o.bindingHandlers._ojBindSlot_={init:function(t,l,r,i,s){o.utils.domNodeDisposal.addDisposeCallback(t,a.cleanup.bind(null,t,s));var d=s.__oj_slots,u=l(),p=o.utils.unwrapObservable,c=p(u.name)||"",m=p(u.slot)||"",_=p(u.index),f=null!=_?[d[c][_]]:d[c];if(f){var v;for(v=0;v<f.length;v++){f[v].__oj_slots=m}n.CustomElementUtils.allowSlotRelocation(!0);try{o.virtualElements.setDomNodeChildren(t,f)}finally{n.CustomElementUtils.allowSlotRelocation(!1)}if(e.Components)for(v=0;v<f.length;v++){var C=f[v];1===C.nodeType&&e.Components.subtreeShown(C)}return{controlsDescendantBindings:!0}}o.virtualElements.childNodes(t).forEach(function(e){(function(e){return 1===e.nodeType||3===e.nodeType&&e.nodeValue.trim()})(e)&&(e.__oj_slots=m)})}},o.virtualElements.allowedBindings._ojBindSlot_=!0,o.bindingHandlers._ojBindTemplateSlot_={init:function(t,n,l,s,d){o.utils.domNodeDisposal.addDisposeCallback(t,a.cleanup.bind(null,t,d));var u=d.__oj_slots,p=n(),c=o.utils.unwrapObservable,m=c(p.name)||"",_=u[m],f=_&&_[_.length-1],v=!1;if(!f)for(var C=o.virtualElements.childNodes(t),g=0;g<C.length;g++)if("TEMPLATE"===C[g].tagName){v=!0,f=C[g];break}if(f){var h=d[e.Composite.__COMPOSITE_PROP];"TEMPLATE"!==f.tagName&&r.error("Slot content for slot '"+m+"' under "+h.tagName.toLowerCase()+" with id '"+h.id+"' should be wrapped inside a <template> node."),f.__oj_slots=c(p.slot)||"",o.computed(function(){var e=c(p.data),n=c(p.as),l=i.execute(v?t:h,f,e,v?n:null);o.virtualElements.setDomNodeChildren(t,l)})}else o.virtualElements.setDomNodeChildren(t,[]);return{controlsDescendantBindings:!0}}},o.virtualElements.allowedBindings._ojBindTemplateSlot_=!0});
//# sourceMappingURL=ojcomposite-knockout.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcomposite',["exports","ojs/ojcore-base","ojs/ojhtmlutils","ojs/ojlogger","ojs/ojmetadatautils","ojs/ojcomposite-knockout","ojs/ojcustomelement","ojs/ojcustomelement-utils"],function(e,t,o,n,r,i,s,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const d={getContainingComposite:function(e,o){for(var n=null,r=e;r;)if((r=t.CompositeTemplateRenderer.getEnclosingComposite(r))&&"oj-module"!==r.nodeName.toLowerCase()){if(o&&!(16&e.compareDocumentPosition(o)))break;n=r}return n}};class l extends a.ElementState{getTrackChildrenOption(){return"immediate"}}const u={};u.proto=Object.create(t.BaseCustomElementBridge.proto),u.DESC_KEY_CSS="css",u.DESC_KEY_PARSE_FUN="parseFunction",u.DESC_KEY_VIEW="view",u.DESC_KEY_VIEW_MODEL="viewModel",u.SUBID_MAP="data-oj-subid-map",t.CollectionUtils.copyInto(u.proto,{beforePropertyChangedEvent:function(e,o,n){var r={property:o};t.CollectionUtils.copyInto(r,n),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"propertyChanged",[r])},AddComponentMethods:function(e){var t=function(e,t,o,n,r,i){if(!t.SaveEarlyPropertySet(e,o,n)){var s=t.SetProperty(e,o,n,r,i);if(s.propertySet)if(s.isSubproperty)u._getPropertyTracker(t,s.property).valueHasMutated()}};e.setProperty=function(e,o){var n=a.CustomElementUtils.getElementBridge(this);t(this,n,e,o,this,!0)},e.getProperty=function(e){return a.CustomElementUtils.getElementBridge(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(e,o){t(this._ELEMENT,this._BRIDGE,e,o,this,!1)},e._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this._ELEMENT,e,this)},e.getNodeBySubId=function(e){var t=a.CustomElementUtils.getElementBridge(this),o=t._getViewModel();return o.getNodeBySubId?o.getNodeBySubId(e,t._getNodeBySubId.bind(this)):t._getNodeBySubId.bind(this)(e)},e.getSubIdByNode=function(e){var t=a.CustomElementUtils.getElementBridge(this),o=t._getViewModel();return o.getSubIdByNode?o.getSubIdByNode(e,t._getSubIdByNode.bind(this)):t._getSubIdByNode.bind(this)(e)}},CreateComponent:function(e){const o=a.CustomElementUtils.getElementState(e).getSlotMap();for(var n={},r=Object.keys(o),i=0;i<r.length;i++){var s=r[i];n[s]=o[s].length}var d=a.ElementUtils.getUniqueId(),l={element:e,props:Promise.resolve(this._PROPS),properties:this._PROPS,slotNodeCounts:Promise.resolve(n),slotCounts:n,unique:d};l.uniqueId=e.id?e.id:d,this._VM_CONTEXT=l;var E=a.CustomElementUtils.getElementDescriptor(e.tagName)[u.DESC_KEY_VIEW_MODEL];E="function"==typeof E?new E(l):t.CompositeTemplateRenderer.invokeViewModelMethod(e,E,"initialize",[l])||E,this._VIEW_MODEL=E;var _=t.CompositeTemplateRenderer.invokeViewModelMethod(e,E,"activated",[l])||Promise.resolve(!0),m=this;return _.then(function(){var r={props:m._PROPS,slotMap:o,slotNodeCounts:n,unique:m._VM_CONTEXT.unique,uniqueId:m._VM_CONTEXT.uniqueId,viewModel:m._VIEW_MODEL,viewModelContext:m._VM_CONTEXT};e[a.CHILD_BINDING_PROVIDER]="knockout",t.Components&&t.Components.unmarkPendingSubtreeHidden(e);var i=a.CustomElementUtils.getElementRegistration(e.tagName).cache,s=u._getDomNodes(i.view,e);t.CompositeTemplateRenderer.renderTemplate(r,e,s)})},DefineMethodCallback:function(e,t,o){e[t]=function(){var e=o.internalName||t,n=a.CustomElementUtils.getElementBridge(this),r=n._getViewModel();return r[e].apply(r,arguments)}},DefinePropertyCallback:function(e,o,i){var s=function(e,r){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,o,e)){r&&(e=a.CustomElementUtils.convertEmptyStringToUndefined(this._ELEMENT,i,e));var s=u._getPropertyTracker(this._BRIDGE,o),d=s.peek();if(a.ElementUtils.comparePropertyValues(i,e,d))n.info(a.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+o+"' with same value.");else if(r&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,o,e)),i._eventListener&&this._BRIDGE.SetEventListenerProperty(this._ELEMENT,o,e),s(e),!i._derived){var l=r?"external":"internal";t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,o,e,d,l),this._BRIDGE.State.dirtyProps.add(o)}}},d=function(e){var t=u._getPropertyTracker(this._BRIDGE,o),n=e?t.peek():t();return void 0===n&&t(n=r.getDefaultValue(i)),n};i._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,o,function(){return d.bind(this,!1)()},function(e){s.bind(this)(e,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,o,function(){var e=a.CustomElementUtils.getElementBridge(this);return d.bind(e._PROPS,!0)()},function(e){var t=a.CustomElementUtils.getElementBridge(this);s.bind(t._PROPS)(e,!0)})},GetMetadata:function(e){return e._metadata||{}},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"detached",[e]),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"disconnected",[e])},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"connected",[this._VM_CONTEXT])},InitializeElement:function(e){var o;t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),t.Components&&t.Components.markPendingSubtreeHidden(e);var n=a.CustomElementUtils.getElementRegistration(e.tagName).cache;if(!n.view){var r=(o=a.CustomElementUtils.getElementDescriptor(e.tagName))[u.DESC_KEY_VIEW];n.view||(n.view="string"==typeof r?u._getDomNodes(r,e):r)}if(!n.css){o||(o=a.CustomElementUtils.getElementDescriptor(e.tagName));var i=o[u.DESC_KEY_CSS];if(i){var s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),document.head.appendChild(s),n.css=!0}}t.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},initializeBridge:function(e,o){t.BaseCustomElementBridge.proto.initializeBridge.call(this,e,o),e._propsProto&&(this._PROPS=Object.create(e._propsProto),this._PROPS._BRIDGE=this,this._PROPS._ELEMENT=e)},ShouldRemoveDisabled:function(){var e=this.METADATA.extension;return!!e&&!0===e._SHOULD_REMOVE_DISABLED},_getNodeBySubId:function(e){var o=u.__GetSubIdMap(this)[e.subId];if(o){if(o.alias){var n=t.CollectionUtils.copyInto({},e,void 0,!0);n.subId=o.alias;var r=o.node;return r.getNodeBySubId?r.getNodeBySubId(n):t.Components.__GetWidgetConstructor(r)("getNodeBySubId",n)}return o.node}return null},_getSubIdByNode:function(e){if(!this.contains(e))return null;var o,n,r,i=u.__GetNodeMap(this),s=d.getContainingComposite(e,this);if(null!=s){if((n=i[o=s.node.getAttribute(u.SUBID_MAP)])&&s.getSubIdByNode&&(r=s.getSubIdByNode(e))){var a=n.map[r.subId];return r.subId=a,r}return null}for(var l=e;l!==this&&!(o=l.getAttribute(u.SUBID_MAP)||l.getAttribute("data-oj-subid"));)l=l.parentNode;if(n=i[o]){if(!n.map)return{subId:o};var E=n.node;if(r=E.getSubIdByNode?E.getSubIdByNode(e):t.Components.__GetWidgetConstructor(E)("getSubIdByNode",e))return r.subId=n.map[r.subId],r}return null},_getViewModel:function(){if(!this._VIEW_MODEL)throw new a.JetElementError(this._ELEMENT,"Cannot access methods before element is upgraded.");return this._VIEW_MODEL}}),u.register=function(e,o){var r={};r[t.BaseCustomElementBridge.DESC_KEY_META]=u._getResource(e,o,t.BaseCustomElementBridge.DESC_KEY_META),r[u.DESC_KEY_VIEW]=u._getResource(e,o,u.DESC_KEY_VIEW),r[u.DESC_KEY_CSS]=u._getResource(e,o,u.DESC_KEY_CSS),r[u.DESC_KEY_VIEW_MODEL]=u._getResource(e,o,u.DESC_KEY_VIEW_MODEL),r[u.DESC_KEY_PARSE_FUN]=o[u.DESC_KEY_PARSE_FUN];const i={descriptor:r,bridgeProto:u.proto,stateClass:l,composite:!0,cache:{}};var s=r[t.BaseCustomElementBridge.DESC_KEY_META];if(s||(n.warn("Composite registered'"+e.toLowerCase()+"' without Metadata."),s={}),null==r[u.DESC_KEY_VIEW])throw new Error("Cannot register composite '"+e.toLowerCase()+"' without a View.");r._metadata=t.BaseCustomElementBridge.__ProcessEventListeners(s,!1),a.CustomElementUtils.registerElement(e,i,u.proto.getClass(r))},u._getDomNodes=function(e,t){var n,r;if("string"==typeof e)return o.stringToNodeArray(e);if(u._isDocumentFragment(e)){r=e.cloneNode(!0);var i=[];for(n=0;n<r.childNodes.length;n++)i.push(r.childNodes[n]);return i}if(Array.isArray(e)){for(r=[],n=0;n<e.length;n++)r.push(e[n].cloneNode(!0));return r}throw new a.JetElementError(t,"The composite View is not one of the following supported types: string, Array of DOM nodes, DocumentFragment")},u._generateSubIdMap=function(e,t){if(!e._SUBID_MAP){for(var o={},n={},r=t.children,i=0;i<r.length;i++)u._walkSubtree(o,n,r[i]);e._NODE_MAP=n,e._SUBID_MAP=o}},u._walkSubtree=function(e,o,n){if(!n.hasAttribute("slot")&&(u._addNodeToSubIdMap(e,o,n),!a.CustomElementUtils.isElementRegistered(n.tagName)&&!t.Components.__GetWidgetConstructor(n)))for(var r=n.children,i=0;i<r.length;i++)u._walkSubtree(e,o,r[i])},u._addNodeToSubIdMap=function(e,t,o){var n=o.getAttribute("data-oj-subid"),r=o.getAttribute(u.SUBID_MAP);if(r){var i=JSON.parse(r);if("object"==typeof i&&!(i instanceof Array)){for(var s=i,a={},d=Object.keys(s),l=0;l<d.length;l++){var E=d[l];e[E]={alias:s[E],node:o},a[s[E]]=E}t[r]={map:a,node:o}}}else n&&(e[n]={node:o},t[n]={node:o})},u.__GetSubIdMap=function(e){var t=a.CustomElementUtils.getElementBridge(e);return u._generateSubIdMap(t,e),t._SUBID_MAP},u.__GetNodeMap=function(e){var t=a.CustomElementUtils.getElementBridge(e);return u._generateSubIdMap(t,e),t._NODE_MAP},u._getPropertyTracker=function(e,o){return e._TRACKERS||(e._TRACKERS={}),e._TRACKERS[o]||(e._TRACKERS[o]=t.CompositeTemplateRenderer.createTracker()),e._TRACKERS[o]},u._getResource=function(e,t,o){var n=t[o];if(null!=n){var r=Object.prototype.hasOwnProperty;if(r.call(n,"inline"))return n.inline;if(r.call(n,"promise"))throw new Error("Error while registering "+e+". The resource type for descriptor key '"+o+"' is no longer supported. The resource should be passed directly as the value instead.");return n}},u._isDocumentFragment=function(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType};const E={};t._registerLegacyNamespaceProp("Composite",E),E.getMetadata=function(e){var t=E.getComponentMetadata(e);return t?Promise.resolve(t):null},E.getComponentMetadata=function(e){return a.CustomElementUtils.isComposite(e)?a.CustomElementUtils.getElementDescriptor(e)[t.BaseCustomElementBridge.DESC_KEY_META]:null},E.register=function(e,t){u.register(e,t)},E.getContainingComposite=d.getContainingComposite,E.__COMPOSITE_PROP="__oj_composite";const _=E.register,m=E.getMetadata,p=E.getComponentMetadata,c=E.getContainingComposite,g=E.__COMPOSITE_PROP;e.__COMPOSITE_PROP=g,e.getComponentMetadata=p,e.getContainingComposite=c,e.getMetadata=m,e.register=_,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojcomposite.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojbindpropagation',["exports"],function(e){"use strict";const o=new Map;e.getPropagationMetadataViaCache=function(e,n){let i=o.get(e);return void 0!==i||(i=null,Object.keys(n).forEach(e=>{var o,t;const r=n[e],l=null===(o=null==r?void 0:r.binding)||void 0===o?void 0:o.provide,d=null===(t=null==r?void 0:r.binding)||void 0===t?void 0:t.consume;if(l||d){if(r.properties)throw new Error("Propagating complex properties is not supported!");i=null!=i?i:new Map,i.set(e,[l,d])}}),o.set(e,i)),i},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojbindpropagation.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojknockouttemplateutils',["exports","knockout","jquery"],function(e,t,n){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r={getRenderer:function(e,r){var o=function(o){var a=o._parentElement||o.parentElement,l=t.contextFor(o.componentElement);if(l){var c=l.createChildContext(o.data,null,function(e){e.$context=o});t.renderTemplate(e,c,{afterRender:function(e){n(e)._ojDetectCleanData()}},a,r?"replaceNode":"replaceChildren")}return null};return function(t){if(t.componentElement.classList&&t.componentElement.classList.contains("oj-dvtbase")){var r=document.createElement("div");r.style.display="none",r._dvtcontext=t._dvtcontext,t.componentElement.appendChild(r),Object.defineProperty(t,"_parentElement",{value:r,enumerable:!1}),Object.defineProperty(t,"_templateCleanup",{value:function(){n(r).remove()},enumerable:!1}),Object.defineProperty(t,"_templateName",{value:e,enumerable:!1}),o(t);var a=r.children[0];return a?(r.removeChild(a),n(r).remove(),{insert:a}):{preventDefault:!0}}return o(t)}}},o=r.getRenderer;e.getRenderer=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojknockouttemplateutils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojresponsiveknockoututils',["exports","ojs/ojcore-base","knockout","jquery","ojs/ojresponsiveutils"],function(e,r,t,a,n){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const l={};r._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",l),l.createMediaQueryObservable=function(e){if(null==e)throw new Error("ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var r=window.matchMedia(e),n=t.observable(r.matches);return r.addListener(function(e){n(e.matches)}),-1!==navigator.userAgent.indexOf("WebKit")&&-1===navigator.userAgent.indexOf("Chrome")&&a(window).resize(function(){var e="oj-webkit-bug-123293";0===a("body").has("."+e).length&&a("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+e+'">'),a("."+e).text((new Date).getMilliseconds().toString())}),n},l.createScreenRangeObservable=function(){var e=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.XXL_UP),r=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.XL_UP),a=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.LG_UP),o=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.MD_UP),u=n.getFrameworkQuery(n.FRAMEWORK_QUERY_KEY.SM_UP),i=null==e?null:l.createMediaQueryObservable(e),s=null==r?null:l.createMediaQueryObservable(r),c=null==a?null:l.createMediaQueryObservable(a),b=null==o?null:l.createMediaQueryObservable(o),d=null==u?null:l.createMediaQueryObservable(u);return t.computed(function(){if(i&&i())return n.SCREEN_RANGE.XXL;if(s&&s())return n.SCREEN_RANGE.XL;if(c&&c())return n.SCREEN_RANGE.LG;if(b&&b())return n.SCREEN_RANGE.MD;if(d&&d())return n.SCREEN_RANGE.SM;throw new Error(" NO MATCH in ResponsiveKnockoutUtils.createScreenRangeObservable")})};const o=l.createScreenRangeObservable,u=l.createMediaQueryObservable;e.createMediaQueryObservable=u,e.createScreenRangeObservable=o,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojresponsiveknockoututils.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojknockout',["jqueryui-amd/widget","ojs/ojkoshared","ojs/ojcore","ojs/ojlogger","knockout","ojs/ojdomutils","jquery","ojs/ojcustomelement-utils","ojs/ojbindpropagation","ojs/ojkeysetimpl","ojs/ojcontext","ojs/ojtemplateengine","ojs/ojknockouttemplateutils","ojs/ojresponsiveknockoututils"],function(e,t,n,r,i,o,a,s,u,l,d,c,p,f){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;const h=function(e,t){this.Init(e,t)};n.Object.createSubclass(h,n.Object,"ComponentBinding.ComponentChangeTracker"),h.prototype.Init=function(e,t){h.superclass.Init.call(this),this._updateCallback=e,this._queue=t,this._changes={},this._suspendCountMap={}},h.prototype.addChange=function(e,t){this._isSuspended(e)||this._disposed||(this._changes[e]=t,this._queue.registerComponentChanges(this))},h.prototype.dispose=function(){this._disposed=!0},h.prototype.resume=function(e){var t=this._suspendCountMap[e]||0;(t-=1)<0?r.error("ComponentChangeTracker suspendCount underflow"):0===t?delete this._suspendCountMap[e]:this._suspendCountMap[e]=t},h.prototype.suspend=function(e){var t=this._suspendCountMap[e]||0;this._suspendCountMap[e]=t+1},h.prototype.applyChanges=function(e){this._disposed||this._updateCallback(e)},h.prototype.flushChanges=function(){var e=this._changes;return this._changes={},e},h.prototype._isSuspended=function(e){return(this._suspendCountMap[e]||0)>=1};const m={};var g;n._registerLegacyNamespaceProp("__ExpressionUtils",m),g=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,m.getPropertyWriterExpression=function(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;var t=(e=e.trim()).match(g);return null===t?null:"{_ko_property_writers: function(v){"+(t[1]?"Object("+t[1]+")"+t[2]:e)+"=v;}}"},m.getWriter=function(e){return e._ko_property_writers};const v=function(e,t){this.Init(e,t)};function y(e,t){var n={};return n.value=t.value,n}function b(e,t,n){var r={},i=n.optionMetadata;if(i&&"shouldWrite"===i.writeback){var o=n.option;r[o]=n.value,i.readOnly&&(e.readOnlyProperties[o]=!0)}return r}var _,C,E;function D(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.key,o=r.value;if(null!=i&&null!=o&&t(i.trim(),o.trim()))break}}function A(e,t){return function(n){var r=e.createChildContext(n.context);return i.renderTemplate(t,r,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.parentElement),null}}function x(e,t){return function(n){var r=e.createChildContext(n.data);return i.renderTemplate(t,r,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.parentElement),null}}function j(e,t,n){return"tooltip"===e&&t.template&&(t._renderer=A(n,t.template)),{tooltip:t}}function N(e,t,n){return"pieCenter"===e&&t.template&&(t._renderer=A(n,t.template)),{pieCenter:t}}function P(e,t,n){return"optionTemplate"===e&&null!==t?{optionRenderer:function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$optionContext=n});return i.renderTemplate(t,o,null,r),null}}(n,String(t))}:null}n.Object.createSubclass(v,n.Object,"oj.ComponentBinding"),n._registerLegacyNamespaceProp("ComponentBinding",v),v.create=function(e,t){if(null==e)throw new Error("Binding name is required!");for(var n=new v(e,t),r=i.bindingHandlers,o=Array.isArray(e)?e:[e],a=0;a<o.length;a++){var s=o[a];v._REGISTERED_NAMES.push(s),r[s]=n}return n},v.getDefaultInstance=function(){return v._INSTANCE},v.prototype.setupManagedAttributes=function(e){var t=e.for;t=null==t?"@global":t;var n=this._managedAttrOptions[t]||[];n.push(e),this._managedAttrOptions[t]=n},v.deliverChanges=function(){t.getGlobalChangeQueue().deliverChanges()},v.prototype.Init=function(e,t){v.superclass.Init.call(this),"string"==typeof t&&(t={componentName:t}),this._bindingOptions=t||{},this._bindingNames=Array.isArray(e)?e:[e],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},v.prototype._getBindingOptions=function(){return this._bindingOptions},v.prototype._init=function(e,t,n,r,o){return i.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},v.prototype._update=function(e,n,o,s,u){var l,d,c=[],p=0,f=a(e);function m(e){c.forEach(function(e){e.dispose()}),c=[],e&&l&&(l("destroy"),l=null),d&&(d.dispose(),d=null),f.off(v._HANDLER_NAMESPACE)}function g(n,i,a){if(null!=n){var s=f[n];if("function"==typeof s){s=s.bind(f);d=new h(function(e){var t=v.__removeDotNotationOptions(e);s("option",e);for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];s("option",i,t[i])}},t.getGlobalChangeQueue());var p=Object.keys(a).filter(function(e){return!(null==e||e===i)}),m={component:s,changeTracker:d,componentName:n,specifiedOptions:p,computeds:c,valueAccessor:function(){return a},allBindingsAccessor:o,bindingContext:u,destroyCallback:function(){l=null},readOnlyProperties:{}};l=this._initComponent(e,m)}else r.error("Component %s is not found",n)}}i.ignoreDependencies(function(){i.computed(function(){var e=i.utils.unwrapObservable(n());"object"!=typeof e&&r.error("ojComponent binding should evaluate to an object");var t,o=this._bindingOptions.componentName,a=!1;if(null==o&&null!=e){for(var s=[v._COMPONENT_OPTION,"role"],u=0;!a&&u<s.length;u++)(t=s[u])in e&&(a=!0,o=e[t]);a||r.error("component attribute is required for the ojComponent binding"),o=i.utils.unwrapObservable(o)}0===p?p=1:i.ignoreDependencies(m,this,[!0]),i.ignoreDependencies(g,this,[o,t,e])},this,{disposeWhenNodeIsRemoved:e})},this),i.utils.domNodeDisposal.addDisposeCallback(e,m.bind(this,!1))},v.prototype._initComponent=function(e,t){var r=!1,o=0,s={},u=a(e),l=t.component,d=t.componentName,c=this,p=function(n){if(n.target&&n.target===e){t.destroyCallback();var i=c._bindingOptions.beforeDestroy;i&&i(e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),v._deliverCreateDestroyEventToManagedProps(!1,s,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),r=!0,t.changeTracker.dispose(),e.removeEventListener("_ojDestroy",p)}};e.addEventListener("_ojDestroy",p);var f=v._resolveManagedAttributes(this._managedAttrOptions,t.specifiedOptions,d),h=v.getDefaultInstance();if(this!==h){var m=h._getManagedAttributes(t.specifiedOptions,d);n.CollectionUtils.copyInto(m,f),f=m}for(var g={},y=function(){var n=this._property,i=v._toJS(t.valueAccessor()[n]);if(0===o){var a=f[n];if(null!=a){s[n]=a;var u=a.init;if(null!=u)for(var d=u(n,i,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},c=Object.keys(d),p=0;p<c.length;p++){var h=c[p];g[h]=v.__cloneIfArray(d[h])}}else g[n]=v.__cloneIfArray(i)}else if(!r)if(null!=f[n]){var m=f[n].update;if(null!=m)for(var y=m(n,i,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},b=Object.keys(y),_=0;_<b.length;_++){var C=b[_];t.changeTracker.addChange(C,v.__cloneIfArray(y[C]))}}else t.readOnlyProperties[n]||t.changeTracker.addChange(n,v.__cloneIfArray(i))},b=0;b<t.specifiedOptions.length;b++)t.computeds.push(i.computed(y,{_property:t.specifiedOptions[b]}));o=1,v._registerWritebacks(u,t);var _=v.__removeDotNotationOptions(g);l(g),Object.keys(_).forEach(function(e){l("option",e,_[e])});var C=this._bindingOptions.afterCreate;return C&&C(e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),v._deliverCreateDestroyEventToManagedProps(!0,s,e,l,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),g=null,l},v.prototype._getManagedAttributes=function(e,t){return v._resolveManagedAttributes(this._managedAttrOptions,e,t)},v._resolveManagedAttributes=function(e,t,n){var r={},i=[],o=function(t,n){var r=e[t];if(null!=r)for(var a=r.length-1;a>=0;a--){var s=r[a];if(null!=s.attributes&&i.push(s),n){var u=s.use;if(null!=u){u=Array.isArray(u)?u:[u];for(var l=0;l<u.length;l++)o(u[l],!0)}}}};o(n,!0);var s=a.oj[n];if(null!=s)for(var u=Object.getPrototypeOf(s.prototype);null!=u&&"oj"===u.namespace;)o(u.widgetName,!0),u=Object.getPrototypeOf(u);if(o("@global",!1),i.length>0)for(var l=0;l<t.length;l++)for(var d=t[l],c=0;c<i.length;c++){var p=i[c];if(p.attributes.indexOf(d)>=0){r[d]={init:p.init,update:p.update,afterCreate:p.afterCreate,beforeDestroy:p.beforeDestroy};break}}return r},v._HANDLER_NAMESPACE=".oj_ko",v._registerWritebacks=function(e,t){for(var n={"^slider$":[{event:"slidechange",getter:y}],"^oj*":[{event:"ojoptionchange",getter:b.bind(void 0,t)}]},r={},i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];if(t.componentName.match(a)){for(var s=n[a],u=0;u<s.length;u++){var l=s[u];e.on(l.event+v._HANDLER_NAMESPACE,{getter:l.getter},function(n,i){if(n.target===e[0])for(var o=n.data.getter(n,i),a=t.valueAccessor(),s=Object.keys(o),u=0;u<s.length;u++){var l=s[u];t.changeTracker.suspend(l);try{if(t.specifiedOptions.indexOf(l)>=0){var d=a[v._OPTION_MAP],c=null==d?null:d[l],p=a[l];v._writeValueToProperty(l,p,o[l],c,t.bindingContext,r)}}finally{t.changeTracker.resume(l)}}})}break}}},v._writeValueToProperty=function(e,n,r,o,a,s){if(null!=n&&i.isObservable(n))i.isWriteableObservable(n)&&n(v.__cloneIfArray(r));else{if(!(e in s)){var u=null,l=m.getPropertyWriterExpression(o);null!=l&&(u=t.createEvaluator(l,a)),s[e]=u}var d=s[e];if(d)m.getWriter(d(a))(v.__cloneIfArray(r))}},v._toJS=function(e){var t=i.utils.unwrapObservable(e);return(Array.isArray(t)||n.CollectionUtils.isPlainObject(t))&&t.ojConvertToJS&&(t=i.toJS(t)),t},v.__cloneIfArray=function(e){return Array.isArray(e)&&(e=e.slice()),e},v.__removeDotNotationOptions=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];i.indexOf(".")>=0&&(t[i]=e[i],delete e[i])}return t},v._deliverCreateDestroyEventToManagedProps=function(e,t,n,r,i,o,a){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u],d=t[l],c=e?d.afterCreate:d.beforeDestroy;c&&c(l,n,r,i,o,a)}},v.__getKnockoutVersion=function(){return i.version},v._isNameRegistered=function(e){return v._REGISTERED_NAMES.indexOf(e)>=0},v._REGISTERED_NAMES=[],v._COMPONENT_OPTION="component",v._OPTION_MAP="_ojOptions",_="cleanExternalData",C=i.utils.domNodeDisposal,E=C[_],C[_]=function(e){var t=o?o.setInKoCleanExternal:null;t&&t(e);try{E(e)}finally{t&&t(null)}},v._INSTANCE=v.create(["ojComponent","jqueryUI"]),t.addPostprocessor({getBindingAccessors:function(e,r,o,a){if(null==o)return null;var s=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(v._isNameRegistered(r))return r}return null}(o);null!=s&&(o=function(e,r,o,a,s){var u=function(e,n,r,o){var a=null,s=t.getBindingsString(e,r,o),u=i.jsonExpressionRewriting.parseObjectLiteral(s),l=null;D(u,function(e,t){return e===n&&(l=t,!0)}),null!=l&&0===l.indexOf("{")&&(a=i.jsonExpressionRewriting.parseObjectLiteral(l));return{attrList:a,bindingExpr:l}}(e,r,o,a),l=u.attrList;if(null==l)return s;var d={};return D(l,function(e,t){d[e]=t}),(s=n.CollectionUtils.copyInto({},s))[r]=function(e,n,r){var i=function(){var r={};return Object.keys(n).forEach(function(i){var o=n[i],a=t.createEvaluator(o,e).bind(null,e);Object.defineProperty(r,i,{get:a,enumerable:!0})}),Object.defineProperty(r,v._OPTION_MAP,{value:n}),r};return i.toString=function(){return r},i}(a,d,u.bindingExpr),s}(e,s,a,r,o));return o}}),t.addPostprocessor({nodeHasBindings:function(e,t){return n.BaseCustomElementBridge?t||1===e.nodeType&&s.CustomElementUtils.isElementRegistered(e.nodeName):t},getBindingAccessors:function(e,t,n){if(1===e.nodeType){var r=e.nodeName;s.CustomElementUtils.isElementRegistered(r)&&((n=n||{})._ojCustomElement=function(){const e=s.CustomElementUtils.isComposite(r),t=s.CustomElementUtils.isVComponent(r);return{skipThrottling:e||t}})}return n}}),a.widget("oj._ojDetectCleanData",{options:{cleanParent:!1},_destroy:function(){var e=i.utils.domNodeDisposal,t=e.cleanExternalData;e.cleanExternalData=function(){};try{this.options.cleanParent&&null!=this.element[0].parentNode?i.cleanNode(this.element[0].parentNode):i.cleanNode(this.element[0])}finally{e.cleanExternalData=t}}}),v.getDefaultInstance().setupManagedAttributes({attributes:["tooltip"],init:function(e,t,n,r,i,o,a){return j(e,t,a)},update:function(e,t,n,r,i,o,a){return j(e,t,a)},for:"tooltipOptionRenderer"}),function(){for(var e=["ojChart","ojDiagram","ojNBox","ojPictoChart","ojSunburst","ojTagCloud","ojThematicMap","ojTreemap","ojDialGauge","ojLedGauge","ojRatingGauge","ojSparkChart","ojStatusMeterGauge","ojGantt"],t=0;t<e.length;t++)v.getDefaultInstance().setupManagedAttributes({for:e[t],use:"tooltipOptionRenderer"})}(),v.getDefaultInstance().setupManagedAttributes({attributes:["pieCenter"],init:function(e,t,n,r,i,o,a){return N(e,t,a)},update:function(e,t,n,r,i,o,a){return N(e,t,a)},for:"ojChart"}),v.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(e,t,n,r,i,o,a){var s=P(e,t,a);if(null!==s)return s},update:function(e,t,n,r,i,o,a){return P(e,t,a)},for:"ComboboxOptionRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojCombobox",use:"ComboboxOptionRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojSelect",use:"ComboboxOptionRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojInputSearch",use:"ComboboxOptionRenderer"}),i.bindingHandlers.ojContextMenu={update:function(e,t,r,s,u){var l,d,c=a(e),p=!1,f=!1,h=null;c.off(".ojContextMenu").removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",b,!0),c[0].removeEventListener("touchstart",x,{passive:!1}),clearTimeout(l);var m=c.data("_ojLastContextMenu");m&&D(m.selector,m.id).off(".ojContextMenu");var g=!1,v=i.utils.unwrapObservable(t()),y=a.isPlainObject(v)?e.getAttribute("contextmenu"):null;function b(e){if(p)return e.preventDefault(),e.stopPropagation(),p=!1,!1}function _(e){121===e.keyCode&&e.shiftKey&&E().is(":visible")&&e.preventDefault()}function C(){var e=n.Components.__GetWidgetConstructor(E()[0],"ojMenu"),t=e&&e("instance");if(!t)throw new Error('ojContextMenu binding bound to "'+(y||v)+'", which does not reference a valid JET Menu.');return g||(t.widget().on("ojclose.ojContextMenu",function(){document.removeEventListener("keyup",_)}),g=!0),t}function E(){return D(v,y)}function D(e,t){return t?a(document.getElementById(t)):a(e).first()}function A(e,t,n){p=n;var r=C();if(p&&c.one("touchend.ojContextMenu",function(){r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},50)}),"touchstart"===h&&"contextmenu"===e.type||"contextmenu"===h&&"touchstart"===e.type)return h=null,void clearTimeout(d);if(!e.isDefaultPrevented()){var i={launcher:c,initialFocus:"menu",position:{mouse:{my:"start top",at:"start bottom",of:e},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[t]};r.__openingContextMenu=!0,r.open(e,i),r.__openingContextMenu=!1,r.widget().is(":visible")&&(e.preventDefault(),document.addEventListener("keyup",_),"touchstart"!==e.type&&"contextmenu"!==e.type||(h=e.type,d=setTimeout(function(){h=null},300)))}}function x(e){if("touchstart"===e.type&&(e=a.Event(e)),"mousedown"!==e.type||!C().__contextMenuPressHoldJustEnded())return p=!1,"touchstart"===e.type&&(f=!0,l=setTimeout(A.bind(void 0,e,"touch",!0),750)),!0}c.data("_ojLastContextMenu",{selector:v,id:y}),e.addEventListener("click",b,!0),c[0].addEventListener("touchstart",x,{passive:!1}),c.on("mousedown.ojContextMenu keydown.ojContextMenu ",x).on("touchend.ojContextMenu touchcancel.ojContextMenu",function(){return f=!1,clearTimeout(l),!0}).on("keydown.ojContextMenu contextmenu.ojContextMenu",function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&A(e,f?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}).addClass(o.isTouchSupported()?"oj-menu-context-menu-launcher":"")}};const O=function(e,n,o){var a=function(){if(o)return null;return new h(function(t){for(var n=Object.keys(t),r=0;r<n.length;r++){g(n[r])}try{e.setProperties(t)}finally{for(var i=0;i<n.length;i++){y(n[i])}}},t.getGlobalChangeQueue())}(),u={},l={},d={},c={};function p(e){return e.$current||e.$data}function f(t,n,r){var i=u[n];if(i||(i=function(e){var t,n=p(e),r=function(r){t&&t(r,n,e)};return r.setListener=function(e){t=e},r}(t),u[n]=i,e.addEventListener(n,i)),!(null==r||r instanceof Function)){var o=s.AttributeUtils.eventTypeToEventListenerProperty(n),a=`Invalid type '${typeof r}' found for attribute '${s.AttributeUtils.propertyNameToAttribute(o)}'. Expected value of type 'function'."`;if(s.CustomElementUtils.isElementRegistered(e.tagName)){s.CustomElementUtils.getElementState(e).rejectBindingProvider(a)}throw new s.JetElementError(e,a)}i.setListener(r)}function g(e){var t=c[e]||0;t+=1,c[e]=t}function y(e){var t=c[e];t?(t-=1,c[e]=0===t?null:t):r.error("Property count undefrlow")}this.setupPropertyBinding=function(o,u,h,b,_){if(!h)return;if(!function(e,t){var n=e.split("."),r=t;n.shift();for(var i=0;i<n.length&&(r=r.properties);i++)r=r[n[i]];return r}(u,h))return;var C=l[u];C&&(C.dispose(),l[u]=null);var E=d[u];if(E&&(e.removeEventListener(u+"Changed",E),d[u]=null),h._domListener){var D=s.AttributeUtils.eventListenerPropertyToEventType(u);f(n,D,null)}let A,x,j;if(void 0===o){const e=void 0===_?null:(n.$provided||{})[_];e&&(A=()=>e())}else{const e=s.AttributeUtils.getExpressionInfo(o);x=e.expr,x&&(A=t.createEvaluator(x,n),j=e.downstreamOnly)}if(A){if(!h.readOnly){var N=!0;i.ignoreDependencies(function(){l[u]=i.computed(function(){var t,r,o,l=A(n),d=i.utils.unwrapObservable(l);if(h._domListener){var c=s.AttributeUtils.eventListenerPropertyToEventType(u);f(n,c,d)}else Array.isArray(d)&&(d=d.slice()),h._eventListener&&d&&d instanceof Function&&(r=d,o=p(t=n),d=function(e){r(e,o,t)}),!N&&a?a.addChange(u,d):function(t,n){g(t);try{e.setProperty(t,n)}catch(t){throw s.CustomElementUtils.getElementState(e).rejectBindingProvider(t),t}finally{y(t)}}(u,d),N&&b&&b(d)})}),N=!1}void 0!==x&&h.writeback&&!j&&(d[u]=function(o,a,s){var u=o.split("."),l=u[0],d=function(e){if(!function(e){return c[e]}(l)){var d,p=!1;i.ignoreDependencies(function(){for(var r=e.detail.value,o=1;o<u.length;o++){r=r[u[o]]}var l=s(n);if(i.isObservable(l))i.isWriteableObservable(l)?(l(v.__cloneIfArray(r)),p=!0):d="the observable is not writeable";else{var c=m.getPropertyWriterExpression(a);if(null!=c){var f=t.createEvaluator(c,n);m.getWriter(f(n))(v.__cloneIfArray(r)),p=!0}else d="the expression is not a valid update target"}}),p||d&&r.info("The expression '%s' for property '%s' was not updated because %s.",a,o,d)}};return e.addEventListener(l+"Changed",d),d}(u,x,A))}},this.teardown=function(){var t,n=Object.keys(l);for(t=0;t<n.length;t++){var r=l[n[t]];r&&r.dispose()}for(l={},n=Object.keys(d),t=0;t<n.length;t++){var i=n[t].split(".")[0];e.removeEventListener(i+"Changed",d[i])}for(d={},n=Object.keys(u),t=0;t<n.length;t++){var o=n[t];e.removeEventListener(o,u[o])}u={},a&&a.dispose()}},w=function(){this._resolveWhenChildrenBindingsApplied=function(e,t){var n=this._getChildrenBindingsAppliedPromises(e);if("none"===t||0===n.length)s.CustomElementUtils.getElementState(e).resolveBindingProvider(this);else{for(var r=[];n.length>0;){var i=n.shift();("nearestCustomElement"===t||"immediate"===t&&!0===i.immediate)&&r.push(i.promiseCallback)}Promise.all(r).then(function(){this._resolveWhenChildrenBindingsApplied(e,t)}.bind(this))}},this._getChildrenBindingsAppliedPromises=function(e,t){return!e._whenChildrenBindingsApplied&&t&&Object.defineProperty(e,"_whenChildrenBindingsApplied",{value:[],enumerable:!1}),e._whenChildrenBindingsApplied||[]},this.__RegisterBindingAppliedPromiseForChildren=function(e,t){var n=null;if(e){var r=new Promise(function(e){n=e});this._getChildrenBindingsAppliedPromises(e,!0),e._whenChildrenBindingsApplied.push({immediate:t,promiseCallback:r})}return n},this.__NotifyBindingsApplied=function(e){var t=s.CustomElementUtils.getElementState(e).getTrackChildrenOption();this._resolveWhenChildrenBindingsApplied(e,t)},this.__NotifyBindingsDisposed=function(e){s.CustomElementUtils.getElementState(e).disposeBindingProvider(e)},this.__GetThrottlePromise=function(){return t.getGlobalChangeQueue().getThrottlePromise()},this.__ExtendBindingContext=function(e,n,r,i,o){return t.extendBindingContext(e,n,r,i,o)},this.__ContextFor=function(e){return e.__ojBindingContext?e.__ojBindingContext:i.contextFor(e)},this.__UnwrapObservable=function(e){return i.utils.unwrapObservable(e)},this.__IsObservable=function(e){return i.isObservable(e)},this.__KoComputed=function(e,t,n){return i.computed(e,t,n)},this.__KoIsInitial=function(){return i.computedContext.isInitial()},this.__CleanNode=function(e){i.cleanNode(e)}};function T(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$key=r.key,e.$metadata=r.metadata,e.$headerContext=r});return k(r,t,i,o,n),null}}function I(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$keys=r.keys,e.$metadata=r.metadata,e.$cellContext=r,e.$cell=r.cell});return k(r,t,i,o,n),null}}function k(e,t,n,r,o){var s=function(e,t){var n=t[e];null==n&&(n=i.utils.parseHtmlFragment(document.getElementById(e).innerHTML,document),t[e]=n);return n.map(function(e){return e.cloneNode(!0)})}(function(e,t){if("function"==typeof e)return e(t);return e}(t,e),o);i.virtualElements.setDomNodeChildren(n,s),i.applyBindingsToDescendants(r,n);for(var u=0;u<n.childNodes.length;u++)if(1===n.childNodes[u].nodeType){a(n.childNodes[u])._ojDetectCleanData({cleanParent:!0});break}}function B(e,t,n){return"template"===e?{_templateFunction:x(n,t)}:null}w.getInstance=function(){return w._instance},w._instance=new w,oj._registerLegacyNamespaceProp("_KnockoutBindingProvider",w),function(){i.bindingHandlers._ojCustomElement={after:["attr"],init:function(o,a,l,d,c){var p,f;const h=s.CustomElementUtils.getElementProperties(o),{provide:m,consume:g,cleanup:v}=function(e,i){const o=Object.create(null),a=Object.create(null),l=Object.create(null),d=u.getPropagationMetadataViaCache(e.localName,i);if(null!==d)for(const[u,[c,p]]of d){if(void 0!==c){const a=s.AttributeUtils.propertyNameToAttribute(u),d=e.hasAttribute(a),p=[],f=[];if(c.forEach(e=>{const t=e.name;if(void 0===t)throw new Error("name attribute for the binding/provide metadata is required!");const r=e.default,i=n(e.transform,r);p.push(i),f.push({name:t,obs:i})}),f.length>0){const n=r(p);o[u]={set:n,vars:f};const c=t(n),h=u+"Changed";if(e.addEventListener(h,c),l[h]=c,d){const t=e.getAttribute(a);s.AttributeUtils.getExpressionInfo(t).expr||n(s.AttributeUtils.attributeToPropertyValue(e,a,t,i[u]))}}}if(void 0!==p){const e=p.name;if(void 0===e)throw new Error("'name' property on the binding/consume metadata is required!");a[u]=e}}return{provide:o,consume:a,cleanup:function(){Object.keys(l).forEach(t=>e.removeEventListener(t,l[t]))}}}(o,h);function y(){p&&(p.teardown(),p=null),f&&(o.removeEventListener(e,f),f=null),w.getInstance().__NotifyBindingsDisposed(o)}i.computed(function(){var t=a().skipThrottling;const n=i.computedContext.isInitial();n||y(),function(t,n){p=new O(o,c,t);var r={_domListener:!0};s.CustomElementUtils.getElementState(o).beginApplyingBindings();for(var i=o.attributes,a=0;a<i.length;a++){var u=i[a],l=s.AttributeUtils.attributeToPropertyName(u.nodeName);let e,t;const o=s.AttributeUtils.isEventListenerProperty(l)&&!h[l];if(!o){t=l.split(".")[0];const r=m[t];e=n&&r?r.set:void 0}p.setupPropertyBinding(u.value,l,o?r:h[t],e)}Object.keys(g).forEach(e=>{if(!o.hasAttribute(s.AttributeUtils.propertyNameToAttribute(e))){const t=m[e],r=n&&t?t.set:void 0;p.setupPropertyBinding(void 0,e,h[e],r,g[e])}}),f=function(e){var t=e.detail,n=t.attribute,i=s.AttributeUtils.attributeToPropertyName(n),o=s.AttributeUtils.isEventListenerProperty(i)&&!h[i]?r:h[i.split(".")[0]];p.setupPropertyBinding(t.value,i,o,void 0,g[i])},o.addEventListener(e,f)}(t,n)},null,{disposeWhenNodeIsRemoved:o}),i.utils.domNodeDisposal.addDisposeCallback(o,function(){y(),v()});const b=function(e,t){let n=e;const r=Object.keys(t);if(r.length>0){const i=e.$provided,o=void 0===i?{}:Object.assign({},i);r.forEach(e=>{t[e].vars.forEach(e=>{o[e.name]=e.obs})}),n=e.extend({$provided:o})}return n}(c,m);return i.applyBindingsToDescendants(b,o),w.getInstance().__NotifyBindingsApplied(o),{controlsDescendantBindings:!0}}};const e="attribute-changed";function t(e){return t=>e(t.detail.value)}function n(e,t){const n=i.observable(t);return e?i.pureComputed({write:t=>n(e.hasOwnProperty(t)?e[t]:t),read:()=>n()}):n}function r(e){return t=>e.forEach(e=>e(t))}}(),v.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=T(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=T(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=T(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=T(a,h))}return{header:t}}if("cell"===e){var m=t.template;return null!=m&&(t.renderer=I(a,m)),{cell:t}}},update:function(e,t,n,r,i,o,a){if("header"===e){var s=t.row;if(null!=s){var u=s.template;null!=u&&(s.renderer=T(a,u))}var l=t.column;if(null!=l){var d=l.template;null!=d&&(l.renderer=T(a,d))}var c=t.rowEnd;if(null!=c){var p=c.template;null!=p&&(c.renderer=T(a,p))}var f=t.columnEnd;if(null!=f){var h=f.template;null!=h&&(f.renderer=T(a,h))}return{header:t}}if("cell"===e){var m=t.template;return null!=m&&(t.renderer=I(a,m)),{cell:t}}return null},for:"ojDataGrid"}),v.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(e,t,n,r,i,o,a){return B(e,t,a)},update:function(e,t,n,r,i,o,a){return B(e,t,a)},for:"ojDiagram"}),function(){function e(e,t,i,o){var a=r(e.getAttribute(i),o);if(a)return n(e,t,"ko "+t+":"+a)}function n(e,t,n){for(var r=e.tagName.toLowerCase(),i=r,o=e.attributes,a=0;a<o.length;a++){var s=o[a];i+=" ",i+=s.name,i+="='",i+=s.value,i+="'"}var u=e.parentNode,l=document.createComment(i),d=document.createComment("/"+r);u.insertBefore(l,e);var c=document.createComment(n),p=document.createComment("/ko");u.insertBefore(c,e);var f,h=[l,c];if("if"===t)for(;e.childNodes.length>0;)f=e.childNodes[0],u.insertBefore(f,e),h.push(f);else if("_ojBindForEach_"===t)for(;e.childNodes.length>0;)f=e.childNodes[0],u.insertBefore(f,e),h.push(f);return u.insertBefore(p,e),h.push(p),u.replaceChild(d,e),h.push(d),h}function r(e,t){if(null!=e){var n=s.AttributeUtils.getExpressionInfo(e).expr;return null==n&&(n=t?"'"+e+"'":e),n}return null}function o(e,n,r,o){var a,u=s.AttributeUtils.getExpressionInfo(r).expr;if(null==u){var l=s.AttributeUtils.coerceValue(n,"class",r,"any");a=function(){return Array.isArray(l)?l.join(" "):l}}else{var d=t.createEvaluator(u,o).bind(null,o);a=i.pureComputed(function(){var e=i.unwrap(d());return Array.isArray(e)?e.join(" "):e})}e.css=a}function a(e,n,r,i,o){var a=s.AttributeUtils.getExpressionInfo(r).expr;return null==a?function(){return"object"===o?s.AttributeUtils.coerceValue(e,n,r,o):r}:t.createEvaluator(a,i).bind(null,i)}function u(e){return function(){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]()}return t}}function l(e){if(1!==e.nodeType)return{};if(!e._ojbindingsobj){for(var t={},n=[],r=[],i=[],o=e.attributes,a=0;a<o.length;a++){var u=o[a],l=d(u.name);l&&("style"===l?t._STYLE_BIND=l:"style."===l.substring(0,6)?r.push(l):n.push(l)),s.CustomElementUtils.isElementRegistered(e.nodeName)||"on-"!==u.name.substring(0,3)||i.push(u)}if(r.length){if(t._STYLE_BIND)throw new Error("Cannot have both style and style.* data bound attributes on "+e.tagName+" with id "+e.id);t._STYLE_BIND=r}n.length&&(t._ATTR_BIND=n),i.length&&(t._EVENT_BIND=i),Object.defineProperty(e,"_ojbindingsobj",{value:t})}return e._ojbindingsobj}function d(e){return e&&":"===e.charAt(0)?e.slice(1):null}function c(e){return":"+e}t.registerPreprocessor("oj-bind-text",function(t){return e(t,"text","value",!0)}),t.registerPreprocessor("oj-bind-if",function(t){return e(t,"if","test",!1)}),t.registerPreprocessor("oj-bind-for-each",function(e){var t=e.getAttribute("data"),i=s.AttributeUtils.getExpressionInfo(t).expr;if(!i)try{var o=JSON.parse(t);if(!Array.isArray(o))throw new Error("got value "+t);i=t}catch(e){throw new Error("The value on the oj-bind-for-each data attribute should be either a JSON array or an expression : "+e)}var a=r(e.getAttribute("as"),!0);if(!i)return;var u="ko _ojBindForEach_:{data:"+i;return n(e,"_ojBindForEach_",u+=a?",as:"+a+"}":"}")}),t.addPostprocessor({nodeHasBindings:function(e,t){var n=l(e);return t||null!=n._ATTR_BIND||null!=n._STYLE_BIND||null!=n._EVENT_BIND},getBindingAccessors:function(e,t,n){if(1===e.nodeType){n=n||{};var r,d,p=l(e),f=p._STYLE_BIND;if(f){if(n.style)throw new Error("Cannot have both style data-bind and JET style binding on "+e.tagName+" with id "+e.id);if("style"===f)n[f]=a(e,f,e.getAttribute(c(f)),t,"object");else{var h={};for(r=0;r<f.length;r++){d=f[r],h[s.AttributeUtils.attributeToPropertyName(d.substring(6))]=a(e,d,e.getAttribute(c(d)),t,"string")}n.style=u(h)}}var m=p._ATTR_BIND;if(m){if(n.attr)throw new Error("Cannot have both attr data-bind and JET attribute binding on "+e.tagName+" with id "+e.id);var g={};for(r=0;r<m.length;r++)"class"===(d=m[r])?o(n,e,e.getAttribute(c(d)),t):g[d]=a(e,d,e.getAttribute(c(d)),t,"string");n.attr=u(g)}var v=p._EVENT_BIND;if(v){var y=new O(e,t,!0);for(r=0;r<v.length;r++){var b=v[r],_=s.AttributeUtils.attributeToPropertyName(b.nodeName);y.setupPropertyBinding(b.value,_,{_domListener:!0})}i.utils.domNodeDisposal.addDisposeCallback(e,function(){y&&(y.teardown(),y=null)})}}return n}})}(),
/**
   * @license
   * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   *
   * @license
   * Knockout Fast Foreach v0.6.0 (2016-07-28T11:02:54.197Z)
   * By: Brian M Hunt (C) 2015 | License: MIT
   *
   * Adds `fastForEach` to `ko.bindingHandlers`.
   *
   * Modification notice: The code is obtained from https://github.com/brianmhunt/knockout-fast-foreach
   * and modified by Oracle JET team to be included into Oracle JET project.
   * @ignore
   */
function(){var e=document&&"function"==typeof document.createDocumentFragment;function t(e,t,n){return{status:"added",value:e,index:t,key:n}}function n(e){return{status:"deleted",value:{},index:e}}function o(e,t){var n;if(e){var r=e.length;n=new Array(r);for(var i=0;i<r;i++)n[i]=t(e[i],i,e)}return n}function a(e,n,r){this.element=n.element||e,i.applyBindingsToDescendants(r,this.element),function(e){for(var t,n,r=i.virtualElements.childNodes(e),o=0;o<r.length;o++){var a=r[o];if(1===a.nodeType&&"template"===a.nodeName.toLowerCase()){var u=s.CustomElementUtils.getSlotAssignment(a);if(t||u&&""!==u){if(n||"noData"!==u){var l;switch(u){case"":l="Multiple default templates found: oj-bind-for-each requires a single default template element as its direct child";break;case"noData":l="Multiple noData templates found: oj-bind-for-each requires a single noData template element as its direct child";break;default:l="Unknown template slot detected - "+u+": oj-bind-for-each supports a single default template and a single noData template"}throw new Error(l)}n=a}else t=a}}if(!t)throw new Error("Default template not found: oj-bind-for-each requires a single default template element as its direct child");e._templateNode=t,e._noDataTemplateNode=n}(this.element),this.element._templateNode.__ojBindingContext=i.contextFor(this.element._templateNode),this.data=n.data,this.as=n.as,this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this.headDataPromise=null,this.tailDataPromise=null,i.virtualElements.emptyNode(this.element),this._initChildrenBindingsAppliedPromise();var a=i.unwrap(this.data);a.fetchFirst?(this.currentDataProvider=a,this.fetchData()):this.onArrayChange(o(a,t)),this.addSubscriptions()}a.PENDING_DELETE_INDEX_KEY="_ko_ffe_pending_delete_index",a.prototype.addSubscriptions=function(){var e=i.isObservable(this.data);this.currentDataProvider?(this.dataMutateHandler=this.handleDataMutateEvent.bind(this),this.dataRefreshHandler=this.handleDataRefreshEvent.bind(this),this.currentDataProvider.addEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.addEventListener("refresh",this.dataRefreshHandler),e&&(this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))):e&&(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeArraySubs=this.data.subscribe(this.onArrayDataChange,this,"arrayChange"),this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))},a.prototype.removeSubscriptions=function(){this.changeSubs&&this.changeSubs.dispose(),this.changeArraySubs&&this.changeArraySubs.dispose(),this.currentDataProvider&&(this.currentDataProvider.removeEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.removeEventListener("refresh",this.dataRefreshHandler))},a.prototype.onArrayDataChange=function(e){this.arrayChangeSet=e},a.prototype.onDataChange=function(e){this.arrayChangeSet?(this.onArrayChange(this.arrayChangeSet),this.arrayChangeSet=null):(this.setData({data:this.data,dataProvider:e.fetchFirst?e:null}),this.recreateContent(e))},a.prototype.recreateContent=function(e){this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],i.virtualElements.emptyNode(this.element),e.fetchFirst?this.fetchData():this.onArrayChange(o(e,t))},a.prototype.registerBusyState=function(){var e=this.element.parentNode;return d.getContext(e).getBusyContext().addBusyState({description:"oj-bind-for-each binding on a node with the Id "+e.id+"is loading data."})},a.prototype._initChildrenBindingsAppliedPromise=function(){var e=this.element._templateNode.__ojBindingContext.$current,t=e?{_nearestCustomParent:e._nearestCustomParent,_immediate:e._immediate}:null,n=function(e,t){for(var n=e.parentNode;n&&!s.ElementUtils.isValidCustomElementName(n.localName);)n=n.parentNode;return n||(n=t?t._nearestCustomParent:null),n}(this.element,t),r=function(e,t,n){var r=!1,i=!!n;return e.parentNode===t?r=!0:i&&!e.parentNode.parentNode&&(r=n._immediate),r}(this.element,n,t);this.trackingContext={_nearestCustomParent:n,_immediate:r},this._childrenBindingsPromiseResolver=w.getInstance().__RegisterBindingAppliedPromiseForChildren(n,r)},a.prototype._resolveChildrenBindingsAppliedPromise=function(){this._childrenBindingsPromiseResolver&&(this._childrenBindingsPromiseResolver(),this._childrenBindingsPromiseResolver=null)},a.prototype.resetChainIfCompleted=function(e){e===this.tailDataPromise&&(this.headDataPromise=null,this.tailDataPromise=null)},a.prototype.promiseRejectHelper=function(e,t,n){if(t(),this.resetChainIfCompleted(n),!e._CAUGHT_PROMISE_REJECTION&&"oj-bind-for-each: abandoned promise"!==e.message){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}r.info(e)},a.prototype.fetchData=function(){var e,n,r,i=this.registerBusyState(),o=this.currentDataProvider.fetchFirst({size:-1})[Symbol.asyncIterator](),a=function(s,u,l){return function(d){if(l.headDataPromise===r){for(var c=d.value,p=s.length,f=0;f<c.metadata.length&&f<c.data.length;f++)s.push(t(c.data[f],p,c.metadata[f].key)),p+=1;d.done?(u.call(l,s),i(),e(),l.resetChainIfCompleted(r)):o.next().then(a(s,u,l),function(e){i(),n(e),l.resetChainIfCompleted(r)})}else i(),n(new Error("oj-bind-for-each: abandoned promise"))}};(r=new Promise(function(t,s){e=t,n=s,o.next().then(a([],this.onArrayChange,this),function(e){i(),n(e),this.resetChainIfCompleted(r)}.bind(this))}.bind(this))).catch(function(e){if("oj-bind-for-each: abandoned promise"!==e.message){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}}),this.headDataPromise=r,this.tailDataPromise=r},a.prototype.getIndexesForEvent=function(e,t){var n,r=[];if(Array.isArray(e))for(n=0;n<e.length;n++)r.push(e[n]);else if(t){var i=Array.isArray(t)?t.length:t.size,o=new l(t),a=new Map,s=0;for(n=0;n<this.firstLastNodesList.length&&s<i;n++){var u=this.firstLastNodesList[n].key,d=o.get(u);d!==o.NOT_A_KEY&&(a.set(d,n),s+=1)}t.forEach(function(e){r.push(a.get(e))})}return r},a.prototype.handleDataMutateEvent=function(e){var t,n,r={},i=this;this.tailDataPromise?(t=this.registerBusyState(),(n=this.tailDataPromise.then(function(){return t(),i.getDataMutationHelper(e,r)})).catch(function(e){i.promiseRejectHelper(e,t,n)})):(n=this.getDataMutationHelper(e,r),this.headDataPromise=n),this.tailDataPromise=n,r.head=this.headDataPromise,r.current=n},a.prototype.getDataMutationHelper=function(e,r){var i,o,a=e.detail.add,s=e.detail.remove,u=e.detail.update,l=a&&a.data,d=u&&u.data,c=()=>{if(d){var e=0,r=[],i=this.getIndexesForEvent(u.indexes,u.keys);u.keys.forEach(function(o){if(void 0!==i[e]){var a=d[e];r.push(n(i[e])),r.push(t(a,i[e],o))}e+=1}),this.onArrayChange(r)}},p=()=>{if(s){var e=this.getIndexesForEvent(s.indexes,s.keys);e=e.filter(function(e){return void 0!==e}),this.onArrayChange(e.map(n))}},f=()=>{if(l){var e=this.getIndexesForEvent(a.indexes,a.addBeforeKeys?a.addBeforeKeys:a.afterKeys),n=[],r=0;a.keys.forEach(function(i){var o=l[r];n.push(t(o,function(t){var n=e.length>t?e[t]:this.firstLastNodesList.length+t;return void 0===n?this.firstLastNodesList.length:n}(r),i)),r+=1},this),this.onArrayChange(n)}};if(u&&!Array.isArray(d)||a&&!Array.isArray(l)){var h=u&&!Array.isArray(d)?this.currentDataProvider.fetchByKeys({keys:u.keys}):Promise.resolve(),m=a&&!Array.isArray(l)?this.currentDataProvider.fetchByKeys({keys:a.keys}):Promise.resolve();i=this.registerBusyState(),(o=Promise.all([h,m]).then(e=>{if(r.head!==this.headDataPromise)throw i(),new Error("oj-bind-for-each: abandoned promise");var t=e[0];t&&t.results.size>0&&(d=[...u.keys].map(e=>t.results.get(e).data)),c(),p();var n=e[1];n&&n.results.size>0&&(l=[...a.keys].map(e=>n.results.get(e).data)),f(),i(),this.resetChainIfCompleted(r.current)})).catch(e=>{this.promiseRejectHelper(e,i,r.current)})}else c(),p(),f();return o},a.prototype.handleDataRefreshEvent=function(){this.recreateContent(this.currentDataProvider)},a.prototype._addNoData=function(){0===this.firstLastNodesList.length&&this.element._noDataTemplateNode&&(this._noDataNodes=c.execute(this.element,this.element._noDataTemplateNode,{},null),this.insertAllAfter(this._noDataNodes))},a.prototype._removeNoData=function(){this._noDataNodes&&(this._noDataNodes.forEach(e=>{c.clean(e),e.parentNode.removeChild(e)}),this._noDataNodes=null)},a.prototype.onArrayChange=function(e){this._removeNoData();for(var t={added:[],deleted:[]},n=0,r=e.length;n<r;n++)if(t.added.length&&"added"===e[n].status){var i=t.added[t.added.length-1];(i.isBatch?i.index+i.values.length-1:i.index)+1===e[n].index?(i.isBatch||(i={isBatch:!0,status:"added",index:i.index,values:[i.value],keys:[i.key]},t.added.splice(t.added.length-1,1,i)),i.values.push(e[n].value),i.keys.push(e[n].key)):t[e[n].status].push(e[n])}else t[e[n].status].push(e[n]);t.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,t.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,t.added),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,this.processQueue()),this._addNoData(),this._resolveChildrenBindingsAppliedPromise()},a.prototype.processQueue=function(){var e=this,t=9007199254740991;i.utils.arrayForEach(this.changeQueue,function(n){"number"==typeof n.index&&(t=Math.min(t,n.index)),e[n.status](n)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes(t),this.changeQueue=[]},a.prototype.added=function(e){for(var t=e.index,n=e.isBatch?e.values:[e.value],r=e.isBatch?e.keys:[e.key],o=this.getLastNodeBeforeIndex(t),a=[],s=0,u=n.length;s<u;++s){var l,d,p=this.getPendingDeleteFor(n[s]);p&&p.nodesets.length?(l=p.nodesets.pop(),d=p.currentChildContext):(d={data:n[s],index:t+s,observableIndex:i.observable()},Object.defineProperties(d,{_nearestCustomParent:{value:this.trackingContext._nearestCustomParent,enumerable:!1},_immediate:{value:this.trackingContext._immediate,enumerable:!1}}),l=c.execute(this.element,this.element._templateNode,d,this.as)),a.push.apply(a,Array.prototype.slice.call(l)),this.firstLastNodesList.splice(t+s,0,{first:l[0],last:l[l.length-1],key:r?r[s]:null,currentChildContext:d})}this.insertAllAfter(a,o)},a.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},a.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},a.prototype.insertAllAfter=function(t,n){var r,o,a=this.element;if(1===t.length)i.virtualElements.insertAfter(a,t[0],n);else if(e){var s=document.createDocumentFragment();for(o=0,r=t.length;o!==r;++o)s.appendChild(t[o]);i.virtualElements.insertAfter(a,s,n)}else for(o=t.length-1;o>=0;--o){var u=t[o];if(!u)break;i.virtualElements.insertAfter(a,u,n)}return t},a.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},a.prototype.getPendingDeleteFor=function(e){var t=e&&e._ko_ffe_pending_delete_index;return void 0===t?null:this.pendingDeletes[t]},a.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e._ko_ffe_pending_delete_index=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},a.prototype.deleted=function(e){if(this.shouldDelayDeletion(e.value)){var t=this.getOrCreatePendingDeleteFor(e.value);t.nodesets.push(this.getNodesForIndex(e.index)),t.currentChildContext=this.firstLastNodesList[e.index].currentChildContext}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)},a.prototype.removeNodes=function(e){if(e.length){!function(){for(var t=e[0].parentNode,n=e.length-1;n>=0;--n)c.clean(e[n]),t.removeChild(e[n])}()}},a.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!==t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data._ko_ffe_pending_delete_index&&delete n.data._ko_ffe_pending_delete_index}this.pendingDeletes=[]},a.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},a.prototype.updateIndexes=function(e){for(var t=e,n=this.firstLastNodesList.length;t<n;++t){var r=this.firstLastNodesList[t].currentChildContext;r&&r.observableIndex&&r.observableIndex(t)}},a.prototype.getData=function(){return{data:this.data,dataProvider:this.currentDataProvider}},a.prototype.setData=function(e){this.removeSubscriptions(),this.data=e.data,this.currentDataProvider=e.dataProvider,this.addSubscriptions()},i.bindingHandlers._ojBindForEach_={init:function(e,t,n,r,o){var s,u;return i.computed(function(){if(u=t(),s){var e,n,r=u.data,o=s.getData().data;if(i.ignoreDependencies(function(){e=i.unwrap(o),n=i.unwrap(r)}),s.setData({data:r,dataProvider:n.fetchFirst?n:null}),Array.isArray(e)&&Array.isArray(n)){var a=i.utils.compareArrays(e,n,{sparse:!0,dontLimitMoves:!0});s.onArrayChange(a)}else s.recreateContent(n)}},null,{disposeWhenNodeIsRemoved:e}),s=new a(e,u,o),i.utils.domNodeDisposal.addDisposeCallback(e,function(){s.removeSubscriptions()}),{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings._ojBindForEach_=!0}();const L={};function M(e,t,n){if("item"===e){var r=t.template;return null!=r&&(t.renderer=function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$itemContext=n});return i.renderTemplate(t,o,{afterRender:function(e){a(e)._ojDetectCleanData()}},r,"replaceNode"),null}}(n,r)),{item:t}}return null}function S(e,t,n){return"center"===e&&t.template&&(t._renderer=A(n,t.template)),{center:t}}function R(e,t,n){return"rootNodeContent"===e&&t.template&&(t._renderer=A(n,t.template)),{rootNodeContent:t}}n._registerLegacyNamespaceProp("koStringTemplateEngine",L),L.install=function(){var e=i;if(!e.templates){var t={},n={},r=new e.nativeTemplateEngine,o=function(e){this._templateName=e,this.text=function(e){if(!e)return t[this._templateName];t[this._templateName]=e},this.data=function(e,t){if(n[this._templateName]||(n[this._templateName]={}),1===arguments.length)return n[this._templateName][e];n[this._templateName][e]=t}};r.makeTemplateSource=function(t,n){if("string"==typeof t){var r=(n=n||document).getElementById(t);return r?new e.templateSources.domElement(r):new o(t)}if(t&&1===t.nodeType||8===t.nodeType)return new e.templateSources.anonymousTemplate(t)},e.templates=t,e.setTemplateEngine(r)}},v.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(e,t,n,r,i,o,a){var s=M(e,t,a);if(null!=s)return s},update:function(e,t,n,r,i,o,a){return M(e,t,a)},for:"ojListViewRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojListView",use:"ojListViewRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojNavigationList",use:"ojListViewRenderer"}),n._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",f),n._registerLegacyNamespaceProp("KnockoutTemplateUtils",p),v.getDefaultInstance().setupManagedAttributes({attributes:["center"],init:function(e,t,n,r,i,o,a){return S(e,t,a)},update:function(e,t,n,r,i,o,a){return S(e,t,a)},for:"ojStatusMeterGauge"}),v.getDefaultInstance().setupManagedAttributes({attributes:["rootNodeContent"],init:function(e,t,n,r,i,o,a){return R(e,t,a)},update:function(e,t,n,r,i,o,a){return R(e,t,a)},for:"ojSunburst"});function U(e,t,n){var r,o;return r=n,o=t,function(t){var n=null,s=null;if("header"===o)n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$headerContext=t.headerContext,e.$data=t.data}),s=t.headerContext.parentElement;else if("cell"===o){var u=t.row;n=e.createChildContext(u,null,function(e){e.$columnIndex=t.columnIndex,e.$cellContext=t.cellContext}),s=t.cellContext.parentElement}"footer"===o&&(n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$footerContext=t.footerContext}),s=t.footerContext.parentElement),i.renderTemplate(r,n,{afterRender:function(e){a(e)._ojDetectCleanData()}},s,"replaceNode")}}function F(e,t){return function(n){var r=n.row,o=e.createChildContext(r,null,function(e){e.$rowContext=n.rowContext});i.renderTemplate(t,o,{afterRender:function(e){a(e)._ojDetectCleanData()}},n.rowContext.parentElement,"replaceNode")}}function $(e,t,n){var r,i;if("areaLayers"===e){for(r=0;r<t.length;r++){var o=t[r].areaDataLayer;o&&null!=(i=o.template)&&(o._templateRenderer=x(n,i))}return{areaLayers:t}}if("pointDataLayers"===e){for(r=0;r<t.length;r++)null!=(i=t[r].template)&&(t[r]._templateRenderer=x(n,i));return{pointDataLayers:t}}return null}function H(e,t,n){return"nodeContent"===e&&t.template&&(t._renderer=A(n,t.template)),{nodeContent:t}}v.getDefaultInstance().setupManagedAttributes({attributes:["columns","columnsDefault","rowTemplate"],init:function(e,t,n,r,i,o,a){if("columns"===e||"columnsDefault"===e){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=U(a,"cell",l)),null!=d&&(u.footerRenderer=U(a,"footer",d)),null!=c&&(u.headerRenderer=U(a,"header",c))}return"columns"===e?{columns:t}:{columnsDefault:t}}if("rowTemplate"===e)return{rowRenderer:F(a,t)}},update:function(e,t,n,r,i,o,a){if("columns"===e||"columnsDefault"===e){for(var s=0;s<t.length;s++){var u=t[s],l=u.template,d=u.footerTemplate,c=u.headerTemplate;null!=l&&(u.renderer=U(a,"cell",l)),null!=d&&(u.footerRenderer=U(a,"footer",d)),null!=c&&(u.headerRenderer=U(a,"header",c))}r("columns"===e?{columns:t}:{columnsDefault:t})}else if("rowTemplate"===e)return{rowRenderer:F(a,t)};return null},for:"ojTable"}),v.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(e,t,n,r,i,o,a){return $(e,t,a)},update:function(e,t,n,r,i,o,a){return $(e,t,a)},for:"ojThematicMap"}),v.getDefaultInstance().setupManagedAttributes({attributes:["nodeContent"],init:function(e,t,n,r,i,o,a){return H(e,t,a)},update:function(e,t,n,r,i,o,a){return H(e,t,a)},for:"ojTreemap"})});
//# sourceMappingURL=ojknockout.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmessage',["require","exports","ojs/ojcore","ojs/ojknockout","ojs/ojbutton","ojs/ojjquery-hammer","ojs/ojcore-base","jquery","knockout","ojs/ojanimation","ojs/ojdomutils","ojs/ojcomponentcore","ojs/ojcomposite","ojs/ojcontext","hammerjs","ojs/ojlogger","ojs/ojthemeutils","ojs/ojtranslation"],function(e,t,o,s,i,n,a,r,p,u,c,l,d,m,h,g,_,f){"use strict";a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,m=m&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m;function y(e){this._composite=e.element,this.containerId=[e.unique,"mc"].join("_"),this._messagesContainerId=this.containerId,this.handleCloseIcon=this._handleCloseIcon.bind(this),this.close=this._closeMessage.bind(this),this.bindingsApplied=this._bindingsApplied.bind(this),this.disconnected=this._disconnected.bind(this),this.connected=this._connected.bind(this),this.propertyChanged=this._propertyChanged.bind(this),this.messageCreatedTime=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),this.handleKeydown=this._handleKeydown.bind(this),this._slotCounts=e.slotCounts,this._properties=e.properties,this._createObservables(),this._updateSeverityStyleClass(null)}function v(e,t){this._element=e,this._operation=t,this._init()}y.prototype._connected=function(e){var t=this._operationMediator;t&&"none"===t.getPendingOperation()&&this._isMessageOpen()&&this._scheduleAutoClose()},y.prototype._disconnected=function(e){var t=this._operationMediator;t&&"none"===t.getPendingOperation()&&this._clearAutoClose()},y.prototype._bindingsApplied=function(e){this._openMessage()},y.prototype._propertyChanged=function(e){function t(e,t,o){if("external"===e.updatedFrom&&e.property===t){var s=e.subproperty;if(s)return[t,o].join(".")===s.path;var i=e.previousValue[o];return e.value[o]!==i}return!1}if(t(e,"message","autoTimeout")&&(this.computedMessageCloseSelectors(this._computeMessageCloseSelectors()),this._clearAutoClose(),this._scheduleAutoClose()),t(e,"message","closeAffordance")&&(this.hasCloseAffordance("defaults"===this._computeCloseAffordance()),this._unregisterSwipeHandler(),this._registerSwipeHandler()),t(e,"message","icon")&&(this.computedIconStyle(this._computeIconStyle()),this.computedIconClass(this._computeIconClass()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors())),(t(e,"message","category")||t(e,"displayOptions","category"))&&(this.computedCategory(this._computeCategory()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors())),t(e,"message","severity")){const e=this.computedSeverity();this.computedSeverity(this._computeSeverity()),this.computedCategory(this._computeCategory()),this.computedIconClass(this._computeIconClass()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors()),this._updateSeverityStyleClass(e)}t(e,"message","timestamp")&&this.formattedTimestamp(this._formatTimestamp()),t(e,"message","summary")&&this.computedSummary(this._computeSummary()),t(e,"message","detail")&&(this.computedDetail(this._computeDetail()),this.computedMessageContainerSelectors(this._computeMessageContainerSelectors())),t(e,"translations","labelCloseIcon")&&this.computedLabelCloseIcon(this._computeLabelCloseIcon()),t(e,"translations","categories")&&this.computedCategory(this._computeCategory())},y.prototype._registerSwipeHandler=function(){if(c.isTouchSupported()&&"defaults"===this._computeCloseAffordance()){var e=r(document.getElementById(this._messagesContainerId)),t={recognizers:[[h.Swipe,{direction:h.DIRECTION_ALL}]],cssProps:{userSelect:"auto"}},o="rtl"===c.getReadingDirection()?"swipeleft swipeup":"swiperight swipeup";this._hammerSwipe=e.ojHammer(t).on(o,function(e){e.preventDefault(),e.gesture&&"mouse"!==e.gesture.pointerType&&this._closeMessage()}.bind(this))}},y.prototype._unregisterSwipeHandler=function(){if(c.isTouchSupported()&&this._hammerSwipe){var e="rtl"===c.getReadingDirection()?"swipeleft swipeup":"swiperight swipeup";this._hammerSwipe.off(e),delete this._hammerSwipe}},y.prototype._scheduleAutoClose=function(){this._computeAutoTimeout()>-1&&(this._autoCloseTimer=window.setTimeout(this._closeMessage.bind(this),this._computeAutoTimeout()))},y.prototype._clearAutoClose=function(){isNaN(this._autoCloseTimer)||(window.clearTimeout(this._autoCloseTimer),delete this._autoCloseTimer)},y.prototype._isMessageOpen=function(){var e=document.getElementById(this._messagesContainerId);return!(!e||!r(e).is(":visible"))},y.prototype._closeMessage=function(e){var t=document.getElementById(this._messagesContainerId);if(t){this._unregisterSwipeHandler(),this._clearAutoClose();var o=this._operationMediator;if(o){if(o.isOperationPending("close",this._closeMessage.bind(this,e)))return;o.destroy()}this._operationMediator=new v(this._composite,"close");var s=this._getAnimateOptionDefaults("close");u.startAnimation(t,"close",s,this._composite).then(function(){r(t).hide(),l.subtreeHidden(t);var o={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}},s=new CustomEvent("ojClose",o);e&&Object.defineProperty(s,"_originalEvent",{value:e,writable:!1}),this._composite.dispatchEvent(s)}.bind(this))}},y.prototype._computeSeverity=function(){var e=this._properties.message;return a.StringUtils.isEmptyOrUndefined(e.severity)?y._getMessageDefault("severity"):"fatal"===e.severity?"error":e.severity},y.prototype._formatTimestamp=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.timestamp)){var t=m.getContext(this._composite).getBusyContext().addBusyState({description:"oj-message is busy loading required libraries and processing timestamp"});this._getConverterPromise(e.timestamp).then(function(o){try{var s=o.format(e.timestamp);this.formattedTimestamp(s)}catch(t){g.info("JET oj-message: Invalid value for message.timestamp: "+e.timestamp)}finally{t()}}.bind(this))}},y.prototype._getConverterPromise=function(t){return new Promise(function(t,o){e(["ojs/ojconverter-datetime"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),t.default=e,t}(e))},o)}).then(function(e){var o=this._isDateToday(t)?"hh:mm a":"MM/dd/yy, hh:mm a";return new e.IntlDateTimeConverter({pattern:o})}.bind(this))},y.prototype._isDateToday=function(e){var t=new Date,o=new Date(e);return t.getUTCFullYear()===o.getUTCFullYear()&&t.getUTCMonth()===o.getUTCMonth()&&t.getUTCDate()===o.getUTCDate()},y.prototype._computeCategory=function(){var e=this._properties.displayOptions;if(!e||!e.category||"none"!==e.category){var t=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(t.category))return t.category;var o=this._computeSeverity(),s=this._properties.translations,i=s&&s.categories?s.categories[o]:void 0;return a.StringUtils.isEmptyOrUndefined(i)&&(i=f.getComponentTranslations("oj-ojMessage").categories[o]),i}},y.prototype._computeAutoTimeout=function(){var e=this._properties.message;return isNaN(e.autoTimeout)?y._getMessageDefault("autoTimeout"):0===e.autoTimeout?this._getThemedAutoTimeoutDefault():e.autoTimeout},y.prototype._computeIconStyle=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.icon))return["url('",e.icon,"') no-repeat"].join("")},y.prototype._computeIconClass=function(){var e=this._properties.message;if(a.StringUtils.isEmptyOrUndefined(e.icon)){var t=this._computeSeverity();if("none"!==t){var o=["oj-component-icon","oj-message-status-icon"];return o.push(["oj","message",t,"icon"].join("-")),o.join(" ")}}},y.prototype._computeCloseAffordance=function(){var e=this._properties.message;return a.StringUtils.isEmptyOrUndefined(e.closeAffordance)?y._getMessageDefault("closeAffordance"):e.closeAffordance},y.prototype._computeMessageCloseSelectors=function(){return this._computeAutoTimeout()>-1?"oj-message-close oj-message-auto-timeout-close":"oj-message-close"},y.prototype._computeMessageContainerSelectors=function(){let e=["oj-message-container"];return this._computeIconStyle()||this._computeIconClass()||e.push("oj-message-no-icon"),this._isDetailShown()||e.push("oj-message-no-detail"),e.join(" ")},y.prototype._computeSound=function(){var e=this._properties.message;return void 0===e.sound?y._getMessageDefault("sound"):e.sound},y.prototype._computeLabelCloseIcon=function(){var e=this._properties.translations;return a.StringUtils.isEmptyOrUndefined(e.labelCloseIcon)?f.getTranslatedString("oj-ojMessage.labelCloseIcon"):e.labelCloseIcon},y.prototype._computeSummary=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.summary))return e.summary},y.prototype._computeDetail=function(){var e=this._properties.message;if(!a.StringUtils.isEmptyOrUndefined(e.detail))return e.detail},y.prototype._handleCloseIcon=function(e){this._closeMessage(e)},y.prototype._openMessage=function(){var e=document.getElementById(this._messagesContainerId);if(e)if(this._isInlinedChildOfOjMessages())this._prepareMessageAtOpen();else{this._operationMediator=new v(this._composite,"open");var t={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}};this._composite.dispatchEvent(new CustomEvent("ojBeforeOpen",t));var o=this._getAnimateOptionDefaults("open");u.startAnimation(e,"open",o,this._composite).then(function(){t={bubbles:!0,cancelable:!1,detail:{message:this._properties.message}},this._prepareMessageAtOpen(),this._composite.dispatchEvent(new CustomEvent("ojOpen",t))}.bind(this))}},y.prototype._isInlinedChildOfOjMessages=function(){var e=this._findMessagesAncestor();return e&&!e.getProperty("messages")},y.prototype._findMessagesAncestor=function(){for(var e=this._composite.parentElement;e;e=e.parentElement)if(e.nodeName.startsWith("OJ-"))return"OJ-MESSAGES"===e.nodeName?e:null;return null},y.prototype._isDetailShown=function(){return y._SLOT.DETAIL in this._slotCounts||(void 0!==this._computeDetail()||void 0!==this._computeCategory()&&void 0!==this._computeSummary())},y.prototype._prepareMessageAtOpen=function(){var e=this._computeSound();"none"!==e&&(this._initAudioContext(),this._playSound(e)),this._registerSwipeHandler(),this._scheduleAutoClose()},y.prototype._handleKeydown=function(e){e.defaultPrevented||"defaults"!==this._computeCloseAffordance()||e.keyCode!==r.ui.keyCode.ESCAPE&&"Escape"!==e.key||(e.preventDefault(),this._closeMessage(e))},y.prototype._playSound=function(e){if("defaults"!==e){var t=document.createElement("AUDIO");t.src=e,t.addEventListener("error",function(){g.info(`JET oj-message: Failed to load media from URL in message.sound='${e}'.`)});var o=t.play();void 0!==o&&o.then(function(){}).catch(function(t){g.info(`JET oj-message: Failed to play specified sound: '${e}'. Error: ${t}`)})}else if(void 0===window.audioContext)g.info("JET oj-message: Failed to play default sound as the browser does not support Web Audio API");else{var s=window.audioContext.createGain();s.connect(window.audioContext.destination);var i=window.audioContext.createOscillator();i.connect(s),i.start(),i.stop(window.audioContext.currentTime+.01)}},y.prototype._initAudioContext=function(){if(void 0===window.audioContext)try{window.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){}},y.prototype._createObservables=function(){this.hasCloseAffordance=p.observable("defaults"===this._computeCloseAffordance()),this.computedIconStyle=p.observable(this._computeIconStyle()),this.computedIconClass=p.observable(this._computeIconClass()),this.computedSeverity=p.observable(this._computeSeverity()),this.computedCategory=p.observable(this._computeCategory()),this.formattedTimestamp=p.observable(this._formatTimestamp()),this.computedLabelCloseIcon=p.observable(this._computeLabelCloseIcon()),this.computedMessageCloseSelectors=p.observable(this._computeMessageCloseSelectors()),this.computedMessageContainerSelectors=p.observable(this._computeMessageContainerSelectors()),this.computedSummary=p.observable(this._computeSummary()),this.computedDetail=p.observable(this._computeDetail())},y.prototype._updateSeverityStyleClass=function(e){if(null!=e){const t=y._getStyleClassForSeverity(e);this._composite.classList.remove(t)}const t=y._getStyleClassForSeverity(this.computedSeverity());t&&this._composite.classList.add(t)},y._getMessageDefault=function(e){return y._DEFAULTS.message[e]},y._DEFAULTS={autoTimeout:4e3,animation:{open:{effect:"fadeIn",duration:"300ms"},close:{effect:"fadeOut",duration:"300ms"}},message:{severity:"none",autoTimeout:-1,closeAffordance:"defaults",sound:"none"}},y._getStyleClassForSeverity=function(e){return y._SEVERITY_STYLE_CLASS_MAP[e]},y._SEVERITY_STYLE_CLASS_MAP={confirmation:"oj-confirmation",error:"oj-error",info:"oj-info",warning:"oj-warning"},y._SLOT={DETAIL:"detail"},y.prototype._getThemedAutoTimeoutDefault=function(){var e=_.parseJSONFromFontFamily("oj-message-option-defaults");return e&&e.autoTimeout?e.autoTimeout:y._DEFAULTS.autoTimeout},y.prototype._getAnimateOptionDefaults=function(e){return y._DEFAULTS.animation[e]},v.prototype._init=function(){this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var e=this._operation,t=["oj"];t.push(e.charAt(0).toUpperCase()),t.push(e.slice(1));var o=t.join("");this._eventType=o,this._element.addEventListener(o,this._callback);var s=m.getContext(this._element).getBusyContext(),i={description:this._getBusyStateDescription.bind(this,this._element,this._operation)},n=s.addBusyState(i);this.addPromiseExecutor(function(e){window.setImmediate(function(){e()})}.bind(this,n))},v.prototype._getBusyStateDescription=function(e,t){return`${e.nodeName} is busy animating on the ${t} operation`},v.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=[],e=e||this._operation,this._operation=null;for(var o=0;o<t.length;o++)t[o](e)},v.prototype.destroy=function(){this._deliverResolved("none"),this._callback=null,this._element=null,this._operation=null,this._eventType=null},v.prototype._eventHandler=function(e){e.target===this._element&&(this._element.removeEventListener(e.type,this._callback),this._deliverResolved(),this._callback=null)},v.prototype.getPendingOperation=function(){return this._operation?this._operation:"none"},v.prototype.addPromiseExecutor=function(e,t){this._resolvedQueue.push(e)},v.prototype.isOperationPending=function(e,t){if(!this._element)return!1;var o=!1,s=this.getPendingOperation();return e===s?(g.info(["JET oj-message: invoked a '",e,"' operation while pending animation of the same type of operation. ","The second request will be ignored."].join("")),o=!0):"none"!==s&&(g.info(["JET oj-message: invoked a '",e,"' operation while pending animation of a '",s,"' operation. The second request will be invoked after the pending ","operation completes."].join("")),this.addPromiseExecutor(t),o=!0),o};d.register("oj-message",{view:'<div :id="[[containerId]]" :class="[[computedMessageContainerSelectors]]" on-keydown="[[handleKeydown]]">  <div class="oj-message-header">    <div class="oj-message-leading-header" :title="[[computedCategory]]">      <oj-bind-if test="[[computedIconStyle]]">        <div class="oj-component-icon oj-message-status-icon oj-message-custom-icon"          role="presentation" :title="[[computedCategory]]"          :style.background="[[computedIconStyle]]">        </div>      </oj-bind-if>      <oj-bind-if test="[[computedIconClass]]">        <div role="presentation" :title="[[computedCategory]]" :class="[[computedIconClass]]">        </div>      </oj-bind-if>      <oj-bind-if test="[[computedCategory]]">        <div class="oj-message-category oj-message-title" tabindex="-1">          <h1 :title="[[computedCategory]]">            <oj-bind-text value="[[computedCategory]]"></oj-bind-text>           </h1>        </div>      </oj-bind-if>      <oj-bind-if test="[[!computedCategory() && computedSummary()]]">        <div class="oj-message-summary oj-message-title" tabindex="-1">          <oj-bind-text value="[[computedSummary]]"></oj-bind-text>        </div>      </oj-bind-if>    </div>    <div class="oj-message-trailing-header">      <oj-bind-if test="[[formattedTimestamp]]">        <div class="oj-message-timestamp">          <oj-bind-text value="[[formattedTimestamp]]"></oj-bind-text>         </div>      </oj-bind-if>      <oj-bind-if test="[[hasCloseAffordance]]">        <div :class="[[computedMessageCloseSelectors]]">          <oj-button class="oj-button-sm" display="icons" chroming="borderless" on-click="[[handleCloseIcon]]">            <span slot="startIcon" class="oj-fwk-icon oj-fwk-icon-cross"></span>            <span>              <oj-bind-text value="[[computedLabelCloseIcon]]"></oj-bind-text>            </span>          </oj-button>        </div>      </oj-bind-if>    </div>    </div>  <div class="oj-message-body">    <oj-bind-if test="[[computedCategory]]">      <div class="oj-message-summary">        <oj-bind-text value="[[computedSummary]]"></oj-bind-text>      </div>    </oj-bind-if>    <div class="oj-message-detail">      <oj-bind-slot name="detail">        <oj-bind-text value="[[computedDetail]]"></oj-bind-text>      </oj-bind-slot>    </div>  <div></div>',viewModel:y,metadata:{properties:{displayOptions:{type:"object",properties:{category:{type:"string",enumValues:["auto","header","none"],value:"auto"}}},message:{type:"object",properties:{autoTimeout:{type:"number",value:-1},category:{type:"string",value:""},closeAffordance:{type:"string",enumValues:["defaults","none"],value:"defaults"},detail:{type:"string",value:""},icon:{type:"string",value:""},severity:{type:"string",enumValues:["confirmation","error","info","none","warning"],value:"none"},sound:{type:"string",value:"none"},summary:{type:"string",value:""},timestamp:{type:"string",value:""}}},translations:{type:"object",value:{},properties:{categories:{type:"object",properties:{confirmation:{type:"string"},error:{type:"string"},info:{type:"string"},warning:{type:"string"}}},labelCloseIcon:{type:"string"}}}},methods:{close:{},getProperty:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojClose:{}},extension:{}}}),t.ojMessage={},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ojmessage.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojmessages',["ojs/ojcore-base","jquery","knockout","ojs/ojanimation","ojs/ojcontext","ojs/ojthemeutils","ojs/ojtranslation","ojs/ojcomposite","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojdomutils","ojs/ojknockout","ojs/ojpopupcore","ojs/ojmessage","ojs/ojdataprovider","ojs/ojcustomelement-utils"],function(e,t,i,s,n,o,a,r,l,p,d,c,h,u,g,m){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;function _(t){this._composite=t.element,this.containerId=[t.unique,"mc"].join("_"),this._messagesContainerId=this.containerId,this.handleOpen=this._handleOpen.bind(this),this.handleClose=this._handleClose.bind(this),this.handleAnimateStart=this._handleAnimateStart.bind(this),this.bindingsApplied=this._bindingsApplied.bind(this),this.disconnected=this._disconnected.bind(this),this.connected=this._connected.bind(this),this.close=this._close.bind(this),this.closeAll=this._closeAll.bind(this),this.propertyChanged=this._propertyChanged.bind(this),this._properties=t.properties,this._createObservables(),this._updateLandmark(),e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS&&(this._composite.style.overflow="hidden")}function v(e){this.Init(e)}_.prototype._bindingsApplied=function(){var e=this._composite.querySelector("#"+this._messagesContainerId);if(e.addEventListener("ojFocus",this._navigationEventListener.bind(this),!1),this._properties.messages)e.addEventListener("ojBeforeOpen",this._handleBeforeOpen.bind(this),!1);else{var t=this._getDefaultSlotMessageElements();if(0!==t.length){var i=n.getContext(this._composite).getBusyContext();this._inlinedMessagesOpenBusyStateResolve=i.addBusyState({description:"oj-messages is busy opening inlined messages"}),this._showMessagesContainer();for(var s=0;s<t.length;s++)this._animateMessageAction(t[s].firstChild,"open",this._resolveInlinedMessagesOpenBusyState(t[s].getProperty("message"),t.length))}}},_.prototype._resolveInlinedMessagesOpenBusyState=function(e,t){this._updateLiveRegionAndContainer(e),this._numInlinedChildrenAnimated=this._numInlinedChildrenAnimated?this._numInlinedChildrenAnimated+1:1,this._numInlinedChildrenAnimated===t&&(this._numInlinedChildrenAnimated=0,this._inlinedMessagesOpenBusyStateResolve())},_.prototype._disconnected=function(){_.NAVIGATION_TRACKER.remove(this._messagesContainerId),e.ZOrderUtils.getStatus(this._composite)===e.ZOrderUtils.STATUS.OPEN&&this._closeOverlay()},_.prototype._connected=function(){_.NAVIGATION_TRACKER.add(this._messagesContainerId)},_.prototype._closeAll=function(e){if(this._isMessagesShown())for(var t=this._getDefaultSlotMessageElements(),i=0;i<t.length;i++){var s=t[i].message,n=!0;e&&(n=e(s)),n&&t[i].close()}},_.prototype._propertyChanged=function(e){"external"===e.updatedFrom&&"position"===e.property?e.previousValue&&e.value?this._refresh():!e.previousValue&&e.value?this._getDefaultSlotMessageElements().length>0&&(this._isMessagesShown()&&this._hideMessages(),this._openOverlay()):e.previousValue&&!e.value&&this._getDefaultSlotMessageElements().length>0&&(this._isOverlayOpen()&&this._closeOverlay(),this._showMessages()):"external"===e.updatedFrom&&"display"===e.property?this._getDefaultSlotMessageElements().length>0&&(this._isOverlayOpen()?(this._closeOverlay(),this._openOverlay(),this._refresh()):this._isMessagesShown()&&(this._hideMessages(),this._showMessages())):"external"===e.updatedFrom&&"translations"===e.property&&this._updateLandmark()},_.prototype._close=function(e){if(e&&this._isMessagesShown())for(var i=this._getDefaultSlotMessageElements(),s=0;s<i.length;s++){t(i[s]).prop("message")===e&&i[s].close()}},_.prototype._isEventPertaining=function(e){var t=e.target,i=document.getElementById(this._messagesContainerId);return!("OJ-MESSAGE"!==t.nodeName||!d.isAncestor(i,t))},_.prototype._handleBeforeOpen=function(e){e.defaultPrevented||!this._isEventPertaining(e)||this._isMessagesShown()||this._showMessagesContainer()},_.prototype._showMessagesContainer=function(){this._isPresentationInline()?this._showMessages():this._openOverlay()},_.prototype._handleOpen=function(e){!e.defaultPrevented&&this._isEventPertaining(e)&&this._updateLiveRegionAndContainer(e.detail.message)},_.prototype._updateLiveRegionAndContainer=function(e){var t=a.getComponentTranslations("oj-ojMessage").categories,i="fatal"===e.severity?"error":e.severity,s={category:e.category?e.category:t[i],summary:e.summary,detail:e.detail},n=this._getLiveRegion(),o=this._getTranslationsDefault("ariaLiveRegion.newMessage",s);n.announce(o),this._refresh()},_.prototype._getTranslationsDefault=function(t,i){for(var s=this._properties.translations,n=t.split("."),o=0;o<n.length&&s;o++)s=s[n[o]];return e.StringUtils.isEmptyOrUndefined(s)?s=a.getTranslatedString(["oj-ojMessages",t].join("."),i):i&&(s=a.applyParameters(s,i)),s},_.prototype._handleClose=function(e){if(!e.defaultPrevented&&this._isEventPertaining(e)){var i,s=e.target;e._originalEvent&&(i=this._getNextFocus(s)),i&&i.focus(),t(s).remove(),0===this._getDefaultSlotMessageElements().length?(_.NAVIGATION_TRACKER.togglePreviousFocus(this._messagesContainerId),this._isOverlayOpen()?this._closeOverlay():this._hideMessages()):this._refresh()}},_.prototype._getNextFocus=function(e){var t,i,s=this._getDefaultSlotMessageElements(),n=s.indexOf(e);return n-1>-1?t=s[n-1]:n+1<=s.length-1&&(t=s[n+1]),t&&(i=t.querySelector('.oj-message-category[tabindex="-1"]')),i},_.prototype._handleAnimateStart=function(e){!e.defaultPrevented&&this._isEventPertaining(e)&&(e.preventDefault(),this._animateMessageAction(e.detail.element,e.detail.action,e.detail.endCallback))},_.prototype._animateMessageAction=function(e,t,i){var n=this._isPresentationInline()?"general":this._computeDisplay(),o=this._getThemedAnimateOptions(n,t);s[o.effect](e,o).then(i)},_._DEFAULTS={general:{animation:{open:{effect:"expand",duration:"300ms"},close:{effect:"collapse",duration:"300ms"}},position:{my:{horizontal:"center",vertical:"top"},at:{horizontal:"center",vertical:"top"},of:"window",collision:"none"}},notification:{animation:{open:{effect:"slideIn",duration:"300ms"},close:{effect:"slideOut",duration:"300ms",direction:"end"}},position:{my:{horizontal:"end",vertical:"top"},at:{horizontal:"end",vertical:"top"},of:"window",collision:"none"}}},_.prototype._getThemedAnimateOptions=function(e,t){var i=o.parseJSONFromFontFamily("oj-messages-option-defaults");return i&&i[e]&&i[e].animation&&i[e].animation[t]?i[e].animation[t]:_._DEFAULTS[e].animation[t]},_.prototype._computeDisplay=function(){return this._properties.display},_.prototype._isPresentationInline=function(){return!this._properties.position},_.prototype._computeContainerSelectors=function(){var e=this._computeDisplay(),i=t(this._composite);return i.removeClass("oj-messages-general oj-messages-notification oj-messages-inline"),this._isPresentationInline()?i.addClass("oj-messages-inline"):i.addClass(["oj-messages",e].join("-")),"oj-messages-container"},_.prototype._getThemedPosition=function(){var e=this._computeDisplay(),t=o.parseJSONFromFontFamily("oj-messages-option-defaults");return t[e]&&t[e].position?t[e].position:_._DEFAULTS[e].position},_.prototype._getPositionAsJqUi=function(){var t=e.PositionUtils.coerceToJqUi(this._computePosition()),i="rtl"===d.getReadingDirection();return t=e.PositionUtils.normalizeHorizontalAlignment(t,i)},_.prototype._computePosition=function(){var t=this._properties.position;return e.PositionUtils.coerceToJet(t,this._getThemedPosition())},_.prototype._getDefaultSlotMessageElements=function(){for(var e=this._composite.querySelector("#"+this._messagesContainerId),t=[],i=m.CustomElementUtils.getSlotMap(e)[""],s=0;i&&s<i.length;s++)"OJ-MESSAGE"!==i[s].nodeName?"OJ-BIND-IF"!==i[s].nodeName&&p.error(`JET oj-messages: can contain only oj-message children in its default slot. Found <${i[s].nodeName}> instead.`):t.push(i[s]);return t},_.prototype._isMessagesShown=function(){return t(this._composite).is(":visible")},_.prototype._showMessages=function(){this._isMessagesShown()||(t(this._composite).show(),l.subtreeShown(t(this._composite))),_.NAVIGATION_TRACKER.add(this._messagesContainerId),this._announceNavigation()},_.prototype._hideMessages=function(){this._isMessagesShown()&&(t(this._composite).hide(),l.subtreeHidden(this._composite),_.NAVIGATION_TRACKER.remove(this._messagesContainerId),this._liveRegion&&(this._liveRegion.destroy(),delete this._liveRegion))},_.prototype._openOverlay=function(){var i=t(this._composite),s={};s[e.PopupService.OPTION.POPUP]=i,s[e.PopupService.OPTION.LAUNCHER]=this._getLauncher(),s[e.PopupService.OPTION.POSITION]=this._getPositionAsJqUi(),s[e.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),s[e.PopupService.OPTION.LAYER_SELECTORS]=["oj","messages","layer"].join("-"),s[e.PopupService.OPTION.MODALITY]=e.PopupService.MODALITY.MODELESS,s[e.PopupService.OPTION.CUSTOM_ELEMENT]=!0,e.PopupService.getInstance().open(s),this._showMessages(),this._overlayEventsCallback=_._overlayEventsListener.bind(this,i),i[0].addEventListener("keydown",this._overlayEventsCallback,!1)},_.prototype._getLauncher=function(){var e=this._composite.parentElement;return this._composite.previousElementSibling?e=this._composite.previousElementSibling:this._composite.nextElementSibling&&(e=this._composite.nextElementSibling),t(e)},_.prototype._closeOverlay=function(){this._hideMessages();var i=t(this._composite),s={};s[e.PopupService.OPTION.POPUP]=i,e.PopupService.getInstance().close(s);var n=this._overlayEventsCallback;delete this._overlayEventsCallback,i[0].removeEventListener("keydown",n,!1)},_.prototype._isOverlayOpen=function(){var t=this._composite,i=e.ZOrderUtils.getStatus(t);return i===e.ZOrderUtils.STATUS.OPENING||i===e.ZOrderUtils.STATUS.OPEN||i===e.ZOrderUtils.STATUS.CLOSING},_._overlayEventsListener=function(e,i){if(!i.defaultPrevented&&(i.keyCode===t.ui.keyCode.TAB||"Tab"===i.key)){var s=i.target,n=e.find(":tabbable");if(n.length>0){var o=n[0],a=n[n.length-1];o===a&&s===o?i.preventDefault():o===s&&i.shiftKey?(i.preventDefault(),a.focus()):a!==s||i.shiftKey||(i.preventDefault(),o.focus())}else i.preventDefault()}},_.prototype._navigationEventListener=function(e){e.target.id===this._messagesContainerId&&(e.preventDefault(),this._announceNavigation(!0))},_.prototype._announceNavigation=function(t){var i,s=e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.IOS||e.AgentUtils.getAgentInfo().os===e.AgentUtils.OS.ANDROID;if(i=t?s?void 0:"ariaLiveRegion.navigationFromKeyboard":s?"ariaLiveRegion.navigationToTouch":"ariaLiveRegion.navigationToKeyboard"){var n=this._getLiveRegion(),o=this._getTranslationsDefault(i);n.announce(o)}},_.prototype._getLiveRegion=function(){var e=this._messagesContainerId;return this._liveRegion||(this._liveRegion=new v(e)),this._liveRegion},_.prototype._getPopupServiceEvents=function(){var t={};return t[e.PopupService.EVENT.POPUP_CLOSE]=this._closeOverlay.bind(this),t[e.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),t[e.PopupService.EVENT.POPUP_REFRESH]=this._refresh.bind(this),t},_.prototype._refresh=function(){if(this._isOverlayOpen()){var e=this._composite.getBoundingClientRect();if(e.height<document.documentElement.clientHeight&&e.width<document.documentElement.clientWidth){var i=this._getPositionAsJqUi();t(this._composite).position(i)}}},_.prototype._surrogateRemoveHandler=function(){this._closeOverlay(),this._composite.parentElement.removeChild(this._composite)},_.prototype._createObservables=function(){this.containerSelectors=i.pureComputed(this._computeContainerSelectors.bind(this),this)},_.prototype._computeLabelLandmark=function(){var t=this._properties;return e.StringUtils.isEmptyOrUndefined(t.translations.labelLandmark)?this._getTranslationsDefault("labelLandmark"):t.translations.labelLandmark},_.prototype._updateLandmark=function(){var e=this._computeLabelLandmark();this._composite.setAttribute("aria-label",e),this._composite.setAttribute("role","complementary")},_.NAVIGATION_TRACKER={_messagesContainerIds:[],_priorFocusCache:{},add:function(e){this.remove(e),this._messagesContainerIds.push(e),this._start(e)},remove:function(e){var t=this._messagesContainerIds,i=t.indexOf(e);i>-1&&t.splice(i,1),this._stop(e)},togglePreviousFocus:function(i){var s=this._priorFocusCache,n=s[i];return!!(n&&t(n).is(":visible")&&e.ZOrderUtils.isAboveTopModalLayer(n))&&(n.focus(),delete s[i],!0)},_addPriorFocusCache:function(e,t){this._priorFocusCache[e]=t},_start:function(e){var i=document.getElementById(e);if(i){var s=this._messageContainerListener.bind(this,e);if(i.addEventListener("focus",s,!0),i.addEventListener("keydown",s,!1),i.addEventListener("click",s,!1),t(i).data("oj_messages_nmtl",s),!this._documentCallback){this._documentCallback=this._documentListener.bind(this);var n=document.documentElement;n.addEventListener("keydown",this._documentCallback,!1),n.addEventListener("blur",this._documentCallback,!0)}}},_stop:function(e){var i=document.getElementById(e);if(i){var s=t(i).data("oj_messages_nmtl");s&&(i.removeEventListener("focus",s,!0),i.removeEventListener("keydown",s,!1),i.removeEventListener("click",s,!1))}if(this._documentCallback&&!(this._messagesContainerIds.length>0)){var n=document.documentElement;n.removeEventListener("keydown",this._documentCallback,!1),n.removeEventListener("blur",this._documentCallback,!0),delete this._documentCallback}},_indexOfFocusWithin:function(e){for(var t=this._messagesContainerIds,i=0;i<t.length;i++){var s=document.getElementById(t[i]);if(s&&d.isAncestorOrSelf(s,e))return i}return-1},_documentListener:function(i){if(!i.defaultPrevented){var s=this._messagesContainerIds;if("keydown"===i.type&&(117===i.keyCode||"F6"===i.key)&&s.length>0){var n=this._indexOfFocusWithin(i.target);if(n>-1)return;for(var o=n=s.length-1;o>-1;o--){var a=document.getElementById(s[o]);if(a&&t(a).is(":visible")&&e.ZOrderUtils.isAboveTopModalLayer(a)){var r=a.querySelector('.oj-message-title[tabindex="-1"]');i.preventDefault(),this._addPriorFocusCache(s[o],i.target),r.focus();var l=new CustomEvent("ojFocus",{bubbles:!1,cancelable:!0});a.dispatchEvent(l);break}}}else"blur"===i.type&&(this._prevActiveElement=i.target)}},_messageContainerListener:function(e,i){if(!i.defaultPrevented)if("focus"===i.type||"click"===i.type){var s=document.getElementById(e),n=this._prevActiveElement;n&&s&&!d.isAncestorOrSelf(s,n)&&this._addPriorFocusCache(e,n)}else"keydown"!==i.type||117!==i.keyCode&&i.keyCode!==t.ui.keyCode.ESCAPE&&"F6"!==i.key&&"Escape"!==i.key||this.togglePreviousFocus(e)&&i.preventDefault()}},v.prototype.Init=function(e){this._id=e},v.prototype.destroy=function(){var e=t(document.getElementById(v._LIVE_REGION_ID)),i=this._id;delete this._id,e.find('div[data-container-id="'+i+'"]').remove(),e.children("div").length<1&&e.remove()},v.prototype.announce=function(e){var i=v._getLiveRegion(),s=this._id;t("<div>").attr("data-container-id",s).text(e).appendTo(i)},v._getLiveRegion=function(){var e=t(document.getElementById(v._LIVE_REGION_ID));return 0===e.length&&((e=t("<div>")).attr({id:v._LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),e.addClass("oj-helper-hidden-accessible"),e.appendTo(document.body)),e},v._LIVE_REGION_ID="__oj_messages_arialiveregion";r.register("oj-messages",{view:'<div role="presentation" :id="[[containerId]]" :class="[[containerSelectors]]"      on-oj-open="[[handleOpen]]" on-oj-close="[[handleClose]]"      on-oj-animate-start="[[handleAnimateStart]]">  <oj-bind-if test="[[!$properties.messages]]">    <oj-bind-slot>    </oj-bind-slot>  </oj-bind-if>  <oj-bind-if test="[[$properties.messages]]">    <oj-bind-for-each data="[[$properties.messages]]" >      <template>        <oj-bind-template-slot name="messageTemplate"           data="[[{data:$current.data, componentElement:_composite}]]">          <template>            <oj-message message="[[$current.data]]" display-options="[[$properties.displayOptions]]">            </oj-message>          </template>        </oj-bind-template-slot>      </template>    </oj-bind-for-each>  </oj-bind-if></div>',viewModel:_,metadata:{properties:{display:{type:"string",enumValues:["general","notification"],value:"general"},displayOptions:{type:"object",properties:{category:{type:"string",enumValues:["auto","header","none"],value:"auto"}}},messages:{type:"Array<Object>|object"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},collision:{type:"string",enumValues:["fit","flip","flipfit","none"]},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"]},vertical:{type:"string",enumValues:["bottom","center","top"]}}},of:{type:"string"},offset:{type:"object",properties:{x:{type:"number"},y:{type:"number"}}}}},translations:{type:"object",value:{},properties:{ariaLiveRegion:{type:"object",properties:{navigationFromKeyboard:{type:"string"},navigationToKeyboard:{type:"string"},navigationToTouch:{type:"string"},newMessage:{type:"string"}}},labelLandmark:{type:"string"}}}},methods:{close:{},closeAll:{},getProperty:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}})});
//# sourceMappingURL=ojmessages.js.map;
define('components/pre-content/machine-translation-notice/index',["require", "exports", "preact", "../../../translations/pre-content/machine-translation-notice/translations-helper", "ojs/ojmessages"], function (require, exports, preact_1, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.MachineTranslationNotice = void 0;
    class MachineTranslationNotice extends preact_1.Component {
        constructor() {
            super();
            this.state = {
                messages: [{
                        severity: 'none',
                        summary: translations_helper_1.default.getTranslations().labels.bannerMessage,
                    }]
            };
        }
        render() {
            return (preact_1.h("div", { id: "machineTranslationNoticeContainer", class: "oj-sm-width-full" },
                preact_1.h("oj-messages", { messages: this.state.messages, class: "oj-sm-width-full" })));
        }
    }
    exports.MachineTranslationNotice = MachineTranslationNotice;
});

define('components/pre-content/index',["require", "exports", "preact", "preact/hooks", "./machine-translation-notice/index", "../../store/publication-context"], function (require, exports, preact_1, hooks_1, index_1, publication_context_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.PreContent = void 0;
    class PreContent extends preact_1.Component {
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", { id: "preContentContainer", class: "oj-flex oj-sm-justify-content-center" }, publication.isMachineTranslated &&
                preact_1.h(index_1.MachineTranslationNotice, null)));
        }
    }
    exports.PreContent = PreContent;
});

define('translations/content/inline-video/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{playVideo:t.getTranslatedString("content.inlineVideo.labels.playVideo")}}}}}));
define('utils/inline-video-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addThumbnailMeta=e.parseVideoData=e.INLINE_VIDEO_CONTAINER_SELECTOR=void 0;e.INLINE_VIDEO_CONTAINER_SELECTOR="article div.video-container";e.parseVideoData=e=>{const t=new URL(e),a={href:e,isYouTube:!1,embed:"",thumbnail:""};switch(t.hostname.toLowerCase()){case"www.youtube.com":case"m.youtube.com":case"youtube.com":case"www.youtu.be":case"youtu.be":a.isYouTube=!0}if(a.isYouTube){const e=t.pathname.split("/");let o="";2===e.length&&"watch"!==e[1]?o=e[1]:e.length>2?o=e.pop():2===e.length&&"watch"===e[1]&&(o=t.searchParams.v),a.href=`https://www.youtube.com/watch?v=${o}&autoplay=0&html5=1`,a.embed=`https://www.youtube.com/embed/${o}?autoplay=0&modestbranding=1&showinfo=1&rel=0&html5=1`,a.thumbnail=`https://img.youtube.com/vi/${o}/mqdefault.jpg`}return a};e.addThumbnailMeta=e=>{const t=document.createElement("meta");t.setAttribute("property","og:image"),t.content=e,document.getElementsByTagName("head")[0].appendChild(t)}}));
var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{u(i.next(e))}catch(e){a(e)}}function c(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}u((i=i.apply(e,t||[])).next())}))};define('services/inline-video.service',["require","exports","jquery","../utils/inline-video-helper"],(function(require,e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInlineVideoSource=void 0;e.getInlineVideoSource=(e,i,o)=>__awaiter(void 0,void 0,void 0,(function*(){const a=yield t.getJSON(`https://apexapps.oracle.com/pls/apex/oll_rest/oll/docsv1/content/${e}?callback=?`).catch(()=>"");if(""!==a){const e=n.parseVideoData(a.link);return e.isYouTube?(o&&0===i&&n.addThumbnailMeta(e.thumbnail),e.embed):a.link}return a}))}));
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
define('components/content/inline-video/index',["require", "exports", "preact", "../../../translations/content/inline-video/translations-helper", "../../../services/inline-video.service"], function (require, exports, preact_1, translations_helper_1, inline_video_service_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.appendInlineVideo = exports.InlineVideo = void 0;
    class InlineVideo extends preact_1.Component {
        constructor() {
            super();
            this.APEX_VIDEO_URL = 'http://apexapps.oracle.com/pls/apex/f?p=44785:265:0::::P265_CONTENT_ID:';
            this.state = {
                source: '',
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            return (preact_1.h(preact_1.Fragment, null, this.state.source.length ? this.renderIframe() : this.renderAnchor()));
        }
        renderAnchor() {
            return (preact_1.h("a", { href: `${this.APEX_VIDEO_URL}${this.props.videoId}`, target: "_blank" }, this.state.translations.labels.playVideo));
        }
        renderIframe() {
            return (preact_1.h("iframe", { class: "embed-responsive-item", type: "text/html", src: this.state.source, allowFullScreen: true, frameBorder: "0" }));
        }
        componentDidMount() {
            return __awaiter(this, void 0, void 0, function* () {
                const source = yield inline_video_service_1.getInlineVideoSource(this.props.videoId, this.props.index, this.props.isSolution);
                if (source.length) {
                    this.setState({ source });
                    this.base.parentElement.classList.add('embed-responsive');
                }
            });
        }
    }
    exports.InlineVideo = InlineVideo;
    function appendInlineVideo(inlineVideo, inlineVideoContainer) {
        preact_1.render(inlineVideo, inlineVideoContainer);
    }
    exports.appendInlineVideo = appendInlineVideo;
});

define('translations/content/copy-button/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static getTranslations(){return{labels:{copy:e.getTranslatedString("content.copyButton.labels.copy"),copied:e.getTranslatedString("content.copyButton.labels.copied")},ariaLabels:{copyCode:e.getTranslatedString("content.copyButton.ariaLabels.copyCode")}}}}}));
define('components/content/copy-button/index',["require", "exports", "preact", "../../../translations/content/copy-button/translations-helper", "../../../utils/dom-helper", "ojs/ojbutton"], function (require, exports, preact_1, translations_helper_1, dom_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.appendCopyButton = exports.CopyButton = void 0;
    class CopyButton extends preact_1.Component {
        constructor() {
            super();
            this.copyToClipboard = (event) => {
                const target = event.target;
                const codeblockText = target.parentNode.nextSibling.textContent;
                if (window.isSecureContext && navigator.clipboard) {
                    navigator.clipboard.writeText(codeblockText);
                }
                else {
                    this.copyToClipboardFallback(codeblockText);
                }
                this.animate(target);
            };
            this.copyToClipboardFallback = (text) => {
                const textArea = dom_helper_1.createElement('textarea', 'position-fixed');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
            };
            this.animate = (target) => {
                const REPLACE_TEXT_DURATION = 750;
                const ANIMATION_DURATION = 1000;
                const copyButton = target.firstChild;
                const copyButtonText = target.querySelector('span.copy-button-label');
                copyButton.classList.add('copy-button-clicked');
                copyButtonText.classList.add('fade');
                copyButtonText.textContent = this.state.translations.labels.copied;
                window.setTimeout(() => {
                    copyButtonText.textContent = this.state.translations.labels.copy;
                }, REPLACE_TEXT_DURATION);
                window.setTimeout(() => {
                    copyButtonText.classList.remove('fade');
                    copyButton.classList.remove('copy-button-clicked');
                    copyButton.classList.add('copy-button-base-color');
                }, ANIMATION_DURATION);
                copyButton.classList.remove('copy-button-base-color');
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            return (preact_1.h("div", { class: "copy-button-container" },
                preact_1.h("oj-button", { class: "oj-button-sm oracle-sans copy-button", chroming: "callToAction", display: "all", "aria-label": this.state.translations.ariaLabels.copyCode, onojAction: this.copyToClipboard },
                    preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-copy" }),
                    preact_1.h("span", { class: "copy-button-label" }, this.state.translations.labels.copy))));
        }
    }
    exports.CopyButton = CopyButton;
    function appendCopyButton(copyButton) {
        const MAX_CHILD_NODES = 2;
        const DIV_ELEMENT = 'div';
        const CODE_ELEMENTS = 'pre:not(td pre):not(.nocopybutton)';
        const codeElements = document.querySelectorAll(CODE_ELEMENTS);
        codeElements.forEach(codeElement => {
            preact_1.render(copyButton, codeElement);
            codeElement.classList.add('oj-flex', 'oj-sm-flex-wrap-nowrap', 'oj-sm-align-items-center');
            if (codeElement.childNodes.length >= MAX_CHILD_NODES) {
                const childNodes = [];
                const childNodesWrapper = dom_helper_1.createElement(DIV_ELEMENT, 'code-content');
                while (codeElement.childNodes.length > 1) {
                    childNodes.push(codeElement.lastChild);
                    codeElement.removeChild(codeElement.lastChild);
                }
                childNodes.reverse();
                childNodes.forEach(childNode => childNodesWrapper.appendChild(childNode));
                codeElement.appendChild(childNodesWrapper);
            }
            codeElement.appendChild(dom_helper_1.createElement(DIV_ELEMENT, 'copy-button-pre-space'));
        });
    }
    exports.appendCopyButton = appendCopyButton;
});

define('translations/content/downloadable-diagram/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=class{static getTranslations(){return{labels:{downloadDiagram:n.getTranslatedString("content.downloadableDiagram.labels.downloadDiagram"),helpTip:n.getTranslatedString("content.downloadableDiagram.labels.helpTip"),modalWindow:{heading:n.getTranslatedString("content.downloadableDiagram.labels.modalWindow.heading"),introduction:n.getTranslatedString("content.downloadableDiagram.labels.modalWindow.introduction"),disclaimerHeading:n.getTranslatedString("content.downloadableDiagram.labels.modalWindow.disclaimerHeading"),checkbox:n.getTranslatedString("content.downloadableDiagram.labels.modalWindow.checkbox"),cancel:n.getTranslatedString("content.downloadableDiagram.labels.modalWindow.cancel"),downloadDiagram:n.getTranslatedString("content.downloadableDiagram.labels.modalWindow.downloadDiagram")},diagramDownloading:n.getTranslatedString("content.downloadableDiagram.labels.diagramDownloading")},ariaLabels:{helpTip:n.getTranslatedString("content.downloadableDiagram.ariaLabels.helpTip")}}}}}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/ie',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}));
/*!
 * jQuery UI Mouse 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/widgets/mouse',["jquery","../ie","../version","../widget"],e):e(jQuery)}((function(e){"use strict";var t=!1;return e(document).on("mouseup",(function(){t=!1})),e.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,(function(e){return t._mouseDown(e)})).on("click."+this.widgetName,(function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){s.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}));
/*!
 * jQuery UI :data 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/data',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.extend(e.expr.pseudos,{data:e.expr.createPseudo?e.expr.createPseudo((function(n){return function(t){return!!e.data(t,n)}})):function(n,t,r){return!!e.data(n,r[3])}})}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/plugin',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.plugin={add:function(n,i,t){var u,o=e.ui[n].prototype;for(u in t)o.plugins[u]=o.plugins[u]||[],o.plugins[u].push([i,t[u]])},call:function(e,n,i,t){var u,o=e.plugins[n];if(o&&(t||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(u=0;u<o.length;u++)e.options[o[u][0]]&&o[u][1].apply(e.element,i)}}}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/safe-active-element',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}}));
!function(e){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/safe-blur',["jquery","./version"],e):e(jQuery)}((function(e){"use strict";return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}}));
/*!
 * jQuery UI Scroll Parent 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/scroll-parent',["jquery","./version"],t):t(jQuery)}((function(t){"use strict";return t.fn.scrollParent=function(e){var s=this.css("position"),n="absolute"===s,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter((function(){var e=t(this);return(!n||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==s&&i.length?i:t(this[0].ownerDocument||document)}}));
/*!
 * jQuery UI Draggable 1.13.2
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define('jqueryui-amd/widgets/draggable',["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}((function(t){"use strict";return t.widget("ui.draggable",t.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==s._trigger("stop",e)&&s._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i="function"==typeof s.helper,o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),Array.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=t(o.containment))[0])&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))}))},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,o))}))},drag:function(e,s,i){t.each(i.sortables,(function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o}))),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),!1!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each((function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})}))},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort((function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)}));r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each((function(e){t(this).css("zIndex",o+e)})),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable}));
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdialog',["ojs/ojpopupcore","ojs/ojbutton","jqueryui-amd/widgets/mouse","jqueryui-amd/widgets/draggable","jquery","ojs/ojcore-base","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojcomponentcore","ojs/ojanimation","ojs/ojfocusutils","ojs/ojcustomelement-utils","ojs/ojconfig"],function(e,t,i,s,o,n,l,r,a,h,d,u,c){"use strict";var p,g,f,m;o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,o.widget("oj.ojResizable",{version:"1.0.0",widgetEventPrefix:"oj",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){var i=e;if("hidden"===o(i).css("overflow"))return!1;var s,n=t&&"left"===t?"scrollLeft":"scrollTop";return i[n]>0||(i[n]=1,s=i[n]>0,i[n]=0,s)},_create:function(){var e,t,i,s;this._super();var n=this,l=this.options,r=this.element.mouse.bind(this.element);if(r(),this.mouse=r("instance"),this.mouse._mouseCapture=function(e){return n._mouseCapture(e)},this.mouse._mouseStart=function(e){return n._mouseStart(e)},this.mouse._mouseDrag=function(e){return n._mouseDrag(e)},this.mouse._mouseStop=function(e){return this.element&&this.element.focus(),n._mouseStop(e)},this.element.addClass("oj-resizable"),o.extend(this,{originalElement:this.element,_proportionallyResizeElements:[],_helper:null}),this._initialResize=!0,this.handles=l.handles||(o(".oj-resizable-handle",this.element).length?{n:".oj-resizable-n",e:".oj-resizable-e",s:".oj-resizable-s",w:".oj-resizable-w",se:".oj-resizable-se",sw:".oj-resizable-sw",ne:".oj-resizable-ne",nw:".oj-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)i=o.trim(e[t]),s=o("<div class='oj-resizable-handle oj-resizable-"+i+"'></div>"),this.handles[i]=".oj-resizable-"+i,this.element.append(s);var a=Object.keys(this.handles);for(t=0;t<a.length;t++){var h=a[t];this.handles[h].constructor===String&&(this.handles[h]=this.element.children(this.handles[h]).first().show())}this._handles=o(".oj-resizable-handle",this.element),this._handles.mouseover(function(){n.resizing||(this.className&&(s=this.className.match(/oj-resizable-(se|sw|ne|nw|n|e|s|w)/i)),n.axis=s&&s[1]?s[1]:"se")}),this.mouse._mouseInit()},_destroy:function(){this.mouse&&this.mouse._mouseDestroy();try{this.mouse.destroy(),this.mouse=null}catch(e){}var e;return e=this.originalElement,o(e).removeClass("oj-resizable oj-resizable-disabled oj-resizable-resizing").removeData("resizable").removeData("oj-resizable").unbind(".resizable").find(".oj-resizable-handle").remove(),this},_mouseCapture:function(e){for(var t=!1,i=Object.keys(this.handles),s=0;s<i.length;s++){var n=o(this.handles[i[s]])[0];(n===e.target||o.contains(n,e.target))&&(t=!0)}return!this.options.disabled&&t},_mouseStart:function(e){var t,i,s,n=this.options,l=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".oj-draggable")&&r.css({position:"absolute",top:l.top,left:l.left}),this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),n.containment&&(t+=o(n.containment).scrollLeft()||0,i+=o(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size={width:r.width(),height:r.height()},this.originalSize={width:r.width(),height:r.height()},this.originalPosition={left:t,top:i},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio=this.originalSize.width/this.originalSize.height||1,s=o(".oj-resizable-"+this.axis).css("cursor"),o("body").css("cursor","auto"===s?this.axis+"-resize":s),r.addClass("oj-resizable-resizing"),this._propagate("start",e),this._alsoresize_start(e),this._containment_start(e),!0},_mouseDrag:function(e){var t,i=this.helper,s={},n=this.originalMousePosition,l=this.axis,r=e.pageX-n.left||0,a=e.pageY-n.top||0,h=this._change[l];return this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height},!!h&&(t=h.apply(this,[e,r,a]),this._updateVirtualBoundaries(e.shiftKey),e.shiftKey&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this._alsoresize_resize(e,this.ui()),this._containment_resize(e,this.ui()),this.position.top!==this.prevPosition.top&&(s.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(s.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(s.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(s.height=this.size.height+"px"),i.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),o.isEmptyObject(s)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){return this.resizing=!1,o("body").css("cursor","auto"),this.element.removeClass("oj-resizable-resizing"),this._propagate("stop",e),this._alsoresize_stop(e),this._containment_stop(e),!1},_updateVirtualBoundaries:function(e){var t,i,s,o,n,l=this.options;n={minWidth:this._isNumber(l.minWidth)?l.minWidth:0,maxWidth:this._isNumber(l.maxWidth)?l.maxWidth:1/0,minHeight:this._isNumber(l.minHeight)?l.minHeight:0,maxHeight:this._isNumber(l.maxHeight)?l.maxHeight:1/0},e&&(t=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,o=n.maxWidth/this.aspectRatio,t>n.minWidth&&(n.minWidth=t),s>n.minHeight&&(n.minHeight=s),i<n.maxWidth&&(n.maxWidth=i),o<n.maxHeight&&(n.maxHeight=o)),this._vBoundaries=n},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=e,i=this.position,s=this.size,o=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=i.left+(s.width-t.width),t.top=null),"nw"===o&&(t.top=i.top+(s.height-t.height),t.left=i.left+(s.width-t.width)),t},_respectSize:function(e){var t=e,i=this._vBoundaries,s=this.axis,o=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,n=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,l=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,r=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,d=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return l&&(t.width=i.minWidth),r&&(t.height=i.minHeight),o&&(t.width=i.maxWidth),n&&(t.height=i.maxHeight),l&&d&&(t.left=a-i.minWidth),o&&d&&(t.left=a-i.maxWidth),r&&u&&(t.top=h-i.minHeight),n&&u&&(t.top=h-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,s,o,n=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(o=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],s=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);o.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element;this.elementOffset=e.offset(),this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return o.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return o.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return o.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return o.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){"resize"!==e&&this._trigger(e,t,this.ui())},_alsoresize_start:function(){var e=this.options,t=function(e){o(e).each(function(){var e=o(this);e.data("oj-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?t(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],t(e.alsoResize)):o.each(e.alsoResize,function(e){t(e)})},_alsoresize_resize:function(e,t){var i=this.options,s=this.originalSize,n=this.originalPosition,l={height:this.size.height-s.height||0,width:this.size.width-s.width||0,top:this.position.top-n.top||0,left:this.position.left-n.left||0},r=function(e,i){o(e).each(function(){var e,s=o(this),n=o(this).data("oj-resizable-alsoresize"),r={};e=i&&i.length?i:s.parents(t.originalElement[0]).length?["width","height"]:["width","height","top","left"],o.each(e,function(e,t){var i=(n[t]||0)+(l[t]||0);i&&i>=0&&(r[t]=i)}),s.css(r)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?r(i.alsoResize,null):o.each(i.alsoResize,function(e,t){r(e,t)})},_alsoresize_stop:function(){o(this).removeData("oj-resizable-alsoresize")},_containment_start:function(){var e,t,i,s,n,l,r,a,h=this,d=h.options,u=h.element,c=d.containment;(a=c instanceof o?c.get(0):/parent/.test(c)?u.parent().get(0):c)&&(h.containerElement=o(a),/document/.test(c)||c===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:o(document),left:0,top:0,width:o(document).width(),height:o(document).height()||document.body.parentNode.scrollHeight}):(e=o(a),t=[],o(["Top","Right","Left","Bottom"]).each(function(i,s){t[i]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-t[3],width:e.innerWidth()-t[1]},i=h.containerOffset,s=h.containerSize.height,n=h.containerSize.width,l=h._hasScroll(a,"left")?a.scrollWidth:n,r=h._hasScroll(a)?a.scrollHeight:s,h.parentData={element:a,left:i.left,top:i.top,width:l,height:r}))},_containment_resize:function(e,t){var i,s,o,n,l=this.options,r=this.containerOffset,a=this.position,h=e.shiftKey,d={top:0,left:0},u=this.containerElement,c=!0;u[0]!==document&&/static/.test(u.css("position"))&&(d=r),a.left<(this._helper?r.left:0)&&(this.size.width+=this._helper?this.position.left-r.left:this.position.left-d.left,h&&(this.size.height=this.size.width/this.aspectRatio,c=!1),this.position.left=l.helper?r.left:0),a.top<(this._helper?r.top:0)&&(this.size.height+=this._helper?this.position.top-r.top:this.position.top,h&&(this.size.width=this.size.height*this.aspectRatio,c=!1),this.position.top=this._helper?r.top:0),this.offset.left=this.parentData.left+this.position.left,this.offset.top=this.parentData.top+this.position.top,i=Math.abs((this._helper?this.offset.left-d.left:this.offset.left-r.left)+this.sizeDiff.width),s=Math.abs((this._helper?this.offset.top-d.top:this.offset.top-r.top)+this.sizeDiff.height),o=this.containerElement.get(0)===this.element.parent().get(0),n=/relative|absolute/.test(this.containerElement.css("position")),o&&n&&(i-=Math.abs(this.parentData.left)),i+this.size.width>=this.parentData.width&&(this.size.width=this.parentData.width-i,h&&(this.size.height=this.size.width/this.aspectRatio,c=!1)),s+this.size.height>=this.parentData.height&&(this.size.height=this.parentData.height-s,h&&(this.size.width=this.size.height*this.aspectRatio,c=!1)),c||(this.position.left=t.prevPosition.left,this.position.top=t.prevPosition.top,this.size.width=t.prevSize.width,this.size.height=t.prevSize.height)},_containment_stop:function(){var e=this.options,t=this.containerOffset,i=this.containerPosition,s=this.containerElement,n=o(this.helper),l=n.offset(),r=n.outerWidth()-this.sizeDiff.width,a=n.outerHeight()-this.sizeDiff.height;this._helper&&!e.animate&&/relative/.test(s.css("position"))&&o(this).css({left:l.left-i.left-t.left,width:r,height:a}),this._helper&&!e.animate&&/static/.test(s.css("position"))&&o(this).css({left:l.left-i.left-t.left,width:r,height:a})},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition,prevSize:this.prevSize,prevPosition:this.prevPosition}}}),p="oj-dialog-body",g="oj-dialog-footer",f="oj-dialog-header",n.__registerWidget("oj.ojDialog",o.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{cancelBehavior:"icon",dragAffordance:"title-bar",initialVisibility:"hide",modality:"modal",position:{my:{horizontal:"center",vertical:"center"},offset:{x:0,y:0},at:{horizontal:"center",vertical:"center"},of:"window",collision:"fit",using:function(e){var t=o(this).css(e).offset().top;t<0&&o(this).css("top",e.top-t)}},resizeBehavior:"resizable",role:"dialog",dialogTitle:null,title:null,beforeClose:null,beforeOpen:null,close:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null,animateStart:null,animateEnd:null},_ComponentCreate:function(){this._super();var e=this;if(this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this._IsCustomElement()||(this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this.element.removeAttr("title")),this.element.hide(),this.element.uniqueId(),this.element.addClass("oj-dialog oj-component"),this.element.attr({tabIndex:-1}),this._IsCustomElement()&&this.element[0].hasAttribute("role")||this.element.attr("role",this.options.role),this._on(this.element,{keydown:this._keydownHandler.bind(this)}),this.userDefinedDialogHeader=!1,this._createContainer(),!this._IsCustomElement())for(var t=this.element.children(),i=0;i<t.length;i++){var s=o(t[i]);s.is(".oj-dialog-header")?(this.userDefinedDialogHeader=!0,this._userDefinedHeader=s,this._userDefinedHeaderDiv=t[i],this._dialogContainer.appendChild(this._userDefinedHeader[0]),a.subtreeAttached(this._userDefinedHeader)):s.is(".oj-dialog-body")?(this._createContentDiv(),this._uiDialogContent=o(this._contentDiv),this._contentDiv.appendChild(t[i]),a.subtreeAttached(t[i]),this._dialogContainer.appendChild(this._contentDiv),a.subtreeAttached(this._contentDiv),this._uiDialogBody=s,this._uiDialogBodyDiv=t[i]):s.is(".oj-dialog-footer")&&(this._uiDialogFooter=s,this._uiDialogFooterDiv=t[i],this._dialogContainer.appendChild(this._uiDialogFooter[0]),a.subtreeAttached(this._uiDialogFooter))}this._IsCustomElement()&&this._processSlottedChildren(),this.element[0].appendChild(this._dialogContainer),a.subtreeAttached(this._dialogContainer),this.userDefinedDialogHeader?(this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(".oj-dialog-title"),this._userDefinedTitle=o(this._userDefinedTitleDiv),null!==this._userDefinedTitleDiv&&void 0!==this._userDefinedTitleDiv&&(this._userDefinedTitle.uniqueId(),this.element.attr({"aria-labelledby":this._userDefinedTitle.attr("id")}))):this._createTitlebar(),this._uiDialogContent||(this._createContentDiv(),this._uiDialogContent=o(this._contentDiv),this._userDefinedHeader?this._dialogContainer.insertBefore(this._contentDiv,this._userDefinedHeaderDiv.nextSibling):this._dialogContainer.insertBefore(this._contentDiv,this._uiDialogTitlebarDiv.nextSibling),a.subtreeAttached(this._contentDiv)),this._setupFocus(this.element);var l=this.options;l.position=n.PositionUtils.coerceToJet(l.position),this._IsCustomElement()&&(this._titleMutationObserver=new MutationObserver(function(t){t.forEach(function(t){"attributes"===t.type&&"title"===t.attributeName&&(e._uiDialogTitleDiv.textContent=t.target.getAttribute(t.attributeName))})}),this._titleMutationObserver.observe(this.element[0],{attributes:!0,attributeFilter:["title"]}))},_createContainer:function(){this._dialogContainer=document.createElement("div"),this._dialogContainer.classList.add("oj-dialog-container")},_createHeaderSlot:function(){this._headerSlot=document.createElement("div"),this._headerSlot.classList.add(f),this._dialogContainer.appendChild(this._headerSlot),a.subtreeAttached(this._headerSlot),this.userDefinedDialogHeader=!0,this._userDefinedHeaderDiv=this._headerSlot,this._userDefinedHeader=o(this._headerSlot)},_createFooterSlot:function(){this._footerSlot=document.createElement("div"),this._dialogContainer.appendChild(this._footerSlot),a.subtreeAttached(this._footerSlot),this._uiDialogFooterDiv=this._footerSlot,this._uiDialogFooter=o(this._footerSlot)},_createContentDiv:function(){this._contentDiv=document.createElement("div"),this._contentDiv.classList.add("oj-dialog-content","oj-dialog-default-content")},_createBodySlot:function(){this._createContentDiv(),this._dialogContainer.appendChild(this._contentDiv),a.subtreeAttached(this._contentDiv),this._bodySlot=document.createElement("div"),this._contentDiv.appendChild(this._bodySlot),this._uiDialogContent=o(this._contentDiv),this._uiDialogBodyDiv=this._bodySlot,this._uiDialogBody=o(this._bodySlot)},_GetContextMenu:function(){return this._IsCustomElement()?this._contextmenuSlot&&this._contextmenuSlot.length>0?this._contextmenuSlot[0]:this._super():null},_processSlottedChildren:function(){null!=this._footerSlot&&this.element[0].removeChild(this._footerSlot),null!=this._headerSlot&&this.element[0].removeChild(this._headerSlot),null!=this._bodySlot&&this.element[0].removeChild(this._bodySlot),null!=this._contextmenuSlot&&this.element[0].removeChild(this._contextmenuSlot);var e,t,i=u.CustomElementUtils.getSlotMap(this.element[0]),s=Object.keys(i);for(t=0;t<s.length;t++)"header"!==(e=s[t])&&"footer"!==e&&"body"!==e&&""!==e&&"contextMenu"!==e&&i[e].parentNode.removeChild(i[e]);var o=Object.prototype.hasOwnProperty;o.call(i,"header")&&this._createHeaderSlot(),(o.call(i,"body")||o.call(i,""))&&this._createBodySlot(),o.call(i,"footer")&&this._createFooterSlot(),o.call(i,"contextMenu")&&(this._contextmenuSlot=i.contextMenu);var n=this._bodySlot;for(t=0;t<s.length;t++){switch(e=s[t]){case"header":n=this._headerSlot;break;case"footer":n=this._footerSlot;break;case"body":case"":n=this._bodySlot}var l=i[e];if(null!=l)for(var r=0;r<l.length;r++)switch(n.appendChild(l[r]),e){case"header":break;case"footer":n=this._footerSlot,i[e][r].classList.add(g);break;case"body":case"":n=this._bodySlot,i[e][r].classList.add(p)}}},_AfterCreateEvent:function(){"show"===this.options.initialVisibility&&this.open()},_destroy:function(){this._off(this.element,"keydown"),n.ZOrderUtils.getStatus(this.element)===n.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._setWhenReady("none"),this._destroyResizable(),this.element.hasClass("oj-draggable")&&(this.element.draggable("destroy"),this.element.removeClass("oj-draggable")),this._destroyCloseButton(),this.userDefinedDialogHeader&&this._userDefinedTitle.removeUniqueId(),this._uiDialogBody&&this._uiDialogBody.insertAfter(this._uiDialogContent),this._uiDialogContent.remove(),this._uiDialogBody=null,this._uiDialogContent=null,this.element.removeUniqueId().removeClass("oj-dialog oj-component").css(this.originalCss),this.element.stop(!0,!0),this._IsCustomElement()||this.originalTitle&&this.element.attr("title",this.originalTitle),this._uiDialogTitlebar&&(this._uiDialogTitlebar.remove(),this._uiDialogTitlebar=null),delete this._popupServiceEvents,this._super()},disable:o.noop,enable:o.noop,close:function(e){if(!this._isOperationPending("close",[e])){var t=n.ZOrderUtils.getStatus(this.element);if(t===n.ZOrderUtils.STATUS.OPEN)if(n.ZOrderUtils.setStatus(this.element,n.ZOrderUtils.STATUS.BEFORE_CLOSE),!1!==this._trigger("beforeClose",e)||this._ignoreBeforeCloseResultant){if(this._setWhenReady("close"),this._focusedElement=null,!this.opener.filter(":focusable").focus().length){var i=this.opener.parents().filter(":focusable");i.length>0?i[0].focus():o(this.document[0].activeElement).blur()}if("modal"===this.options.modality){var s=Array.prototype.forEach,l=this.element[0].querySelectorAll(".oj-helper-element-in-dialog-with-accesskey");s.call(l,function(e){e.classList.remove("oj-helper-element-in-dialog-with-accesskey")});var r=document.querySelectorAll(".oj-helper-element-with-accesskey");s.call(r,function(e){e.setAttribute("accesskey",e.getAttribute("data-ojAccessKey")),e.removeAttribute("data-ojAccessKey"),e.classList.remove("oj-helper-element-with-accesskey")})}var a={};a[n.PopupService.OPTION.POPUP]=this.element,a[n.PopupService.OPTION.CONTEXT]={closeEvent:e},n.PopupService.getInstance().close(a)}else n.ZOrderUtils.setStatus(this.element,t)}},_beforeCloseHandler:function(e){var t=e[n.PopupService.OPTION.POPUP],i=this._isFullDisplay(),s=this._isSheetDisplay();this._unregisterResizeListener(t[0]),this._destroyResizable(),s&&this._disableBodyOverflow();var o,l=(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).animation;if(l&&(s&&!i&&l.sheet?o=l.sheet.close:l.normal?o=l.normal.close:l.close&&(o=l.close)),!this._ignoreBeforeCloseResultant&&o)return h.startAnimation(t[0],"close",o,this).then(function(){t.hide()});t.hide()},_afterCloseHandler:function(e){var t,i=e[n.PopupService.OPTION.CONTEXT];this._restoreBodyOverflow(),i&&(t=i.closeEvent),this._trigger("close",t)},isOpen:function(){var e=n.ZOrderUtils.getStatus(this.element);return e===n.ZOrderUtils.STATUS.OPENING||e===n.ZOrderUtils.STATUS.OPEN||e===n.ZOrderUtils.STATUS.BEFORE_CLOSE||e===n.ZOrderUtils.STATUS.CLOSING},open:function(e){if(!this._isOperationPending("open",[e])){var t=n.ZOrderUtils.getStatus(this.element);if(t===n.ZOrderUtils.STATUS.OPEN||t===n.ZOrderUtils.STATUS.UNKNOWN||t===n.ZOrderUtils.STATUS.CLOSE)if(this._isDefaultPosition=!this._hasPositionAttribute(),n.ZOrderUtils.setStatus(this.element,n.ZOrderUtils.STATUS.BEFORE_OPEN),!1!==this._trigger("beforeOpen",e)){if(t===n.ZOrderUtils.STATUS.OPEN)return n.ZOrderUtils.setStatus(this.element,t),void this._focusTabbable();this._setWhenReady("open"),this.userDefinedDialogHeader?void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._userDefinedHeaderDiv):this._createTitlebarCloseButton(),this.opener=o(this.document[0].activeElement);var i=this._isSheetDisplay();i&&this.element[0].classList.add("oj-dialog-sheet"),!i&&"title-bar"===this.options.dragAffordance&&o.fn.draggable&&this._makeDraggable();var s="rtl"===this._GetReadingDirection(),l=this.options.position;if(i&&(l=this._setSheetPosition(this.options.position)),l=n.PositionUtils.coerceToJqUi(l),l=n.PositionUtils.normalizeHorizontalAlignment(l,s),"modal"===this.options.modality){var r=Array.prototype.forEach,a=this.element[0].querySelectorAll("[accesskey]");r.call(a,function(e){e.classList.add("oj-helper-element-in-dialog-with-accesskey")});var h=document.querySelectorAll("[accesskey]");r.call(h,function(e){e.classList.contains("oj-helper-element-in-dialog-with-accesskey")||(e.classList.add("oj-helper-element-with-accesskey"),e.setAttribute("data-ojAccessKey",e.getAttribute("accesskey")),e.removeAttribute("accesskey"))})}var d={};d[n.PopupService.OPTION.POPUP]=this.element,d[n.PopupService.OPTION.LAUNCHER]=this.opener,d[n.PopupService.OPTION.POSITION]=l,d[n.PopupService.OPTION.MODALITY]=this.options.modality,d[n.PopupService.OPTION.EVENTS]=this._getPopupServiceEvents(),d[n.PopupService.OPTION.LAYER_SELECTORS]="oj-dialog-layer",d[n.PopupService.OPTION.LAYER_LEVEL]=n.PopupService.LAYER_LEVEL.TOP_LEVEL,d[n.PopupService.OPTION.CUSTOM_ELEMENT]=this._IsCustomElement(),n.PopupService.getInstance().open(d)}else n.ZOrderUtils.setStatus(this.element,t)}},_beforeOpenHandler:function(e){var t=e[n.PopupService.OPTION.POPUP],i=e[n.PopupService.OPTION.POSITION],s=this._isSheetDisplay();s&&this._disableBodyOverflow(),t.show();var o=this._isFullDisplay();o&&this.element[0].classList.add("oj-dialog-full"),t.position(i),this._registerResizeListener(this.element[0]),t.parent().addClass("oj-animate-open");var l,a=(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).animation;if(a&&(s&&!o&&a.sheet?l=a.sheet.open:a.normal?l=a.normal.open:a.open&&(l=a.open)),l)return h.startAnimation(t[0],"open",l,this)},_afterOpenHandler:function(e){e[n.PopupService.OPTION.POPUP].parent().removeClass("oj-animate-open"),this._restoreBodyOverflow(),this._makeResizable(),this._trigger("open"),this._focusTabbable()},refresh:function(){this._super()},_unregisterResizeListener:function(e){e&&this._resizeHandler&&(l.removeResizeListener(e,this._resizeHandler),this._resizeHandler=null)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),l.addResizeListener(e,this._resizeHandler,100,!0))},_handleResize:function(){n.ZOrderUtils.getStatus(this.element)===n.ZOrderUtils.STATUS.OPEN&&this._adjustPosition()},_focusTabbable:function(){this.GetFocusElement().focus(),this._trigger("focus")},GetFocusElement:function(){var e=null;return!0===this._titleBarMousedown?this.element[0]:(null!=(e=this.element.find("[autofocus]"))&&e.length||null==(e=d.getFirstTabStop(this._contentDiv)))&&(null!=e&&e.length||!this._uiDialogFooter||!this._uiDialogFooter.length||null==(e=d.getFirstTabStop(this._uiDialogFooterDiv)))?(null!=e&&e.length||this.closeButton&&(e=this.closeButton),null!=e&&e.length||(e=this.element),e[0]):e},_keydownHandler:function(e){if("none"!==this.options.cancelBehavior&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===o.ui.keyCode.ESCAPE)return e.preventDefault(),e.stopImmediatePropagation(),void this.close(e);var t;e.keyCode===o.ui.keyCode.TAB&&(e.shiftKey?(d.isFirstActiveElement(this.element)||document.activeElement===this.element[0])&&null!=(t=d.getLastTabStop(this.element))&&(t.focus(),e.preventDefault()):(d.isLastActiveElement(this.element)||document.activeElement===this.element[0])&&null!=(t=d.getFirstTabStop(this.element))&&(t.focus(),e.preventDefault()))},_setupFocus:function(e){var t=this;this._focusable({applyHighlight:!0,setupHandlers:function(i,s){t._on(e,{focus:function(e){i(o(e.currentTarget))},blur:function(e){s(o(e.currentTarget))}})}})},_disableBodyOverflow:function(){var e=o(document.body);this._origBodyOverflow={x:e.css("overflow-x"),y:e.css("overflow-y")},e.css("overflow-x","hidden"),e.css("overflow-y","hidden")},_restoreBodyOverflow:function(){if(this._origBodyOverflow){var e=o(document.body);e.css("overflow-x",this._origBodyOverflow.x),e.css("overflow-y",this._origBodyOverflow.y),this._origBodyOverflow=null}},_destroyCloseButton:function(){null!==this.closeButtonDiv&&void 0!==this.closeButtonDiv&&(this.closeButtonDiv.parentElement&&(a.subtreeDetached(this.closeButtonDiv),this.closeButtonDiv.parentElement.removeChild(this.closeButtonDiv)),this.closeButton=null),this._headerSlot&&this._headerSlot.classList.remove("oj-dialog-header-close"),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.remove("oj-dialog-header-close")},_createCloseButton:function(e){if(this._IsCustomElement()){this.closeButtonDiv=document.createElement("oj-button"),this.closeButtonDiv.classList.add("oj-dialog-header-close-wrapper"),this.closeButtonDiv.setAttribute("data-oj-binding-provider","none"),this.closeButtonDiv.setAttribute("display","icons"),this.closeButtonDiv.setAttribute("chroming","half");var t=document.createElement("span");t.textContent=this.getTranslatedString("labelCloseIcon");var i=document.createElement("span");i.className="oj-fwk-icon oj-fwk-icon-cross",i.setAttribute("slot","startIcon"),this.closeButtonDiv.appendChild(i),this.closeButtonDiv.appendChild(t),e.appendChild(this.closeButtonDiv),a.subtreeAttached(this.closeButtonDiv),this.closeButton=o(this.closeButtonDiv)}this._IsCustomElement()||(this.closeButton=o("<button><\button>").addClass("oj-dialog-header-close-wrapper"),this.closeButton.ojButton({display:"icons",chroming:"half",label:this.getTranslatedString("labelCloseIcon"),icons:{start:"oj-component-icon oj-fwk-icon-cross"}}).appendTo(e),this.closeButtonDiv=this.closeButton[0]),this._on(this.closeButton,{click:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.close(e)}}),this._headerSlot&&this._headerSlot.classList.add("oj-dialog-header-close"),this._uiDialogTitlebarDiv&&this._uiDialogTitlebarDiv.classList.add("oj-dialog-header-close")},_createTitlebarCloseButton:function(){void 0!==this.closeButton&&null!==this.closeButton||"icon"!==this.options.cancelBehavior||this._createCloseButton(this._uiDialogTitlebarDiv),this._on(this._uiDialogTitlebar,{mousedown:function(e){var t=l.isAncestorOrSelf(this.closeButtonDiv,e.target);this._titleBarMousedown=!0,t||this.element.focus()},mouseup:function(){this._titleBarMousedown=null}})},_createTitlebar:function(){this._uiDialogTitlebarDiv=document.createElement("div"),this._uiDialogTitlebarDiv.classList.add(f),this._dialogContainer.insertBefore(this._uiDialogTitlebarDiv,this._dialogContainer.firstChild),a.subtreeAttached(this._uiDialogTitlebarDiv),this._uiDialogTitlebar=o(this._uiDialogTitlebarDiv),this._uiDialogTitleDiv=document.createElement("h1"),this._uiDialogTitleDiv.classList.add("oj-dialog-title"),o(this._uiDialogTitleDiv).uniqueId(),this._uiDialogTitlebarDiv.appendChild(this._uiDialogTitleDiv),a.subtreeAttached(this._uiDialogTitleDiv),this._title(this._uiDialogTitleDiv),this.element.attr({"aria-labelledby":this._uiDialogTitleDiv.id})},_title:function(e){var t=e;this._IsCustomElement()?this._IsCustomElement()&&(this.options.dialogTitle?t.textContent=this.options.dialogTitle:this.element.attr("title")?t.textContent=this.element.attr("title"):t.innerHTML="&#160;"):(this.options.title||(t.innerHTML="&#160;"),t.textContent=this.options.title)},_makeDraggable:function(){var e=this,t=this.options;function i(e){return{position:e.position,offset:e.offset}}this.element.draggable({addClasses:!1,handle:".oj-dialog-header",containment:"document",start:function(t,s){o(this).addClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStart",t,i(s))},drag:function(t,s){e._positionDescendents(),e._trigger("drag",t,i(s))},stop:function(s,n){var l=n.offset.left-e.document.scrollLeft(),r=n.offset.top-e.document.scrollTop();t.position={my:{horizontal:"left",vertical:"top"},at:{horizontal:"left",vertical:"top"},offset:{x:l>=0?l:0,y:r>=0?r:0},of:window},o(this).removeClass("oj-dialog-dragging"),e._positionDescendents(),e._trigger("dragStop",s,i(n))}}),this.element.addClass("oj-draggable")},_destroyResizable:function(){this._resizableComponent&&this._resizableComponent("instance")&&(this._resizableComponent("destroy"),delete this._resizableComponent)},_makeResizable:function(){if(this._destroyResizable(),"resizable"===this.options.resizeBehavior){var e=this;this._resizableComponent=this.element.ojResizable.bind(this.element);var t=Math.max(l.getCSSLengthAsFloat(this.element.css("min-width")),10),i=Math.max(l.getCSSLengthAsFloat(this.element.css("min-height")),10),s=l.getCSSLengthAsFloat(this.element.css("max-width")),n=l.getCSSLengthAsFloat(this.element.css("max-height"));s=0===s?null:s,n=0===n?null:n,this._resizableComponent({minWidth:t,minHeight:i,maxWidth:s,maxHeight:n,cancel:".oj-dialog-content",containment:"document",handles:"n,e,s,w,se,sw,ne,nw",start:function(t,i){e._isResizing=!0,o(this).addClass("oj-dialog-resizing"),e._trigger("resizeStart",t,r(i))},resize:function(t,i){e._trigger("resize",t,r(i))},stop:function(t,i){e._isResizing=!1,o(this).removeClass("oj-dialog-resizing"),e._trigger("resizeStop",t,r(i))}})}function r(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}},_position:function(){var e="rtl"===this._GetReadingDirection(),t=this.options.position;this._isSheetDisplay()&&(t=this._setSheetPosition(t)),t=n.PositionUtils.coerceToJqUi(t),t=n.PositionUtils.normalizeHorizontalAlignment(t,e),this.element.position(t),this._positionDescendents()},_positionDescendents:function(){n.PopupService.getInstance().triggerOnDescendents(this.element,n.PopupService.EVENT.POPUP_REFRESH)},_adjustPosition:function(){var e=this.element.hasClass("oj-draggable"),t=this.element.hasClass("oj-resizable");e||t||this.element.width()>window.innerWidth||this.element.height()>window.innerHeight?this._positionDescendents():this._position()},_isSheetDisplay:function(){if(this._isDefaultPosition){var e=r.parseJSONFromFontFamily("oj-theme-json").behavior,t="phone"===c.getDeviceRenderMode();if(e.includes("redwood")&&t)return!0}return!1},_isFullDisplay:function(){if(!this._isSheetDisplay())return!1;var e=window.innerHeight,t=window.innerWidth,i=this.element[0].offsetHeight,s=this.element[0].offsetWidth;return i>=.95*e&&s>=.95*t},_hasPositionAttribute:function(){for(var e=this.element[0].attributes,t=0;t<e.length;t++)if(e[t].name.startsWith("position"))return!0;return!1},_setSheetPosition:function(e){var t=o.extend({},e);return t.my.vertical="bottom",t.at.vertical="bottom",t.of=window,t},_setOption:function(e,t,i){var s;if("disabled"!==e)switch(this._super(e,t,i),e){case"dragAffordance":(s=this.element.hasClass("oj-draggable"))&&"none"===t&&(this.element.draggable("destroy"),this.element.removeClass("oj-draggable")),this._isSheetDisplay()||s||"title-bar"!==t||this._makeDraggable();break;case"position":this._isDefaultPosition=!1;var l=this.options;return l.position=n.PositionUtils.coerceToJet(t,l.position),void this._position();case"resizeBehavior":n.ZOrderUtils.getStatus(this.element)===n.ZOrderUtils.STATUS.OPEN&&this._makeResizable();break;case"title":case"dialogTitle":this.userDefinedDialogHeader?this._title(this._userDefinedHeaderDiv.querySelector(".oj-dialog-title")):this._title(this._uiDialogTitlebarDiv.querySelector(".oj-dialog-title"));break;case"role":this.element.attr("role",t);break;case"modality":if(n.ZOrderUtils.getStatus(this.element)===n.ZOrderUtils.STATUS.OPEN){var r={};r[n.PopupService.OPTION.POPUP]=this.element,r[n.PopupService.OPTION.MODALITY]=t,n.PopupService.getInstance().changeOptions(r)}break;case"cancelBehavior":"none"===t||"escape"===t?this._destroyCloseButton():"icon"===t&&(this.userDefinedDialogHeader?(this._destroyCloseButton(),this._createCloseButton(this._userDefinedHeaderDiv),this._userDefinedTitleDiv=this._userDefinedHeaderDiv.querySelector(".oj-dialog-title"),this._userDefinedTitle=o(this._userDefinedTitleDiv)):(this._destroyCloseButton(),this._createCloseButton(this._uiDialogTitlebarDiv),this.standardTitleDiv=this._uiDialogTitlebarDiv.querySelector(".oj-dialog-title"),this.standardTitle=o(this.standardTitleDiv)))}},getNodeBySubId:function(e){if(null===e)return this.element?this.element[0]:null;function t(e){for(var t=[],i=/\w|_|-/,s=0;s<e.length;s++){var o=e.substring(s,s+1);i.test(o)?t.push(o):t.push("\\"+o)}return t.join("")}var i=e.subId;if(!this._IsCustomElement()||i!==g&&i!==p){var s,o;switch(i){case f:case"oj-dialog-content":case g:return s=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > .oj-dialog-container > ',s+="."+i,(o=this.element.parent().find(s))&&0!==o.length?o[0]:null;case"oj-resizable-n":case"oj-resizable-e":case"oj-resizable-s":case"oj-resizable-w":case"oj-resizable-se":case"oj-resizable-sw":case"oj-resizable-ne":case"oj-resizable-nw":return s=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',s+="."+i,(o=this.element.parent().find(s))&&0!==o.length?o[0]:null;case"oj-dialog-close-icon":case"oj-dialog-close":return null;case p:return s=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',s+=".oj-dialog-container > .oj-dialog-content > ",s+="."+i,(o=this.element.parent().find(s))&&0!==o.length?o[0]:null;case"oj-dialog-header-close-wrapper":return s=this.element[0].nodeName+'[id="'+t(this.element.attr("id"))+'"] > ',s+=".oj-dialog-container > .oj-dialog-header > ",s+="."+i,(o=this.element.parent().find(s))&&0!==o.length?o[0]:null}}else{if(i===p)return this._uiDialogBodyDiv.querySelector(".oj-dialog-body");if(i===g)return this._uiDialogFooterDiv.querySelector(".oj-dialog-footer")}return null},getSubIdByNode:function(e){if(null!=e){var t=o(e);if(t.hasClass(f))return{subId:f};if(t.hasClass(g))return{subId:g};if(t.hasClass("oj-dialog-content"))return{subId:"oj-dialog-content"};if(t.hasClass("oj-dialog-header-close-wrapper"))return{subId:"oj-dialog-header-close-wrapper"};if(t.hasClass("oj-resizable-n"))return{subId:"oj-resizable-n"};if(t.hasClass("oj-resizable-e"))return{subId:"oj-resizable-e"};if(t.hasClass("oj-resizable-s"))return{subId:"oj-resizable-s"};if(t.hasClass("oj-resizable-w"))return{subId:"oj-resizable-w"};if(t.hasClass("oj-resizable-se"))return{subId:"oj-resizable-se"};if(t.hasClass("oj-resizable-sw"))return{subId:"oj-resizable-sw"};if(t.hasClass("oj-resizable-ne"))return{subId:"oj-resizable-ne"};if(t.hasClass("oj-resizable-nw"))return{subId:"oj-resizable-nw"}}return null},_surrogateRemoveHandler:function(){var e=this.element;n.ZOrderUtils.getStatus(e)===n.ZOrderUtils.STATUS.OPEN&&e.remove()},_getPopupServiceEvents:function(){if(!this._popupServiceEvents){var e={};e[n.PopupService.EVENT.POPUP_CLOSE]=this._closeImplicitly.bind(this),e[n.PopupService.EVENT.POPUP_REMOVE]=this._surrogateRemoveHandler.bind(this),e[n.PopupService.EVENT.POPUP_REFRESH]=this._adjustPosition.bind(this),e[n.PopupService.EVENT.POPUP_BEFORE_OPEN]=this._beforeOpenHandler.bind(this),e[n.PopupService.EVENT.POPUP_AFTER_OPEN]=this._afterOpenHandler.bind(this),e[n.PopupService.EVENT.POPUP_BEFORE_CLOSE]=this._beforeCloseHandler.bind(this),e[n.PopupService.EVENT.POPUP_AFTER_CLOSE]=this._afterCloseHandler.bind(this),this._popupServiceEvents=e}return this._popupServiceEvents},_closeImplicitly:function(){this._ignoreBeforeCloseResultant=!0,this.close(),delete this._ignoreBeforeCloseResultant},_setWhenReady:function(t){var i=this._whenReadyMediator;i&&(i.destroy(),delete this._whenReadyMediator),["open","close"].indexOf(t)<0||(this._whenReadyMediator=new e.PopupWhenReadyMediator(this.element,t,"ojDialog",this._IsCustomElement()))},_isOperationPending:function(e,t){var i=this._whenReadyMediator;return!!i&&i.isOperationPending(this,e,e,t)},_NotifyDetached:function(){n.ZOrderUtils.getStatus(this.element)===n.ZOrderUtils.STATUS.OPEN&&this._closeImplicitly(),this._super()}}),a.setDefaultOptions({ojDialog:{resizeBehavior:a.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).resizeBehavior}),cancelBehavior:a.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).cancelBehavior}),dragAffordance:a.createDynamicPropertyGetter(function(){return(r.parseJSONFromFontFamily("oj-dialog-option-defaults")||{}).dragAffordance})}}),(m={properties:{cancelBehavior:{type:"string",enumValues:["escape","icon","none"]},dialogTitle:{type:"string"},dragAffordance:{type:"string",enumValues:["none","title-bar"]},initialVisibility:{type:"string",enumValues:["hide","show"],value:"hide"},modality:{type:"string",enumValues:["modal","modeless"],value:"modal"},position:{type:"object",properties:{at:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"center"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"center"}}},collision:{type:"string",enumValues:["fit","flip","flipfit","none"],value:"fit"},my:{type:"object",properties:{horizontal:{type:"string",enumValues:["center","end","left","right","start"],value:"center"},vertical:{type:"string",enumValues:["bottom","center","top"],value:"center"}}},of:{type:"string|object",value:"window"},offset:{type:"object",properties:{x:{type:"number",value:0},y:{type:"number",value:0}}}}},resizeBehavior:{type:"string",enumValues:["none","resizable"]},translations:{type:"object",value:{},properties:{labelCloseIcon:{type:"string"}}}},methods:{close:{},getProperty:{},isOpen:{},open:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{},ojBeforeClose:{},ojBeforeOpen:{},ojClose:{},ojFocus:{},ojOpen:{},ojResize:{},ojResizeStart:{},ojResizeStop:{}},extension:{}}).extension._WIDGET_NAME="ojDialog",m.extension._CONTROLS_SUBTREE_HIDDEN=!0,n.CustomElementBridge.register("oj-dialog",{metadata:m})});
//# sourceMappingURL=ojdialog.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojradiocheckbox',["ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojcomponentcore"],function(e,t,i,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e.__registerWidget("oj._ojRadioCheckbox",t.oj.baseComponent,{version:"1.0.0",defaultElement:"<input>",widgetEventPrefix:"oj",options:{disabled:null,checked:null,type:null},label:function(){return void 0===this.$label&&(this.$label=this._getLabelsForElement()),this.$label},refresh:function(){this._super(),this._setup()},refreshDisabled:function(){this._renderDisabled()},setSelectedClass:function(e){this.element.toggleClass("oj-selected",e),this.$label.toggleClass("oj-selected",e),this.$choiceItem.toggleClass("oj-selected",e)},widget:function(){return this.uiRadioCheckbox},_InitOptions:function(e,t){var i,s;if(this._super(e,t),"checked"in t||(this.initCheckedFromDom=!0,i=!!this.element.prop("checked"),this.option("checked",i,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.checked)throw new Error("checked option must be a boolean");if("disabled"in t||(s=!!this.element.prop("disabled"),this.option("disabled",s,{_context:{internalSet:!0}})),"boolean"!=typeof this.options.disabled)throw new Error("disabled option must be a boolean");"type"in t||this.option("type",this.element.prop("type"),{_context:{internalSet:!0}})},_ComponentCreate:function(){this._super();var e=this.options.type;"checkbox"===e?(this.uiRadioCheckbox=this.element.addClass("oj-checkbox oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-checkbox-label")):"radio"===e&&(this.uiRadioCheckbox=this.element.addClass("oj-radio oj-component"),this.$label=this._getLabelsForElement(),this.$label.addClass("oj-radio-label")),this.$choiceItem=this._getChoiceItem();var i=document.createElement("span");i.setAttribute("class","oj-radiocheckbox-icon oj-component-icon"),this.element.wrapAll(i);this._focusable(this.element),this._AddHoverable(this.$choiceItem),this._AddActiveable(this.$choiceItem),this._focusable({element:this.$choiceItem,applyHighlight:!0}),this._AddHoverable(this.$label),this._AddActiveable(this.$label),t.each(this.$label,function(){t(this.childNodes).wrapAll("<span class='oj-radiocheckbox-label-text'></span>")}),this._setup()},_SaveAttributes:function(e){this._savedClasses=e.attr("class")},_RestoreAttributes:function(){this._savedClasses?this.element.attr("class",this._savedClasses):this.element.removeAttr("class")},_setup:function(){this._renderDisabled(),this.initCheckedFromDom||this._setCheckedOnDom(this.options.checked),this.options.checked&&this.setSelectedClass(this.options.checked)},_setCheckedOnDom:function(e){e=!!e,this.element.prop("checked",e)},_renderDisabled:function(){this._IsEffectivelyDisabled()?(this.element.prop("disabled",!0).removeAttr("aria-disabled").removeClass("oj-enabled").addClass("oj-disabled"),this.$label.removeClass("oj-enabled").addClass("oj-disabled"),this.$choiceItem.removeClass("oj-enabled").addClass("oj-disabled")):(this.element.prop("disabled",!1).removeAttr("aria-disabled").removeClass("oj-disabled").addClass("oj-enabled"),this.$label.addClass("oj-enabled").removeClass("oj-disabled"),this.$choiceItem.addClass("oj-enabled").removeClass("oj-disabled"))},_setOption:function(e,t){this._superApply(arguments),"disabled"===e&&(t=!!t,this._renderDisabled(t)),"checked"===e&&(this._setCheckedOnDom(t),this.setSelectedClass(t))},_getLabelsForElement:function(){var e,s=this.element.closest("label"),o="label[for='"+this.element.prop("id")+"']",a=t(o);return 0!==s.length&&i.error("Found a label that is an input's ancestor. This is not supported in the ojCheckboxset or ojRadioset component and the component will\nnot work correctly. Use a label as a sibling to the input and use the label 'for' attribute to tie the two together."),0===(a=a.not(s)).length&&(e=this.element.siblings(o),a=a.add(e)),a},_getChoiceItem:function(){var e,t,s,o=null;return(e=this.element.parent())&&(e.hasClass("oj-choice-item")||e.hasClass("oj-choice-row")||e.hasClass("oj-choice-row-inline"))?o=e:(i.warn("The radioset/checkboxset's input and label dom should be wrapped in a dom node with class 'oj-choice-item'. JET is adding this missing dom to make the component work correctly."),"<span class='oj-choice-item oj-choice-item-added'></span>",t="label[for='"+this.element.attr("id")+"']",0!==(s=this.element.siblings().filter(t)).length?(this.element.add(s).wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),o=this.element.parent()):(this.element.wrapAll("<span class='oj-choice-item oj-choice-item-added'></span>"),o=this.element.parent())),o},getNodeBySubId:function(e){var t=this._super(e);if(!t){var i=e.subId;"oj-radiocheckbox-input"===i&&(t=this.element[0]),"oj-radiocheckbox-label"===i&&(t=this.label()[0])}return t||null},_destroy:function(){var e=this._super();this._RemoveHoverable(this.$choiceItem),this._RemoveActiveable(this.$choiceItem),this._RemoveHoverable(this.$label),this._RemoveActiveable(this.$label);var i=this.options.type;"checkbox"===i?this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-checkbox-label"):"radio"===i&&this.$label.removeClass("oj-enabled oj-disabled oj-selected oj-radio-label"),this.$choiceItem.removeClass("oj-enabled oj-disabled oj-selected");return t.each(this.$label,function(){var e=this.getElementsByClassName("oj-radiocheckbox-label-text");void 0!==e&&t(e[0].childNodes[0]).unwrap()}),this.element.unwrap(),this.$choiceItem.hasClass("oj-choice-item-added")&&this.element.unwrap(),this.$choiceItem=null,this.$label=null,e}});const o={};e._registerLegacyNamespaceProp("RadioCheckboxUtils",o),o.renderOptions=function(){var e=this._optionsDataArray,t=this.element[0];if(e){var i="OJ-RADIOSET"===t.tagName?"oj-radioset-wrapper":"oj-checkboxset-wrapper",o=t.querySelector("."+i),a=o.querySelectorAll(".oj-choice-item");for(let e=0;e<a.length;e++){let t=a[e];t.parentNode.removeChild(t)}a=o.querySelectorAll("oj-option");for(let e=0;e<a.length;e++){let t=a[e];t.parentNode.removeChild(t)}var n=this.options.optionRenderer,l=this.options.optionsKeys,r=l&&l.value?l.value:"value";"function"!=typeof n&&(n=function(e){var t=l&&l.label?l.label:"label",i=document.createElement("oj-option");return i.value=e.data[r],i.textContent=e.data[t],i.disabled=e.data.disabled,i});for(let i=0;i<e.length;i++){var h={component:t,index:i,data:e[i]},d=n(h);d&&"OJ-OPTION"===d.tagName&&(d.hasAttribute("data-oj-binding-provider")||d.setAttribute("data-oj-binding-provider","none"),null!==d.value&&void 0!==d.value||(d.value=h.data[r]),o.appendChild(d),s.subtreeAttached(d))}this.refresh()}},o.generateOptionsFromData=function(){var t=this.options.options;if(o.removeDataListener.call(this),t&&e.DataProviderFeatureChecker.isDataProvider(t)){var i,s={description:'The component identified by "'+this.element[0].id+'" is fetching data'},a=e.Context.getContext(this.element[0]).getBusyContext().addBusyState(s);this._clientId=this._clientId||Symbol(),this._optionsDataArray=[];var n=t.fetchFirst({clientId:this._clientId})[Symbol.asyncIterator](),l=this,r=function(e){var t;if(e&&e.value){var s=e.value;for(i=0;i<s.data.length;i++)l._optionsDataArray.push(s.data[i]);e.done||(t=n.next().then(r))}return t};n.next().then(r).then(function(){o.renderOptions.call(l),o.addDataListener.call(l),a()},function(){a()})}},o.addDataListener=function(){o.removeDataListener.call(this),this.options.options&&e.DataProviderFeatureChecker.isDataProvider(this.options.options)&&(this._optionsDataProvider=this.options.options,this._optionsDataListener=o.generateOptionsFromData.bind(this),this._optionsDataProvider.addEventListener("refresh",this._optionsDataListener),this._optionsDataProvider.addEventListener("mutate",this._optionsDataListener))},o.removeDataListener=function(){this._optionsDataListener&&(this._optionsDataProvider.removeEventListener("refresh",this._optionsDataListener),this._optionsDataProvider.removeEventListener("mutate",this._optionsDataListener),this._optionsDataProvider=null,this._optionsDataListener=null)}});
//# sourceMappingURL=ojradiocheckbox.js.map;
/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojcheckboxset',["ojs/ojcomponentcore","ojs/ojeditablevalue","ojs/ojradiocheckbox","ojs/ojoption","ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojtranslation","ojs/ojlabelledbyutils"],function(e,t,i,n,o,s,a,r,l){"use strict";var c,d;o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,(c={properties:{describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},optionRenderer:{type:"function"},options:{type:"object"},optionsKeys:{type:"object",properties:{label:{type:"string"},value:{type:"string"}}},readonly:{type:"boolean",value:!1},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{readonlyNoValue:{type:"string"},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},value:{type:"Array<any>",writeback:!0,value:[]}},methods:{getProperty:{},refresh:{},reset:{},setProperties:{},setProperty:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}}).extension._WIDGET_NAME="ojCheckboxset",c.extension._ALIASED_PROPS={readonly:"readOnly"},c.extension._TRACK_CHILDREN="immediate",o.CustomElementBridge.register("oj-checkboxset",{metadata:o.CollectionUtils.mergeDeep(c,{properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}})}),d={doValueChangeCheck:!1},o.__registerWidget("oj.ojCheckboxset",s.oj.editableValue,{version:"1.0.0",defaultElement:"<div>",widgetEventPrefix:"oj",_WRAPPER_CLASS_NAMES:"oj-checkboxset-wrapper oj-form-control-container",options:{disabled:!1,labelledBy:null,readOnly:!1,optionRenderer:null,options:null,optionsKeys:{},required:!1,value:[]},refresh:function(){this._super(),this._setup()},widget:function(){return this.uiCheckboxset},validate:t.EditableValueUtils.validate,_InitOptions:function(e,i){var n,o,a=[];this._super(e,i),this._IsCustomElement()||t.EditableValueUtils.initializeOptionsFromDom([{attribute:"disabled",validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"title"},{attribute:"required",coerceDomValue:!0,validateOption:!0}],i,this),this._IsCustomElement()?this._checkValueType(this.options.value):void 0===i.value?(this.$checkboxes=this._findCheckboxesWithMatchingName(),(n=this.$checkboxes.filter(":checked")).length>0&&(n.each(function(){a.push(s(this).val())}),o=a,this.option("value",o,{_context:{writeback:!0,internalSet:!0}})),void 0===this.options.value&&(this.options.value=[])):this._checkValueType(this.options.value)},_ComponentCreate:function(){const e=this.element;if(this._super(),e.is("fieldset"))throw new Error("ojCheckboxset cannot be bound to a fieldset. Use a div instead.");e.uniqueId(),this._externalTabIndex=this.element.attr("tabindex")||0,this.element.removeAttr("tabindex"),o.RadioCheckboxUtils.generateOptionsFromData.call(this),this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes._ojRadioCheckbox().attr("data-oj-internal",""),this.uiCheckboxset=e.addClass("oj-checkboxset oj-component").attr("role","group");const t=e.contents().filter(function(){return!(this.getAttribute&&"contextMenu"===this.getAttribute("slot"))});t.length>0?t.wrapAll(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`):e.append(`<div class='${this._WRAPPER_CLASS_NAMES}'></div>`),this.options.readOnly&&this.element[0].querySelector(".oj-checkboxset-wrapper").setAttribute("tabindex",this._externalTabIndex),this._on(this._events),this._setup()},_ResetComponentState:function(){this._processOjOptions(),this.$checkboxes=this._findCheckboxesWithMatchingName(),this.$checkboxes.filter(".oj-checkbox").each(function(){var e=void 0!==s(this).attr("disabled")&&!!s(this).prop("disabled");s(this)._ojRadioCheckbox("option","disabled",e)}),this.$checkboxes.not(".oj-checkbox")._ojRadioCheckbox()},GetFocusElement:function(){return this._GetContentElement().not(":disabled").first()[0]},_SetDisabledDom:function(){},_IsRequired:function(){return this.options.required},_refreshRequired:t.EditableValueUtils._refreshRequired,_processOjOptions:function(){if(this._IsCustomElement()){var e,t,i=this.element[0],n=i.querySelector(".oj-checkboxset-wrapper"),o=this._customOptionRenderer.bind(this),s=this.element.children("oj-option").add(this.element.children(".oj-checkboxset-wrapper").find("oj-option")),a=function(e,t){for(var i=e.slice(0),n=t.length-1,o=i.length-1;o>0&&n>-1;){var s=t[n].value,a=i[o];if(s!==a){var r=i.indexOf(s);r>-1&&(i[r]=a,i[o]=s,o-=1),n-=1}else o-=1,n-=1}return i}(this.options.value,s),r=a.length;n||(n=i);var l=i.querySelector("[data-no-value-span]");if(l)(r>0||!this.options.readOnly)&&l.parentElement.removeChild(l);else if(0===r&&this.options.readOnly){var c=document.createElement("span");c.setAttribute("data-no-value-span",""),c.setAttribute("class","oj-choice-item"),c.setAttribute("aria-readonly",!0);var d=this.getTranslatedString("readonlyNoValue");null!==d&&(c.textContent=d),n.appendChild(c)}for(e=0,t=s.length;e<t;e++)s[e].customOptionRenderer=o,this.options.readOnly?this._processReadonlyOptions(s[e],a):this._initInputLabelFromOjOption(s[e])}},_processReadonlyOptions:function(e,t){const i=e.value,n=t.length,o=this.element.get(0),a=s(e).parentsUntil(o,"span.oj-choice-item").get(0);if(null==a?e.classList.add("oj-helper-hidden"):a.classList.add("oj-helper-hidden"),n>0){var r=t.indexOf(i);if(r>-1){var l=r===n-1;this._initReadonlyLabelFromOjOption(e,a,l)}else null!=a&&a.removeAttribute("aria-readonly")}else null!=a&&a.removeAttribute("aria-readonly")},_initInputLabelFromOjOption:function(e){var t,i,n=e;s(n).uniqueId();var o=n.getAttribute("id"),a=o+"|cb",r=document.getElementById(a);if(null!==r){i=n;do{i=i.parentElement}while(i&&"LABEL"!==i.tagName);if(i&&(n.textContent&&""!==n.textContent?i.classList.remove("oj-helper-hidden"):i.classList.add("oj-helper-hidden")),!this.options.readOnly){var l=n;do{l=l.parentElement}while(l&&!l.classList.contains("oj-choice-item"));l&&l.classList.contains("oj-helper-hidden")&&l.classList.contains("oj-choice-item")&&"SPAN"===l.tagName&&l.classList.remove("oj-helper-hidden"),n&&n.classList.contains("oj-helper-hidden")&&n.classList.remove("oj-helper-hidden"),r&&r.parentElement.classList.contains("oj-helper-hidden")&&r.parentElement.classList.remove("oj-helper-hidden")}}else(r=document.createElement("input")).setAttribute("type","checkbox"),r.setAttribute("value",n.value),r.setAttribute("id",a),r.setAttribute("tabindex",this._externalTabIndex),"LABEL"===n.parentElement.nodeName?((i=n.parentElement).parentElement.insertBefore(r,i),i.parentElement.removeAttribute("aria-readonly"),i.parentElement.classList.remove("oj-helper-hidden")):(t=document.createElement("span"),i=document.createElement("label"),t.setAttribute("class","oj-choice-item"),n.parentElement.insertBefore(t,n),t.appendChild(r),t.appendChild(i),i.appendChild(n)),i.setAttribute("for",a),n.textContent&&""!==n.textContent||i.classList.add("oj-helper-hidden"),n.classList.remove("oj-helper-hidden");var c=this.element[0].id,d=n.getAttribute("aria-label"),h=n.getAttribute("aria-labelledby"),u=i.querySelector("span[data-oj-internal]");u&&u.parentElement.removeChild(u),r.setAttribute("data-oj-option-id",o),c&&""!==c?r.setAttribute("name",c):r.removeAttribute("name"),d&&""!==d?r.setAttribute("aria-label",d):r.removeAttribute("aria-label"),h&&""!==h?r.setAttribute("aria-labelledby",h):r.removeAttribute("aria-labelledby"),n.disabled?r.setAttribute("disabled",!0):r.removeAttribute("disabled")},_initReadonlyLabelFromOjOption:function(e,t,i){function n(e,t){var i=e.querySelector("span[data-oj-internal]");if(t&&!i){var n=r.getTranslatedString("oj-converter.plural-separator");(i=document.createElement("span")).setAttribute("data-oj-internal",""),i.textContent=n,e.appendChild(i)}else!t&&i&&i.parentElement.removeChild(i)}var o=document.createElement("label"),a=e,l=this.element.hasClass("oj-choice-direction-row"),c=l&&!i;if(t){s(a).uniqueId();var d=a.getAttribute("id")+"|cb",h=document.getElementById(d);if(null!==h){h.parentElement.classList.add("oj-helper-hidden");var u=h.parentElement.nextElementSibling;null!==u&&(o.appendChild(a),h.classList.contains("oj-checkbox")&&s(h)._ojRadioCheckbox("destroy"),t.removeChild(u.previousSibling),t.removeChild(u),t.appendChild(o))}t.classList.remove("oj-helper-hidden"),t.setAttribute("aria-readonly",!0),n(a.parentElement,c)}else{e.classList.remove("oj-helper-hidden");var p=document.createElement("span");a.parentElement.insertBefore(p,a),p.setAttribute("class","oj-choice-item"),o.appendChild(a),n(o,c),l||o.setAttribute("class","oj-checkbox-label"),p.appendChild(o),p.setAttribute("aria-readonly",!0)}},_customOptionRenderer:function(e){var t=e,i=t.getAttribute("id")+"|cb",n=document.getElementById(i);null!==n&&n.classList.contains("oj-checkbox")&&s(n)._ojRadioCheckbox("option","disabled",t.disabled)},_labelledByUpdatedForSet:l._labelledByUpdatedForSet,_findCheckboxesWithMatchingName:function(){var e,t,i=this.element.find("input[type=checkbox]:first");return 0===i.length&&a.warn("Could not find any input type=checkbox within this element"),void 0===(e=i.attr("name"))?this.element.find("input[type=checkbox]").not("[name]"):(t='input[type=checkbox][name="'+e+'"]',this.element.find(t))},_NotifyContextMenuGesture:function(e,t,i){var n=this.element.find("input[type=checkbox]:tabbable").first();this._OpenContextMenu(t,i,{launcher:n})},_GetMessagingLauncherElement:function(){return this.widget()},_setup:function(){this._propagateDisabled(this.options.disabled),null!==this.$checkboxes&&(1===this.$checkboxes.length?this.element.addClass("oj-checkboxset-single"):this.element.removeClass("oj-checkboxset-single")),this.options.readOnly?this.element.addClass("oj-read-only"):this.element.removeClass("oj-read-only"),this.element.hasClass("oj-choice-direction-column")||this.element.hasClass("oj-choice-direction-row")||this.element.addClass("oj-choice-direction-column"),this._refreshRequired(this.options.required);var e=this.widget();this._labelledByUpdatedForSet(e[0].id,null,this.options.labelledBy,e)},_events:{change:function(e){this._HandleChangeEvent(e)},"click .oj-checkboxset-wrapper":function(e){this.widget()[0].classList.contains("oj-choice-direction-row")||"INPUT"===e.target.tagName||s(e.target).find("input").click()}},_checkValueType:function(e){null==e?this.option("value",[],{_context:{writeback:!0,internalSet:!0}}):this._confirmValueIsArray(e)},_confirmValueIsArray:function(e){if(!Array.isArray(e))throw new Error("Invalid 'value' set on JET Checkboxset: "+e+".It must be an Array. ")},_HandleChangeEvent:function(e){var t,i;(i=this.$checkboxes).length>0&&i.each(function(){this===e.target&&s(this)._ojRadioCheckbox("setSelectedClass",e.target.checked)}),t=this._GetDisplayValue(),this._SetValue(t,e,d)},_GetDisplayValue:function(e){return this._GetElementValue()},_SetDisplayValue:function(e){var t,i,n,o,a=this.$checkboxes.length;if(this._checkValueType(e),null==e||0===e.length)this.$checkboxes._ojRadioCheckbox("option","checked",!1);else for(t=0;t<a;t++){n=this.$checkboxes[t],o=s(n),i=this._GetOptionValue(n);var r=this._GetOptionIndex(e,i),l=o._ojRadioCheckbox("option","checked");-1!==r?l||o._ojRadioCheckbox("option","checked",!0):l&&o._ojRadioCheckbox("option","checked",!1)}},_GetElementValue:function(){var e=this,t=[],i=this.$checkboxes.filter(":checked");return 0===i.length?[]:(i.each(function(){t.push(e._GetOptionValue(this))}),t)},_GetOptionIndex:function(e,t){var i,n=e.indexOf(t);if(-1===n){i=e.length;for(var s=0;s<i;s++)if(o.Object.compareValues(e[s],t)){n=s;break}}return n},_GetOptionValue:function(e){var t,i;return this._IsCustomElement()?(t=document.getElementById(e.getAttribute("data-oj-option-id")))&&(i=t.value):i=e.value,i},_GetDefaultStyleClass:function(){return"oj-checkboxset"},_GetContentElement:function(){return null!=this.$checkboxes||(this.$checkboxes=this._findCheckboxesWithMatchingName()),this.$checkboxes},_AriaRequiredUnsupported:function(){return!0},_ShowHelpHintsLocation:function(){return"above"},_AfterSetOptionRequired:t.EditableValueUtils._AfterSetOptionRequired,_propagateDisabled:function(e){var t=!!e;this.$checkboxes.each(function(){s(this).data("oj-_ojRadioCheckbox").__setAncestorComponentDisabled(t)}),this.$checkboxes._ojRadioCheckbox("refreshDisabled")},_setOption:function(e,t,i){var n=this.options.labelledBy;switch(this._super(e,t,i),e){case"disabled":this._propagateDisabled(t);break;case"readOnly":this.options.readOnly=!!t;var s=this.element[0].querySelector(".oj-checkboxset-wrapper"),a=this.options.value;this.options.readOnly?(s.setAttribute("tabindex",this._externalTabIndex),this.element.addClass("oj-read-only")):(s.removeAttribute("tabindex"),this.element.removeClass("oj-read-only")),this._ResetComponentState(),null!=a&&this._SetDisplayValue(a);break;case"value":this._processOjOptions();break;case"labelledBy":var r=this.widget();this._labelledByUpdatedForSet(r[0].id,n,t,r);break;case"options":o.RadioCheckboxUtils.generateOptionsFromData.call(this);break;case"optionsKeys":case"optionRenderer":o.RadioCheckboxUtils.renderOptions.call(this)}},_AfterSetOption:function(e,t,i){switch(this._superApply(arguments),e){case"required":this._AfterSetOptionRequired(e)}},getNodeBySubId:function(e){var t,i,n=this._super(e);if(!n)switch(t=this.$checkboxes.get(),e.subId){case"oj-checkboxset-inputs":n=t;break;case"oj-checkboxset-checkbox":if(void 0!==(i=e.value)){var o,s,a=t.length,r=[];for(o=0;o<a;o++)r[o]=this._GetOptionValue(t[o]);-1!==(s=this._GetOptionIndex(r,i))&&(n=t[s])}}return n||null},getSubIdByNode:function(e){for(var t=this._GetContentElement()[0].parentElement.parentElement.parentElement,i=e;i&&i!==t;){if("LABEL"===i.nodeName&&(i=document.getElementById(i.for)),"INPUT"===i.nodeName)return{subId:"oj-checkboxset-checkbox",value:this._GetOptionValue(i)};i=i.parentElement}return this._super(e)},_destroy:function(){var e=this._super(),t=this.element[0].firstElementChild;return this.$checkboxes&&this.$checkboxes._ojRadioCheckbox("destroy"),s(t).contents().unwrap(),o.RadioCheckboxUtils.removeDataListener.call(this),e}})});
//# sourceMappingURL=ojcheckboxset.js.map;
define('components/content/downloadable-diagram/index',["require", "exports", "preact", "../../../translations/content/downloadable-diagram/translations-helper", "ojs/ojdialog", "ojs/ojpopup", "ojs/ojcheckboxset", "ojs/ojbutton", "ojs/ojmessage", "ojs/ojmessages"], function (require, exports, preact_1, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.appendDownloadableDiagram = exports.DownloadableDiagram = void 0;
    const Messages = 'oj-messages';
    class DownloadableDiagram extends preact_1.Component {
        constructor() {
            super();
            this.TERMS_OF_USE = `The reference architecture diagram you have asked to download is subject to the Oracle Terms of Use
  (<a href="https://www.oracle.com/legal/terms.html" target="_blank">https://www.oracle.com/legal/terms.html</a>), except that, notwithstanding
  anything to the contrary in Section 3 thereof, you are permitted to use and edit the architecture diagram for your internal business purposes
  solely for the purpose of facilitating the design and implementation of a similar architecture that meets your business needs.
  Except as specifically stated herein, your use of the <a href="https://docs.oracle.com" target="_blank">https://docs.oracle.com</a> site,
  as well as your use of any other Materials that are available for download on <a href="https://docs.oracle.com" target="_blank">https://docs.oracle.com</a>
  that do not contain this Additional Permission remain subject to the standard Terms of Use.`;
            this.tooltipHandler = () => {
                const popup = document.getElementById(`downloadableDiagramTooltip${this.props.id}`);
                popup.isOpen() ? popup.close() : popup.open(`#downloadableDiagramHelpIcon${this.props.id}`);
            };
            this.openDownloadableDiagramModal = () => document.getElementById(`downloadableDiagramModal${this.props.id}`).open();
            this.closeDownloadableDiagramModal = () => {
                this.setState({ isDownloadDiagramDisabled: true, termsOfUseAcceptance: [] });
                document.getElementById(`downloadableDiagramModal${this.props.id}`).close();
            };
            this.handleTermsOfUseAcceptance = (event) => {
                if (event.detail.updatedFrom === 'internal') {
                    event.detail.value.length > 0 ? this.setState({ isDownloadDiagramDisabled: false, termsOfUseAcceptance: event.detail.value }) :
                        this.setState({ isDownloadDiagramDisabled: true, termsOfUseAcceptance: event.detail.value });
                }
            };
            this.downloadDiagramZipFile = () => {
                window.open(this.props.zipPath, '_self');
                this.closeDownloadableDiagramModal();
                this.setState({ showToastMessage: true });
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                isDownloadDiagramDisabled: true,
                termsOfUseAcceptance: [],
                showToastMessage: false
            };
            this.downloadingDiagramMessage = [{
                    severity: 'confirmation',
                    summary: this.state.translations.labels.diagramDownloading,
                    autoTimeout: 3000
                }];
        }
        render() {
            return (preact_1.h("div", { class: "oj-flex oj-sm-margin-6x-bottom oj-sm-margin-3x-top downloadable-diagram-container" },
                preact_1.h("oj-button", { id: `downloadableDiagram${this.props.id}`, class: "oj-button-sm downloadable-diagram", chroming: "callToAction", onojAction: this.openDownloadableDiagramModal },
                    preact_1.h("span", { slot: "startIcon", class: "oj-sm-margin-2x-start oj-ux-ico-download" }),
                    preact_1.h("span", null, this.state.translations.labels.downloadDiagram)),
                preact_1.h("div", { class: "downloadable-diagram-div-divider" },
                    preact_1.h("span", { class: "downloadable-diagram-divider" })),
                preact_1.h("span", { id: `downloadableDiagramHelpIcon${this.props.id}`, class: "oj-ux-ico-help downloadable-diagram-help-icon", tabIndex: 0, role: "tooltip", onMouseEnter: this.tooltipHandler, onMouseOut: this.tooltipHandler, onFocus: this.tooltipHandler, "aria-label": this.state.translations.ariaLabels.helpTip }),
                preact_1.h("oj-popup", { id: `downloadableDiagramTooltip${this.props.id}`, class: "oj-typography-body-sm downloadable-diagram-tooltip" },
                    preact_1.h("span", null, this.state.translations.labels.helpTip)),
                preact_1.h("div", null,
                    preact_1.h("oj-dialog", { id: `downloadableDiagramModal${this.props.id}`, "dialog-title": this.state.translations.labels.modalWindow.heading },
                        preact_1.h("div", { slot: "body" },
                            preact_1.h("div", { class: "oj-typography-body-md oj-sm-margin-5x-bottom" },
                                preact_1.h("span", null, this.state.translations.labels.modalWindow.introduction)),
                            preact_1.h("div", { class: "oj-typography-body-xs modal-disclaimer" },
                                preact_1.h("span", { class: "oj-typography-bold" }, this.state.translations.labels.modalWindow.disclaimerHeading),
                                preact_1.h("p", { class: "oj-sm-margin-3x-top", dangerouslySetInnerHTML: { __html: this.TERMS_OF_USE } })),
                            preact_1.h("oj-checkboxset", { id: `termsOfUseAcceptance${this.props.id}`, class: "oj-sm-margin-7x-top", "label-edge": "inside", value: this.state.termsOfUseAcceptance, onvalueChanged: this.handleTermsOfUseAcceptance },
                                preact_1.h("oj-option", { value: "accept" }, this.state.translations.labels.modalWindow.checkbox))),
                        preact_1.h("div", { class: "oj-flex oj-sm-12", slot: "footer" },
                            preact_1.h("oj-button", { id: `closeDownloadableDiagramModal${this.props.id}`, class: "oj-flex-item oj-md-3 oj-sm-12", onojAction: this.closeDownloadableDiagramModal },
                                preact_1.h("span", null, this.state.translations.labels.modalWindow.cancel)),
                            preact_1.h("oj-button", { id: `downloadDiagramZip${this.props.id}`, class: "oj-flex-item oj-md-5 oj-sm-12 oj-sm-only-margin-2x-top", chroming: "callToAction", onojAction: this.downloadDiagramZipFile, disabled: this.state.isDownloadDiagramDisabled },
                                preact_1.h("span", { slot: "startIcon", class: "oj-sm-margin-2x-start oj-ux-ico-download" }),
                                preact_1.h("span", null, this.state.translations.labels.modalWindow.downloadDiagram))))),
                this.state.showToastMessage &&
                    preact_1.h(Messages, { messages: this.downloadingDiagramMessage, position: {}, displayOptions: { category: 'none' }, display: "notification", class: "oj-color-invert", onojClose: () => { this.setState({ showToastMessage: false }); } })));
        }
    }
    exports.DownloadableDiagram = DownloadableDiagram;
    function appendDownloadableDiagram(downloadableDiagram, diagramParent) {
        preact_1.render(downloadableDiagram, diagramParent);
    }
    exports.appendDownloadableDiagram = appendDownloadableDiagram;
});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojswitcher',["ojs/ojcomponentcore","ojs/ojcustomelement","ojs/ojcustomelement-utils"],function(e,t,o){"use strict";const i=function(t){var i=this,n=t.element,s=!0,r=null;function l(){r=null}function d(t,o){var i=n.value;void 0===t._ojSwitcher_orig_display_style&&Object.defineProperty(t,"_ojSwitcher_orig_display_style",{value:t.style.display}),o===i?function(t){!("none"===t.style.display)?s&&e.subtreeShown(t,{initialRender:!0}):(t.style.display="",e.subtreeShown(t,s?{initialRender:!0}:void 0))}(t):function(t){!("none"===t.style.display)&&(t.style.display="none",e.subtreeHidden(t))}(t)}i._caseElementMutationObserver=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&(e.addedNodes&&Array.prototype.forEach.call(e.addedNodes,function(e){if(1===e.nodeType){var t=e.getAttribute("slot");d(e,t),l()}}),e.removedNodes&&Array.prototype.forEach.call(e.removedNodes,function(e){1===e.nodeType&&(void 0!==e._ojSwitcher_orig_display_style&&(e.style.display=e._ojSwitcher_orig_display_style),l())}))})}),this.createDOM=function(){i._caseElementMutationObserver.observe(n,{childList:!0})},this.updateDOM=function(){for(var e=(r||(r=o.CustomElementUtils.getSlotMap(n)),r),t=Object.keys(e),i=0;i<t.length;i++)for(var l=t[i],a=e[l],c=0;c<a.length;c++){d(a[c],l)}s&&(s=!1)}};var n;(n={properties:{value:{type:"string",value:""}},methods:{getProperty:{},refresh:{},setProperties:{},setProperty:{},getNodeBySubId:{},getSubIdByNode:{}},extension:{}}).extension._CONSTRUCTOR=i,n.extension._CONTROLS_SUBTREE_HIDDEN=!0,oj.CustomElementBridge.register("oj-switcher",{metadata:n})});
//# sourceMappingURL=ojswitcher.js.map;
define('components/content/tabbed-interface/index',["require", "exports", "preact", "ojs/ojarraydataprovider", "../../../utils/tabbed-interface-helper", "../../../utils/link-helper", "ojs/ojconveyorbelt", "ojs/ojnavigationlist", "ojs/ojswitcher"], function (require, exports, preact_1, ArrayDataProvider, tabbed_interface_helper_1, link_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.removeTabbedInterfaceContent = exports.appendTabbedInterface = exports.TabbedInterface = void 0;
    class TabbedInterface extends preact_1.Component {
        constructor() {
            super();
            this.TAB_SELECTION_CHANGED_EVENT = 'tabSelectionChanged';
            this.TAB_PARAM = 'tab';
            this.onSelectionChangeHandler = (event) => {
                var _a, _b;
                if (event.detail.updatedFrom === 'internal') {
                    this.changeTabContent(event.detail.value);
                    this.updateUrlWithSelectedTab(event.detail.value);
                    (_b = (_a = document.querySelector(`#${event.target.id}`)) === null || _a === void 0 ? void 0 : _a.closest(tabbed_interface_helper_1.TABBED_INTERFACE_SELECTOR)) === null || _b === void 0 ? void 0 : _b.scrollIntoView();
                    this.setState({ selectedTab: event.detail.value });
                    this.dispatchTabSelectionChangedEvent(event.detail.value);
                }
            };
            this.state = {
                selectedTab: '',
                tabItemsDP: this.tabItemsDP
            };
        }
        render() {
            return (preact_1.h(preact_1.Fragment, null,
                preact_1.h("oj-conveyor-belt", { class: "oj-divider-bottom fixed-width", arrowVisibility: "visible", contentParent: `#${this.props.id}TabBar` },
                    preact_1.h("oj-tab-bar", { id: `${this.props.id}TabBar`, data: this.state.tabItemsDP, selection: this.state.selectedTab, onselectionChanged: this.onSelectionChangeHandler, edge: "top", display: "all", class: "oj-sm-margin-4x-horizontal oj-lg-margin-8x-horizontal oj-sm-condense" },
                        preact_1.h("template", { slot: "itemTemplate", "data-oj-as": "item", render: this.renderTabBarItem }))),
                preact_1.h("div", { class: "oj-sm-margin-4x-vertical oj-lg-margin-8x-vertical oj-sm-margin-4x-horizontal oj-lg-margin-8x-horizontal tab-content" }, this.props.publication.tabbedInterfaces[this.props.id].data.map((data, index) => (preact_1.h("div", { id: this.props.publication.tabbedInterfaces[this.props.id].tabs[index].target, "data-tab": this.props.publication.tabbedInterfaces[this.props.id].tabs[index].text, class: "tab-panel", role: "tabpanel" },
                    preact_1.h("div", { dangerouslySetInnerHTML: { __html: data } })))))));
        }
        renderTabBarItem(item) {
            return (preact_1.h("li", null,
                preact_1.h("a", null, item.data.name)));
        }
        componentDidMount() {
            this.setExtraClassesToTabbedContainer();
            this.getTabbedInterfaceData();
            this.initEventListener();
        }
        setExtraClassesToTabbedContainer() {
            var _a;
            (_a = document.getElementById(this.props.id)) === null || _a === void 0 ? void 0 : _a.classList.add('oj-lg-margin-3x-top', 'oj-sm-padding-4x-top', 'oj-lg-padding-6x-top', 'oj-bg-neutral-0');
        }
        getTabbedInterfaceData() {
            const tabItems = this.props.publication.tabbedInterfaces[this.props.id].tabs
                .map(tab => { return { id: tab.text, name: tab.text }; });
            this.tabItemsDP = new ArrayDataProvider(tabItems, { keyAttributes: 'id' });
            let tabFromUrl = new URL(window.location.href).searchParams.get(this.TAB_PARAM);
            tabFromUrl = tabFromUrl ? decodeURIComponent(tabFromUrl) : tabItems[0].id;
            this.changeTabContent(tabFromUrl);
            this.setState({
                selectedTab: this.getTargetTab(tabFromUrl).getAttribute('data-tab'),
                tabItemsDP: this.tabItemsDP
            });
        }
        changeTabContent(tab) {
            var _a;
            const ACTIVE = 'active';
            const targetTab = this.getTargetTab(tab);
            if (targetTab) {
                (_a = document.querySelector(`#${this.props.id} div.tab-panel.active`)) === null || _a === void 0 ? void 0 : _a.classList.remove(ACTIVE);
                targetTab.classList.toggle(ACTIVE);
            }
        }
        getTargetTab(tab) {
            const targetTab = document.querySelector(`#${this.props.id} div.tab-panel[data-tab="${tab}"]`);
            const activeTab = document.querySelector(`#${this.props.id} div.tab-panel.active[data-tab]`);
            let defaultTab = document.querySelector(`#${this.props.id} div.tab-panel[data-tab]:first-of-type`);
            if (activeTab && activeTab !== defaultTab) {
                defaultTab = activeTab;
            }
            return targetTab ? targetTab : defaultTab;
        }
        updateUrlWithSelectedTab(tab) {
            const url = new URL(window.location.href);
            url.searchParams.set(this.TAB_PARAM, tab);
            link_helper_1.updateHistory(this.props.publication.searchSourceParam, url.href);
        }
        initEventListener() {
            document.addEventListener(this.TAB_SELECTION_CHANGED_EVENT, (event) => {
                if (this.state.selectedTab !== event.detail.value) {
                    const targetTab = this.getTargetTab(event.detail.value);
                    if (targetTab) {
                        this.changeTabContent(targetTab.getAttribute('data-tab'));
                        this.setState({ selectedTab: targetTab.getAttribute('data-tab') });
                    }
                }
            });
        }
        dispatchTabSelectionChangedEvent(value) {
            document.dispatchEvent(new CustomEvent(this.TAB_SELECTION_CHANGED_EVENT, {
                detail: {
                    value
                }
            }));
        }
    }
    exports.TabbedInterface = TabbedInterface;
    function appendTabbedInterface(tabbedInterface, target) {
        preact_1.render(tabbedInterface, target);
    }
    exports.appendTabbedInterface = appendTabbedInterface;
    function removeTabbedInterfaceContent(tabbedInterfacesElements) {
        if (tabbedInterfacesElements.length) {
            tabbedInterfacesElements.forEach(tabbedInterface => {
                while (tabbedInterface.hasChildNodes()) {
                    tabbedInterface.removeChild(tabbedInterface.lastChild);
                }
            });
        }
    }
    exports.removeTabbedInterfaceContent = removeTabbedInterfaceContent;
});

define('components/content/legal-notice/index',["require", "exports", "preact", "ojs/ojbutton", "ojs/ojknockout"], function (require, exports, preact_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.appendLegalNotice = exports.LegalNotice = void 0;
    class LegalNotice extends preact_1.Component {
        constructor() {
            super();
            this.NoticeHeaderIcon = ({ type }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("div", { class: `oj-ux-ico-${type}-circle oj-sm-padding-2x-end content-notice-icon` })));
            };
            this.legalNoticeHeaderEventHandler = (event) => {
                if (event.type === 'click' || (event.type === 'keypress' && (event.code === 'Enter' || event.code === 'Space'))) {
                    this.setState(prevState => ({ isLegalNoticeExpanded: !prevState.isLegalNoticeExpanded }));
                }
            };
            this.state = {
                isLegalNoticeExpanded: false,
            };
        }
        render() {
            return (preact_1.h("div", { id: "oracle-legal-notices", class: "oj-sm-width-full oj-sm-margin-6x-top" },
                this.state.isLegalNoticeExpanded &&
                    preact_1.h("div", { id: "legalNoticeContent", dangerouslySetInnerHTML: { __html: this.props.legalNoticeContent } }),
                preact_1.h("div", { id: "legalNoticeHeader", class: "legal-notice-heading", tabIndex: 0, role: "button", onClick: this.legalNoticeHeaderEventHandler, onKeyPress: this.legalNoticeHeaderEventHandler },
                    this.state.isLegalNoticeExpanded ? preact_1.h(this.NoticeHeaderIcon, { type: 'minus' }) : preact_1.h(this.NoticeHeaderIcon, { type: 'plus' }),
                    preact_1.h("span", { class: "oj-typography-md" }, this.props.legalNoticeHeader))));
        }
    }
    exports.LegalNotice = LegalNotice;
    function appendLegalNotice(legalNotice, target) {
        preact_1.render(legalNotice, target);
    }
    exports.appendLegalNotice = appendLegalNotice;
});

define('utils/downlodable-diagram-helper',["require","exports","./dom-helper"],(function(require,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hideDownlodableDiagramAnchor=e.DOWNLODABLE_DIAGRAM_SELECTOR=void 0;e.DOWNLODABLE_DIAGRAM_SELECTOR="a.de-download";e.hideDownlodableDiagramAnchor=e=>{e.style.display="none",o.removeBreakLine(e.parentElement.previousElementSibling)}}));
define('utils/publication-content-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removePublicationTitleFromContent=e.PUBLICATION_CONTENT_CONTAINER_ID=void 0;e.PUBLICATION_CONTENT_CONTAINER_ID="publicationContentContainer";e.removePublicationTitleFromContent=()=>{const e=document.querySelector("html.solution article header > h2, html.md.letter-style article h1:first-of-type");null==e||e.remove()}}));
define('utils/related-content-helper',["require","exports"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RELATED_CONTENT_SELECTOR=void 0;e.RELATED_CONTENT_SELECTOR="article div.relinfo"}));
/*
  Highlight.js 10.1.2 (edd73d24)
  License: BSD-3-Clause
  Copyright (c) 2006-2020, Ivan Sagalaev
*/
var hljs=function(){"use strict";function e(n){Object.freeze(n);var t="function"==typeof n;return Object.getOwnPropertyNames(n).forEach((function(r){!Object.hasOwnProperty.call(n,r)||null===n[r]||"object"!=typeof n[r]&&"function"!=typeof n[r]||t&&("caller"===r||"callee"===r||"arguments"===r)||Object.isFrozen(n[r])||e(n[r])})),n}class n{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data}ignoreMatch(){this.ignore=!0}}function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...n){var t={};for(const n in e)t[n]=e[n];return n.forEach((function(e){for(const n in e)t[n]=e[n]})),t}function a(e){return e.nodeName.toLowerCase()}var i=Object.freeze({__proto__:null,escapeHTML:t,inherit:r,nodeStream:function(e){var n=[];return function e(t,r){for(var i=t.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(n.push({event:"start",offset:r,node:i}),r=e(i,r),a(i).match(/br|hr|img|input/)||n.push({event:"stop",offset:r,node:i}));return r}(e,0),n},mergeStreams:function(e,n,r){var i=0,s="",o=[];function l(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function c(e){s+="<"+a(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+t(e.value)+'"'})).join("")+">"}function u(e){s+="</"+a(e)+">"}function d(e){("start"===e.event?c:u)(e.node)}for(;e.length||n.length;){var g=l();if(s+=t(r.substring(i,g[0].offset)),i=g[0].offset,g===e){o.reverse().forEach(u);do{d(g.splice(0,1)[0]),g=l()}while(g===e&&g.length&&g[0].offset===i);o.reverse().forEach(c)}else"start"===g[0].event?o.push(g[0].node):o.pop(),d(g.splice(0,1)[0])}return s+t(r.substr(i))}});const s="</span>",o=e=>!!e.kind;class l{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=t(e)}openNode(e){if(!o(e))return;let n=e.kind;e.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(e){o(e)&&(this.buffer+=s)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class c{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n={kind:e,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return"string"==typeof n?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(n=>this._walk(e,n)),e.closeNode(n)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{c._collapse(e)}))}}class u extends c{constructor(e){super(),this.options=e}addKeyword(e,n){""!==e&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,n){const t=e.root;t.kind=n,t.sublanguage=!0,this.add(t)}toHTML(){return new l(this,this.options).value()}finalize(){return!0}}function d(e){return e?"string"==typeof e?e:e.source:null}const g="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",h={begin:"\\\\[\\s\\S]",relevance:0},f={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[h]},p={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[h]},b={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},m=function(e,n,t={}){var a=r({className:"comment",begin:e,end:n,contains:[]},t);return a.contains.push(b),a.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),a},v=m("//","$"),x=m("/\\*","\\*/"),E=m("#","$");var _=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:g,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const n=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map(e=>d(e)).join("")}(n,/.*\b/,e.binary,/\b.*/)),r({className:"meta",begin:n,end:/$/,relevance:0,"on:begin":(e,n)=>{0!==e.index&&n.ignoreMatch()}},e)},BACKSLASH_ESCAPE:h,APOS_STRING_MODE:f,QUOTE_STRING_MODE:p,PHRASAL_WORDS_MODE:b,COMMENT:m,C_LINE_COMMENT_MODE:v,C_BLOCK_COMMENT_MODE:x,HASH_COMMENT_MODE:E,NUMBER_MODE:{className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},C_NUMBER_MODE:{className:"number",begin:g,relevance:0},BINARY_NUMBER_MODE:{className:"number",begin:"\\b(0b[01]+)",relevance:0},CSS_NUMBER_MODE:{className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE:{begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[h,{begin:/\[/,end:/\]/,relevance:0,contains:[h]}]}]},TITLE_MODE:{className:"title",begin:"[a-zA-Z]\\w*",relevance:0},UNDERSCORE_TITLE_MODE:{className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},METHOD_GUARD:{begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})}}),N="of and for in not or if then".split(" ");function w(e,n){return n?+n:function(e){return N.includes(e.toLowerCase())}(e)?0:1}const R=t,y=r,{nodeStream:O,mergeStreams:k}=i,M=Symbol("nomatch");return function(t){var a=[],i=Object.create(null),s=Object.create(null),o=[],l=!0,c=/(^(<[^>]+>|\t|)+|\n)/gm,g="Could not find the language '{}', did you forget to load/include a language module?";const h={disableAutodetect:!0,name:"Plain text",contains:[]};var f={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:u};function p(e){return f.noHighlightRe.test(e)}function b(e,n,t,r){var a={code:n,language:e};S("before:highlight",a);var i=a.result?a.result:m(a.language,a.code,t,r);return i.code=a.code,S("after:highlight",i),i}function m(e,t,a,s){var o=t;function c(e,n){var t=E.case_insensitive?n[0].toLowerCase():n[0];return Object.prototype.hasOwnProperty.call(e.keywords,t)&&e.keywords[t]}function u(){null!=y.subLanguage?function(){if(""!==A){var e=null;if("string"==typeof y.subLanguage){if(!i[y.subLanguage])return void k.addText(A);e=m(y.subLanguage,A,!0,O[y.subLanguage]),O[y.subLanguage]=e.top}else e=v(A,y.subLanguage.length?y.subLanguage:null);y.relevance>0&&(I+=e.relevance),k.addSublanguage(e.emitter,e.language)}}():function(){if(!y.keywords)return void k.addText(A);let e=0;y.keywordPatternRe.lastIndex=0;let n=y.keywordPatternRe.exec(A),t="";for(;n;){t+=A.substring(e,n.index);const r=c(y,n);if(r){const[e,a]=r;k.addText(t),t="",I+=a,k.addKeyword(n[0],e)}else t+=n[0];e=y.keywordPatternRe.lastIndex,n=y.keywordPatternRe.exec(A)}t+=A.substr(e),k.addText(t)}(),A=""}function h(e){return e.className&&k.openNode(e.className),y=Object.create(e,{parent:{value:y}})}function p(e){return 0===y.matcher.regexIndex?(A+=e[0],1):(L=!0,0)}var b={};function x(t,r){var i=r&&r[0];if(A+=t,null==i)return u(),0;if("begin"===b.type&&"end"===r.type&&b.index===r.index&&""===i){if(A+=o.slice(r.index,r.index+1),!l){const n=Error("0 width match regex");throw n.languageName=e,n.badRule=b.rule,n}return 1}if(b=r,"begin"===r.type)return function(e){var t=e[0],r=e.rule;const a=new n(r),i=[r.__beforeBegin,r["on:begin"]];for(const n of i)if(n&&(n(e,a),a.ignore))return p(t);return r&&r.endSameAsBegin&&(r.endRe=RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),r.skip?A+=t:(r.excludeBegin&&(A+=t),u(),r.returnBegin||r.excludeBegin||(A=t)),h(r),r.returnBegin?0:t.length}(r);if("illegal"===r.type&&!a){const e=Error('Illegal lexeme "'+i+'" for mode "'+(y.className||"<unnamed>")+'"');throw e.mode=y,e}if("end"===r.type){var s=function(e){var t=e[0],r=o.substr(e.index),a=function e(t,r,a){let i=function(e,n){var t=e&&e.exec(n);return t&&0===t.index}(t.endRe,a);if(i){if(t["on:end"]){const e=new n(t);t["on:end"](r,e),e.ignore&&(i=!1)}if(i){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,r,a)}(y,e,r);if(!a)return M;var i=y;i.skip?A+=t:(i.returnEnd||i.excludeEnd||(A+=t),u(),i.excludeEnd&&(A=t));do{y.className&&k.closeNode(),y.skip||y.subLanguage||(I+=y.relevance),y=y.parent}while(y!==a.parent);return a.starts&&(a.endSameAsBegin&&(a.starts.endRe=a.endRe),h(a.starts)),i.returnEnd?0:t.length}(r);if(s!==M)return s}if("illegal"===r.type&&""===i)return 1;if(B>1e5&&B>3*r.index)throw Error("potential infinite loop, way more iterations than matches");return A+=i,i.length}var E=T(e);if(!E)throw console.error(g.replace("{}",e)),Error('Unknown language: "'+e+'"');var _=function(e){function n(n,t){return RegExp(d(n),"m"+(e.case_insensitive?"i":"")+(t?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,n){n.position=this.position++,this.matchIndexes[this.matchAt]=n,this.regexes.push([n,e]),this.matchAt+=function(e){return RegExp(e.toString()+"|").exec("").length-1}(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=n(function(e,n="|"){for(var t=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,a="",i=0;i<e.length;i++){var s=r+=1,o=d(e[i]);for(i>0&&(a+=n),a+="(";o.length>0;){var l=t.exec(o);if(null==l){a+=o;break}a+=o.substring(0,l.index),o=o.substring(l.index+l[0].length),"\\"===l[0][0]&&l[1]?a+="\\"+(+l[1]+s):(a+=l[0],"("===l[0]&&r++)}a+=")"}return a}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const n=this.matcherRe.exec(e);if(!n)return null;const t=n.findIndex((e,n)=>n>0&&void 0!==e),r=this.matchIndexes[t];return n.splice(0,t),Object.assign(n,r)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const n=new t;return this.rules.slice(e).forEach(([e,t])=>n.addRule(e,t)),n.compile(),this.multiRegexes[e]=n,n}considerAll(){this.regexIndex=0}addRule(e,n){this.rules.push([e,n]),"begin"===n.type&&this.count++}exec(e){const n=this.getMatcher(this.regexIndex);n.lastIndex=this.lastIndex;const t=n.exec(e);return t&&(this.regexIndex+=t.position+1,this.regexIndex===this.count&&(this.regexIndex=0)),t}}function i(e,n){const t=e.input[e.index-1],r=e.input[e.index+e[0].length];"."!==t&&"."!==r||n.ignoreMatch()}if(e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return function t(s,o){const l=s;if(s.compiled)return l;s.compiled=!0,s.__beforeBegin=null,s.keywords=s.keywords||s.beginKeywords;let c=null;if("object"==typeof s.keywords&&(c=s.keywords.$pattern,delete s.keywords.$pattern),s.keywords&&(s.keywords=function(e,n){var t={};return"string"==typeof e?r("keyword",e):Object.keys(e).forEach((function(n){r(n,e[n])})),t;function r(e,r){n&&(r=r.toLowerCase()),r.split(" ").forEach((function(n){var r=n.split("|");t[r[0]]=[e,w(r[0],r[1])]}))}}(s.keywords,e.case_insensitive)),s.lexemes&&c)throw Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return l.keywordPatternRe=n(s.lexemes||c||/\w+/,!0),o&&(s.beginKeywords&&(s.begin="\\b("+s.beginKeywords.split(" ").join("|")+")(?=\\b|\\s)",s.__beforeBegin=i),s.begin||(s.begin=/\B|\b/),l.beginRe=n(s.begin),s.endSameAsBegin&&(s.end=s.begin),s.end||s.endsWithParent||(s.end=/\B|\b/),s.end&&(l.endRe=n(s.end)),l.terminator_end=d(s.end)||"",s.endsWithParent&&o.terminator_end&&(l.terminator_end+=(s.end?"|":"")+o.terminator_end)),s.illegal&&(l.illegalRe=n(s.illegal)),void 0===s.relevance&&(s.relevance=1),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map((function(e){return function(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map((function(n){return r(e,{variants:null},n)}))),e.cached_variants?e.cached_variants:function e(n){return!!n&&(n.endsWithParent||e(n.starts))}(e)?r(e,{starts:e.starts?r(e.starts):null}):Object.isFrozen(e)?r(e):e}("self"===e?s:e)}))),s.contains.forEach((function(e){t(e,l)})),s.starts&&t(s.starts,o),l.matcher=function(e){const n=new a;return e.contains.forEach(e=>n.addRule(e.begin,{rule:e,type:"begin"})),e.terminator_end&&n.addRule(e.terminator_end,{type:"end"}),e.illegal&&n.addRule(e.illegal,{type:"illegal"}),n}(l),l}(e)}(E),N="",y=s||_,O={},k=new f.__emitter(f);!function(){for(var e=[],n=y;n!==E;n=n.parent)n.className&&e.unshift(n.className);e.forEach(e=>k.openNode(e))}();var A="",I=0,S=0,B=0,L=!1;try{for(y.matcher.considerAll();;){B++,L?L=!1:(y.matcher.lastIndex=S,y.matcher.considerAll());const e=y.matcher.exec(o);if(!e)break;const n=x(o.substring(S,e.index),e);S=e.index+n}return x(o.substr(S)),k.closeAllNodes(),k.finalize(),N=k.toHTML(),{relevance:I,value:N,language:e,illegal:!1,emitter:k,top:y}}catch(n){if(n.message&&n.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:n.message,context:o.slice(S-100,S+100),mode:n.mode},sofar:N,relevance:0,value:R(o),emitter:k};if(l)return{illegal:!1,relevance:0,value:R(o),emitter:k,language:e,top:y,errorRaised:n};throw n}}function v(e,n){n=n||f.languages||Object.keys(i);var t=function(e){const n={relevance:0,emitter:new f.__emitter(f),value:R(e),illegal:!1,top:h};return n.emitter.addText(e),n}(e),r=t;return n.filter(T).filter(I).forEach((function(n){var a=m(n,e,!1);a.language=n,a.relevance>r.relevance&&(r=a),a.relevance>t.relevance&&(r=t,t=a)})),r.language&&(t.second_best=r),t}function x(e){return f.tabReplace||f.useBR?e.replace(c,e=>"\n"===e?f.useBR?"<br>":e:f.tabReplace?e.replace(/\t/g,f.tabReplace):e):e}function E(e){let n=null;const t=function(e){var n=e.className+" ";n+=e.parentNode?e.parentNode.className:"";const t=f.languageDetectRe.exec(n);if(t){var r=T(t[1]);return r||(console.warn(g.replace("{}",t[1])),console.warn("Falling back to no-highlight mode for this block.",e)),r?t[1]:"no-highlight"}return n.split(/\s+/).find(e=>p(e)||T(e))}(e);if(p(t))return;S("before:highlightBlock",{block:e,language:t}),f.useBR?(n=document.createElement("div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"):n=e;const r=n.textContent,a=t?b(t,r,!0):v(r),i=O(n);if(i.length){const e=document.createElement("div");e.innerHTML=a.value,a.value=k(i,O(e),r)}a.value=x(a.value),S("after:highlightBlock",{block:e,result:a}),e.innerHTML=a.value,e.className=function(e,n,t){var r=n?s[n]:t,a=[e.trim()];return e.match(/\bhljs\b/)||a.push("hljs"),e.includes(r)||a.push(r),a.join(" ").trim()}(e.className,t,a.language),e.result={language:a.language,re:a.relevance,relavance:a.relevance},a.second_best&&(e.second_best={language:a.second_best.language,re:a.second_best.relevance,relavance:a.second_best.relevance})}const N=()=>{if(!N.called){N.called=!0;var e=document.querySelectorAll("pre code");a.forEach.call(e,E)}};function T(e){return e=(e||"").toLowerCase(),i[e]||i[s[e]]}function A(e,{languageName:n}){"string"==typeof e&&(e=[e]),e.forEach(e=>{s[e]=n})}function I(e){var n=T(e);return n&&!n.disableAutodetect}function S(e,n){var t=e;o.forEach((function(e){e[t]&&e[t](n)}))}Object.assign(t,{highlight:b,highlightAuto:v,fixMarkup:x,highlightBlock:E,configure:function(e){f=y(f,e)},initHighlighting:N,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",N,!1)},registerLanguage:function(e,n){var r=null;try{r=n(t)}catch(n){if(console.error("Language definition for '{}' could not be registered.".replace("{}",e)),!l)throw n;console.error(n),r=h}r.name||(r.name=e),i[e]=r,r.rawDefinition=n.bind(null,t),r.aliases&&A(r.aliases,{languageName:e})},listLanguages:function(){return Object.keys(i)},getLanguage:T,registerAliases:A,requireLanguage:function(e){var n=T(e);if(n)return n;throw Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:I,inherit:y,addPlugin:function(e){o.push(e)}}),t.debugMode=function(){l=!1},t.safeMode=function(){l=!0},t.versionString="10.1.2";for(const n in _)"object"==typeof _[n]&&e(_[n]);return Object.assign(t,_),t}({})}();"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=hljs);
hljs.registerLanguage("apache",function(){"use strict";return function(e){var n={className:"number",begin:"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?"};return{name:"Apache config",aliases:["apacheconf"],case_insensitive:!0,contains:[e.HASH_COMMENT_MODE,{className:"section",begin:"</?",end:">",contains:[n,{className:"number",begin:":\\d{1,5}"},e.inherit(e.QUOTE_STRING_MODE,{relevance:0})]},{className:"attribute",begin:/\w+/,relevance:0,keywords:{nomarkup:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{end:/$/,relevance:0,keywords:{literal:"on off all deny allow"},contains:[{className:"meta",begin:"\\s\\[",end:"\\]$"},{className:"variable",begin:"[\\$%]\\{",end:"\\}",contains:["self",{className:"number",begin:"[\\$%]\\d+"}]},n,{className:"number",begin:"\\d+"},e.QUOTE_STRING_MODE]}}],illegal:/\S/}}}());
hljs.registerLanguage("bash",function(){"use strict";return function(e){const s={};Object.assign(s,{className:"variable",variants:[{begin:/\$[\w\d#@][\w\d_]*/},{begin:/\$\{/,end:/\}/,contains:[{begin:/:-/,contains:[s]}]}]});const t={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,t]};t.contains.push(n);const a={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,s]},i=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b-?[a-z\._]+\b/,keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},contains:[i,e.SHEBANG(),c,a,e.HASH_COMMENT_MODE,n,{className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},s]}}}());
hljs.registerLanguage("c-like",function(){"use strict";return function(e){function t(e){return"(?:"+e+")?"}var n="(decltype\\(auto\\)|"+t("[a-zA-Z_]\\w*::")+"[a-zA-Z_]\\w*"+t("<.*?>")+")",r={className:"keyword",begin:"\\b[a-z\\d_]*_t\\b"},a={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},i={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},s={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(a,{className:"meta-string"}),{className:"meta-string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},o={className:"title",begin:t("[a-zA-Z_]\\w*::")+e.IDENT_RE,relevance:0},c=t("[a-zA-Z_]\\w*::")+e.IDENT_RE+"\\s*\\(",l={keyword:"int float while private char char8_t char16_t char32_t catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid wchar_t short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignas alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict final override atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and and_eq bitand bitor compl not not_eq or or_eq xor xor_eq",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr _Bool complex _Complex imaginary _Imaginary",literal:"true false nullptr NULL"},d=[r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,i,a],_={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:l,contains:d.concat([{begin:/\(/,end:/\)/,keywords:l,contains:d.concat(["self"]),relevance:0}]),relevance:0},u={className:"function",begin:"("+n+"[\\*&\\s]+)+"+c,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:l,illegal:/[^\w\s\*&:<>]/,contains:[{begin:"decltype\\(auto\\)",keywords:l,relevance:0},{begin:c,returnBegin:!0,contains:[o],relevance:0},{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a,i,r,{begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:["self",e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,a,i,r]}]},r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,s]};return{aliases:["c","cc","h","c++","h++","hpp","hh","hxx","cxx"],keywords:l,disableAutodetect:!0,illegal:"</",contains:[].concat(_,u,d,[s,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:l,contains:["self",r]},{begin:e.IDENT_RE+"::",keywords:l},{className:"class",beginKeywords:"class struct",end:/[{;:]/,contains:[{begin:/</,end:/>/,contains:["self"]},e.TITLE_MODE]}]),exports:{preprocessor:s,strings:a,keywords:l}}}}());
hljs.registerLanguage("c",function(){"use strict";return function(e){var n=e.getLanguage("c-like").rawDefinition();return n.name="C",n.aliases=["c","h"],n}}());
hljs.registerLanguage("coffeescript",function(){"use strict";const e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],n=["true","false","null","undefined","NaN","Infinity"],a=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);return function(r){var t={keyword:e.concat(["then","unless","until","loop","by","when","and","or","is","isnt","not"]).filter((e=>n=>!e.includes(n))(["var","const","let","function","static"])).join(" "),literal:n.concat(["yes","no","on","off"]).join(" "),built_in:a.concat(["npm","print"]).join(" ")},i="[A-Za-z$_][0-9A-Za-z$_]*",s={className:"subst",begin:/#\{/,end:/}/,keywords:t},o=[r.BINARY_NUMBER_MODE,r.inherit(r.C_NUMBER_MODE,{starts:{end:"(\\s*/)?",relevance:0}}),{className:"string",variants:[{begin:/'''/,end:/'''/,contains:[r.BACKSLASH_ESCAPE]},{begin:/'/,end:/'/,contains:[r.BACKSLASH_ESCAPE]},{begin:/"""/,end:/"""/,contains:[r.BACKSLASH_ESCAPE,s]},{begin:/"/,end:/"/,contains:[r.BACKSLASH_ESCAPE,s]}]},{className:"regexp",variants:[{begin:"///",end:"///",contains:[s,r.HASH_COMMENT_MODE]},{begin:"//[gim]{0,3}(?=\\W)",relevance:0},{begin:/\/(?![ *]).*?(?![\\]).\/[gim]{0,3}(?=\W)/}]},{begin:"@"+i},{subLanguage:"javascript",excludeBegin:!0,excludeEnd:!0,variants:[{begin:"```",end:"```"},{begin:"`",end:"`"}]}];s.contains=o;var c=r.inherit(r.TITLE_MODE,{begin:i}),l={className:"params",begin:"\\([^\\(]",returnBegin:!0,contains:[{begin:/\(/,end:/\)/,keywords:t,contains:["self"].concat(o)}]};return{name:"CoffeeScript",aliases:["coffee","cson","iced"],keywords:t,illegal:/\/\*/,contains:o.concat([r.COMMENT("###","###"),r.HASH_COMMENT_MODE,{className:"function",begin:"^\\s*"+i+"\\s*=\\s*(\\(.*\\))?\\s*\\B[-=]>",end:"[-=]>",returnBegin:!0,contains:[c,l]},{begin:/[:\(,=]\s*/,relevance:0,contains:[{className:"function",begin:"(\\(.*\\))?\\s*\\B[-=]>",end:"[-=]>",returnBegin:!0,contains:[l]}]},{className:"class",beginKeywords:"class",end:"$",illegal:/[:="\[\]]/,contains:[{beginKeywords:"extends",endsWithParent:!0,illegal:/[:="\[\]]/,contains:[c]},c]},{begin:i+":",end:":",returnBegin:!0,returnEnd:!0,relevance:0}])}}}());
hljs.registerLanguage("cpp",function(){"use strict";return function(e){var t=e.getLanguage("c-like").rawDefinition();return t.disableAutodetect=!1,t.name="C++",t.aliases=["cc","c++","h++","hpp","hh","hxx","cxx"],t}}());
hljs.registerLanguage("csharp",function(){"use strict";return function(e){var n={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let nameof on orderby partial remove select set value var when where yield",literal:"null false true"},i=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),a={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},s={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},t=e.inherit(s,{illegal:/\n/}),l={className:"subst",begin:"{",end:"}",keywords:n},r=e.inherit(l,{illegal:/\n/}),c={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:"{{"},{begin:"}}"},e.BACKSLASH_ESCAPE,r]},o={className:"string",begin:/\$@"/,end:'"',contains:[{begin:"{{"},{begin:"}}"},{begin:'""'},l]},g=e.inherit(o,{illegal:/\n/,contains:[{begin:"{{"},{begin:"}}"},{begin:'""'},r]});l.contains=[o,c,s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,a,e.C_BLOCK_COMMENT_MODE],r.contains=[g,c,t,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,a,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];var d={variants:[o,c,s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},E={begin:"<",end:">",contains:[{beginKeywords:"in out"},i]},_=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",b={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:n,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},d,a,{beginKeywords:"class interface",end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},i,E,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",end:/[{;=]/,illegal:/[^\s:]/,contains:[i,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"meta-string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+_+"\\s+)+"+e.IDENT_RE+"\\s*(\\<.+\\>)?\\s*\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:n,contains:[{begin:e.IDENT_RE+"\\s*(\\<.+\\>)?\\s*\\(",returnBegin:!0,contains:[e.TITLE_MODE,E],relevance:0},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:n,relevance:0,contains:[d,a,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},b]}}}());
hljs.registerLanguage("css",function(){"use strict";return function(e){var n={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{name:"CSS",case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{className:"keyword",begin:/@\-?\w[\w]*(\-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,n]}]}}}());
hljs.registerLanguage("diff",function(){"use strict";return function(e){return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,variants:[{begin:/^@@ +\-\d+,\d+ +\+\d+,\d+ +@@$/},{begin:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{begin:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{className:"comment",variants:[{begin:/Index: /,end:/$/},{begin:/={3,}/,end:/$/},{begin:/^\-{3}/,end:/$/},{begin:/^\*{3} /,end:/$/},{begin:/^\+{3}/,end:/$/},{begin:/^\*{15}$/}]},{className:"addition",begin:"^\\+",end:"$"},{className:"deletion",begin:"^\\-",end:"$"},{className:"addition",begin:"^\\!",end:"$"}]}}}());
hljs.registerLanguage("go",function(){"use strict";return function(e){var n={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{name:"Go",aliases:["golang"],keywords:n,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:n,illegal:/["']/}]}]}}}());
hljs.registerLanguage("http",function(){"use strict";return function(e){var n="HTTP/[0-9\\.]+";return{name:"HTTP",aliases:["https"],illegal:"\\S",contains:[{begin:"^"+n,end:"$",contains:[{className:"number",begin:"\\b\\d{3}\\b"}]},{begin:"^[A-Z]+ (.*?) "+n+"$",returnBegin:!0,end:"$",contains:[{className:"string",begin:" ",end:" ",excludeBegin:!0,excludeEnd:!0},{begin:n},{className:"keyword",begin:"[A-Z]+"}]},{className:"attribute",begin:"^\\w",end:": ",excludeEnd:!0,illegal:"\\n|\\s|=",starts:{end:"$",relevance:0}},{begin:"\\n\\n",starts:{subLanguage:[],endsWithParent:!0}}]}}}());
hljs.registerLanguage("ini",function(){"use strict";function e(e){return e?"string"==typeof e?e:e.source:null}function n(...n){return n.map(n=>e(n)).join("")}return function(a){var s={className:"number",relevance:0,variants:[{begin:/([\+\-]+)?[\d]+_[\d_]+/},{begin:a.NUMBER_RE}]},i=a.COMMENT();i.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];var t={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)}/}]},r={className:"literal",begin:/\bon|off|true|false|yes|no\b/},l={className:"string",contains:[a.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},c={begin:/\[/,end:/\]/,contains:[i,r,t,l,s,"self"],relevance:0},g="("+[/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/].map(n=>e(n)).join("|")+")";return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[i,{className:"section",begin:/\[+/,end:/\]+/},{begin:n(g,"(\\s*\\.\\s*",g,")*",n("(?=",/\s*=\s*[^#\s]/,")")),className:"attr",starts:{end:/$/,contains:[i,c,r,t,l,s]}}]}}}());
hljs.registerLanguage("java",function(){"use strict";function e(e){return e?"string"==typeof e?e:e.source:null}function n(e){return a("(",e,")?")}function a(...n){return n.map(n=>e(n)).join("")}function s(...n){return"("+n.map(n=>e(n)).join("|")+")"}return function(e){var t="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",i={className:"meta",begin:"@[-a-zA-Z_$][-a-zA-Z_$0-9]*",contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},r=e=>a("[",e,"]+([",e,"_]*[",e,"]+)?"),c={className:"number",variants:[{begin:`\\b(0[bB]${r("01")})[lL]?`},{begin:`\\b(0${r("0-7")})[dDfFlL]?`},{begin:a(/\b0[xX]/,s(a(r("a-fA-F0-9"),/\./,r("a-fA-F0-9")),a(r("a-fA-F0-9"),/\.?/),a(/\./,r("a-fA-F0-9"))),/([pP][+-]?(\d+))?/,/[fFdDlL]?/)},{begin:a(/\b/,s(a(/\d*\./,r("\\d")),r("\\d")),/[eE][+-]?[\d]+[dDfF]?/)},{begin:a(/\b/,r(/\d/),n(/\.?/),n(r(/\d/)),/[dDfFlL]?/)}],relevance:0};return{name:"Java",aliases:["jsp"],keywords:t,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface",end:/[{;=]/,excludeEnd:!0,keywords:"class interface",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"function",begin:"([-a-zA-Z_$][-a-zA-Z_$0-9]*(<[-a-zA-Z_$][-a-zA-Z_$0-9]*(\\s*,\\s*[-a-zA-Z_$][-a-zA-Z_$0-9]*)*>)?\\s+)+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:t,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:t,relevance:0,contains:[i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},c,i]}}}());
hljs.registerLanguage("javascript",function(){"use strict";const e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],n=["true","false","null","undefined","NaN","Infinity"],a=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function s(e){return r("(?=",e,")")}function r(...e){return e.map(e=>(function(e){return e?"string"==typeof e?e:e.source:null})(e)).join("")}return function(t){var i="[A-Za-z$_][0-9A-Za-z$_]*",c={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/},o={$pattern:"[A-Za-z$_][0-9A-Za-z$_]*",keyword:e.join(" "),literal:n.join(" "),built_in:a.join(" ")},l={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:t.C_NUMBER_RE+"n?"}],relevance:0},E={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},d={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,E],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,E],subLanguage:"css"}},u={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,E]};E.contains=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,g,u,l,t.REGEXP_MODE];var b=E.contains.concat([{begin:/\(/,end:/\)/,contains:["self"].concat(E.contains,[t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE])},t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]),_={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:b};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,contains:[t.SHEBANG({binary:"node",relevance:5}),{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,d,g,u,t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,l,{begin:r(/[{,\n]\s*/,s(r(/(((\/\/.*)|(\/\*(.|\n)*\*\/))\s*)*/,i+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:i+s("\\s*:"),relevance:0}]},{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.REGEXP_MODE,{className:"function",begin:"(\\([^(]*(\\([^(]*(\\([^(]*\\))?\\))?\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:b}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:"<>",end:"</>"},{begin:c.begin,end:c.end}],subLanguage:"xml",contains:[{begin:c.begin,end:c.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[t.inherit(t.TITLE_MODE,{begin:i}),_],illegal:/\[|%/},{begin:/\$[(.]/},t.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0},{begin:"(get|set)\\s+(?="+i+"\\()",end:/{/,keywords:"get set",contains:[t.inherit(t.TITLE_MODE,{begin:i}),{begin:/\(\)/},_]}],illegal:/#(?!!)/}}}());
hljs.registerLanguage("json",function(){"use strict";return function(n){var e={literal:"true false null"},i=[n.C_LINE_COMMENT_MODE,n.C_BLOCK_COMMENT_MODE],t=[n.QUOTE_STRING_MODE,n.C_NUMBER_MODE],a={end:",",endsWithParent:!0,excludeEnd:!0,contains:t,keywords:e},l={begin:"{",end:"}",contains:[{className:"attr",begin:/"/,end:/"/,contains:[n.BACKSLASH_ESCAPE],illegal:"\\n"},n.inherit(a,{begin:/:/})].concat(i),illegal:"\\S"},s={begin:"\\[",end:"\\]",contains:[n.inherit(a)],illegal:"\\S"};return t.push(l,s),i.forEach((function(n){t.push(n)})),{name:"JSON",contains:t,keywords:e,illegal:"\\S"}}}());
hljs.registerLanguage("kotlin",function(){"use strict";return function(e){var n={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual trait volatile transient native default",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},a={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:"\\${",end:"}",contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},t={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(t);var r={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(t,{className:"meta-string"})]}]},c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),o={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=o;return d.variants[1].contains=[o],o.variants[1].contains=[d],{name:"Kotlin",aliases:["kt"],keywords:n,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},a,r,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:n,illegal:/fun\s+(<.*>)?[^\s\(]+(\s+[^\s\(]+)\s*=/,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:n,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[o,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,r,l,t,e.C_NUMBER_MODE]},c]},{className:"class",beginKeywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,]|$/,excludeBegin:!0,returnEnd:!0},r,l]},t,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},{className:"number",begin:"\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",relevance:0}]}}}());
hljs.registerLanguage("less",function(){"use strict";return function(e){var n="([\\w-]+|@{[\\w-]+})",a=[],s=[],t=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},r=function(e,n,a){return{className:e,begin:n,relevance:a}},i={begin:"\\(",end:"\\)",contains:s,relevance:0};s.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,t("'"),t('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},r("number","#[0-9A-Fa-f]+\\b"),i,r("variable","@@?[\\w-]+",10),r("variable","@{[\\w-]+}"),r("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},{className:"meta",begin:"!important"});var c=s.concat({begin:"{",end:"}",contains:a}),l={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(s)},o={begin:n+"\\s*:",returnBegin:!0,end:"[;}]",relevance:0,contains:[{className:"attribute",begin:n,end:":",excludeEnd:!0,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:s}}]},g={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",returnEnd:!0,contains:s,relevance:0}},d={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:c}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:n,end:"{"}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l,r("keyword","all\\b"),r("variable","@{[\\w-]+}"),r("selector-tag",n+"%?",0),r("selector-id","#"+n),r("selector-class","\\."+n,0),r("selector-tag","&",0),{className:"selector-attr",begin:"\\[",end:"\\]"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"\\(",end:"\\)",contains:c},{begin:"!important"}]};return a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,d,o,b),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:a}}}());
hljs.registerLanguage("lua",function(){"use strict";return function(e){var t={begin:"\\[=*\\[",end:"\\]=*\\]",contains:["self"]},a=[e.COMMENT("--(?!\\[=*\\[)","$"),e.COMMENT("--\\[=*\\[","\\]=*\\]",{contains:[t],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:a.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:a}].concat(a)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"\\[=*\\[",end:"\\]=*\\]",contains:[t],relevance:5}])}}}());
hljs.registerLanguage("makefile",function(){"use strict";return function(e){var i={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,i]},a={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[i]},r={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[i]};return{name:"Makefile",aliases:["mk","mak"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,i,n,a,r,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,"meta-keyword":".PHONY"}},s]}}}());
hljs.registerLanguage("xml",function(){"use strict";return function(e){var n={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},a={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},s=e.inherit(a,{begin:"\\(",end:"\\)"}),t=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),i=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[a,i,t,s,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[a,s,i,t]}]}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[c],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[c],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},c]}]}}}());
hljs.registerLanguage("markdown",function(){"use strict";return function(n){const e={begin:"<",end:">",subLanguage:"xml",relevance:0},a={begin:"\\[.+?\\][\\(\\[].*?[\\)\\]]",returnBegin:!0,contains:[{className:"string",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},i={className:"strong",contains:[],variants:[{begin:/_{2}/,end:/_{2}/},{begin:/\*{2}/,end:/\*{2}/}]},s={className:"emphasis",contains:[],variants:[{begin:/\*(?!\*)/,end:/\*/},{begin:/_(?!_)/,end:/_/,relevance:0}]};i.contains.push(s),s.contains.push(i);var c=[e,a];return i.contains=i.contains.concat(c),s.contains=s.contains.concat(c),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:c=c.concat(i,s)},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:c}]}]},e,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},i,s,{className:"quote",begin:"^>\\s+",contains:c,end:"$"},{className:"code",variants:[{begin:"(`{3,})(.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})(.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},a,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}}());
hljs.registerLanguage("nginx",function(){"use strict";return function(e){var n={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{/,end:/}/},{begin:"[\\$\\@]"+e.UNDERSCORE_IDENT_RE}]},a={endsWithParent:!0,keywords:{$pattern:"[a-z/_]+",literal:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0,contains:[n]},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:"\\s\\^",end:"\\s|{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},n]};return{name:"Nginx config",aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{begin:e.UNDERSCORE_IDENT_RE+"\\s+{",returnBegin:!0,end:"{",contains:[{className:"section",begin:e.UNDERSCORE_IDENT_RE}],relevance:0},{begin:e.UNDERSCORE_IDENT_RE+"\\s",end:";|{",returnBegin:!0,contains:[{className:"attribute",begin:e.UNDERSCORE_IDENT_RE,starts:a}],relevance:0}],illegal:"[^\\s\\}]"}}}());
hljs.registerLanguage("objectivec",function(){"use strict";return function(e){var n=/[a-zA-Z@][a-zA-Z0-9_]*/,_={$pattern:n,keyword:"@interface @class @protocol @implementation"};return{name:"Objective-C",aliases:["mm","objc","obj-c"],keywords:{$pattern:n,keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),{className:"meta-string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+_.keyword.split(" ").join("|")+")\\b",end:"({|$)",excludeEnd:!0,keywords:_,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}}());
hljs.registerLanguage("perl",function(){"use strict";return function(e){var n={$pattern:/[\w.]+/,keyword:"getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qq fileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmget sub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedir ioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when"},t={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:n},s={begin:"->{",end:"}"},r={variants:[{begin:/\$\d/},{begin:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{begin:/[\$%@][^\s\w{]/,relevance:0}]},i=[e.BACKSLASH_ESCAPE,t,r],a=[r,e.HASH_COMMENT_MODE,e.COMMENT("^\\=\\w","\\=cut",{endsWithParent:!0}),s,{className:"string",contains:i,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*\\<",end:"\\>",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:"{\\w+}",contains:[],relevance:0},{begin:"-?\\w+\\s*\\=\\>",contains:[],relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",begin:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{className:"regexp",begin:"(m|qr)?/",end:"/[a-z]*",contains:[e.BACKSLASH_ESCAPE],relevance:0}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return t.contains=a,s.contains=a,{name:"Perl",aliases:["pl","pm"],keywords:n,contains:a}}}());
hljs.registerLanguage("php",function(){"use strict";return function(e){var r={begin:"\\$+[a-zA-Z_-][a-zA-Z0-9_-]*"},t={className:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?[=]?/},{begin:/\?>/}]},a={className:"string",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null})]},n={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]},i={keyword:"__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ die echo exit include include_once print require require_once array abstract and as binary bool boolean break callable case catch class clone const continue declare default do double else elseif empty enddeclare endfor endforeach endif endswitch endwhile eval extends final finally float for foreach from global goto if implements instanceof insteadof int integer interface isset iterable list new object or private protected public real return string switch throw trait try unset use var void while xor yield",literal:"false null true",built_in:"Error|0 AppendIterator ArgumentCountError ArithmeticError ArrayIterator ArrayObject AssertionError BadFunctionCallException BadMethodCallException CachingIterator CallbackFilterIterator CompileError Countable DirectoryIterator DivisionByZeroError DomainException EmptyIterator ErrorException Exception FilesystemIterator FilterIterator GlobIterator InfiniteIterator InvalidArgumentException IteratorIterator LengthException LimitIterator LogicException MultipleIterator NoRewindIterator OutOfBoundsException OutOfRangeException OuterIterator OverflowException ParentIterator ParseError RangeException RecursiveArrayIterator RecursiveCachingIterator RecursiveCallbackFilterIterator RecursiveDirectoryIterator RecursiveFilterIterator RecursiveIterator RecursiveIteratorIterator RecursiveRegexIterator RecursiveTreeIterator RegexIterator RuntimeException SeekableIterator SplDoublyLinkedList SplFileInfo SplFileObject SplFixedArray SplHeap SplMaxHeap SplMinHeap SplObjectStorage SplObserver SplObserver SplPriorityQueue SplQueue SplStack SplSubject SplSubject SplTempFileObject TypeError UnderflowException UnexpectedValueException ArrayAccess Closure Generator Iterator IteratorAggregate Serializable Throwable Traversable WeakReference Directory __PHP_Incomplete_Class parent php_user_filter self static stdClass"};return{aliases:["php","php3","php4","php5","php6","php7"],case_insensitive:!0,keywords:i,contains:[e.HASH_COMMENT_MODE,e.COMMENT("//","$",{contains:[t]}),e.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler"}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[e.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},t,{className:"keyword",begin:/\$this\b/},r,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",r,e.C_BLOCK_COMMENT_MODE,a,n]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"=>"},a,n]}}}());
hljs.registerLanguage("php-template",function(){"use strict";return function(n){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},n.inherit(n.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),n.inherit(n.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}}());
hljs.registerLanguage("plaintext",function(){"use strict";return function(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}}());
hljs.registerLanguage("properties",function(){"use strict";return function(e){var n="[ \\t\\f]*",t="("+n+"[:=]"+n+"|[ \\t\\f]+)",a="([^\\\\:= \\t\\f\\n]|\\\\.)+",s={end:t,relevance:0,starts:{className:"string",end:/$/,relevance:0,contains:[{begin:"\\\\\\n"}]}};return{name:".properties",case_insensitive:!0,illegal:/\S/,contains:[e.COMMENT("^\\s*[!#]","$"),{begin:"([^\\\\\\W:= \\t\\f\\n]|\\\\.)+"+t,returnBegin:!0,contains:[{className:"attr",begin:"([^\\\\\\W:= \\t\\f\\n]|\\\\.)+",endsParent:!0,relevance:0}],starts:s},{begin:a+t,returnBegin:!0,relevance:0,contains:[{className:"meta",begin:a,endsParent:!0,relevance:0}],starts:s},{className:"attr",relevance:0,begin:a+n+"$"}]}}}());
hljs.registerLanguage("python",function(){"use strict";return function(e){var n={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},a={className:"meta",begin:/^(>>>|\.\.\.) /},i={className:"subst",begin:/\{/,end:/\}/,keywords:n,illegal:/#/},s={begin:/\{\{/,relevance:0},r={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,a],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,a],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,a,s,i]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,a,s,i]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,i]},{begin:/(fr|rf|f)"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,i]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},l={className:"number",relevance:0,variants:[{begin:e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:e.C_NUMBER_RE+"[lLjJ]?"}]},t={className:"params",variants:[{begin:/\(\s*\)/,skip:!0,className:null},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:["self",a,l,r,e.HASH_COMMENT_MODE]}]};return i.contains=[r,l,a],{name:"Python",aliases:["py","gyp","ipython"],keywords:n,illegal:/(<\/|->|\?)|=>/,contains:[a,l,{beginKeywords:"if",relevance:0},r,e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[e.UNDERSCORE_TITLE_MODE,t,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}}());
hljs.registerLanguage("python-repl",function(){"use strict";return function(n){return{aliases:["pycon"],contains:[{className:"meta",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}}());
hljs.registerLanguage("ruby",function(){"use strict";return function(e){var n="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",a={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},s={className:"doctag",begin:"@[A-Za-z]+"},i={begin:"#<",end:">"},r=[e.COMMENT("#","$",{contains:[s]}),e.COMMENT("^\\=begin","^\\=end",{contains:[s],relevance:10}),e.COMMENT("^__END__","\\n$")],c={className:"subst",begin:"#\\{",end:"}",keywords:a},t={className:"string",contains:[e.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:"%[qQwWx]?\\(",end:"\\)"},{begin:"%[qQwWx]?\\[",end:"\\]"},{begin:"%[qQwWx]?{",end:"}"},{begin:"%[qQwWx]?<",end:">"},{begin:"%[qQwWx]?/",end:"/"},{begin:"%[qQwWx]?%",end:"%"},{begin:"%[qQwWx]?-",end:"-"},{begin:"%[qQwWx]?\\|",end:"\\|"},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{begin:/<<[-~]?'?(\w+)(?:.|\n)*?\n\s*\1\b/,returnBegin:!0,contains:[{begin:/<<[-~]?'?/},e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,c]})]}]},b={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:a},d=[t,i,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[e.inherit(e.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{begin:"<\\s*",contains:[{begin:"("+e.IDENT_RE+"::)?"+e.IDENT_RE}]}].concat(r)},{className:"function",beginKeywords:"def",end:"$|;",contains:[e.inherit(e.TITLE_MODE,{begin:n}),b].concat(r)},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[t,{begin:n}],relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{className:"params",begin:/\|/,end:/\|/,keywords:a},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[i,{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(r),relevance:0}].concat(r);c.contains=d,b.contains=d;var g=[{begin:/^\s*=>/,starts:{end:"$",contains:d}},{className:"meta",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{end:"$",contains:d}}];return{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:a,illegal:/\/\*/,contains:r.concat(g).concat(d)}}}());
hljs.registerLanguage("rust",function(){"use strict";return function(e){var n="([ui](8|16|32|64|128|size)|f(32|64))?",t="drop i8 i16 i32 i64 i128 isize u8 u16 u32 u64 u128 usize f32 f64 str char bool Box Option Result String Vec Copy Send Sized Sync Drop Fn FnMut FnOnce ToOwned Clone Debug PartialEq PartialOrd Eq Ord AsRef AsMut Into From Default Iterator Extend IntoIterator DoubleEndedIterator ExactSizeIterator SliceConcatExt ToString assert! assert_eq! bitflags! bytes! cfg! col! concat! concat_idents! debug_assert! debug_assert_eq! env! panic! file! format! format_args! include_bin! include_str! line! local_data_key! module_path! option_env! print! println! select! stringify! try! unimplemented! unreachable! vec! write! writeln! macro_rules! assert_ne! debug_assert_ne!";return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",keyword:"abstract as async await become box break const continue crate do dyn else enum extern false final fn for if impl in let loop macro match mod move mut override priv pub ref return self Self static struct super trait true try type typeof unsafe unsized use virtual where while yield",literal:"true false Some None Ok Err",built_in:t},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+n},{begin:"\\b0o([0-7_]+)"+n},{begin:"\\b0x([A-Fa-f0-9_]+)"+n},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+n}],relevance:0},{className:"function",beginKeywords:"fn",end:"(\\(|<)",excludeEnd:!0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"meta",begin:"#\\!?\\[",end:"\\]",contains:[{className:"meta-string",begin:/"/,end:/"/}]},{className:"class",beginKeywords:"type",end:";",contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{endsParent:!0})],illegal:"\\S"},{className:"class",beginKeywords:"trait enum struct union",end:"{",contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{endsParent:!0})],illegal:"[\\w\\d]"},{begin:e.IDENT_RE+"::",keywords:{built_in:t}},{begin:"->"}]}}}());
hljs.registerLanguage("scss",function(){"use strict";return function(e){var t={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},i={className:"number",begin:"#[0-9A-Fa-f]+"};return e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"\\#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"selector-attr",begin:"\\[",end:"\\]",illegal:"$"},{className:"selector-tag",begin:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{className:"selector-pseudo",begin:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{className:"selector-pseudo",begin:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},t,{className:"attribute",begin:"\\b(src|z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",illegal:"[^\\s]"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:":",end:";",contains:[t,i,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"meta",begin:"!important"}]},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:"and or not only",contains:[{begin:"@[a-z-]+",className:"keyword"},t,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,i,e.CSS_NUMBER_MODE]}]}}}());
hljs.registerLanguage("shell",function(){"use strict";return function(s){return{name:"Shell Session",aliases:["console"],contains:[{className:"meta",begin:"^\\s{0,3}[/\\w\\d\\[\\]()@-]*[>%$#]",starts:{end:"$",subLanguage:"bash"}}]}}}());
hljs.registerLanguage("sql",function(){"use strict";return function(e){var t=e.COMMENT("--","$");return{name:"SQL",case_insensitive:!0,illegal:/[<>{}*]/,contains:[{beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment values with",end:/;/,endsWithParent:!0,keywords:{$pattern:/[\w\.]+/,keyword:"as abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias all allocate allow alter always analyze ancillary and anti any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound bucket buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain explode export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force foreign form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour hours http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lateral lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minutes minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notnull notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second seconds section securefile security seed segment select self semi sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tablesample tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unnest unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace window with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null unknown",built_in:"array bigint binary bit blob bool boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text time timestamp tinyint varchar varchar2 varying void"},contains:[{className:"string",begin:"'",end:"'",contains:[{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[{begin:'""'}]},{className:"string",begin:"`",end:"`"},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,e.HASH_COMMENT_MODE]},e.C_BLOCK_COMMENT_MODE,t,e.HASH_COMMENT_MODE]}}}());
hljs.registerLanguage("swift",function(){"use strict";return function(e){var i={keyword:"#available #colorLiteral #column #else #elseif #endif #file #fileLiteral #function #if #imageLiteral #line #selector #sourceLocation _ __COLUMN__ __FILE__ __FUNCTION__ __LINE__ Any as as! as? associatedtype associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c compactMap contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),t={className:"subst",begin:/\\\(/,end:"\\)",keywords:i,contains:[]},a={className:"string",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:/"""/,end:/"""/},{begin:/"/,end:/"/}]},r={className:"number",begin:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0};return t.contains=[r],{name:"Swift",keywords:i,contains:[a,e.C_LINE_COMMENT_MODE,n,{className:"type",begin:"\\b[A-Z][\\w-']*[!?]"},{className:"type",begin:"\\b[A-Z][\\w-']*",relevance:0},r,{className:"function",beginKeywords:"func",end:"{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{begin:/</,end:/>/},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:i,contains:["self",r,a,e.C_BLOCK_COMMENT_MODE,{begin:":"}],illegal:/["']/}],illegal:/\[|%/},{className:"class",beginKeywords:"struct protocol class extension enum",keywords:i,end:"\\{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{className:"meta",begin:"(@discardableResult|@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@objcMembers|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain|@dynamicMemberLookup|@propertyWrapper)\\b"},{beginKeywords:"import",end:/$/,contains:[e.C_LINE_COMMENT_MODE,n]}]}}}());
hljs.registerLanguage("typescript",function(){"use strict";const e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],n=["true","false","null","undefined","NaN","Infinity"],a=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);return function(r){var t={$pattern:"[A-Za-z$_][0-9A-Za-z$_]*",keyword:e.concat(["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"]).join(" "),literal:n.join(" "),built_in:a.concat(["any","void","number","boolean","string","object","never","enum"]).join(" ")},s={className:"meta",begin:"@[A-Za-z$_][0-9A-Za-z$_]*"},i={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:r.C_NUMBER_RE+"n?"}],relevance:0},o={className:"subst",begin:"\\$\\{",end:"\\}",keywords:t,contains:[]},c={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[r.BACKSLASH_ESCAPE,o],subLanguage:"xml"}},l={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[r.BACKSLASH_ESCAPE,o],subLanguage:"css"}},E={className:"string",begin:"`",end:"`",contains:[r.BACKSLASH_ESCAPE,o]};o.contains=[r.APOS_STRING_MODE,r.QUOTE_STRING_MODE,c,l,E,i,r.REGEXP_MODE];var d={begin:"\\(",end:/\)/,keywords:t,contains:["self",r.QUOTE_STRING_MODE,r.APOS_STRING_MODE,r.NUMBER_MODE]},u={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,contains:[r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,s,d]};return{name:"TypeScript",aliases:["ts"],keywords:t,contains:[r.SHEBANG(),{className:"meta",begin:/^\s*['"]use strict['"]/},r.APOS_STRING_MODE,r.QUOTE_STRING_MODE,c,l,E,r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,i,{begin:"("+r.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[r.C_LINE_COMMENT_MODE,r.C_BLOCK_COMMENT_MODE,r.REGEXP_MODE,{className:"function",begin:"(\\([^(]*(\\([^(]*(\\([^(]*\\))?\\))?\\)|"+r.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:r.UNDERSCORE_IDENT_RE},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,contains:d.contains}]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[\{;]/,excludeEnd:!0,keywords:t,contains:["self",r.inherit(r.TITLE_MODE,{begin:"[A-Za-z$_][0-9A-Za-z$_]*"}),u],illegal:/%/,relevance:0},{beginKeywords:"constructor",end:/[\{;]/,excludeEnd:!0,contains:["self",u]},{begin:/module\./,keywords:{built_in:"module"},relevance:0},{beginKeywords:"module",end:/\{/,excludeEnd:!0},{beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:"interface extends"},{begin:/\$[(.]/},{begin:"\\."+r.IDENT_RE,relevance:0},s,d]}}}());
hljs.registerLanguage("yaml",function(){"use strict";return function(e){var n="true false yes no null",a="[\\w#;/?:@&=+$,.~*\\'()[\\]]+",s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:"{{",end:"}}"},{begin:"%{",end:"}"}]}]},i=e.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),l={end:",",endsWithParent:!0,excludeEnd:!0,contains:[],keywords:n,relevance:0},t={begin:"{",end:"}",contains:[l],illegal:"\\n",relevance:0},g={begin:"\\[",end:"\\]",contains:[l],illegal:"\\n",relevance:0},b=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---s*$",relevance:10},{className:"string",begin:"[\\|>]([0-9]?[+-])?[ ]*\\n( *)[\\S ]+\\n(\\2[\\S ]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+a},{className:"type",begin:"!<"+a+">"},{className:"type",begin:"!"+a},{className:"type",begin:"!!"+a},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"\\-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:n,keywords:{literal:n}},{className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},{className:"number",begin:e.C_NUMBER_RE+"\\b"},t,g,s],c=[...b];return c.pop(),c.push(i),l.contains=c,{name:"YAML",case_insensitive:!0,aliases:["yml","YAML"],contains:b}}}());
define("highlight", function(){});

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
define('components/content/index',["require", "exports", "preact", "preact/hooks", "ojs/ojcontext", "./inline-video/index", "./copy-button/index", "./downloadable-diagram/index", "../common/toggle-table-of-contents/index", "./tabbed-interface/index", "./legal-notice/index", "../../store/publication-context", "../../store/screen-range-context", "../../utils/responsive-helper", "../../utils/dom-helper", "../../utils/html-helper", "../../utils/link-helper", "../../utils/tabbed-interface-helper", "../../utils/downlodable-diagram-helper", "../../utils/publication-content-helper", "../../utils/inline-video-helper", "../../utils/related-content-helper", "../../utils/publication-content-fetcher", "ojs/ojbutton", "highlight"], function (require, exports, preact_1, hooks_1, Context, index_1, index_2, index_3, index_4, index_5, index_6, publication_context_1, screen_range_context_1, responsive_helper_1, dom_helper_1, html_helper_1, link_helper_1, tabbed_interface_helper_1, downlodable_diagram_helper_1, publication_content_helper_1, inline_video_helper_1, related_content_helper_1, publication_content_fetcher_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.appendInjectableComponents = exports.Content = void 0;
    class Content extends preact_1.Component {
        constructor() {
            super();
            this.openDrawerPopup = () => this.props.openDrawerPopup(true);
            this.browserNavigation = (event) => {
                if (event.state) {
                    const target = event.target;
                    const path = this.publication.isArticle ? target.location.pathname : target.location.pathname.split('/').reverse()[0];
                    this.updateContentPage(path);
                }
            };
            this.updateContentPage = (gui) => __awaiter(this, void 0, void 0, function* () {
                this.updateTocSelection({ heading: gui, parentHeading: '' });
                const content = yield publication_content_fetcher_1.reloadContent(gui);
                yield this.setPublicationContent(content);
            });
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication, setPublicationContent, setRelatedContent, updateTocSelection } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            this.setPublicationContent = setPublicationContent;
            this.setRelatedContent = setRelatedContent;
            this.updateTocSelection = updateTocSelection;
            return (preact_1.h("div", { id: "contentContainer", class: "oj-flex oj-flex-item oj-sm-width-full" },
                this.props.showTableOfContents && responsive_helper_1.isRangeMDOrLower(screenRange) &&
                    preact_1.h("span", { class: "oj-flex oj-flex-item oj-sm-justify-content-flex-end oj-sm-width-full open-drawe-popup-container" }, !publication.isAcmsSinglePage &&
                        preact_1.h("div", { role: "complementary", "aria-label": "Primary" },
                            preact_1.h(index_4.ToggleTableOfContents, { isNavigation: false, isExpanded: this.props.isDrawerPopupOpen, action: this.openDrawerPopup }))),
                preact_1.h("article", { class: html_helper_1.getClasses({
                        'main-container-type': publication.isSolution,
                        'ohc-grid-type': !publication.isSolution
                    }, 'oj-flex-item oj-sm-width-full') }, preact_1.h("div", { dangerouslySetInnerHTML: { __html: html_helper_1.stripScriptAndLinkTagsFromHtml(publication.data) } }))));
        }
        componentDidMount() {
            var _a;
            (_a = window.hljs) === null || _a === void 0 ? void 0 : _a.configure({ languages: ["json"], ignoreUnescapedHTML: true });
            this.setRelatedContent(document.querySelector(related_content_helper_1.RELATED_CONTENT_SELECTOR));
            appendInjectableComponents(this.publication);
            Context.getContext(document.getElementById(publication_content_helper_1.PUBLICATION_CONTENT_CONTAINER_ID)).getBusyContext().whenReady().then(() => link_helper_1.updateAnchors(this.publication.searchSourceParam));
            window.addEventListener('popstate', (event) => {
                this.browserNavigation(event);
            });
        }
        componentDidUpdate() {
        }
        componentWillUnmount() {
            link_helper_1.removeAnchorsHandler(this.publication.internalUrls, this.publication.searchSourceParam, this.setPublicationContent, this.updateTocSelection);
            window.removeEventListener('popstate', this.browserNavigation);
        }
    }
    exports.Content = Content;
    Content.defaultProps = {
        showTableOfContents: true
    };
    function appendInjectableComponents(publication) {
        const TABLE_SELECTOR = 'table';
        const tabbedInterfaceElements = document.querySelectorAll(tabbed_interface_helper_1.TABBED_INTERFACE_SELECTOR);
        const downlodableDiagramsAnchors = document.querySelectorAll(downlodable_diagram_helper_1.DOWNLODABLE_DIAGRAM_SELECTOR);
        const tableElements = document.querySelectorAll(TABLE_SELECTOR);
        const inlineVideoContainers = document.querySelectorAll(inline_video_helper_1.INLINE_VIDEO_CONTAINER_SELECTOR);
        const legalNoticeHeaderElement = document.querySelector('a#copyright-information-btn[href="#oracle-legal-notices"]');
        const legalNoticeContentElement = document.getElementById('oracle-legal-notices');
        if (tabbedInterfaceElements.length) {
            index_5.removeTabbedInterfaceContent(tabbedInterfaceElements);
            tabbedInterfaceElements.forEach((tabbedInterfaceContainer, index) => {
                tabbedInterfaceContainer.setAttribute('id', tabbed_interface_helper_1.getTabbedInterfaceId(index));
                index_5.appendTabbedInterface(preact_1.h(index_5.TabbedInterface, { id: tabbed_interface_helper_1.getTabbedInterfaceId(index), publication: publication }), tabbedInterfaceContainer);
            });
        }
        if (downlodableDiagramsAnchors.length) {
            downlodableDiagramsAnchors.forEach((downlodableDiagramAnchor, index) => {
                downlodable_diagram_helper_1.hideDownlodableDiagramAnchor(downlodableDiagramAnchor);
                index_3.appendDownloadableDiagram(preact_1.h(index_3.DownloadableDiagram, { id: index, zipPath: downlodableDiagramAnchor.getAttribute('href') }), downlodableDiagramAnchor.parentElement);
            });
        }
        if (tableElements.length) {
            tableElements.forEach((tableElement) => {
                const parent = tableElement.parentNode;
                const tableWrapper = dom_helper_1.createElement('div', 'table-responsive');
                parent.replaceChild(tableWrapper, tableElement);
                tableWrapper.appendChild(tableElement);
            });
        }
        if (inlineVideoContainers.length) {
            inlineVideoContainers.forEach((inlineVideoContainer, index) => {
                if (inlineVideoContainer.id && inlineVideoContainer.id.length > 0) {
                    index_1.appendInlineVideo(preact_1.h(index_1.InlineVideo, { index: index, videoId: inlineVideoContainer.id, isSolution: publication.isSolution }), inlineVideoContainer);
                }
            });
        }
        if (legalNoticeHeaderElement && legalNoticeContentElement) {
            const legalNoticeHeader = dom_helper_1.normalizeSpaces(legalNoticeHeaderElement.textContent);
            const legalNoticeContent = legalNoticeContentElement.innerHTML;
            legalNoticeHeaderElement.remove();
            index_6.appendLegalNotice(preact_1.h(index_6.LegalNotice, { legalNoticeHeader: legalNoticeHeader, legalNoticeContent: legalNoticeContent }), legalNoticeContentElement.parentElement);
        }
        if (document.querySelectorAll('.hljs').length === 0) {
            document.querySelectorAll('article pre code, article .codeblock').forEach((block) => {
                var _a;
                (_a = window.hljs) === null || _a === void 0 ? void 0 : _a.highlightBlock(block);
            });
        }
        index_2.appendCopyButton(preact_1.h(index_2.CopyButton, null));
    }
    exports.appendInjectableComponents = appendInjectableComponents;
});

define('translations/post-content/simple-pagination/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{previousPage:a.getTranslatedString("postContent.simplePagination.labels.previousPage"),nextPage:a.getTranslatedString("postContent.simplePagination.labels.nextPage")},ariaLabels:{previousPage:a.getTranslatedString("postContent.simplePagination.ariaLabels.previousPage"),nextPage:a.getTranslatedString("postContent.simplePagination.ariaLabels.nextPage"),simplePagination:a.getTranslatedString("postContent.simplePagination.ariaLabels.simplePagination")}}}}}));
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
define('components/post-content/simple-pagination/index',["require", "exports", "preact", "preact/hooks", "../../../models/components/common/table-of-contents/toc-heading-origin.enum", "../../../store/publication-context", "../../../utils/link-helper", "../../../translations/post-content/simple-pagination/translations-helper", "../../../utils/publication-content-fetcher", "ojs/ojbutton"], function (require, exports, preact_1, hooks_1, toc_heading_origin_enum_1, publication_context_1, link_helper_1, translations_helper_1, publication_content_fetcher_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.SimplePagination = void 0;
    class SimplePagination extends preact_1.Component {
        constructor() {
            super();
            this.updateNavigationLinks = (gui) => __awaiter(this, void 0, void 0, function* () {
                const content = yield publication_content_fetcher_1.reloadContent(gui);
                yield this.setPublicationContent(content);
            });
            this.goToPage = (page) => {
                if (window.location.protocol === 'file:') {
                    window.location.href = page;
                }
                else {
                    this.updateNavigationLinks(page);
                    link_helper_1.updateHistory(this.publication.searchSourceParam, page);
                    this.updateTocSelection({ heading: page, parentHeading: '', origin: toc_heading_origin_enum_1.default.SimplePagination });
                }
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations()
            };
        }
        render() {
            const { publication, setPublicationContent, updateTocSelection } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            this.setPublicationContent = setPublicationContent;
            this.previousLink = publication.paginationLinks.previousLink;
            this.nextLink = publication.paginationLinks.nextLink;
            this.updateTocSelection = updateTocSelection;
            return (preact_1.h("div", { id: "simplePaginationContainer", class: "oj-flex oj-flex-item oj-sm-margin-6x-top oj-sm-justify-content-center", role: "navigation", "aria-label": this.state.translations.ariaLabels.simplePagination },
                preact_1.h("oj-button", { id: "previousPageButton", class: "oj-button-sm oj-sm-margin-6x-end", chroming: "borderless", onojAction: () => this.goToPage(this.previousLink), disabled: this.previousLink === '', "aria-label": this.state.translations.ariaLabels.previousPage },
                    preact_1.h("span", { slot: "startIcon", class: "oj-ux-ico-chevron-left" }),
                    preact_1.h("span", null, this.state.translations.labels.previousPage)),
                preact_1.h("oj-button", { id: "nextPageButton", class: "oj-button-sm", chroming: "borderless", onojAction: () => this.goToPage(this.nextLink), disabled: this.nextLink === '', "aria-label": this.state.translations.ariaLabels.nextPage },
                    preact_1.h("span", { slot: "endIcon", class: "oj-ux-ico-chevron-right" }),
                    preact_1.h("span", null, this.state.translations.labels.nextPage))));
        }
    }
    exports.SimplePagination = SimplePagination;
});

define('translations/post-content/content-notices/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static getTranslations(t){return{labels:{legalDisclaimers:e.getTranslatedString("postContent.contentNotices.labels.legalDisclaimers",{publicationType:t})},ariaLabels:{titleAndCopyrightInformationHeader:e.getTranslatedString("postContent.contentNotices.ariaLabels.titleAndCopyrightInformationHeader"),documentationAccessibilityHeader:e.getTranslatedString("postContent.contentNotices.ariaLabels.documentationAccessibilityHeader")}}}}}));
define('components/post-content/content-notices/index',["require", "exports", "preact", "preact/hooks", "../../../store/publication-context", "../../../translations/post-content/content-notices/translations-helper", "../../../utils/html-helper", "../../../utils/content-notices-helper", "../../../utils/link-helper", "ojs/ojbutton", "ojs/ojknockout"], function (require, exports, preact_1, hooks_1, publication_context_1, translations_helper_1, html_helper_1, content_notices_helper_1, link_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.ContentNotices = void 0;
    class ContentNotices extends preact_1.Component {
        constructor() {
            super();
            this.URL_REGEX = /\b(https?:\/\/.*?\.[a-z]{2,4}\/[^\s]*\b)/g;
            this.NoticeHeaderIcon = ({ type }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("div", { class: `oj-ux-ico-${type}-circle oj-sm-padding-2x-end content-notice-icon` })));
            };
            this.TitleAndCopyrightInformationNotice = ({ paragraphs }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("div", { id: "titleAndCopyrightInformationContent", class: "oj-sm-padding-6x-start notice-content" }, paragraphs.map((paragraph, index) => {
                        return typeof (paragraph) === 'string' ?
                            preact_1.h(this.Paragraph, { text: paragraph, index: index }) :
                            preact_1.h(this.Copyright, { paragraph: paragraph });
                    }))));
            };
            this.Paragraph = ({ text, index }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("span", { class: `oj-typography-body-md${index === 0 ? ' oj-typography-bold oj-sm-padding-4x-top' : ' paragraph-padding'}` }, text)));
            };
            this.Copyright = ({ paragraph: copyRightArray }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("div", { class: "paragraph-padding" }, copyRightArray.map((copyright) => preact_1.h("span", { class: "oj-typography-body-md" },
                        preact_1.h("a", { href: copyright.path, target: "_blank" }, copyright.link),
                        " ",
                        copyright.detail)))));
            };
            this.DocumentationAccessibilityNotice = ({ documentationAccessibilityContent }) => {
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("div", { id: "documentationAccessibilityContent", class: "oj-sm-padding-6x-start notice-content" },
                        documentationAccessibilityContent.accessibility && preact_1.h(this.Accessibility, { accesibility: documentationAccessibilityContent.accessibility }),
                        documentationAccessibilityContent.support && preact_1.h(this.Support, { support: documentationAccessibilityContent.support }))));
            };
            this.Accessibility = ({ accesibility }) => {
                const link = this.getLinks(accesibility.detail).shift();
                const detail = accesibility.detail.replace(/\.$/g, '').replace(link, '');
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("span", { class: "oj-typography-body-md paragraph-padding break-all" },
                        detail,
                        preact_1.h("a", { href: accesibility.url, target: "_blank" }, link),
                        ".")));
            };
            this.Support = ({ support }) => {
                const links = this.getLinks(support.detail);
                const supportDetail = support.detail.split(this.URL_REGEX);
                return (preact_1.h(preact_1.Fragment, null,
                    preact_1.h("span", { class: "oj-typography-body-md oj-sm-padding-5x-top oj-typography-bold" }, support.heading),
                    preact_1.h("span", { class: "oj-typography-body-md paragraph-padding break-all" },
                        supportDetail[0],
                        preact_1.h("a", { href: support.urls[0], target: "_blank" }, links[0]),
                        supportDetail[2],
                        preact_1.h("a", { href: support.urls[1], target: "_blank" }, links[1]),
                        supportDetail[4],
                        preact_1.h("a", { href: support.urls[2], target: "_blank" }, links[2]),
                        supportDetail[5])));
            };
            this.titleAndCopyrightInformationHeaderEventHandler = (event) => {
                if (event.type === 'click' || (event.type === 'keypress' && (event.code === 'Enter' || event.code === 'Space'))) {
                    this.setState(prevState => ({ isTitleAndCopyrightInformationNoticeExpanded: !prevState.isTitleAndCopyrightInformationNoticeExpanded }));
                }
            };
            this.documentationAccessibilityHeaderEventHandler = (event) => {
                if (event.type === 'click' || (event.type === 'keypress' && (event.code === 'Enter' || event.code === 'Space'))) {
                    this.setState(prevState => ({ isDocumentationAccessibilityNoticeExpanded: !prevState.isDocumentationAccessibilityNoticeExpanded }));
                }
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                isTitleAndCopyrightInformationNoticeExpanded: false,
                isDocumentationAccessibilityNoticeExpanded: false
            };
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            const contentNotices = publication.contentNotices;
            this.publication = publication;
            return (preact_1.h("div", { id: "contentNoticesContainer", class: "oj-sm-width-full oj-sm-margin-6x-top" },
                preact_1.h("div", { class: "oj-divider-top oj-sm-padding-6x-top" }),
                this.showLegalDisclaimers() &&
                    preact_1.h("div", { id: "legalDisclaimerContainer", class: "oj-sm-padding-5x-bottom" },
                        preact_1.h("span", { class: "oj-typography-md legal-disclaimers-color" }, this.state.translations.labels.legalDisclaimers)),
                this.hasTitleAndCopyrightInformationNotice(contentNotices) &&
                    preact_1.h("div", { id: "titleAndCopyrightInformationNotice", class: html_helper_1.getClasses({ 'oj-sm-padding-5x-bottom': this.hasDocumentationAccessibilityNotice(contentNotices) }) },
                        preact_1.h("div", { id: "titleAndCopyrightInformationHeader", class: "content-notice-heading", tabIndex: 0, role: "button", "aria-label": this.state.translations.ariaLabels.titleAndCopyrightInformationHeader, "aria-expanded": this.state.isTitleAndCopyrightInformationNoticeExpanded, "aria-controls": "titleAndCopyrightInformationContent", onClick: this.titleAndCopyrightInformationHeaderEventHandler, onKeyPress: this.titleAndCopyrightInformationHeaderEventHandler },
                            this.state.isTitleAndCopyrightInformationNoticeExpanded ? preact_1.h(this.NoticeHeaderIcon, { type: 'minus' }) : preact_1.h(this.NoticeHeaderIcon, { type: 'plus' }),
                            preact_1.h("span", { class: "oj-typography-md" }, contentNotices.titleAndCopyrightInformationHeader)),
                        this.state.isTitleAndCopyrightInformationNoticeExpanded &&
                            preact_1.h(this.TitleAndCopyrightInformationNotice, { paragraphs: contentNotices.titleAndCopyrightInformationContent.paragraphs })),
                this.hasDocumentationAccessibilityNotice(contentNotices) &&
                    preact_1.h("div", { id: "documentationAccessibilityNotice" },
                        preact_1.h("div", { id: "documentationAccessibilityHeader", class: "content-notice-heading", tabIndex: 0, role: "button", "aria-label": this.state.translations.ariaLabels.documentationAccessibilityHeader, "aria-expanded": this.state.isDocumentationAccessibilityNoticeExpanded, "aria-controls": "documentationAccessibilityContent", onClick: this.documentationAccessibilityHeaderEventHandler, onKeyPress: this.documentationAccessibilityHeaderEventHandler },
                            this.state.isDocumentationAccessibilityNoticeExpanded ? preact_1.h(this.NoticeHeaderIcon, { type: 'minus' }) : preact_1.h(this.NoticeHeaderIcon, { type: 'plus' }),
                            preact_1.h("span", { class: "oj-typography-md" }, contentNotices.documentationAccessibilityHeader)),
                        this.state.isDocumentationAccessibilityNoticeExpanded &&
                            preact_1.h(this.DocumentationAccessibilityNotice, { documentationAccessibilityContent: contentNotices.documentationAccessibilityContent }))));
        }
        componentDidMount() {
            this.getLegalDisclaimerType();
        }
        componentDidUpdate(_previousProps, previousState) {
            if (this.state.isTitleAndCopyrightInformationNoticeExpanded && !previousState.isTitleAndCopyrightInformationNoticeExpanded) {
                link_helper_1.addSearchSourceParamToAnchors(document.querySelectorAll(content_notices_helper_1.TITLE_AND_COPYRIGHT_ANCHORS_SELECTOR), this.publication.searchSourceParam);
            }
            if (this.state.isDocumentationAccessibilityNoticeExpanded && !previousState.isDocumentationAccessibilityNoticeExpanded) {
                link_helper_1.addSearchSourceParamToAnchors(document.querySelectorAll(content_notices_helper_1.ACCESSIBILITY_NOTICE_ANCHORS_SELECTOR), this.publication.searchSourceParam);
            }
        }
        hasTitleAndCopyrightInformationNotice(contentNotices) {
            return !!contentNotices.titleAndCopyrightInformationHeader && !!contentNotices.titleAndCopyrightInformationContent;
        }
        hasDocumentationAccessibilityNotice(contentNotices) {
            return !!contentNotices.documentationAccessibilityHeader && !!contentNotices.documentationAccessibilityContent;
        }
        showLegalDisclaimers() {
            return this.publication.isSolution || this.publication.hasLearnMetadata;
        }
        getLegalDisclaimerType() {
            const HELP_CENTER_LEARN_DISCLAIMER_TYPE = 'Help Center Learn';
            const ARCHITECTURE_CENTER_DISCLAIMER_TYPE = 'Architecture Center';
            if (this.publication.hasLearnMetadata) {
                this.setState({ translations: translations_helper_1.default.getTranslations(HELP_CENTER_LEARN_DISCLAIMER_TYPE) });
            }
            else if (this.publication.isSolution) {
                this.setState({ translations: translations_helper_1.default.getTranslations(ARCHITECTURE_CENTER_DISCLAIMER_TYPE) });
            }
        }
        getLinks(detail) {
            return detail.match(this.URL_REGEX);
        }
    }
    exports.ContentNotices = ContentNotices;
});

define('components/post-content/index',["require", "exports", "preact", "preact/hooks", "../common/related-content/index", "./simple-pagination/index", "./content-notices/index", "../../store/screen-range-context", "../../store/publication-context", "../../utils/responsive-helper"], function (require, exports, preact_1, hooks_1, index_1, index_2, index_3, screen_range_context_1, publication_context_1, responsive_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.PostContent = void 0;
    class PostContent extends preact_1.Component {
        constructor() {
            super();
        }
        render() {
            const screenRange = hooks_1.useContext(screen_range_context_1.default);
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", { id: "postContentContainer", class: "oj-flex oj-sm-flex-direction-column" },
                responsive_helper_1.isRangeMDOrLower(screenRange) && index_1.showRelatedContent(publication) && preact_1.h(index_1.RelatedContent, null),
                preact_1.h("div", { class: "oj-sm-width-full" }, publication.isMultipage && !publication.isLearnMultipage && preact_1.h(index_2.SimplePagination, null)),
                this.hasContentNotices(publication.contentNotices) && preact_1.h(index_3.ContentNotices, null)));
        }
        hasContentNotices(contentNotices) {
            return Object.values(contentNotices).some(prop => prop);
        }
    }
    exports.PostContent = PostContent;
});

define('translations/footer/translations-helper',["require","exports","ojs/ojtranslation"],(function(require,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getTranslations(){return{labels:{aboutOracle:t.getTranslatedString("footer.labels.aboutOracle"),contactUs:t.getTranslatedString("footer.labels.contactUs"),adChoices:t.getTranslatedString("footer.labels.adChoices"),machineTranslationFeedback:t.getTranslatedString("footer.labels.machineTranslationFeedback"),machineTranslationFeedbackForm:t.getTranslatedString("footer.labels.machineTranslationFeedbackForm")},urls:{copyrightOracle:t.getTranslatedString("footer.urls.copyrightOracle"),aboutOracle:t.getTranslatedString("footer.urls.aboutOracle"),contactUs:t.getTranslatedString("footer.urls.contactUs"),termsOfUseAndPrivacy:t.getTranslatedString("footer.urls.termsOfUseAndPrivacy"),adChoices:t.getTranslatedString("footer.urls.adChoices"),translationSurvey:t.getTranslatedString("footer.urls.translationSurvey")}}}}}));

//ohc copyright doc - /cd/E23003_01/html/

/*
 * jQuery throttle / debounce - v1.1 - 3/7/2010
 * http://benalman.com/projects/jquery-throttle-debounce-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */


define("text!feedback-widget-template.hbs",[],function(){return'<div class="widget-container">\r\n  <button class="feedback-open" data-toggle="simple-collapsible" href="#feedback-controls" role="button" aria-expanded="false"\r\n    aria-controls="feedback-controls" aria-label="{{i18n \'Open feedback\'}}">\r\n  </button>\r\n  <div class="collapse width" id="feedback-controls">\r\n    <button class="feedback-close" type="button" aria-label="{{i18n \'Close feedback\'}}"></button>\r\n    <span aria-label="{{i18n \'Was this page helpful?\'}}">{{i18n \'Was this page helpful?\'}}</span>\r\n    <button class="thumbs down" value="No"\r\n      aria-label="{{i18n \'Open a pop-up to give a feedback about this page for not being helpful\'}}"></button>\r\n    <button class="thumbs up" value="Yes"\r\n      aria-label="{{i18n \'Open a pop-up to give a feedback about this page for being helpful\' }}"></button>\r\n  </div>\r\n</div>\r\n'}),define("i18n",["jquery","handlebars"],function(e,o){var t={en:{dir:"en","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=EN","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=EN","Was this page helpful?":"Was this page helpful?","Machine Translation Feedback":"Machine Translation Feedback","Machine Translation Feeback Form":"Machine Translation Feeback Form",Language:"Language",Solutions:"Solutions","Architecture Center":"Architecture Center","Solution Playbooks":"Solution Playbooks","Reference Architectures":"Reference Architectures",Design:"Design",Develop:"Develop",Integrate:"Integrate",Operate:"Operate","Search Solutions":"Search Architecture Center","Search Help Center":"Search Help Center","Back to Solutions":"Back to Architecture Center","Previous topic":"Previous topic","Next topic":"Next topic",Home:"Home",Options:"Options",Search:"Search","No matching solutions found. Discover new solutions by changing your search criteria.":"No matching solutions found. Discover new solutions by changing your search criteria.","Similar Solutions":"Similar Solutions","Customer-Inspired Solutions":"Customer-Inspired Solutions","Customer-inspired":"Customer-inspired","Automation Available":"Automation Available","These solutions were built to solve real-world scenarios.":"These solutions were built to solve real-world scenarios.",Hide:"Hide",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle and/or its affiliates.","This page was machine translated.":"This page was machine translated.","Skip to main content":"Skip to main content","Back to main content":"Back to main content","Table of contents":"Table of contents","About Oracle":"About Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/corporate/","Contact Us":"Contact Us","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/corporate/contact/","Terms of Use and Privacy":"Terms of Use and Privacy","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"Ad Choices","Skip to Content":"Skip to Content","Skip to Search":"Skip to Search",Menu:"Menu","Sign In":"Sign In","Oracle Account":"Oracle Account",Help:"Help","Sign Out":"Sign Out","Manage your account and access personalized content.":"Manage your account and access personalized content.","Sign up for an Oracle Account":"Sign up for an Oracle Account","Sign in to my Account":"Sign in to my Account","Sign in to Cloud":"Sign in to Cloud","Access your cloud dashboard, manage orders, and more.":"Access your cloud dashboard, manage orders, and more.","Free Cloud Platform Trial":"Free Cloud Platform Trial","Sign up for a free trial":"Sign up for a free trial","https://www.oracle.com/try-it.html":"https://www.oracle.com/try-it.html",copy:"Copy",copied:"Copied","Copy the following example to clipboard":"Copy the following example to clipboard","Reference Architecture":"Reference Architecture","Solution Playbook":"Solution Playbook","Solution Details":"Solution Details",Title:"Title","Release Date":"Release Date",Type:"Type",Technologies:"Technologies","Products & Services":"Products & Services",Deploy:"Deploy","Deploy to Oracle Cloud":"Deploy to Oracle Cloud","Deploy from Marketplace":"Deploy from Marketplace","Go to GitHub":"Go to GitHub","Description of the illustration":"Description of the illustration"},ar:{dir:"ar","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=ar","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=AR","Was this page helpful?":"    ","Machine Translation Feedback":"  ","Machine Translation Feeback Form":"   ",Language:"",Solutions:"","Architecture Center":" ","Solution Playbooks":"  ","Reference Architectures":" ",Design:"",Develop:"",Integrate:"",Operate:"","Search Solutions":"  ","Search Help Center":"   ","Back to Solutions":"  ","Previous topic":"","Next topic":"",Home:" ",Options:"",Search:"","No matching solutions found. Discover new solutions by changing your search criteria.":"     .       .","Similar Solutions":" ","Customer-Inspired Solutions":"    ","Customer-inspired":" - ","Automation Available":" ","These solutions were built to solve real-world scenarios.":"            .",Hide:"",Copyright:" ","Oracle and/or its affiliates.":"   /   .","This page was machine translated.":"    .","Skip to main content":"   ","Back to main content":"   ","Table of contents":" ","About Oracle":" ","https://www.oracle.com/corporate/":"https://www.oracle.com/middleeast-ar/corporate/","Contact Us":" ","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/middleeast-ar/corporate/contact/","Terms of Use and Privacy":"  ","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=ar/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":" ","Skip to Content":"  ","Skip to Search":"  ",Menu:"","Sign In":" ","Oracle Account":" Oracle",Help:"","Sign Out":" ","Manage your account and access personalized content.":"       . ","Sign up for an Oracle Account":"      Oracle","Sign in to my Account":"   ","Sign in to Cloud":"   ","Access your cloud dashboard, manage orders, and more.":"         . ","Free Cloud Platform Trial":"   ","Sign up for a free trial":"     ","https://www.oracle.com/try-it.html":"https://www.oracle.com/middleeast-ar/try-it.html",copy:"",copied:" ","Copy the following example to clipboard":"    ","Reference Architecture":"   ","Solution Playbook":"  ","Solution Details":" ",Title:"","Release Date":" ",Type:"",Technologies:"","Products & Services":" ",Deploy:"","Deploy to Oracle Cloud":"  Oracle Cloud","Deploy from Marketplace":"  Marketplace","Go to GitHub":"  Github","Description of the illustration":"  "},es:{dir:"es","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=es","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=ESWW","Was this page helpful?":"Le result til esta pgina?","Machine Translation Feedback":"Comentarios sobre la Traduccin Automtica","Machine Translation Feeback Form":"Formulario de Comentarios sobre la Traduccin Automtica",Language:"Idioma",Solutions:"Soluciones","Architecture Center":"Centro de Arquitectura","Solution Playbooks":"Cuadernos de estrategias de soluciones","Reference Architectures":"Arquitecturas de referencia",Design:"Diseo",Develop:"Desarrollo",Integrate:"Integracin",Operate:"Ejecucin","Search Solutions":"Buscar soluciones","Search Help Center":"Buscar centro de ayuda","Back to Solutions":"Volver a Soluciones","Previous topic":"Anterior","Next topic":"Siguiente",Home:"Inicio",Options:"Opciones",Search:"Buscar","No matching solutions found. Discover new solutions by changing your search criteria.":"No se ha encontrado ninguna solucin que coincida. Descubra nuevas soluciones cambiando los criterios de bsqueda introducidos.","Similar Solutions":"Soluciones similares","Customer-Inspired Solutions":"Soluciones inspiradas en el cliente","Customer-inspired":"Inspirado en el cliente","Automation Available":"Automatizacin Disponible","These solutions were built to solve real-world scenarios.":"Estas soluciones se han creado para resolver escenarios reales.",Hide:"Ocultar",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle y/o sus filiales.","This page was machine translated.":"Esta pgina ha sido traducida por una mquina.","Skip to main content":"Ir al contenido principal","Back to main content":"Volver al contenido principal","Table of contents":"Tabla de contenido","About Oracle":"Acerca de Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/mx/corporate/","Contact Us":"Contactar","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/mx/corporate/contact/","Terms of Use and Privacy":"Condiciones de uso y privacidad","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/mx/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=es/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/mx/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"Opciones de publicidad","Skip to Content":"Ir a contenido","Skip to Search":"Ir a bsqueda",Menu:"Men","Sign In":"Iniciar sesin","Oracle Account":"Cuenta de Oracle",Help:"Ayuda","Sign Out":"Cerrar sesin","Manage your account and access personalized content.":"Gestione su cuenta y acceda a contenido personalizado.","Sign up for an Oracle Account":"Regstrese para obtener una cuenta de Oracle","Sign in to my Account":"Iniciar sesin en mi cuenta","Sign in to Cloud":"Iniciar sesin en la nube","Access your cloud dashboard, manage orders, and more.":"Acceda al panel de la nube, gestione pedidos y ms.","Free Cloud Platform Trial":"Prueba gratis de la plataforma en la nube","Sign up for a free trial":"Regstrese para una prueba gratuita","https://www.oracle.com/try-it.html":"https://www.oracle.com/mx/try-it.html",copy:"Copiar",copied:"Copiado","Copy the following example to clipboard":"Copie el siguiente ejemplo en el portapapeles","Reference Architecture":"Arquitectura de referencia","Solution Playbook":"Cuaderno de estrategias de solucin","Solution Details":"Detalles de solucin",Title:"Ttulo","Release Date":"Fecha de liberacin",Type:"Tipo",Technologies:"Tecnologas","Products & Services":"Productos y Servicios",Deploy:"Desplegar","Deploy to Oracle Cloud":"Desplegar en Oracle Cloud","Deploy from Marketplace":"Deplegar desde Marketplace","Go to GitHub":"Ir a Github","Description of the illustration":"Descripcin de la ilustracin"},fr:{dir:"fr","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=fr","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=FRA","Was this page helpful?":"Cette page vous a-t-elle t utile ?","Machine Translation Feedback":"Commentaire sur la traduction automatique","Machine Translation Feeback Form":"Formulaire de commentaire sur la traduction automatique",Language:"Langue",Solutions:"Solutions","Architecture Center":"Centre d'architecture","Solution Playbooks":"Lecteurs de solutions","Reference Architectures":"Architectures de rfrence",Design:"Concevoir",Develop:"Dvelopper",Integrate:"Intgrer",Operate:"Utiliser","Search Solutions":"Rechercher dans les solutions","Search Help Center":"Rechercher dans le centre d'aide","Back to Solutions":"Retour aux solutions","Previous topic":"Prcdent","Next topic":"Suivant",Home:"Accueil",Options:"Options",Search:"Rechercher","No matching solutions found. Discover new solutions by changing your search criteria.":"Aucune solution correspondante trouve. Recherchez de nouvelles solutions en modifiant vos critres.","Similar Solutions":"Solutions similaires","Customer-Inspired Solutions":"Solutions inspires des clients","Customer-inspired":"Inspir par le client","Automation Available":"Automatisation disponible","These solutions were built to solve real-world scenarios.":"Ces solutions reposent sur des scnarios rels.",Hide:"Masquer",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle et/ou ses affilis.","This page was machine translated.":"Cette page a t traduite automatiquement.","Skip to main content":"Passer au contenu principal","Back to main content":"Retour au contenu principal","Table of contents":"Table des matires","About Oracle":"A propos d'Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/fr/corporate/","Contact Us":"Nous contacter","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/fr/corporate/contact/","Terms of Use and Privacy":"Conditions d'utilisation et confidentialit","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/fr/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=fr/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/fr/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"Prfrences publicits","Skip to Content":"Accder au contenu","Skip to Search":"Accder  la recherche",Menu:"Menu","Sign In":"Se connecter","Oracle Account":"Compte Oracle",Help:"Aide","Sign Out":"Se dconnecter","Manage your account and access personalized content.":"Grez votre compte et accdez  du contenu personnalis.","Sign up for an Oracle Account":"Enregistrez-vous pour obtenir un compte Oracle","Sign in to my Account":"Connexion  Mon compte","Sign in to Cloud":"S'enregistrer dans le Cloud","Access your cloud dashboard, manage orders, and more.":"Accdez au tableau de bord de votre Cloud, grer les commandes et bien plus encore.","Free Cloud Platform Trial":"Essai gratuit de la plate-forme cloud","Sign up for a free trial":"Inscrivez-vous pour un essai gratuit","https://www.oracle.com/try-it.html":"https://www.oracle.com/fr/try-it.html",copy:"Copier",copied:"Copi  ","Copy the following example to clipboard":"Copier l'exemple suivant dans le presse-papiers","Reference Architecture":"Architecture de rfrence","Solution Playbook":"Guide de la solution","Solution Details":"Dtails de la solution",Title:"Titre","Release Date":"Date de publication",Type:"Type",Technologies:"Technologies","Products & Services":"Produits et services",Deploy:"Dployer","Deploy to Oracle Cloud":"Dployer sur Oracle Cloud","Deploy from Marketplace":"Dployer  partir de Marketplace","Go to GitHub":"Aller  GitHub","Description of the illustration":"Description de l'illustration"},de:{dir:"de","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=de","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=GER","Was this page helpful?":"War diese Seite hilfreich?","Machine Translation Feedback":"Feedback zur maschinellen bersetzung","Machine Translation Feeback Form":"Feedbackformular zur maschinellen bersetzung",Language:"Sprache",Solutions:"Solutions","Architecture Center":"Architektur Center","Solution Playbooks":"Lsungswiedergabebcher","Reference Architectures":"Referenzarchitekturen",Design:"Entwerfen",Develop:"Entwickeln",Integrate:"Integrieren",Operate:"Einsetzen","Search Solutions":"In Solutions suchen","Search Help Center":"Im Help Center suchen","Back to Solutions":"Zurck zu Solutions","Previous topic":"Zurck","Next topic":"Weiter",Home:"Home",Options:"Optionen",Search:"Suchen","No matching solutions found. Discover new solutions by changing your search criteria.":"Keine bereinstimmenden Lsungen gefunden. Entdecken Sie neue Lsungen, indem Sie Ihre Suchkriterien ndern.","Similar Solutions":"hnliche Lsungen","Customer-Inspired Solutions":"Von Kunden inspirierte Lsungen","Customer-inspired":"Kundeninspiriert","Automation Available":"Automatisierung verfgbar","These solutions were built to solve real-world scenarios.":"Mit diesen Lsungen lassen sich reale Szenarios bewerkstelligen.",Hide:"Ausblenden",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle und/oder verbundene Unternehmen.","This page was machine translated.":"Diese Seite wurde maschinell bersetzt.","Skip to main content":"Zum Hauptinhalt wechseln","Back to main content":"Zurck zum Hauptinhalt","Table of contents":"Inhaltsverzeichnis","About Oracle":"Info zu Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/de/corporate/","Contact Us":"Kontakt","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/de/corporate/contact/","Terms of Use and Privacy":"Nutzungsbedingungen und Datenschutzrichtlinie","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/de/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=de/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/de/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"Werbemglichkeiten","Skip to Content":"Zum Inhalt springen","Skip to Search":"Zur Suche springen",Menu:"Men","Sign In":"Anmelden","Oracle Account":"Oracle Konto",Help:"Hilfe","Sign Out":"Abmelden","Manage your account and access personalized content.":"Verwalten Sie Ihr Konto und greifen Sie auf personalisierte Inhalte zu.","Sign up for an Oracle Account":"Melden Sie sich fr ein Oracle Konto an","Sign in to my Account":"Bei meinem Konto anmelden","Sign in to Cloud":"Melden Sie sich in der Cloud an","Access your cloud dashboard, manage orders, and more.":"Greifen Sie auf Ihr Cloud-Dashboard zu, verwalten Sie Bestellungen und vieles mehr.","Free Cloud Platform Trial":"Kostenloser Cloud Platform-Test","Sign up for a free trial":"Melden Sie sich fr eine kostenlose Testversion an","https://www.oracle.com/try-it.html":"https://www.oracle.com/de/try-it.html",copy:"Kopieren",copied:"Kopiert","Copy the following example to clipboard":"Kopieren Sie das folgende Beispiel in die Zwischenablage","Reference Architecture":"Referenzarchitektur","Solution Playbook":"Lsungs-Playbook","Solution Details":"Lsungsdetails",Title:"Titel","Release Date":"Releasedatum",Type:"Typ",Technologies:"Technologien","Products & Services":"Produkte und Services",Deploy:"Bereitstellen","Deploy to Oracle Cloud":"In Oracle Cloud bereitstellen","Deploy from Marketplace":"Von Marketplace bereitstellen","Go to GitHub":"Gehe zu GitHub","Description of the illustration":"Beschreibung der Abbildung"},it:{dir:"it","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=it","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=IT","Was this page helpful?":"Questa pagina  stata utile?","Machine Translation Feedback":"Feedback sulla traduzione automatica non assistita","Machine Translation Feeback Form":"Modulo di feedback sulla traduzione automatica non assistita",Language:"Lingua",Solutions:"Soluzioni","Architecture Center":"Centro architettura","Solution Playbooks":"Libri di riproduzione soluzione","Reference Architectures":"Architetture di riferimento",Design:"Progettare",Develop:"Sviluppare",Integrate:"Integrare",Operate:"Operare","Search Solutions":"Cerca in Soluzioni","Search Help Center":"Cerca in Help Center","Back to Solutions":"Torna a Soluzioni","Previous topic":"Precedente","Next topic":"Successivo",Home:"Home",Options:"Opzioni",Search:"Cerca","No matching solutions found. Discover new solutions by changing your search criteria.":"Nessuna soluzione corrispondente trovata. Per scoprire nuove soluzioni, modificare i criteri di ricerca.","Similar Solutions":"Soluzioni simili","Customer-Inspired Solutions":"Soluzioni ispirate ai clienti","Customer-inspired":"Ispirato al cliente","Automation Available":"Automazione disponibile","These solutions were built to solve real-world scenarios.":"Queste soluzioni sono state create per risolvere scenari reali.",Hide:"Nascondi",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle e/o relative consociate.","This page was machine translated.":"Questa pagina  stata tradotta da una macchina.","Skip to main content":"Passa al contenuto principale","Back to main content":"Torna al contenuto principale","Table of contents":"Indice","About Oracle":"Informazioni su Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/it/corporate/","Contact Us":"Contattateci","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/it/corporate/contact/","Terms of Use and Privacy":"Condizioni d'uso e riservatezza","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/it/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=it/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/it/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"Scelte Ad","Skip to Content":"Salta a contenuti","Skip to Search":"Salta a ricerca",Menu:"Menu","Sign In":"Registrati","Oracle Account":"Account Oracle",Help:"Aiuto","Sign Out":"Esci","Manage your account and access personalized content.":"Gestisci il tuo account e accedi ai contenuti personalizzati.","Sign up for an Oracle Account":"Registrati per un account Oracle","Sign in to my Account":"Accedi al mio account","Sign in to Cloud":"Registrati per il Cloud","Access your cloud dashboard, manage orders, and more.":"Accedi al dashboard cloud, gestisci gli ordini e molto altro.","Free Cloud Platform Trial":"Prova gratuita della piattaforma Cloud","Sign up for a free trial":"Accedi al dashboard cloud, gestisci gli ordini e molto altro.","https://www.oracle.com/try-it.html":"https://www.oracle.com/it/try-it.html",copy:"Copia",copied:"Copiato","Copy the following example to clipboard":"Copia il seguente esempio negli Appunti","Reference Architecture":"Architettura di riferimento","Solution Playbook":"Manuale della soluzionek","Solution Details":"Dettagli della soluzione",Title:"Titolo","Release Date":"Data del rilascio",Type:"Tipo",Technologies:"Tecnologie","Products & Services":"Prodotti e servizi",Deploy:"Distribuisci","Deploy to Oracle Cloud":"Distribuisci in Oracle Cloud","Deploy from Marketplace":"Distribuisci da Marketplace","Go to GitHub":"Vai a GitHub","Description of the illustration":"Descrizione dell'immagine"},ja:{dir:"ja","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=ja","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=JA","Was this page helpful?":"?","Machine Translation Feedback":"","Machine Translation Feeback Form":"",Language:"",Solutions:"","Architecture Center":"","Solution Playbooks":"","Reference Architectures":"",Design:"",Develop:"",Integrate:"",Operate:"","Search Solutions":"","Search Help Center":"","Back to Solutions":"","Previous topic":"","Next topic":"",Home:"",Options:"",Search:"","No matching solutions found. Discover new solutions by changing your search criteria.":"","Similar Solutions":"","Customer-Inspired Solutions":"","Customer-inspired":"","Automation Available":"","These solutions were built to solve real-world scenarios.":"",Hide:"",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle and/or its affiliates.","This page was machine translated.":"","Skip to main content":"","Back to main content":"","Table of contents":"","About Oracle":"Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/jp/corporate/","Contact Us":"","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/jp/corporate/contact/","Terms of Use and Privacy":"","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/jp/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=ja/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/jp/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"","Skip to Content":"","Skip to Search":"",Menu:"","Sign In":"","Oracle Account":"Oracle",Help:"","Sign Out":"","Manage your account and access personalized content.":"","Sign up for an Oracle Account":"Oracle","Sign in to my Account":"","Sign in to Cloud":"","Access your cloud dashboard, manage orders, and more.":"","Free Cloud Platform Trial":"","Sign up for a free trial":"","https://www.oracle.com/try-it.html":"https://www.oracle.com/jp/try-it.html",copy:"",copied:"","Copy the following example to clipboard":"","Reference Architecture":"","Solution Playbook":"","Solution Details":"",Title:"","Release Date":"",Type:"",Technologies:"","Products & Services":"&",Deploy:"","Deploy to Oracle Cloud":"Oracle Cloud","Deploy from Marketplace":"","Go to GitHub":"Github","Description of the illustration":""},ko:{dir:"ko","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=ko","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=KO","Was this page helpful?":"   ?","Machine Translation Feedback":"  ","Machine Translation Feeback Form":"   ",Language:"",Solutions:"","Architecture Center":" ","Solution Playbooks":" Playbook","Reference Architectures":" ",Design:"",Develop:"",Integrate:"",Operate:"","Search Solutions":" ","Search Help Center":"  ","Back to Solutions":" ","Previous topic":"","Next topic":"",Home:"",Options:"",Search:"","No matching solutions found. Discover new solutions by changing your search criteria.":"    .      .","Similar Solutions":" ","Customer-Inspired Solutions":"  ","Customer-inspired":"  ","Automation Available":"  ","These solutions were built to solve real-world scenarios.":"     .",Hide:"",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle and/or its affiliates.","This page was machine translated.":"  .","Skip to main content":"  ","Back to main content":"  ","Table of contents":"","About Oracle":"Oracle ","https://www.oracle.com/corporate/":"https://www.oracle.com/kr/corporate/","Contact Us":" ","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/kr/corporate/contact/","Terms of Use and Privacy":"   ","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/kr/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=ko/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/kr/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":" ","Skip to Content":" ","Skip to Search":" ",Menu:"","Sign In":"","Oracle Account":" ",Help:"","Sign Out":"","Manage your account and access personalized content.":"     .","Sign up for an Oracle Account":"  ","Sign in to my Account":"  ","Sign in to Cloud":" ","Access your cloud dashboard, manage orders, and more.":"  ,   .","Free Cloud Platform Trial":"Cloud Platform  ","Sign up for a free trial":"  ","https://www.oracle.com/try-it.html":"https://www.oracle.com/kr/try-it.html",copy:"",copied:"","Copy the following example to clipboard":"   ","Reference Architecture":" ","Solution Playbook":" ","Solution Details":" ",Title:"","Release Date":" ",Type:"",Technologies:"","Products & Services":"  ",Deploy:"","Deploy to Oracle Cloud":"Oracle Cloud ","Deploy from Marketplace":"Marketplace ","Go to GitHub":"Github ","Description of the illustration":"  "},"pt-br":{dir:"pt-br","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=pt-BR","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=PTB","Was this page helpful?":"Esta pgina foi til?","Machine Translation Feedback":"Feedback para Traduo Automtica","Machine Translation Feeback Form":"Formulrio de Feedback para Traduo Automtica",Language:"Idioma",Solutions:"Solues","Architecture Center":"Centro de Arquitetura","Solution Playbooks":"Playbooks de Soluo","Reference Architectures":"Arquiteturas de Referncia",Design:"Projetar",Develop:"Desenvolver",Integrate:"Integrar",Operate:"Operar","Search Solutions":"Pesquisar nas Solues","Search Help Center":"Pesquisar no Help Center","Back to Solutions":"Voltar s Solues","Previous topic":"Anterior","Next topic":"Prximo",Home:"Pgina Inicial",Options:"Opes",Search:"Pesquisar",
"No matching solutions found. Discover new solutions by changing your search criteria.":"Nenhuma soluo correspondente encontrada. Descubra novas solues alterando seus critrios de pesquisa.","Similar Solutions":"Solues Semelhantes","Customer-Inspired Solutions":"Solues Inspiradas nos Clientes","Customer-inspired":"Inspirado no cliente","Automation Available":"Automao Disponvel","These solutions were built to solve real-world scenarios.":"Essas solues foram criadas para tratar de situaes do mundo real.",Hide:"Ocultar",Copyright:"Copyright","Oracle and/or its affiliates.":"Oracle e/ou suas empresas afiliadas.","This page was machine translated.":"Esta pgina foi traduzida automaticamente.","Skip to main content":"Ir para o contedo principal","Back to main content":"Voltar ao contedo principal","Table of contents":"ndice","About Oracle":"Sobre a Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/br/corporate/","Contact Us":"Fale Conosco","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/br/corporate/contact/","Terms of Use and Privacy":"Termos de Uso e Privacidade","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/br/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=pt-br/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/br/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"Escolhas de Anncios","Skip to Content":"Ir para Contedo","Skip to Search":"Ir para Pesquisa",Menu:"Menu","Sign In":"Fazer Login","Oracle Account":"Conta da Oracle",Help:"Ajuda","Sign Out":"Sair da Conta","Manage your account and access personalized content.":"Gerencie sua conta e acesse um contedo personalizado.","Sign up for an Oracle Account":"Inscreva-se para uma Conta Oracle","Sign in to my Account":"Fazer Login na minha Conta","Sign in to Cloud":"Faa login na Nuvem","Free Cloud Platform Trial":"Plataforma na Nuvem Gratuita para Teste","Access your cloud dashboard, manage orders, and more.":"Acesse seu painel na nuvem, gerencie pedidos e muito mais.","Sign up for a free trial":"Inscreva-se para um teste gratuito","https://www.oracle.com/try-it.html":"https://www.oracle.com/br/try-it.html",copy:"Copiar",copied:"Copiado","Copy the following example to clipboard":"Copiar o exemplo a seguir para a rea de transferncia","Reference Architecture":"Arquitetura de Referncia","Solution Playbook":"Playbook da Soluo","Solution Details":"Detalhes da Soluo",Title:"Ttulo","Release Date":"Data de Liberao",Type:"Tipo",Technologies:"Tecnologias","Products & Services":"Produtos & Servios",Deploy:"Implantar","Deploy to Oracle Cloud":"Implantar no Oracle Cloud","Deploy from Marketplace":"Implantar pelo Marketplace","Go to GitHub":"Ir para Github","Description of the illustration":"Descrio da ilustrao"},"zh-hans":{dir:"zh-cn","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=zh-Hans","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=ZHS","Was this page helpful?":"","Machine Translation Feedback":"","Machine Translation Feeback Form":"",Language:"",Solutions:"","Architecture Center":"","Solution Playbooks":"","Reference Architectures":"",Design:"",Develop:"",Integrate:"",Operate:"","Search Solutions":"","Search Help Center":"","Back to Solutions":"","Previous topic":"","Next topic":"",Home:"",Options:"",Search:"","No matching solutions found. Discover new solutions by changing your search criteria.":"","Similar Solutions":"","Customer-Inspired Solutions":"","Customer-inspired":"","Automation Available":"","These solutions were built to solve real-world scenarios.":"",Hide:"",Copyright:"","Oracle and/or its affiliates.":"Oracle /","This page was machine translated.":"","Skip to main content":"","Back to main content":"","Table of contents":"","About Oracle":" Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/cn/corporate/","Contact Us":"","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/cn/corporate/contact/","Terms of Use and Privacy":"","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/cn/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=zh-cn/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/cn/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"","Skip to Content":"","Skip to Search":"",Menu:"","Sign In":"","Oracle Account":"Oracle ",Help:"","Sign Out":"","Manage your account and access personalized content.":"","Sign up for an Oracle Account":" Oracle ","Sign in to my Account":"","Sign in to Cloud":"","Access your cloud dashboard, manage orders, and more.":"","Free Cloud Platform Trial":"","Sign up for a free trial":"","https://www.oracle.com/try-it.html":"https://www.oracle.com/cn/try-it.html",copy:"",copied:"","Copy the following example to clipboard":"","Reference Architecture":"","Solution Playbook":"","Solution Details":"",Title:"","Release Date":"",Type:"",Technologies:"","Products & Services":"",Deploy:"","Deploy to Oracle Cloud":" Oracle ","Deploy from Marketplace":"","Go to GitHub":" Github","Description of the illustration":""},"zh-hant":{dir:"zh-tw","feedback-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=zh-Hant","translation-survey":"https://ora-java.custhelp.com/ci/documents/detail/5/2523/12/6c815f312d7890bee99d231c883f3f3e3e40eafa?locale=ZHT","Was this page helpful?":"?","Machine Translation Feedback":"","Machine Translation Feeback Form":"",Language:"",Solutions:"","Architecture Center":"","Solution Playbooks":"","Reference Architectures":"",Design:"",Develop:"",Integrate:"",Operate:"","Search Solutions":"","Search Help Center":"","Back to Solutions":"","Previous topic":"","Next topic":"",Home:"",Options:"",Search:"","No matching solutions found. Discover new solutions by changing your search criteria.":"","Similar Solutions":"","Customer-Inspired Solutions":"","Customer-inspired":"","Automation Available":"","These solutions were built to solve real-world scenarios.":"",Hide:"",Copyright:"","Oracle and/or its affiliates.":"Oracle  () ","This page was machine translated.":"","Skip to main content":"","Back to main content":"","Table of contents":"","About Oracle":" Oracle","https://www.oracle.com/corporate/":"https://www.oracle.com/tw/corporate/","Contact Us":"","https://www.oracle.com/corporate/contact/":"https://www.oracle.com/tw/corporate/contact/","Terms of Use and Privacy":"","https://www.oracle.com/legal/privacy/":"https://www.oracle.com/tw/legal/privacy/","https://docs.oracle.com/pls/topic/lookup?ctx=en/legal&id=cpyr":"https://docs.oracle.com/pls/topic/lookup?ctx=zh-tw/legal&id=cpyr","https://www.oracle.com/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12":"https://www.oracle.com/tw/legal/privacy/marketing-cloud-data-cloud-privacy-policy.html#12","Ad Choices":"","Skip to Content":"","Skip to Search":"",Menu:"","Sign In":"","Oracle Account":"Oracle ",Help:"","Sign Out":"","Manage your account and access personalized content.":"","Sign up for an Oracle Account":" Oracle ","Sign in to my Account":"","Sign in to Cloud":"","Access your cloud dashboard, manage orders, and more.":"","Free Cloud Platform Trial":"","Sign up for a free trial":"","https://www.oracle.com/try-it.html":"https://www.oracle.com/tw/try-it.html",copy:"",copied:"","Copy the following example to clipboard":"","Reference Architecture":"","Solution Playbook":"","Solution Details":"",Title:"","Release Date":"",Type:"",Technologies:"","Products & Services":"",Deploy:"","Deploy to Oracle Cloud":" Oracle Cloud","Deploy from Marketplace":" Marketplace ","Go to GitHub":" Github","Description of the illustration":""}},a=e("html").attr("lang");a&&(a=a.toLowerCase()),"zh-cn"===a&&(a="zh-hans"),"zh-tw"===a&&(a="zh-hant");var i=function(e){if(void 0!==a&&!1!==a)var o=a;else var o="en";return void 0===t[o]&&o.indexOf("-")>-1&&(o=o.substr(0,o.indexOf("-"))),void 0===t[o]||void 0===t[o][e]?"dir"===e?"en":e:t[o][e]};o.registerHelper("i18n",i),o.registerHelper("if_mt",function(o){return e("html").hasClass("mt")?o.fn(this):o.inverse(this)}),o.registerHelper("if_is_learn",function(o){return e("html").hasClass("learn")?o.fn(this):o.inverse(this)}),i.languages=[{dir:"ar",label:""},{dir:"pt-br",label:"Portugus (Brasil)"},{dir:"en",label:"English"},{dir:"fr",label:"Franais"},{dir:"de",label:"Deutsch"},{dir:"it",label:"Italiano"},{dir:"ja",label:""},{dir:"ko",label:""},{dir:"zh-cn",label:" ()"},{dir:"es",label:"Espaol"},{dir:"zh-tw",label:" ()"}];var r=e("html").attr("lang");return r&&(r=r.toLowerCase()),i.htmlLang=r,i}),define("simple-collapsible-widget",["jquery"],function(e){function o(o){return this.each(function(){var t=e(this),i=t.data(a.FULL_NAME),r=e.extend({},"object"==typeof o&&o);i||t.data(a.FULL_NAME,i=new a(r,this)),"string"==typeof o&&i[o]()})}function t(o){var t=o.attr("data-target")||o.attr("href");return e(t)}var a=function(){function o(t,a){this.widgetFullName=o.FULL_NAME,this.options=t,this.$target=e(a),this.$button=e('[data-toggle="simple-collapsible"][href="#'+a.id+'"],[data-toggle="simple-collapsible"][data-target="#'+a.id+'"]'),this.transitioning=!1,this._init()}return o.FULL_NAME="doceng.simple-collapsible",o.prototype={_init:function(){this._initAccessibility(this.$target,this.$button),this.toggle()},_transitionAxis:function(){return this.$target.hasClass("width")?"width":"height"},_initAccessibility:function(e,o){var t=e.hasClass("in");o.toggleClass("collapsed",!t).attr("aria-expanded",t),e.attr("aria-expanded",t)},toggle:function(){this[this.$target.hasClass("in")?"hide":"show"]()},show:function(){if(!this.transitioning&&!this.$target.hasClass("in")){var o=e.Event("show."+this.widgetFullName);if(this.$target.trigger(o),!o.isDefaultPrevented()){var t=this._transitionAxis();this.$target.addClass("collapsing").removeClass("collapse")[t](0).attr("aria-expanded",!0),this.$button.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=!0;var a=e.camelCase(["scroll",t].join("-"));this.$target.one("transitionend",this._triggerShown(t))[t](this.$target[0][a])}}},_triggerShown:function(e){var o=this;return function(){o.$target.removeClass("collapsing").addClass("collapse in")[e](""),o.transitioning=!1,o.$target.trigger("shown."+o.widgetFullName)}},hide:function(){if(!this.transitioning&&this.$target.hasClass("in")){var o=e.Event("hide."+this.widgetFullName);if(this.$target.trigger(o),!o.isDefaultPrevented()){var t=this._transitionAxis();this.$target[t](this.$target[t]()),this.$target.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$button.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=!0,this.$target[t](0).one("transitionend",this._triggerHidden())}}},_triggerHidden:function(){var e=this;return function(){e.transitioning=!1,e.$target.removeClass("collapsing").addClass("collapse").trigger("hidden."+e.widgetFullName)}}},o}();e.fn.simplecollapsible=o,e.fn.simplecollapsible.Constructor=a,e(document).on("click."+a.FULL_NAME,'[data-toggle="simple-collapsible"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var c=t(r),n=c.data(a.FULL_NAME),l=n?"toggle":r.data();o.call(c,l)})}),define("js/feedback/feedback-widget",["jquery","handlebars","text!feedback-widget-template.hbs","i18n","jquery-ui","simple-collapsible-widget"],function(e,o,t,a){var i=function(){function i(o,t){this.widgetFullName="doceng.feedback",this.options=e.extend(!0,{footerSelector:"#u10",nextSelector:".u10w1 ul > li:first > a"},o),this.$element=e(t),this.$collapsible=null,this.$coverButton=null,this.footerIntersectionObserver=null,this._init()}return i.prototype={_init:function(){this.$element.addClass("feedback-widget background"),this._create()},_create:function(){this.$element.html(o.compile(t)(this)),this.$collapsible=this.$element.find(".collapse:first"),this.$coverButton=this.$element.find(".feedback-open:first"),this._repositionIfneighbor(1e3,6)("oda-chat-wrapper"),this.$collapsible.on("show.doceng.simple-collapsible",this._open()),this.$collapsible.on("hidden.doceng.simple-collapsible",this._close()),this.$collapsible.find(".thumbs.up,.thumbs.down").on("click",this._openPopUp()),this.$collapsible.find(".feedback-close").on("click",this._handleCloseEvent()),this.$element.on("mouseenter",this.open.bind(this)),this.$element.on("mouseleave",this.close.bind(this)),this.$element.length&&this._spyFooterPositionOnScroll()},_open:function(){var e=this;return function(){e.$coverButton.hide(),e.$element.removeClass("background"),e.$element.addClass("open")}},_close:function(){var e=this;return function(){e.$coverButton.show(),e.$element.addClass("background"),e.$element.removeClass("open")}},_spyFooterPositionOnScroll:function(){"IntersectionObserver"in window?this._observeFooterIntersection():this._bindScrollEvent()},_observeFooterIntersection:function(){var o=this;e(this.options.footerSelector).first().each(function(e,t){o.footerIntersectionObserver=new IntersectionObserver(function(e){var t=o.$element.offset().left;e.forEach(function(e){e.isIntersecting&&e.boundingClientRect.right>=t?o.$element.addClass("footer-anchor"):o.$element.removeClass("footer-anchor")})}),o.footerIntersectionObserver.observe(t)})},_bindScrollEvent:function(){var o=e(window),t=e(this.options.footerSelector),a=this,i="scroll."+this.widgetFullName,r=function(){var e=o.scrollTop()+o.height();if(t.length){var i=t.offset().top,r=t.offset().left+t.width(),c=a.$element.offset().left;e>=i&&r>=c?a.$element.addClass("footer-anchor"):a.$element.removeClass("footer-anchor")}};e(window).on(i,e.throttle(100,r)),r()},_handleCloseEvent:function(){var o=this;return function(t){o.destroy(),0===t.clientX&&0===t.clientY&&e(o.options.nextSelector).focus()}},_repositionIfneighbor:function(o,t){var a,i=this;return a=function(r,c){if(c=null==c?0:c,e(document).has("."+r+":visible").length)i.$element.addClass("neighbor-widget");else if(c<t){var n=o+10*Math.pow(2,c);setTimeout(a,n,r,c+1)}}},_openPopUp:function(){var o=this,t=function(e){return Object.keys(e).reduce(function(o,t){return o+"&"+t+"="+e[t]},"")},i=function(e){return Object.keys(e).map(function(o){return o+"="+e[o]}).join(",")};return function(){o.destroy();var r,c=null,n=t({url:encodeURIComponent(window.location.href),_:Date.now(),like:e(this).val()});if(["docs.oracle.com","docs-stage.oracle.com"].indexOf(location.hostname)>-1){r=("feedback-survey"===a("feedback-survey")?"https://ora-java.custhelp.com/ci/documents/detail/5/2573/12/44094e13fc9b4657e63934ebc4cd31c019aa93a5?locale=en":a("feedback-survey"))+n}else"pt-br"===a.htmlLang&&(a.htmlLang="pt-BR"),"zh-hans"===a.htmlLang&&(a.htmlLang="zh-Hans"),"zh-hant"===a.htmlLang&&(a.htmlLang="zh-Hant"),r="https://ora-java.custhelp.com/ci/documents/detail/5/2639/12/e572a1f6cbda421c17f05dc71c386e83f8a0a608?locale="+a.htmlLang+n;var l=void 0!=window.screenLeft?window.screenLeft:screen.left,s=void 0!=window.screenTop?window.screenTop:screen.top,u=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,p=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,d={};if(window.innerWidth<=768)d={width:window.innerWidth,height:window.innerHeight,left:0+l,top:0+s};else{d={width:500,height:350,left:u-500+l,top:p-e(o.options.footerSelector).outerHeight()-350+s}}(null===c||c.closed)&&(c=window.open(r,"Feedback Form",i(e.extend({directories:0,location:0,menubar:0,scrollbars:1,status:0,toolbar:0},d)))),c.focus(),setTimeout(function(){c.close()},15e5)}},open:function(){this.$collapsible.simplecollapsible("show")},close:function(){this.$collapsible.simplecollapsible("hide")},destroy:function(){e(window).off("scroll."+this.widgetFullName),this.footerIntersectionObserver&&this.footerIntersectionObserver.disconnect(),this.$collapsible.off(),this.$element.removeData().off().empty().removeClass("feedback-widget background open footer-anchor neighbor-widget")},option:function(o,t){if(e.isPlainObject(o))this.options=e.extend(!0,this.options,o);else{if(o&&void 0===t)return this.options[o];this.options[o]=t}return this}},i}();e.widget.bridge("feedback",i)}),function(e,o){var t,a=e.jQuery||e.Cowboy||(e.Cowboy={});a.throttle=t=function(e,t,i,r){function c(){function a(){l=+new Date,i.apply(s,p)}function c(){n=o}var s=this,u=+new Date-l,p=arguments;r&&!n&&a(),n&&clearTimeout(n),r===o&&u>e?a():!0!==t&&(n=setTimeout(r?c:a,r===o?e-u:e))}var n,l=0;return"boolean"!=typeof t&&(r=i,i=t,t=o),a.guid&&(c.guid=i.guid=i.guid||a.guid++),c},a.debounce=function(e,a,i){return i===o?t(e,a,!1):t(e,i,!1!==a)}}(this),define("debounce",["jquery"],function(){}),require(["js/feedback/feedback-widget"]);
//# sourceMappingURL=feedback-widget.min.js.map;
define("doceng-feedback", function(){});

define('components/footer/index',["require", "exports", "preact", "ojs/ojconfig", "jquery", "../../translations/footer/translations-helper", "doceng-feedback"], function (require, exports, preact_1, Config, $, translations_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Footer = void 0;
    class Footer extends preact_1.Component {
        constructor() {
            super();
            this.translationSurveyHandler = (event) => {
                event.preventDefault();
                window.open(this.state.translations.urls.translationSurvey, this.state.translations.labels.machineTranslationFeedbackForm, 'width=600,height=480');
            };
            this.state = {
                translations: translations_helper_1.default.getTranslations(),
                isMachineTranslation: !Config.getLocale().startsWith('en')
            };
            this.oracle = {
                htmlText: ' Oracle',
                href: this.state.translations.urls.copyrightOracle
            };
            this.aboutUs = {
                htmlText: this.state.translations.labels.aboutOracle,
                href: this.state.translations.urls.aboutOracle
            };
            this.contactUs = {
                htmlText: this.state.translations.labels.contactUs,
                href: this.state.translations.urls.contactUs
            };
            this.products = {
                htmlText: 'Products A-Z',
                href: '/en/browseall.html'
            };
            this.termsOfUse = {
                htmlText: 'Terms of Use & Privacy',
                href: this.state.translations.urls.termsOfUseAndPrivacy
            };
            this.adChoices = {
                htmlText: this.state.translations.labels.adChoices,
                href: this.state.translations.urls.adChoices
            };
            this.commentsAboutMachineTranslation = {
                htmlText: this.state.translations.labels.machineTranslationFeedback,
                href: this.state.translations.urls.translationSurvey
            };
        }
        render() {
            return (preact_1.h("footer", { class: "footer" },
                preact_1.h("div", { id: "u10", class: "u10", style: "position: relative;", "data-trackas": "footer" },
                    preact_1.h("ul", { class: 'oj-flex oj-sm-justify-content-center oj-sm-align-items-center oj-sm-padding-4x-horizontal oj-xl-padding-3x-vertical ' +
                            'oj-sm-margin-0 oj-typography-body-sm links' },
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { target: "_blank", "data-lbl": "copyright", href: this.oracle.href }, this.oracle.htmlText)),
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { class: "oj-sm-margin-4x-start oj-lg-margin-6x-start", target: "_blank", "data-lbl": "about-oracle", href: this.aboutUs.href }, this.aboutUs.htmlText)),
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { class: "oj-sm-margin-4x-start oj-lg-margin-6x-start", target: "_blank", "data-lbl": "contact-us", href: this.contactUs.href }, this.contactUs.htmlText)),
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { class: "oj-sm-margin-4x-start oj-lg-margin-6x-start", target: "_blank", "data-lbl": "products-a-z", href: this.products.href }, this.products.htmlText)),
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { class: "oj-sm-margin-4x-start oj-lg-margin-6x-start", target: "_blank", "data-lbl": "terms-of-use-and-privacy", href: this.termsOfUse.href }, this.termsOfUse.htmlText)),
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("div", { "aria-label": "Open a new modal to ", id: "teconsent" })),
                        preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { class: "oj-sm-margin-4x-start oj-lg-margin-6x-start", target: "_blank", "data-lbl": "ad-choices", href: this.adChoices.href }, this.adChoices.htmlText)),
                        this.state.isMachineTranslation && preact_1.h("li", { class: "oj-xl-padding-3x-vertical" },
                            preact_1.h("a", { class: "oj-sm-margin-4x-start oj-lg-margin-6x-start", href: this.commentsAboutMachineTranslation.href, onClick: this.translationSurveyHandler }, this.commentsAboutMachineTranslation.htmlText)))),
                preact_1.h("script", { async: true, src: "//consent.truste.com/notice?domain=oracle.com&c=teconsent&js=bb&noticeType=bb&text=true&gtm=1&cdn=1&pcookie", crossOrigin: "" }),
                preact_1.h("script", { defer: true, src: "/en/tracking-wrapper.js", type: "text/javascript" })));
        }
        componentDidMount() {
            $('.u10').prepend($('<div>').feedback({ footerSelector: '.footer' }));
        }
    }
    exports.Footer = Footer;
});

/**
 * @license
 * Copyright (c) 2014, 2021, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define('ojs/ojdrawerpopup',["exports","ojs/ojvcomponent","preact","jquery","ojs/ojanimation","ojs/ojcore-base","ojs/ojpopup","ojs/ojdrawerutils","hammerjs"],function(e,t,s,o,r,n,i,a,l){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;var p,d=function(e,t,s,o){var r,n=arguments.length,i=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,s,i):r(t,s))||i);return n>3&&i&&Object.defineProperty(t,s,i),i};const c=oj.PopupService,h=window;e.DrawerPopup=p=class extends s.Component{constructor(){super(...arguments),this.state={opened:this.props.opened,selfClosed:!1},this.rootRef=s.createRef(),this.isShiftKeyActive=!1,this.handleKeyDown=e=>{if(e.key===a.DrawerConstants.keys.ESC)return void this.selfClose();const t=this.getFocusables();if(e.key===a.DrawerConstants.keys.TAB&&"modal"===this.props.modality){this.isShiftKeyActive=e.shiftKey;const{length:s,0:o,[s-1]:r}=t;if(!s)return e.preventDefault(),void this.rootRef.current.focus();if(e.shiftKey){if(document.activeElement===o)return e.preventDefault(),void r.focus()}else if(document.activeElement===r)return e.preventDefault(),void o.focus()}},this.autoDismissHandler=e=>{const t=this.getFocusables(),s=this.rootRef.current.parentNode;if("focus-loss"===this.props.autoDismiss){const o=this.isTargetDescendantOfOwnZorderLayerOrItsNextSiblings(s,e.target);if("focus"===e.type&&"modal"===this.props.modality&&!o){e.preventDefault();const s=e.relatedTarget,o=t[0],r=t[t.length-1];return void(s===o?r.focus():o.focus())}o||this.selfClose()}},this.getFocusables=()=>this.rootRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]), video'),this.isTargetDescendantOfOwnZorderLayerOrItsNextSiblings=(e,t)=>{const s=[e];let o=e.nextSibling;for(;o;)s.push(o),o=o.nextSibling;return s.some(e=>e.contains(t))},this.handleSwipeAction=()=>{this.selfClose()}}render(e){return s.h(t.Root,{ref:this.rootRef,class:this.getPopupStyleClasses(this.props.edge),tabIndex:-1,role:this.props.role||"dialog",onKeyDown:this.handleKeyDown},e.children)}selfClose(){var e,t;const s={opened:!1,selfClosed:!0};this.setState(s),null===(t=(e=this.props).onOpenedChanged)||void 0===t||t.call(e,!1)}renderDrawer(e){const t=this.props.edge,s=o(this.rootRef.current),r={},n=c.OPTION;r[n.POPUP]=s,r[n.LAUNCHER]=o(document.activeElement),r[n.MODALITY]=this.props.modality,r[n.LAYER_SELECTORS]=this.getDrawerSurrogateLayerSelectors(),r[n.POSITION]=this.getDrawerPosition(t);const i=c.EVENT;r[n.EVENTS]={[i.POPUP_BEFORE_OPEN]:()=>this.beforeOpenHandler(t,r),[i.POPUP_AFTER_OPEN]:()=>this.handleFocus(e),[i.POPUP_BEFORE_CLOSE]:()=>this.beforeCloseHandler(t),[i.POPUP_AUTODISMISS]:e=>this.autoDismissHandler(e),[i.POPUP_REFRESH]:()=>{s.position(this.getDrawerPosition(t))}};const a=c.getInstance();this.isDrawerOpened()?a.open(r):a.close(r)}beforeOpenHandler(e,t){const s=t[c.OPTION.POPUP],o=t[c.OPTION.POSITION];return[a.DrawerConstants.stringStart,a.DrawerConstants.stringEnd].indexOf(e)>-1&&(this.rootRef.current.style.height=window.innerHeight+"px"),a.DrawerConstants.stringBottom===e&&(this.rootRef.current.style.width=document.documentElement.clientWidth+"px"),s.show(),s.position(o),r.slideIn(this.rootRef.current,a.DrawerUtils.getAnimationOptions(a.DrawerConstants.stringOpen,e))}beforeCloseHandler(e){return r.slideOut(this.rootRef.current,a.DrawerUtils.getAnimationOptions(a.DrawerConstants.stringClose,e))}getDrawerSurrogateLayerSelectors(){let e=a.DrawerConstants.DrawerPopupStyleSurrogate;return"modal"===this.props.modality&&(e+=` ${a.DrawerConstants.stringOjDrawer}${a.DrawerConstants.charDash}modal`),e}getDrawerPosition(e){let t=`${e} ${"bottom"===e?"bottom":"top"}`,s={my:t,at:t,of:window,collision:"none"};return oj.PositionUtils.normalizeHorizontalAlignment(s,a.DrawerUtils.isRTL())}isDrawerOpened(){return this.state.opened}getPopupStyleClasses(e){return a.DrawerUtils.getStyleClassesMapAsString(Object.assign({},a.DrawerUtils.getCommonStyleClasses(e,this.isDrawerOpened())))}static getDerivedStateFromProps(e,t){const s={};return!1===t.selfClosed&&e.opened!==t.opened&&(s.opened=e.opened),!1===t.opened&&(s.selfClosed=!1),s}handleFocus(e){const t=this.getFocusables();if(this.state.opened&&e.opened!==this.state.opened){const e=this.rootRef.current.querySelectorAll("[autofocus]"),{length:s,0:o}=e;if(s>0)return void o.focus();const{length:r,0:n}=t;(r>0?n:this.rootRef.current).focus()}}componentDidUpdate(e,t){this.handleComponentUpdate(t)}componentDidMount(){if(p.defaultProps.opened!=this.props.opened){const e=Object.assign({},this.state);e.opened=!1,this.handleComponentUpdate(e)}}handleComponentUpdate(e){this.renderDrawer(e),this.isDrawerOpened()&&"swipe"===this.props.closeGesture&&this.registerCloseWithSwipeListener(),!1===this.isDrawerOpened()&&e.opened&&this.unregisterCloseWithSwipeListener()}registerCloseWithSwipeListener(){this.hammerInstance=new l(h),this.props.edge===a.DrawerConstants.stringBottom&&this.hammerInstance.get("swipe").set({direction:l.DIRECTION_DOWN}),this.hammerInstance.on(this.getSwipeCloseDirection(this.props.edge),this.handleSwipeAction)}getSwipeCloseDirection(e){switch(e){case a.DrawerConstants.stringStart:return a.DrawerUtils.isRTL()?"swiperight":"swipeleft";case a.DrawerConstants.stringEnd:return a.DrawerUtils.isRTL()?"swipeleft":"swiperight";case a.DrawerConstants.stringBottom:return"swipedown"}}unregisterCloseWithSwipeListener(){this.hammerInstance&&this.hammerInstance.off(this.getSwipeCloseDirection(this.props.edge),this.handleSwipeAction)}},e.DrawerPopup.defaultProps={autoDismiss:"focus-loss",edge:"start",modality:"modal",opened:!1,closeGesture:"swipe"},e.DrawerPopup.metadata={slots:{"":{}},properties:{opened:{type:"boolean",writeback:!0},edge:{type:"string",enumValues:["start","end","bottom"]},modality:{type:"string",enumValues:["modal","modeless"]},autoDismiss:{type:"string",enumValues:["focus-loss","none"]},closeGesture:{type:"string",enumValues:["swipe","none"]}},extension:{_WRITEBACK_PROPS:["opened"],_READ_ONLY_PROPS:[],_OBSERVED_GLOBAL_PROPS:["role"]}},e.DrawerPopup=p=d([t.customElement("oj-drawer-popup")],e.DrawerPopup),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ojdrawerpopup.js.map;
define('components/main/drawer-popup-table-of-contents/index',["require", "exports", "preact", "preact/hooks", "../../common/table-of-contents/index", "../../common/catalog-filters/index", "../../common/toggle-table-of-contents/index", "../../../models/components/common/catalog-filters/type.enum", "../../../store/publication-context", "../../../utils/table-of-contents-helper", "ojs/ojdrawerpopup"], function (require, exports, preact_1, hooks_1, index_1, index_2, index_3, type_enum_1, publication_context_1, table_of_contents_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.DrawerPopupTableOfContents = void 0;
    class DrawerPopupTableOfContents extends preact_1.Component {
        constructor() {
            super();
            this.TRANSITION_END_WAIT_TIME = 50;
            this.scrollToSelectedEntryWithTimeout = () => {
                setTimeout(() => {
                    if (this.props.isDrawerPopupOpen) {
                        table_of_contents_helper_1.scrollToSelectedEntry(table_of_contents_helper_1.DRAWER_POPUP_TABLE_OF_CONTENTS_SELECTOR, table_of_contents_helper_1.DRAWER_POPUP_TABLE_OF_CONTENTS_SELECTED_ENTRY_SELECTOR);
                    }
                }, this.TRANSITION_END_WAIT_TIME);
            };
            this.closeDrawerPopup = () => this.props.openDrawerPopup(false);
            this.updateAvailableCatalogFiltersOptions = (catalogFiltersOptions) => this.setState({ catalogFiltersOptions });
            this.selectedCatalogFiltersChanged = (filterType, selectedFilters) => {
                this.setState(prevState => {
                    var _a, _b;
                    return ({
                        selectedCatalogFilters: {
                            audiences: filterType === type_enum_1.default.AUDIENCE ? selectedFilters : (((_a = prevState.selectedCatalogFilters) === null || _a === void 0 ? void 0 : _a.audiences) || []),
                            environments: filterType === type_enum_1.default.ENVIRONMENT ? selectedFilters : (((_b = prevState.selectedCatalogFilters) === null || _b === void 0 ? void 0 : _b.environments) || [])
                        }
                    });
                });
            };
            this.openedChanged = (event) => {
                if (event.detail.updatedFrom === 'internal') {
                    this.props.openDrawerPopup(false);
                    document.getElementById(index_3.TOGGLE_NAVIGATION_DRAWER).focus();
                }
            };
            this.closeDrawerPopup = this.closeDrawerPopup.bind(this);
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            return (preact_1.h("div", null,
                preact_1.h("oj-drawer-popup", { id: "drawerPopupTableOfContents", class: "oj-md-only-width-1/2 drawer-popup-table-of-contents", edge: "end", opened: this.props.isDrawerPopupOpen, onopenedChanged: this.openedChanged },
                    publication.isArticle && preact_1.h(index_2.CatalogFilters, { closeDrawerPopup: this.closeDrawerPopup, availableCatalogFiltersOptions: this.state.catalogFiltersOptions, selectedCatalogFiltersChanged: this.selectedCatalogFiltersChanged, isDrawerPopupOpen: this.props.isDrawerPopupOpen }),
                    preact_1.h(index_1.TableOfContents, { inNavigation: false, closeDrawerPopup: this.closeDrawerPopup, updateAvailableCatalogFiltersOptions: this.updateAvailableCatalogFiltersOptions, selectedCatalogFilters: this.state.selectedCatalogFilters }))));
        }
        componentDidMount() {
            const drawerPopupTableOfContents = document.getElementById('drawerPopupTableOfContents');
            drawerPopupTableOfContents.addEventListener('transitionend', this.scrollToSelectedEntryWithTimeout);
        }
        componentWillUnmount() {
            const drawerPopupTableOfContents = document.getElementById('drawerPopupTableOfContents');
            drawerPopupTableOfContents.removeEventListener('transitionend', this.scrollToSelectedEntryWithTimeout);
        }
    }
    exports.DrawerPopupTableOfContents = DrawerPopupTableOfContents;
});

define('enums/common/product.enum',["require","exports"],(function(require,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.PAAS="en/cloud/paas",e.OperatingSystems="en/operating-systems",e.Virtualization="en/virtualization",e.Java="en/java",e.EngineeredSystems="en/engineered-systems",e.Servers="en/servers",e.Storage="en/storage",e.Networking="en/networking",e.Industries="en/industries"}(n||(n={})),e.default=n}));
define('enums/components/main/main-background-class.enum',["require","exports"],(function(require,e){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.DarkNeutral="background-dark-neutral",e.Rose="background-rose",e.Green="background-green",e.Blue="background-blue",e.Pebble="background-pebble",e.Slate="background-slate",e.Teal="background-teal",e.Lilac="background-lilac",e.Default="background-neutral"}(a||(a={})),e.default=a}));
define('enums/components/main/stripe-background-class.enum',["require","exports"],(function(require,e){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(e){e.DarkNeutral="stripe-dark-neutral",e.Rose="stripe-rose",e.Green="stripe-green",e.Blue="stripe-blue",e.Pebble="stripe-pebble",e.Slate="stripe-slate",e.Teal="stripe-teal",e.Lilac="stripe-lilac",e.Default="stripe-neutral"}(r||(r={})),e.default=r}));
define('utils/hero-helper',["require","exports","../enums/common/category.enum","../enums/common/product.enum","../enums/components/main/main-background-class.enum","../enums/components/main/stripe-background-class.enum"],(function(require,e,a,t,u,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getClassesByCategoryAndProduct=void 0;const r=[{category:a.default.Cloud,product:t.default.PAAS,backgroundClass:u.default.Blue,stripeClass:l.default.Blue},{category:a.default.OperatingSystems,product:t.default.OperatingSystems,backgroundClass:u.default.Pebble,stripeClass:l.default.Pebble},{category:a.default.Virtualization,product:t.default.Virtualization,backgroundClass:u.default.Pebble,stripeClass:l.default.Pebble},{category:a.default.OracleJava,product:t.default.Java,backgroundClass:u.default.Pebble,stripeClass:l.default.Pebble},{category:a.default.EngineeredSystems,product:t.default.EngineeredSystems,backgroundClass:u.default.DarkNeutral,stripeClass:l.default.DarkNeutral},{category:a.default.Servers,product:t.default.Servers,backgroundClass:u.default.DarkNeutral,stripeClass:l.default.DarkNeutral},{category:a.default.Storage,product:t.default.Storage,backgroundClass:u.default.DarkNeutral,stripeClass:l.default.DarkNeutral},{category:a.default.Networking,product:t.default.Networking,backgroundClass:u.default.DarkNeutral,stripeClass:l.default.DarkNeutral},{category:a.default.Industries,product:t.default.Industries,backgroundClass:u.default.Lilac,stripeClass:l.default.Lilac},{category:"",product:"",backgroundClass:u.default.Default,stripeClass:l.default.Default}];e.getClassesByCategoryAndProduct=(e,a)=>{const t=r.find(a=>a.category===e);let s=[u.default.Default,l.default.Default];return(null==t?void 0:t.product)&&a.includes(t.product)&&(s=[t.backgroundClass,t.stripeClass]),s}}));
define('components/main/index',["require", "exports", "preact", "preact/hooks", "ojs/ojcontext", "../utility-bar/index", "../primary-message/index", "../hero/index", "../secondary-message/index", "../navigation/index", "../pre-content/index", "../content/index", "../post-content/index", "../auxiliary-tools/index", "../footer/index", "./drawer-popup-table-of-contents/index", "../common/toggle-table-of-contents/index", "../../store/publication-context", "../../store/screen-range-context", "../../enums/common/category.enum", "../../enums/common/product.enum", "../../enums/components/main/main-background-class.enum", "../../enums/components/main/stripe-background-class.enum", "../../utils/responsive-helper", "../../utils/publication-content-helper", "../../utils/link-helper", "../../utils/hero-helper"], function (require, exports, preact_1, hooks_1, Context, index_1, index_2, index_3, index_4, index_5, index_6, index_7, index_8, index_9, index_10, index_11, index_12, publication_context_1, screen_range_context_1, category_enum_1, product_enum_1, main_background_class_enum_1, stripe_background_class_enum_1, responsive_helper_1, publication_content_helper_1, link_helper_1, hero_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Main = void 0;
    class Main extends preact_1.Component {
        constructor() {
            super();
            this.FOCUS_WAIT_TIME = 10;
            this.setScreenRange = () => {
                const screenRange = responsive_helper_1.getScreenRange(window.innerWidth);
                this.setState(prevState => ({ screenRange, isDrawerPopupOpen: responsive_helper_1.isRangeMDOrLower(screenRange) && prevState.isDrawerPopupOpen }));
            };
            this.openDrawerPopup = (open) => {
                this.setState({ isDrawerPopupOpen: open }, () => {
                    if (!this.state.isDrawerPopupOpen) {
                        setTimeout(() => document.getElementById(index_12.TOGGLE_NAVIGATION_DRAWER).focus(), this.FOCUS_WAIT_TIME);
                    }
                });
            };
            this.state = {
                isDrawerPopupOpen: false,
                screenRange: responsive_helper_1.getScreenRange(window.innerWidth)
            };
            this.openDrawerPopup = this.openDrawerPopup.bind(this);
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            return (preact_1.h(screen_range_context_1.default.Provider, { value: this.state.screenRange },
                preact_1.h("div", { id: "appContainer", class: "oj-web-applayout-page" },
                    preact_1.h(index_1.UtilityBar, null),
                    preact_1.h(index_2.PrimaryMessage, null),
                    preact_1.h("div", { id: "mainContainer", class: 'oj-flex oj-sm-flex-direction-column flex-auto main-background oj-sm-flex-wrap-nowrap ' +
                            `${this.getBackgroundClasses(this.publication.metadata.category, this.publication.metadata.products)[0]}` },
                        preact_1.h("div", { id: "mainContentContainer", role: "main", class: "oj-flex oj-sm-flex-direction-column flex-auto oj-sm-only-width-full oj-md-padding-6x-horizontal main-content-container oj-sm-flex-wrap-nowrap " },
                            preact_1.h(index_3.Hero, null),
                            preact_1.h("div", { id: "contentContainer", class: "oj-flex oj-sm-flex-direction-column oj-sm-width-full flex-auto" },
                                preact_1.h("div", { id: "stripe", class: `stripe-background ${this.getBackgroundClasses(this.publication.metadata.category, this.publication.metadata.products)[1]}` }),
                                preact_1.h("div", { id: publication_content_helper_1.PUBLICATION_CONTENT_CONTAINER_ID, class: "oj-flex oj-sm-justify-content-space-between oj-sm-flex-wrap-nowrap oj-sm-width-full publication-content-container" },
                                    !responsive_helper_1.isRangeMDOrLower(this.state.screenRange) && preact_1.h(index_5.Navigation, null),
                                    preact_1.h("div", { id: "publicationContent", class: "oj-flex oj-flex-item oj-sm-flex-direction-column publication-content" },
                                        preact_1.h("a", { id: "mainContentPublication", role: "none", tabIndex: -1 }),
                                        preact_1.h(index_4.SecondaryMessage, null),
                                        preact_1.h(index_6.PreContent, null),
                                        preact_1.h("div", { class: "oj-sm-only-padding-4x-horizontal oj-md-padding-6x-horizontal oj-sm-padding-4x-vertical oj-md-padding-6x-vertical oj-xl-padding-8x-vertical" },
                                            preact_1.h(index_7.Content, { isDrawerPopupOpen: this.state.isDrawerPopupOpen, openDrawerPopup: this.openDrawerPopup }),
                                            preact_1.h(index_8.PostContent, null))),
                                    preact_1.h("div", { class: responsive_helper_1.isRangeMDOrLower(this.state.screenRange) && 'auxiliary-tools-hide' },
                                        preact_1.h(index_9.AuxiliaryTools, null)))))),
                    preact_1.h(index_10.Footer, null),
                    responsive_helper_1.isRangeMDOrLower(this.state.screenRange) && preact_1.h(index_11.DrawerPopupTableOfContents, { isDrawerPopupOpen: this.state.isDrawerPopupOpen, openDrawerPopup: this.openDrawerPopup }))));
        }
        componentDidMount() {
            window.addEventListener('resize', this.setScreenRange);
            Context.getContext(document.getElementById(publication_content_helper_1.PUBLICATION_CONTENT_CONTAINER_ID)).getBusyContext().whenReady().then(() => link_helper_1.setAnchorsToOpenInNewWindow(document.querySelectorAll(link_helper_1.ANCHORS_SELECTOR)));
        }
        componentWillUnmount() {
            window.removeEventListener('resize', this.setScreenRange);
        }
        getBackgroundClasses(category, product) {
            let backgroundClasses;
            if (category === category_enum_1.default.ArchitectureCenter && this.publication.isSolution) {
                backgroundClasses = [main_background_class_enum_1.default.Teal, stripe_background_class_enum_1.default.Teal];
            }
            else if (category === category_enum_1.default.Learn && this.publication.isLearn) {
                backgroundClasses = [main_background_class_enum_1.default.Rose, stripe_background_class_enum_1.default.Rose];
            }
            else if (category === category_enum_1.default.Cloud && !product.includes(product_enum_1.default.PAAS)) {
                backgroundClasses = [main_background_class_enum_1.default.Green, stripe_background_class_enum_1.default.Green];
            }
            else if (category === category_enum_1.default.OracleDatabase) {
                backgroundClasses = [main_background_class_enum_1.default.Slate, stripe_background_class_enum_1.default.Slate];
            }
            else {
                backgroundClasses = hero_helper_1.getClassesByCategoryAndProduct(category, product);
            }
            return backgroundClasses;
        }
    }
    exports.Main = Main;
});

define('components/main/embed',["require", "exports", "preact", "preact/hooks", "./index", "../content/index", "../post-content/index", "../../store/screen-range-context", "../../store/publication-context", "../../enums/common/template-mode.enum", "../../utils/publication-content-helper"], function (require, exports, preact_1, hooks_1, index_1, index_2, index_3, screen_range_context_1, publication_context_1, template_mode_enum_1, publication_content_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.EmbedMain = void 0;
    class EmbedMain extends index_1.Main {
        constructor() {
            super();
        }
        render() {
            const { publication } = hooks_1.useContext(publication_context_1.default);
            this.publication = publication;
            return (preact_1.h(screen_range_context_1.default.Provider, { value: this.state.screenRange },
                preact_1.h("div", { id: "appContainer", class: "oj-web-applayout-page" },
                    preact_1.h("div", { id: "mainContainer", class: "oj-flex oj-sm-flex-direction-column flex-auto main-background oj-sm-flex-wrap-nowrap background-color-white" },
                        preact_1.h("div", { id: "mainContentContainer", role: "main", class: "oj-flex oj-sm-flex-direction-column flex-auto oj-sm-only-width-full oj-md-padding-6x-horizontal main-content-container oj-sm-flex-wrap-nowrap " },
                            preact_1.h("div", { id: "contentContainer", class: "oj-flex oj-sm-flex-direction-column oj-sm-width-full flex-auto" },
                                preact_1.h("div", { id: publication_content_helper_1.PUBLICATION_CONTENT_CONTAINER_ID, class: "oj-flex oj-sm-justify-content-space-between oj-sm-flex-wrap-nowrap oj-sm-width-full publication-content-container" },
                                    preact_1.h("div", { id: "publicationContent", class: "oj-flex oj-flex-item oj-sm-flex-direction-column publication-content" },
                                        preact_1.h("a", { id: "mainContentPublication", role: "none", tabIndex: -1 }),
                                        preact_1.h("div", { class: "oj-sm-only-padding-4x-horizontal oj-md-padding-6x-horizontal oj-sm-padding-4x-vertical oj-md-padding-6x-vertical oj-xl-padding-8x-vertical" },
                                            preact_1.h(index_2.Content, { isDrawerPopupOpen: this.state.isDrawerPopupOpen, openDrawerPopup: this.openDrawerPopup, showTableOfContents: false }),
                                            this.publication.templateMode === template_mode_enum_1.default.EmbedWithNav && preact_1.h(index_3.PostContent, null))))))))));
        }
    }
    exports.EmbedMain = EmbedMain;
});

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
define('components/app',["require", "exports", "preact", "ojs/ojvcomponent", "ojs/ojcontext", "./main/index", "./main/embed", "./content/index", "../store/publication-context", "../enums/common/template-mode.enum", "../utils/publication-context-helper", "../utils/content-notices-helper", "../utils/publication-content-helper", "../utils/link-helper", "../utils/tabbed-interface-helper", "../utils/related-content-helper"], function (require, exports, preact_1, ojvcomponent_1, Context, index_1, embed_1, index_2, publication_context_1, template_mode_enum_1, publication_context_helper_1, content_notices_helper_1, publication_content_helper_1, link_helper_1, tabbed_interface_helper_1, related_content_helper_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.App = void 0;
    let App = class App extends preact_1.Component {
        constructor() {
            super();
            this.metaTags = {
                title: document.querySelector('meta[name="application-name"]'),
                category: document.querySelector('meta[name="dcterms.category"]'),
                duration: document.querySelector('meta[name="dcterms.extent"]'),
                level: document.querySelector('meta[name="dcterms.educationLevel"]'),
                audience: document.querySelector('meta[name="dcterms.audience"]'),
                products: document.querySelector('meta[name="dcterms.product"]'),
                technologies: document.querySelector('meta[name="keywords"]'),
                released: document.querySelector('meta[name="dcterms.created"]'),
                isVersionOf: document.querySelector('meta[name="dcterms.isVersionOf"]'),
                labUrl: document.querySelector('meta[name="lab-url"]'),
                robots: document.querySelector('meta[name="robots"]')
            };
            this.publicationMetadata = {
                title: '',
                category: '',
                duration: null,
                level: '',
                audience: '',
                products: '',
                productsParsed: '',
                technologies: '',
                released: '',
                isVersionOf: '',
                labUrl: ''
            };
            this.publicationTitle = document.querySelector('title').innerText;
            this.contents = document.querySelector('link[rel=contents]');
            this.previousLink = document.querySelector('link[rel=prev]');
            this.nextLink = document.querySelector('link[rel=next]');
            this.alternateLink = document.querySelector('link[rel=alternate]');
            this.ssotMetadataScript = document.getElementById('ssot-metadata');
            this.ssotMetadata = publication_context_helper_1.getSsotMetadata(this.ssotMetadataScript);
            this.htmlClasses = publication_context_helper_1.getHTMLClasses(this.ssotMetadata, document.querySelector('html').classList);
            this.paginationLinks = publication_context_helper_1.getPaginationLinks(this.contents, this.previousLink, this.nextLink);
            this.publication = {
                data: window.pubData,
                basepath: window.location.pathname,
                searchSourceParam: publication_context_helper_1.getSearchSourceParam(location.search),
                metadata: this.publicationMetadata,
                ssotMetadata: this.ssotMetadata,
                paginationLinks: this.paginationLinks,
                pdfLink: publication_context_helper_1.getPDFLink(this.alternateLink),
                title: this.publicationTitle,
                contentNotices: content_notices_helper_1.getContentNotices(window.disclaimers),
                tabbedInterfaces: tabbed_interface_helper_1.getTabbedInterfaceData(window.tabbedInterfaces),
                templateMode: publication_context_helper_1.getTemplateMode(),
                isLearn: publication_context_helper_1.isLearn(this.metaTags.duration, this.metaTags.level, this.htmlClasses),
                hasLearnMetadata: publication_context_helper_1.hasLearnMetadata(this.metaTags.duration, this.metaTags.level),
                isSolution: publication_context_helper_1.isSolution(this.htmlClasses),
                isArticle: publication_context_helper_1.isArticle(this.htmlClasses),
                isSinglePage: publication_context_helper_1.isSinglePage(this.htmlClasses, this.paginationLinks.previousLink, this.paginationLinks.nextLink),
                isLearnSinglePage: publication_context_helper_1.isLearnSinglePage(this.htmlClasses),
                isSolutionSinglePage: publication_context_helper_1.isSolutionSinglePage(this.htmlClasses, this.paginationLinks.previousLink, this.paginationLinks.nextLink),
                isAcmsSinglePage: publication_context_helper_1.isAcmsSinglePage(this.htmlClasses),
                isMultipage: publication_context_helper_1.isMultipage(this.htmlClasses, this.paginationLinks.previousLink, this.paginationLinks.nextLink),
                isLearnMultipage: publication_context_helper_1.isLearnMultipage(this.htmlClasses),
                isSolutionMultipage: publication_context_helper_1.isSolutionMultipage(this.htmlClasses, this.paginationLinks.previousLink, this.paginationLinks.nextLink),
                isAcmsMultipage: publication_context_helper_1.isAcmsMultipage(this.htmlClasses),
                isReferenceArchitecture: publication_context_helper_1.isReferenceArchitecture(this.htmlClasses),
                isBuiltAndDeployed: publication_context_helper_1.isBuiltAndDeployed(this.htmlClasses),
                isSolutionPlaybook: publication_context_helper_1.isSolutionPlaybook(this.htmlClasses),
                isModernAppDevelopment: publication_context_helper_1.isModernAppDevelopment(this.htmlClasses),
                isCustomerInspired: publication_context_helper_1.isCustomerInspired(this.htmlClasses),
                isAutomationAvailable: publication_context_helper_1.isAutomationAvailable(this.htmlClasses),
                isMachineTranslated: publication_context_helper_1.isMachineTranslated(this.htmlClasses),
                isFA: publication_context_helper_1.isFA(),
                tableOfContents: [],
                relatedContent: [],
                internalUrls: new Set(),
                deployGuid: '',
                hasDeploySection: false
            };
            this.setPublicationTitle = this.setPublicationTitle.bind(this);
            this.setTableOfContents = this.setTableOfContents.bind(this);
            this.setRelatedContent = this.setRelatedContent.bind(this);
            this.setPublicationContent = this.setPublicationContent.bind(this);
            this.updateTocSelection = this.updateTocSelection.bind(this);
            this.state = {
                publication: this.publication,
                tocSelection: { heading: '', parentHeading: '' },
                setPublicationTitle: this.setPublicationTitle,
                setTableOfContents: this.setTableOfContents,
                setRelatedContent: this.setRelatedContent,
                setPublicationContent: this.setPublicationContent,
                updateTocSelection: this.updateTocSelection
            };
        }
        render() {
            delete window.pubData;
            delete window.disclaimers;
            delete window.tabbedInterfaces;
            return (preact_1.h(publication_context_1.default.Provider, { value: this.state }, this.publication.templateMode === template_mode_enum_1.default.Default ? preact_1.h(index_1.Main, null) : preact_1.h(embed_1.EmbedMain, null)));
        }
        componentDidMount() {
            return __awaiter(this, void 0, void 0, function* () {
                Context.getPageContext().getBusyContext().applicationBootstrapComplete();
                this.setMetadata(yield publication_context_helper_1.getMetadata(this.metaTags, this.htmlClasses));
                this.setRobotsMeta(yield publication_context_helper_1.getRobotsMeta(this.metaTags.robots));
                this.removeDuplicatePublicationTitle();
            });
        }
        setMetadata(metadata) {
            this.publication = Object.assign(Object.assign({}, this.publication), { metadata });
            this.setState({ publication: this.publication });
        }
        setPublicationTitle(title) {
            if (title && title !== this.publication.title) {
                this.publication = Object.assign(Object.assign({}, this.publication), { title });
                this.setState({ publication: this.publication });
            }
            this.removeDuplicatePublicationTitle();
        }
        setTableOfContents(tableOfContents) {
            this.publication = Object.assign(Object.assign({}, this.publication), { tableOfContents, internalUrls: new Set(link_helper_1.setInternalUrls(this.publication.isLearnSinglePage ? tableOfContents : tableOfContents[0])), deployGuid: publication_context_helper_1.getDeployGuid(JSON.stringify(tableOfContents)), hasDeploySection: publication_context_helper_1.hasDeploySection(JSON.stringify(tableOfContents)) });
            this.setState({ publication: this.publication }, () => {
                Context.getContext(document.getElementById(publication_content_helper_1.PUBLICATION_CONTENT_CONTAINER_ID)).getBusyContext().whenReady().then(() => {
                    link_helper_1.addAnchorsHandler(this.publication.internalUrls, this.publication.searchSourceParam, this.setPublicationContent, this.updateTocSelection);
                });
            });
        }
        setRobotsMeta(robotsMeta) {
            if (robotsMeta && robotsMeta !== 'all') {
                if (this.metaTags.robots) {
                    document.querySelector('head meta[name="robots"]').setAttribute('content', robotsMeta);
                }
                else {
                    const newRobotsElement = document.createElement('meta');
                    newRobotsElement.name = 'robots';
                    newRobotsElement.content = robotsMeta;
                    document.querySelector('head').appendChild(newRobotsElement);
                }
            }
        }
        setRelatedContent(relatedContentElement) {
            const relatedContent = publication_context_helper_1.getRelatedContent(relatedContentElement === null || relatedContentElement === void 0 ? void 0 : relatedContentElement.querySelectorAll('ul a[href]'), this.publication.searchSourceParam);
            this.publication.isArticle && (relatedContentElement === null || relatedContentElement === void 0 ? void 0 : relatedContentElement.remove());
            this.publication = Object.assign(Object.assign({}, this.publication), { relatedContent });
            this.setState({ publication: this.publication });
        }
        setPublicationContent(content) {
            this.publication = Object.assign(Object.assign({}, this.publication), content);
            this.setState({ publication: this.publication }, () => {
                this.setHasDeploySection();
                const element = document.querySelector(related_content_helper_1.RELATED_CONTENT_SELECTOR);
                element && this.setRelatedContent(element);
                index_2.appendInjectableComponents(this.publication);
                this.removeDuplicatePublicationTitle();
                Context.getContext(document.getElementById(publication_content_helper_1.PUBLICATION_CONTENT_CONTAINER_ID)).getBusyContext().whenReady().then(() => {
                    link_helper_1.updateAnchors(this.publication.searchSourceParam, true);
                    link_helper_1.addAnchorsHandler(this.publication.internalUrls, this.publication.searchSourceParam, this.setPublicationContent, this.updateTocSelection, true);
                });
            });
        }
        setHasDeploySection() {
            this.publication = Object.assign(Object.assign({}, this.publication), { hasDeploySection: publication_context_helper_1.hasDeploySection(JSON.stringify(this.publication.tableOfContents)) });
            this.setState({ publication: this.publication });
        }
        removeDuplicatePublicationTitle() {
            if (this.state.publication.isReferenceArchitecture || this.state.publication.isBuiltAndDeployed || this.state.publication.isLearn) {
                publication_content_helper_1.removePublicationTitleFromContent();
            }
        }
        updateTocSelection(tocSelection) {
            this.setState({ tocSelection });
        }
    };
    App = __decorate([
        ojvcomponent_1.customElement('app-root')
    ], App);
    exports.App = App;
});

define('index',["require","exports","./components/app"],(function(require,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}));
!function(){const e=document.querySelector("html>head"),t=document.querySelector("html>body"),i=document.querySelector("html>body>article"),r=document.querySelector("html>body>#disclaimers")||function(){const e=i.querySelector("div.notices");return function(){const e=document.querySelector("article>hr:last-of-type");e&&e.parentElement.removeChild(e)}(),e?(e.parentElement.removeChild(e),e):function(){const e=document.createElement("div");return i.querySelector("a#copyright-information-btn")&&i.querySelector("div#copyright-information")&&(e.appendChild(i.querySelector("a#copyright-information-btn")),e.appendChild(i.querySelector("div#copyright-information"))),i.querySelector("a#oracle-accessibility-btn")&&i.querySelector("div#oracle-accessibility")&&(e.appendChild(i.querySelector("a#oracle-accessibility-btn")),e.appendChild(i.querySelector("div#oracle-accessibility"))),e}()}(),o=Array.from(document.querySelectorAll("div.tabbed-interface")).map((function(e){return e.cloneNode(!0)}));t.setAttribute("data-oj-binding-provider","preact");const s=document.createElement("app-root");window.pubData=i.innerHTML,window.disclaimers=r,window.tabbedInterfaces=o,t.innerHTML="",t.appendChild(s),function(){const e=document.querySelector('meta[name="application-name"]');e&&e.content&&(document.querySelector("title").innerText=e.content)}(),function(){const t=document.querySelector('meta[name="dcterms.product"]');if(t&&"en/cloud/paas/digital-assistant"===t.content){const t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","/en/dcommon/artie/js/artie.js"),e.appendChild(t)}}();const n=document.thisCurrentScript&&document.thisCurrentScript.src,c=new URL("resources",n||document.currentScript.src).toString(),l=c+"/nls/translations.js",a=c;requirejs.config({baseUrl:".",paths:{knockout:"libs/knockout/knockout-3.5.1",highlight:"libs/highlight/highlight.min",jquery:"libs/jquery/jquery-3.6.0.min","jqueryui-amd":"libs/jquery/jqueryui-amd-1.13.2.min",hammerjs:"libs/hammer/hammer-2.0.8.min",ojdnd:"libs/dnd-polyfill/dnd-polyfill-1.0.2.min",ojs:"libs/oj/v11.1.2/min",ojL10n:"libs/oj/v11.1.2/ojL10n",ojtranslations:"libs/oj/v11.1.2/resources",persist:"libs/persist/min",text:"libs/require/text",signals:"libs/js-signals/signals.min",touchr:"libs/touchr/touchr",preact:"libs/preact/dist/preact.umd","preact/hooks":"libs/preact/hooks/dist/hooks.umd","preact/debug":"libs/preact/debug/dist/debug.umd","preact/devtools":"libs/preact/devtools/dist/devtools.umd",proj4:"libs/proj4js/dist/proj4",css:"libs/require-css/css.min",ojcss:"libs/oj/v11.1.2/min/ojcss","ojs/ojcss":"libs/oj/v11.1.2/min/ojcss","doceng-feedback":"libs/doceng-feedback/feedback-widget.min","doceng-feedback-css":"styles/feedback/",handlebars:"libs/handlebars/handlebars.amd.min","utility-bar-js":"libs/utility-bar/utility-bar.min","ohc-url":"libs/utility-bar/ohc-url.min","scope-helper-factory":"libs/utility-bar/utility-bar-scope/scope-helper-factory.min","book-scope-helper":"libs/utility-bar/utility-bar-scope/book/book-scope-helper.min","product-scope-helper":"libs/utility-bar/utility-bar-scope/product/product-scope-helper.min","solution-scope-helper":"libs/utility-bar/utility-bar-scope/solution/solution-scope-helper.min","learn-scope-helper":"libs/utility-bar/utility-bar-scope/learn/learn-scope-helper.min","utility-bar-css":"styles/utility-bar.css","utility-bar-preview":"libs/utility-bar/templates/preview.hbs","utility-bar-scope-chip":"libs/utility-bar/templates/scope/scopechip.hbs","css-builder":"libs/require-css/css-builder",normalize:"libs/require-css/normalize","ojs/normalize":"libs/require-css/normalize",components:"components"},config:{ojL10n:{merge:{"ojtranslations/nls/ojtranslations":l}}},map:{"*":{"jquery-ui":"jqueryui-amd/widget"}}}),requirejs.config({paths:{ojtranslations:a}})}(),require(["./index"]);
define("bundle-temp", function(){});

}document.thisCurrentScript=document.currentScript,"loading"!==document.readyState?loadBundle():document.addEventListener("DOMContentLoaded",loadBundle);