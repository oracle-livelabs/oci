CREATE TABLE  "VISION_AI_FIELDS" 
   (	"WORD_ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"DOCUMENT_ID" NUMBER NOT NULL ENABLE, 
	"FIELD_TYPE_CODE" VARCHAR2(50) COLLATE "USING_NLS_COMP" NOT NULL ENABLE, 
	"FIELD_LABEL" VARCHAR2(100) COLLATE "USING_NLS_COMP", 
	"LABEL_SCORE" NUMBER, 
	"FIELD_VALUE" VARCHAR2(1000) COLLATE "USING_NLS_COMP", 
	"CREATION_DATE" TIMESTAMP (6) WITH LOCAL TIME ZONE NOT NULL ENABLE, 
	"CREATED_BY" VARCHAR2(255) COLLATE "USING_NLS_COMP" NOT NULL ENABLE, 
	"LAST_UPDATE_DATE" TIMESTAMP (6) WITH LOCAL TIME ZONE NOT NULL ENABLE, 
	"LAST_UPDATED_BY" VARCHAR2(255) COLLATE "USING_NLS_COMP" NOT NULL ENABLE, 
	"EXPENSE" VARCHAR2(50) COLLATE "USING_NLS_COMP", 
	 CONSTRAINT "VISION_AI_FIELDS_PK" PRIMARY KEY ("WORD_ID")
  USING INDEX  ENABLE
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

CREATE INDEX  "VISION_AI_FIELDS_N1" ON  "VISION_AI_FIELDS" ("DOCUMENT_ID")
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "VISION_AI_FIELDS_BIU" 
BEFORE INSERT OR UPDATE ON CNDEMO_DOCUMENT_AI_FIELDS FOR EACH ROW
BEGIN
  IF INSERTING THEN
    :new.created_by       := COALESCE(SYS_CONTEXT('APEX$SESSION','APP_USER'),SYS_CONTEXT('USERENV', 'SESSION_USER'));
    :new.creation_date    := current_timestamp;
    :new.last_updated_by  := COALESCE(SYS_CONTEXT('APEX$SESSION','APP_USER'),SYS_CONTEXT('USERENV', 'SESSION_USER'));
    :new.last_update_date := current_timestamp;
  ELSIF UPDATING THEN
    :new.last_updated_by  := COALESCE(SYS_CONTEXT('APEX$SESSION','APP_USER'),USER);
    :new.last_update_date := current_timestamp;
  END IF;
END;

/
ALTER TRIGGER  "VISION_AI_FIELDS_BIU" ENABLE
/
